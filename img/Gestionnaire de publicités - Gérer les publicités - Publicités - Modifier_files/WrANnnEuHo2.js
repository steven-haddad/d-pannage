if (self.CavalryLogger) { CavalryLogger.start_js(["jAFSd"]); }

__d("SignalsDSCatalogAssociationStateTriggerReducerPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List;a={reduce:function(a,b){var c=a.dataSetID,d=a.businessID;if(c==null||d==null)return a;c=c+":"+d;d=b.get(c).map(function(a){a=a.map(function(a){return{catalog:{alreadyAssociated:a.already_associated,associatedToDataSetOnly:a.associated_to_data_set_only,businessCatalogRelationship:a.business_catalog_relationship,businessDataSetRelationship:a.business_data_set_relationship,canAssociate:a.can_edit,contentIDsCount:a.content_ids_count,ds:a.ds,dynamicItemsCount:a.dynamic_items_count,id:a.id,matchRate:a.match_rate,matchRateUnique:a.match_rate_unique,name:a.name,uniqueContentIDsCount:a.unique_content_ids_count,vertical:a.vertical},changeTo:{associate:a.already_associated!=null?a.already_associated:!1}}});return g(a)});return babelHelpers["extends"]({},a,{catalogChangesLO:d})}};e.exports=a}),null);
__d("XOfflineCatalogStatsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/offline_events/catalog_stats/",{dataset_id:{type:"FBID",required:!0},business_id:{type:"FBID",required:!0}})}),null);
__d("SignalsDSCatalogDataManager",["Promise","regeneratorRuntime","AsyncRequest","ExternalEventSourcesAPI","XOfflineCatalogStatsAsyncController","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;function a(a,c){return new(b("Promise"))(function(d,e){var f=b("XOfflineCatalogStatsAsyncController").getURIBuilder().setFBID("dataset_id",a).setFBID("business_id",c).getURI();new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setURI(f).setHandler(function(a){return d(a.payload.product_catalogs)}).setErrorHandler(function(a){return e(new Error(a.getErrorDescription()))}).send()})}function c(a,c){__p&&__p();var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(b("Promise").all(c.map(function(c){return c.catalog.alreadyAssociated?b("ExternalEventSourcesAPI").remove(c.catalog.id,[a]):b("ExternalEventSourcesAPI").add(c.catalog.id,[a])}).valueSeq().toArray()));case 2:d=e.sent;return e.abrupt("return",d);case 4:case"end":return e.stop()}},null,this)}e.exports={loadCatalogStats:a,updateAllCatalogAssociation:c}}),null);
__d("SignalsDSCatalogStatsDataProviderPlugin",["LoadObjectMap","SignalsDSCatalogDataManager","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsDSCatalogDataManager").loadCatalogStats;a={initialState:function(a){__p&&__p();return b("LoadObjectMap").create(function(c){__p&&__p();a(function(a){return Array.from(c).reduce(function(a,b){return a.update(b,function(a){return a.loading()})},a)}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(a){a=a.split(":");var b=a[0];a=a[1];return g(b,a)}),function(b){return a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("SignalsDSCatalogStatsDataProvider",["Laminar","SignalsDSCatalogStatsDataProviderPlugin","SignalsDSCatalogAssociationStateTriggerReducerPlugin","SignalsDSCatalogAssociationStateProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("SignalsDSCatalogStatsDataProviderPlugin"),"SignalsDSCatalogStatsDataProviderPlugin",function(){return[b("Laminar").__createTriggerReducer(b("SignalsDSCatalogAssociationStateTriggerReducerPlugin"),"SignalsDSCatalogAssociationStateTriggerReducerPlugin",b("SignalsDSCatalogAssociationStateProvider"))]})}),null);
__d("SignalsDSCatalogStatsReducerPlugins",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=b.businessID;b=b.dataSetID;b=b+":"+c;return a["delete"](b)}};e.exports={onAssociationSubmitReturn:a}}),null);
__d("SignalsDSCatalogAssociationSubmitReturnAction",["Laminar","SignalsDSCatalogAssociationStateReducerPlugins","SignalsDSCatalogAssociationStateProvider","SignalsDSCatalogStatsReducerPlugins","SignalsDSCatalogStatsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsDSCatalogAssociationStateReducerPlugins").onSubmitReturn,b("SignalsDSCatalogAssociationStateProvider"),{}),b("Laminar").__createReducer(b("SignalsDSCatalogStatsReducerPlugins").onAssociationSubmitReturn,b("SignalsDSCatalogStatsDataProvider"),{})]},function(){return[]},"SIGNALS.DATA_SET.CATALOG_ASSOCIATION.SUBMIT_RETURN");e.exports=a}),null);
__d("SignalsDSCatalogAssociationStateReducerPlugins",["LoadObject","SignalsDSCatalogAssociationSubmitReturnAction","SignalsDSCatalogDataManager","SignalsDSCatalogStatsDataProvider","Laminar","immutable","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SignalsDSCatalogDataManager").updateAllCatalogAssociation;a=b("SignalsDSCatalogStatsDataProvider").toFluxSelector();c=b("Laminar").withFluxSelectors;var h=b("immutable").List;d={reduce:c({catalogStatsLOMap:a},function(a,b,c){__p&&__p();c=c.catalogStatsLOMap;var d=b.businessID,e=b.dataSetID;b=b.isBusinessAdmin;var f=a.step;if(d==null||e==null||f!=="none")return a;f=e+":"+d;c=c.get(f).map(function(a){a=a.map(function(a){return{catalog:{alreadyAssociated:a.already_associated,associatedToDataSetOnly:a.associated_to_data_set_only,businessCatalogRelationship:a.business_catalog_relationship,businessDataSetRelationship:a.business_data_set_relationship,canAssociate:a.can_edit,contentIDsCount:a.content_ids_count,ds:a.ds,dynamicItemsCount:a.dynamic_items_count,id:a.id,matchRate:a.match_rate,matchRateUnique:a.match_rate_unique,name:a.name,uniqueContentIDsCount:a.unique_content_ids_count,vertical:a.vertical},changeTo:{associate:a.already_associated!=null?a.already_associated:!1}}});return h(a)});return babelHelpers["extends"]({},a,{businessID:d,catalogChangesLO:c,currentSortFieldKey:"matchRate",dataSetID:e,isBusinessAdmin:b,sortDirection:"desc",sortedColumnKey:"matchRate",step:"config"})})};f={reduce:function(a,c){__p&&__p();var d=a.catalogChangesLO,e=c.associate,f=c.id;c=d.getValueEnforcing();d=c.findIndex(function(a){return a.catalog.id===f});if(d===-1)return a;var g=b("nullthrows")(c.get(d));g={catalog:g.catalog,changeTo:{associate:e}};e=c.set(d,g);return babelHelpers["extends"]({},a,{catalogChangesLO:b("LoadObject").withValue(e)})}};c={reduce:function(a,c){return{associateResultLO:b("LoadObject").empty(),businessID:null,catalogChangesLO:b("LoadObject").empty(),currentSortFieldKey:null,dataSetID:null,isBusinessAdmin:!1,sortDirection:"none",sortedColumnKey:"",step:"none"}}};a={reduce:function(a,c){__p&&__p();var d=a.businessID;c=a.catalogChangesLO;var e=a.dataSetID;c=c.getValue();if(d!=null&&e!=null&&c!=null){var f=c.filter(function(a){return a.catalog.alreadyAssociated!==a.changeTo.associate});b("promiseDone")(g(e,f),function(a){b("SignalsDSCatalogAssociationSubmitReturnAction").dispatch({businessID:d,dataSetID:e,updatedChanges:f},{line:"147",module:"SignalsDSCatalogAssociationStateReducerPlugins.js"})},function(a){return b("SignalsDSCatalogAssociationSubmitReturnAction").dispatch({businessID:d,dataSetID:e,error:a},{line:"154",module:"SignalsDSCatalogAssociationStateReducerPlugins.js"})});return babelHelpers["extends"]({},a,{associateResultLO:b("LoadObject").loading()})}return a}};var i={reduce:function(a,c){var d=c.error;c=c.updatedChanges;return d!=null?babelHelpers["extends"]({},a,{associateResultLO:b("LoadObject").withError(d)}):babelHelpers["extends"]({},a,{associateResultLO:b("LoadObject").withValue(b("nullthrows")(c)),step:"confirm"})}},j={reduce:function(a,b){var c=b.currentSortFieldKey,d=b.sortDirection;b=b.sortedColumnKey;return babelHelpers["extends"]({},a,{currentSortFieldKey:c,sortDirection:d,sortedColumnKey:b})}};e.exports={onClose:c,onOpen:d,onSubmit:a,onSubmitReturn:i,onUpdateConfig:f,onUpdateSort:j}}),null);
__d("SignalsDSCatalogAssociationOpenDialogAction",["Laminar","SignalsDSCatalogAssociationStateReducerPlugins","SignalsDSCatalogAssociationStateProvider","SignalsDSCatalogStatsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("SignalsDSCatalogAssociationStateReducerPlugins").onOpen,b("SignalsDSCatalogAssociationStateProvider"),{catalogStatsLOMap:b("SignalsDSCatalogStatsDataProvider")})]},function(){return[]},"SIGNALS.DATA_SET.CATALOG_ASSOCIATION.OPEN_DIALOG");e.exports=a}),null);
__d("SignalsDSRefreshStoreDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DS.REFRESH_STORE");e.exports=a}),null);
__d("SignalsDSUpdateTimeRangeDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"UPDATE_DS_TIME_RANGE");e.exports=a}),null);
__d("SignalsDSUploadLatencyNUX.react",["fbt","ix","Image.react","React","SUIButton.react","SUIText.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PureComponent;var i=g._("Your events are being processed"),j=g._("Refresh Data"),k=g._("This can take a few minutes. Once finished, you'll need to refresh the data to see your new events.");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{style:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",padding:"80px 360px 160px"}},b("React").createElement(b("Image.react"),{src:h("491978")}),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",margin:"_3-8z",size:"header4",weight:"bold"},i),b("React").createElement(b("SUIText.react"),{color:"primary",display:"block",margin:"_3-98",size:"body3"},k),b("React").createElement(b("SUIButton.react"),{label:j,use:"default"}))};return c}(a);e.exports=c}),null);
__d("SignalsDSUploadNUX.react",["cx","fbt","ix","Image.react","React","SUIButton.react","SUILink.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=h._("Importer des \u00e9v\u00e8nements hors ligne"),k=h._("Importer des \u00e9v\u00e8nements hors ligne"),l=h._("Contacter l\u2019administrateur de l\u2019ensemble d\u2019\u00e9v\u00e8nements pour importer des \u00e9v\u00e8nements hors ligne"),m=h._("Commencez \u00e0 importer des donn\u00e9es li\u00e9es \u00e0 des \u00e9v\u00e8nements hors ligne, autrement dit des activit\u00e9s de l\u2019entreprise qui se d\u00e9roulent en dehors de Facebook, de votre site web ou de votre app. Vous pouvez mesurer l\u2019impact des pubs Facebook sur votre activit\u00e9 \u00e0 travers divers canaux de vente et communiquer sur la base des actions client."),n=h._("L\u2019administrateur de cette entreprise peut commencer \u00e0 importer des donn\u00e9es relatives aux \u00e9v\u00e8nements hors ligne, autrement dit des activit\u00e9s de l\u2019entreprise qui se d\u00e9roulent en dehors de Facebook, du site web ou de l\u2019app de l\u2019entreprise. Ces donn\u00e9es peuvent \u00eatre utilis\u00e9es pour mesurer l\u2019impact des pubs Facebook sur l\u2019activit\u00e9 de l\u2019entreprise \u00e0 travers divers canaux de vente et pour communiquer sur la base des actions client. Contactez l\u2019administrateur de l\u2019ensemble d\u2019\u00e9v\u00e8nements pour commencer \u00e0 importer des donn\u00e9es d\u2019\u00e9v\u00e8nement hors ligne."),o=h._("or Assign Access in Business Settings"),p=h._("or Create Custom Conversion");a=function(a){var c=a.canAssign,d=a.canCreateCustomConversion,e=a.canUpload,f=a.dataSetIsNotAssigned,g=a.uriToBMSettings,h=a.onUploadClick,q=a.onCreateCustomConversionClick;return b("React").createElement("div",{className:"_5g8b","data-testid":a["data-testid"]},b("React").createElement("div",{className:"_5g8w"},e?k:l),b("React").createElement("div",{className:"_5g8x"},e?m:n),b("React").createElement(b("Image.react"),{src:i("23667")}),b("React").createElement("div",{className:"_5rhu"},b("React").createElement(b("SUIButton.react"),{disabled:!e,height:"tall",label:j,style:{marginTop:40},use:"special",onClick:h})),f===!0&&c&&g!=null?b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("SUILink.react"),{href:g.toString(),target:"_blank"},o)):null,d?b("React").createElement("div",{className:"_3-8y"},b("React").createElement(b("SUILink.react"),{target:"_blank",onClick:q},p)):null)};e.exports=a}),null);
__d("SignalsDSLastUploadUtils",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=g._("Vous venez d\u2019importer des donn\u00e9es en cours de traitement. Cette op\u00e9ration peut prendre quelques minutes.");e.exports={CALCULATING_DESCRIPTION:a}}),null);
__d("SignalsTimelineLineChart.react",["invariant","BUIInsightsHoverCardChart.react","BUIInsightsLineAreaChart.react","BUIInsightsSelectableLegendChart.react","BUIInsightsToggleableLegendChart.react","CandelaConstants","CandelaGroupScaleBuilder","CandelaTimeScale","React","SignalsTimelineUtils","formatNumber","immutable","intlSummarizeNumber"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("formatNumber").withThousandDelimiters;a=b("SignalsTimelineUtils").ATTRIBUTED_USD;var i=b("SignalsTimelineUtils").getFormattedHoverCardItem;c=b("SignalsTimelineUtils").MATCHED_APPROX;d=b("SignalsTimelineUtils").MATCHED_USD;f=b("SignalsTimelineUtils").TOTAL_USD;var j=b("CandelaGroupScaleBuilder").group,k=b("immutable").List,l=b("immutable").OrderedSet,m=b("immutable").OrderedMap,n=b("React").PureComponent,o=b("CandelaConstants").ShapeType,p=m(b("SignalsTimelineUtils").TIMELINE_COLORS).valueSeq(),q=225,r=12*60*60,s=b("immutable").Set([f,d,a]),t=b("immutable").Set([c]),u={"line.dashed":{strokeDasharray:"4, 4",strokeWidth:2},"line.dotted":{strokeDasharray:"1, 5",strokeWidth:2},"line.thin":{strokeWidth:.75}};function v(a,c){var d=b("intlSummarizeNumber")(c);if(s.has(a))return"$"+d;else if(t.has(a)&&c!==0)return"~"+d;return d}function w(a){return unescape(a.toString())}f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.$6=function(a){__p&&__p();var b=c.props,d=b.statMappings,e=b.timelineData,f=b.labels;if(a.target.shapeType!==o.GUIDE||d==null)return;var g=l(Object.keys(a.data).filter(function(a){return a!=="time"}));b=a.target.coords.filter(function(a){return g.contains(a.series)}).minBy(function(b){return Math.abs(a.y-b.y)});if(b==null)return;var h=e.find(function(b){return b.time===a.data.time.value});if(h==null)return;var i=d.get(b.series)||k();e=h.stats.filter(function(a,b){return i.contains(b)}).map(function(a,b){return{key:b,label:w(f.get(b)||b),value:a==null?"-":v(b,a)}}).sortBy(function(a){return i.indexOf(a.key)}).toOrderedSet();b=d.keySeq().filter(function(a){return h.stats.has(a)}).map(function(a){var b=h.stats.get(a);return{key:a,label:w(f.get(a)||a),value:b==null?"-":v(a,b)}}).toOrderedSet();c.setState({auxiliaryItems:e,legendItemsWhenHovered:b})};c.$7=function(a){a||c.setState({auxiliaryItems:null,legendItemsWhenHovered:null})};c.$8=function(a){var b=c.state.activeItemKeys;!b.has(a.key)?b=b.add(a.key):b=b["delete"](a.key);c.setState({activeItemKeys:b})};c.$9=function(a,b){var d=c.state.activeItemKeys;d=d.toArray();b=d.indexOf(b.key);b>-1&&(d.splice(b,1,a.key),c.setState({activeItemKeys:l(d)}))};c.state=c.$1(b);return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.$1(a))};d.$1=function(a){var b=a.statMappings,c=a.maxSeriesToPlot,d=a.timelineData;b=b||this.$2(a);d=this.$3(b,d);var e=this.state!=null&&d.size>1?this.state.activeItemKeys:d.map(function(a){return a.key}),f=!1;c!=null&&d.size>c&&(c>0||g(0,5887),f=!0,e=e.slice(0,c));return{activeItemKeys:e,derivedStatMappings:b,plotYKeys:this.$4(a),totalLegendItems:d,useSelectableChart:f}};d.$4=function(a){a=a.statMappings||this.$2(a);return l(a.keySeq().toArray())};d.$3=function(a,b){var c=this,d={},e={};b.forEach(function(a){a.stats.forEach(function(a,b){d[b]=(d[b]||0)+a,e[b]=e[b]||a===null})});return a.keySeq().map(function(a){return{key:a,label:w(c.props.labels.get(a)||a),value:e[a]?"-":v(a,d[a]||0)}}).toOrderedSet()};d.$5=function(a){var b={time:{timezoneID:this.props.timezoneID,type:"time"}},c=this.props.renderAsArea;a.forEach(function(a){b[a]={renderAs:c?"area":"line",type:"number"}});return b};d.$2=function(a){return b("immutable").Map(a.timelineData.reduce(function(a,b){return a.union(b.stats.keySeq())},b("immutable").Set()).map(function(a){return[a,k()]}))};d.render=function(){__p&&__p();var a=this.props,c=a.aggregationHours,d=a.colors,e=a.timelineData,f=a.timezoneID,g=a.height,k=a.width,l=a.labels,n=a.isAggregated,o=a.noTimeOnHoverCard;a=this.props.auxiliaryItems;var s=this.state,t=s.auxiliaryItems,v=s.legendItemsWhenHovered,x=s.activeItemKeys,y=s.derivedStatMappings,z=s.totalLegendItems;s=s.useSelectableChart;var A=this.state.plotYKeys.toArray();if(e.size===0)return null;var B=e.first().time,C=e.last().time;y=y.keySeq().map(function(a){return{key:a,label:w(l.get(a)||a)}}).toOrderedSet();var D=j("time").roundInput().niceStepOnly();B!==C?D.extendInput(.25):D.from(B-r).to(C+r);B=e.map(function(a){return Object.assign({$meta:a.$meta,time:a.time},a.stats.toObject())}).toArray();C=null;var E=v||z;e=null;v=null;s?(C=b("BUIInsightsSelectableLegendChart.react"),E=x.map(function(a){return z.find(function(b){return b.key===a})}),e=x.toArray(),v=e):(C=b("BUIInsightsToggleableLegendChart.react"),e=A.filter(function(a){return x.has(a)}),v=A);s=m().withMutations(function(a){E.forEach(function(b){return a.set(b.key,z)})});A=d||b("immutable").Map(v.map(function(a,b){return[a,p.get(b%p.size)]}));d=function(a){return a instanceof b("CandelaTimeScale")?i(n?c:null,f,o):h};t=t==null?a:a==null?t:t.concat(a);return b("React").createElement(C,{items:E,selectableItemsByKey:s,width:k,onSelect:this.$9,onToggle:this.$8},b("React").createElement(b("BUIInsightsHoverCardChart.react"),{auxiliaryItems:t,formatterFactory:d,hoverCardPosition:"left",items:y,titleKey:"time",onHoverCardToggle:this.$7},b("React").createElement(b("BUIInsightsLineAreaChart.react"),{autoColors:A,data:B,height:g||q,plotX:D,plotY:[j.apply(void 0,e).stepCountHint(3).roundInput()],schema:this.$5(v),styles:u,width:k,onMouseMove:this.$6})))};return c}(n);e.exports=f}),null);
__d("SignalsEventsChart.react",["cx","BUIDateRangePicker.react","DateTime","LocalDate","LocalDateInterval","React","ResponsiveBlock.react","SignalsHomePixelEventsUtils","SignalsTimelineLineChart.react","SignalsTimelineUtils","TimeInterval","Timezone","TimezoneNamesData"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;var h=b("SignalsHomePixelEventsUtils").aggregateTimelineChartData,i=b("Timezone").PST8PDT,j=420,k=3;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$3=function(a){var b=a.interval,c=a.preset;a=a.includeToday;if(b!=null){var e=d.props.onUpdateTimeRange;b=d.$1(b);e&&e(b.start,b.end,c,a)}};d.$4=function(a,b){d.setState({width:a})};d.state={width:0};b("Timezone").registerNamesModule(b("TimezoneNamesData"));return d}var d=c.prototype;d.$1=function(a){var b=this.props.timezoneID,c=a.start.toInstant(b);a=a.end.toInstant(b);return{start:c,end:a}};d.$2=function(a,c){var d=this.props.timezoneID;return{interval:b("LocalDateInterval").fromTimeInterval(b("TimeInterval").create(a,c,d))}};d.render=function(){__p&&__p();var a=this.props,c=a.additionalControls,d=a.aggregationHours,e=a.height,f=a.isAggregated,g=a.labels,l=a.options,m=a.renderAsArea,n=a.shouldShowTimezone,o=a.statMappings,p=a.timelineData,q=a.timezoneName,r=a.timeRange,s=a.timezoneID;a=a.noTimeOnHoverCard;var t=this.state.width;if(p.size===0)return null;r=r||b("SignalsTimelineUtils").getInitialTimeRangeFromTimeLineData(p)||{start:null,end:null};var u=r.start,v=r.end;if(u==null||v==null)return null;r=p.filter(function(a){return a.time>=u&&a.time<v});r=(f===!0&&d!=null?h(r,d):r).map(function(a){a=babelHelpers["extends"]({},a,{stats:a.stats.mapKeys(function(a){return escape(a)})});return a});var w=new(b("DateTime"))(p.last().time,i),x=new(b("LocalDate"))(w.getYear(),w.getMonth(),w.getDayOfMonth()).toInstant(s);w=new(b("DateTime"))(p.first().time,i);var y=new(b("LocalDate"))(w.getYear(),w.getMonth(),w.getDayOfMonth()).toInstant(s);p=this.props.dateRestraints||[function(a){a=a.toInstant(s);return a>=y&&a<=x}];w=n===!0?b("SignalsTimelineUtils").getTimezoneItem(q):null;return b("React").createElement("div",{className:"_2gdc _7ald"},b("React").createElement(b("ResponsiveBlock.react"),{onResize:this.$4},b("React").createElement(b("SignalsTimelineLineChart.react"),{aggregationHours:d,auxiliaryItems:w,height:e!=null?e:j,isAggregated:f,labels:g.mapKeys(function(a){return escape(a)}),maxSeriesToPlot:k,noTimeOnHoverCard:a,renderAsArea:m,statMappings:o,timelineData:r,timezoneID:s,width:t})),b("React").createElement("div",{className:"_60pd"},c!=null?b("React").createElement("div",{className:"_60pe"},c):null,b("React").createElement(b("BUIDateRangePicker.react"),{dateRestraints:p,defaultIncludeToday:!0,limitPagerToRestraints:!0,options:l||void 0,timezoneID:s,timezoneLabel:b("Timezone").getName(s),value:this.$2(u,v),verbose:"custom",onChange:this.$3})))};return c}(a);e.exports=c}),null);
__d("SignalsDSEventsChart.react",["ix","cx","fbt","FDSButton.react","FDSSimplePopover.react","FDSText.react","Image.react","React","SignalsDSLastUploadUtils","SignalsEventsChart.react","SignalsSUITheme","SUIToggleButtonGroup.react","Timezone","asset","suiMargin","TimezoneNamesData"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PureComponent;var j=b("SignalsDSLastUploadUtils").CALCULATING_DESCRIPTION,k=220,l=240,m="event_time",n="upload_time",o=i._("Heure de l\u2019\u00e9v\u00e8nement"),p=i._("Heure de t\u00e9l\u00e9chargement"),q=i._("Les plages de dates sup\u00e9rieures \u00e0 30 jours sont affich\u00e9es en heure UTC."),r=i._("Traitement en cours"),s=i._("Actualiser les donn\u00e9es");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(a){var b=d.props.onToggleAggregationTime;b&&(a==="event_time"||a==="upload_time")&&b(a)};b("Timezone").registerNamesModule(b("TimezoneNamesData"));return d}var d=c.prototype;d.render=function(){var a=this.props,c=a.aggregationTime,d=a.isAggregated,e=a.isCalculating,f=a.onRefreshData,h=a.onToggleAggregationTime;a=a.timezoneID;var t=i._("Les p\u00e9riodes de 30 jours ou moins s\u2019affichent en {timezone}, en fonction du fuseau horaire de votre compte publicitaire.",[i._param("timezone",b("Timezone").getName(a))]),u=e?{position:"relative",width:"calc(100% - "+l+"px)"}:{width:"100%"};return b("React").createElement("div",{style:{display:"flex"}},b("React").createElement("div",{style:u},e?b("React").createElement("div",{className:"_4ih5",style:{height:"100%",pointerEvents:"none",position:"absolute",width:"100%",zIndex:1}}):null,b("React").createElement(b("SignalsEventsChart.react"),babelHelpers["extends"]({},this.props,{additionalControls:b("React").createElement(b("SUIToggleButtonGroup.react"),{disabled:h==null,theme:b("SignalsSUITheme"),value:c,onChange:this.$1},b("React").createElement(b("FDSButton.react"),{label:o,value:m}),b("React").createElement(b("FDSButton.react"),{label:p,value:n})),height:k})),b("React").createElement("div",{style:{display:"flex",justifyContent:"center"}},b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-95",size:"body3",textAlign:"center",weight:"bold"},c==="upload_time"?i._("Heure d\u2019importation de l\u2019\u00e9v\u00e8nement ({timezone})",[i._param("timezone",b("Timezone").getName(a))]):i._("Heure de lancement de l\u2019\u00e9v\u00e8nement ({timezone})",[i._param("timezone",b("Timezone").getName(a))])),b("React").createElement(b("FDSSimplePopover.react"),{content:d===!0?t:q}))),e?b("React").createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",minWidth:240,paddingLeft:24,paddingRight:24,width:l}},b("React").createElement("div",{style:{alignItems:"center",display:"flex",marginBottom:24}},b("React").createElement(b("Image.react"),{src:g("491992"),style:{marginRight:4}}),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body2",weight:"bold"},r)),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},j),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-98",size:"body3"},i._("Pendant ce temps, les graphiques et les tableaux ne comprendront peut-\u00eatre que les donn\u00e9es de vos importations pr\u00e9c\u00e9dentes.")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-97",size:"body3"},i._("Une fois que vous aurez termin\u00e9, vous devrez actualiser les donn\u00e9es pour voir vos nouveaux \u00e9v\u00e8nements.")),b("React").createElement(b("FDSButton.react"),{label:s,use:"default",onClick:f}))):null)};return c}(a);c.defaultProps={aggregationTime:n};e.exports=c}),null);
__d("OfflineEventsAttributionStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_ATTRIBUTION:"no_attribution",LOW_ATTRIBUTION:"low_attribution",FINE_ATTRIBUTION:"fine_attribution",FINE_OR_LOW_ATTRIBUTION:"fine_or_low_attribution",NOT_ENOUGH_DATA:"not_enough_data"})}),null);
__d("SignalsKPIConstants",["fbt","AdsPixelConversionEventsEnum"],(function(a,b,c,d,e,f,g){"use strict";e.exports=(a={},a[b("AdsPixelConversionEventsEnum").PURCHASE]={friendlyName:g._("Achat"),name:"Purchase",description:g._("Le nombre d\u2019\u00e9v\u00e8nements \u00ab\u00a0Purchase\u00a0\u00bb re\u00e7us ces derni\u00e8res 24 heures"),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").INITIATE_CHECKOUT]={friendlyName:g._("InitiateCheckout"),name:"InitiateCheckout",description:g._("Le nombre d\u2019\u00e9v\u00e9nements InitiateCheckOut re\u00e7u les derni\u00e8res 24 heures"),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").LEAD]={friendlyName:g._("Prospect"),name:"Lead",description:g._("Le nombre d\u2019\u00e9v\u00e8nements \u00ab\u00a0Prospect\u00a0\u00bb re\u00e7us ces derni\u00e8res 24 heures"),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").ADD_TO_CART]={friendlyName:g._("AddToCart"),name:"AddToCart",description:g._("Nombre d\u2019\u00e9v\u00e8nements \"AddToCart\" re\u00e7us pendant les derni\u00e8res 24 heures."),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").SEARCH]={friendlyName:g._("Recherche"),name:"Search",description:g._("Le nombre d\u2019\u00e9v\u00e8nements \u00ab\u00a0Search\u00a0\u00bb re\u00e7us ces derni\u00e8res 24 heures"),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").ADD_TO_WISHLIST]={friendlyName:g._("AddToWishlist"),name:"AddToWishlist",description:g._("Le nombre d\u2019\u00e9v\u00e8nements \u00ab\u00a0AddToWishList\u00a0\u00bb re\u00e7us ces derni\u00e8res 24 heures"),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").VIEW_CONTENT]={friendlyName:g._("ViewContent"),name:"ViewContent",description:g._("Le nombre d\u2019\u00e9v\u00e8nements ViewContent re\u00e7us ces derni\u00e8res 24 heures"),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").ADD_PAYMENT_INFO]={friendlyName:g._("AddPaymentInfo"),name:"AddPaymentInfo",description:g._("Le nombre d\u2019\u00e9v\u00e8nements AddPaymentInfo re\u00e7us ces derni\u00e8res 24 heures"),value:0,format:"thousands"},a[b("AdsPixelConversionEventsEnum").COMPLETE_REGISTRATION]={friendlyName:g._("CompleteRegistration"),name:"CompleteRegistration",description:g._("Le nombre d\u2019\u00e9v\u00e8nements \u00ab\u00a0CompleteRegistration\u00a0\u00bb re\u00e7us ces derni\u00e8res 24 heures"),value:0,format:"thousands"},a.VOLUME={friendlyName:g._("\u00c9v\u00e8nements re\u00e7us"),name:"Volume",description:g._("Le nombre total d\u2019\u00e9v\u00e9nements d\u00e9tect\u00e9s par ce pixel Facebook."),value:0,format:"thousands"},a.PEOPLE_REACHED={friendlyName:g._("Personnes touch\u00e9es"),name:"People Reached",description:g._("Le nombre de personnes uniques d\u00e9tect\u00e9es par votre pixel Facebook."),value:0,format:"thousands"},a.MATCH_RATE={friendlyName:g._("Taux de correspondance"),name:"Match Rate",description:g._("Le pourcentage de personnes dans cet ensemble d\u2019\u00e9v\u00e8nements hors ligne qui pourraient correspondre \u00e0 des utilisateurs Facebook. Le taux de correspondance n\u2019est pas disponible en cas de faibles volumes de donn\u00e9es."),value:0,format:"percent"},a.EVENT_LATENCY={friendlyName:g._("Latence de l\u2019\u00e9v\u00e8nement hors ligne"),name:"Event Latency",description:g._("Le d\u00e9lai moyen entre le d\u00e9roulement d\u2019un \u00e9v\u00e8nement et son t\u00e9l\u00e9chargement sur Facebook. Pour qu\u2019une campagne publicitaire active soit optimis\u00e9e pour les \u00e9v\u00e8nements hors ligne, le d\u00e9lai de latence ne doit pas d\u00e9passer 48 heures."),value:0,format:"hours"},a.AGGREGATE_ATTRIBUTIONS={friendlyName:g._("\u00c9v\u00e8nements attribu\u00e9s"),name:"Attributed Events",description:g._("Le nombre d\u2019\u00e9v\u00e8nements attribu\u00e9s \u00e0 des personnes ayant vu ou cliqu\u00e9 sur vos publicit\u00e9s. Les \u00e9v\u00e8nements peuvent \u00eatre attribu\u00e9s jusqu\u2019\u00e0 28 jours suivant une impression ou un clic sur une publicit\u00e9."),value:0,format:"thousands"},a.ATTRIBUTION_STATUS={friendlyName:g._("Taux d\u2019attribution"),name:"Attribution Status",description:g._("Le nombre d\u2019\u00e9v\u00e8nements attribu\u00e9s aux personnes qui ont vu ou cliqu\u00e9 sur vos publicit\u00e9s. Reportez-vous au Gestionnaire de publicit\u00e9s pour consulter les chiffres d\u2019attribution d\u00e9taill\u00e9s."),noAttributionValue:g._("0"),lowAttributionValue:g._("Faible"),fineAttributionValue:g._("Bonne"),highWarningTooltip:g._("Vous n\u2019avez aucune attribution dans le laps de temps donn\u00e9. Veuillez v\u00e9rifier que la configuration de votre ensemble d\u2019\u00e9v\u00e8nements hors ligne est correcte et compl\u00e8te."),lowWarningTooltip:g._("Votre taux d\u2019attribution est anormalement bas. Nous vous conseillons de v\u00e9rifier la configuration de votre ensemble d\u2019\u00e9v\u00e8nements hors ligne."),fineInfoTooltip:g._("La majorit\u00e9 des impressions de votre publicit\u00e9 sont attribu\u00e9es correctement. Aucune action n\u2019est requise."),notAvailableTooltip:g._("Le taux d\u2019attribution n\u2019est pas disponible si le volume de donn\u00e9es est trop faible.")},a.PAST_WEEK_ATTRIBUTED_EVENTS={friendlyName:g._("\u00c9v\u00e8nements affect\u00e9s au cours des 7 derniers jours"),name:"Past 7 day Attributed Events",description:g._("Le nombre d\u2019\u00e9v\u00e8nements t\u00e9l\u00e9charg\u00e9s par jour pendant les 7 derniers jours qui pourraient \u00eatre attribu\u00e9s aux personnes ayant vu vos publicit\u00e9s. T\u00e9l\u00e9chargez r\u00e9guli\u00e8rement vos donn\u00e9es pour pouvoir utiliser ces \u00e9v\u00e8nements afin d\u2019atteindre plus de monde et mesurez la performance de vos publicit\u00e9s."),value:0,format:"thousands"},a.OFFLINE_EVENTS_RECEIVED={friendlyName:g._("\u00c9v\u00e8nements re\u00e7us"),name:"Offline Events Received",description:g._("Le nombre total d\u2019\u00e9v\u00e8nements t\u00e9l\u00e9charg\u00e9s dans cet ensemble d\u2019\u00e9v\u00e8nements hors ligne."),value:0,format:"thousands"},a.OFFLINE_EVENTS_MATCH_RATE={friendlyName:g._("Taux de correspondance"),name:"Offline Events Match Rate",description:g._("Le pourcentage approximatif d\u2019\u00e9v\u00e8nements dans cet ensemble d\u2019\u00e9v\u00e8nements hors ligne qui ont \u00e9t\u00e9 associ\u00e9s \u00e0 des personnes sur Facebook. Le taux de correspondance n\u2019est pas disponible en cas de faibles volumes de donn\u00e9es."),value:""},a.UNIQUE_USER={friendlyName:g._("UTILISATEURS UNIQUES"),name:"Unique Users",description:g._("Le nombre d\u2019utilisateurs uniques de votre app."),value:0,format:"thousands"},a.EVENTS_RECEIVED={friendlyName:g._("\u00c9v\u00e8nements standard re\u00e7us"),name:"events received",description:g._("Le nombre total d\u2019\u00e9v\u00e8nements standard re\u00e7us par cette source de donn\u00e9es. Cela n\u2019inclut pas le nombre d\u2019\u00e9v\u00e8nements personnalis\u00e9s."),value:0},a)}),null);
__d("SignalsKPIFormatter",["fbt","formatNumber"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("formatNumber").withThousandDelimiters;a={millions:function(a){return g._("{count} M",[g._param("count",h(a/1e6,1))])},thousands:function(a){return g._("{count} K",[g._param("count",h(a/1e3,1))])},low:function(a){return g._("{count}",[g._param("count",a)])},percent:function(a){return g._("{count} \u0025",[g._param("count",h(a*100,0))])},hours:function(a){return g._("{count} h",[g._param("count",a)])},seconds:function(a){var b=a/60;a=a%60;if(b>1)return g._("{min} min {sec} sec",[g._param("min",Math.floor(b)),g._param("sec",Math.round(a))]);else return g._("{`sec} secondes",[g._param("`sec",a.toFixed(1))])}};e.exports=a}),null);
__d("SignalsKPINumber.react",["cx","FDSSimplePopover.react","React","SignalsKPIFormatter","SUIBusinessTheme","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.isEmbedded,e=a.rightContent;a=a.stat;var f=a.color,g=a.friendlyName,h=a.description,i=a.format;a=a.value;f=f!=null?{color:b("SUIBusinessTheme").SUIText.color[f]}:void 0;f=a===0?b("React").createElement("div",{className:"_2hcp"}):b("React").createElement("span",{style:f},b("SignalsKPIFormatter")[i](a));return b("React").createElement("div",{className:b("joinClasses")(c,"_4683"+(d?"":" _3zs_"))},b("React").createElement("div",{className:"_468i"},g.toString().toLocaleUpperCase(),b("React").createElement(b("FDSSimplePopover.react"),{content:h,position:"above"})),b("React").createElement("div",{className:"_5-oy"},f,e))};return c}(b("React").Component);e.exports=a}),null);
__d("SignalsSimpleFadeInContainer.react",["Animation","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this.props,c=a.delay;a=a.duration;var d=b("ReactDOM").findDOMNode(this);d&&(this.$1=new(b("Animation"))(d).from("opacity",0).to("opacity",0).duration(c*1e3).checkpoint().from("opacity",0).to("opacity",1).duration(a*1e3).go())};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.render=function(){var a=this.props,c=a.className;a=a.children;return b("React").createElement("div",{className:b("joinClasses")(c)},a)};return c}(a);e.exports=c}),null);
__d("SignalsSimpleFadeOutContainer.react",["Animation","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={show:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){var a=this,c=this.props,d=c.delay;c=c.duration;var e=b("ReactDOM").findDOMNode(this);e&&(this.$1=new(b("Animation"))(e).from("opacity",1).to("opacity",1).duration(d*1e3).checkpoint().from("opacity",1).to("opacity",0).duration(c*1e3).ondone(function(){a.setState({show:!1})}).go())};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.render=function(){var a=this.props,c=a.className;a=a.children;var d=this.state.show;return d?b("React").createElement("div",{className:b("joinClasses")(c)},a):null};return c}(a);e.exports=c}),null);
__d("SignalsDSKPINumber.react",["ix","cx","fbt","Image.react","React","SignalsDSLastUploadUtils","SignalsKPIConstants","SignalsKPINumber.react","SignalsSimpleFadeInContainer.react","SignalsSimpleFadeOutContainer.react","SUIText.react","SUITooltip.react","asset","intlSummarizeNumber","signalsNow"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("SignalsDSLastUploadUtils").CALCULATING_DESCRIPTION;a=b("React").PureComponent;var k=60;function l(a){var c=b("signalsNow").getNow();c=Math.max(c-a,0);a=Math.floor(c/k);if(a<1)return i._("\u00e0 l\u2019instant");else return i._({"*":"il y a {number} minutes","_1":"Il y a 1 minute"},[i._plural(a,"number")])}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("React").createElement("div",{className:"_2upp"},b("React").createElement(b("SUITooltip.react"),{alignment:"center",className:"_2upq",position:"above",tooltip:j},b("React").createElement(b("Image.react"),{src:g("491991")})))};d.$2=function(a,c){var d=b("intlSummarizeNumber")(a);return b("React").createElement("div",{style:{alignItems:"center",display:"flex"}},b("React").createElement(b("SignalsSimpleFadeOutContainer.react"),{className:"_2upr",delay:3,duration:2},b("React").createElement("div",{style:{display:"flex",alignItems:"center"}},b("React").createElement(b("Image.react"),{src:g("491985"),style:{marginLeft:12,marginRight:4}}),b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"positive",display:"block",size:"body3",weight:"bold"},i._({"*":"(+{=formattedNumber} \u00e9v\u00e8nements)","_1":"(+ {=formattedNumber} \u00e9v\u00e8nement)"},[i._param("=formattedNumber",d),i._plural(a)])),b("React").createElement(b("SUIText.react"),{display:"block",size:"body3"},l(c))))),b("React").createElement(b("SignalsSimpleFadeInContainer.react"),{className:"_2upp",delay:5,duration:2},b("React").createElement(b("SUITooltip.react"),{alignment:"center",className:"_2upq",position:"above",tooltip:j},b("React").createElement(b("Image.react"),{src:g("491991")}))))};d.render=function(){var a=this.props,c=a.className,d=a.isEmbedded,e=a.stat;a=a.latestUpload;var f;d!==!0||a==null?f=null:a.isCalculating&&a.count!=null&&e.name===b("SignalsKPIConstants").OFFLINE_EVENTS_RECEIVED.name?f=this.$2(a.count,a.time):a.isCalculating&&(f=this.$1());return b("React").createElement(b("SignalsKPINumber.react"),{className:c,isEmbedded:d,rightContent:f,stat:e})};return c}(a);e.exports=c}),null);
__d("SignalsKPIString.react",["cx","FDSSimplePopover.react","React","SUIBusinessTheme","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.color,e=a.isEmbedded,f=a.friendlyName,g=a.description,h=a.leftContent,i=a.rightContent;a=a.value;d=d!=null?{color:b("SUIBusinessTheme").SUIText.color[d]}:void 0;d=a===""?b("React").createElement("div",{className:"_2hcp"}):b("React").createElement("span",{style:d},a);return b("React").createElement("div",{className:b("joinClasses")(c,"_4683"+(e?"":" _3zs_"))},b("React").createElement("div",{className:"_468i"},f.toString().toLocaleUpperCase(),g!=null?b("React").createElement(b("FDSSimplePopover.react"),{content:g,position:"above"}):null),b("React").createElement("div",{className:"_5-oy"},h,d,i))};return c}(b("React").Component);e.exports=a}),null);
__d("SignalsDSKPIString.react",["ix","cx","Image.react","React","SignalsDSLastUploadUtils","SignalsKPIString.react","SUITooltip.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SignalsDSLastUploadUtils").CALCULATING_DESCRIPTION;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){return b("React").createElement("div",{className:"_2upp"},b("React").createElement(b("SUITooltip.react"),{alignment:"center",className:"_2upq",position:"above",tooltip:i},b("React").createElement(b("Image.react"),{src:g("491991")})))};d.$2=function(a,c){if(a===null)return null;var d;a==="error"?d=g("402790"):a==="warning"?d=g("480792"):a==="information"&&(d=g("403742"));return b("React").createElement("div",{className:"_6gby"},b("React").createElement(b("SUITooltip.react"),{alignment:"center",className:"_2upq",margin:"_3-90",position:"above",tooltip:c},b("React").createElement(b("Image.react"),{src:d})))};d.render=function(){var a=this.props,c=a.className,d=a.color,e=a.isEmbedded,f=a.latestUpload,g=a.warningSeverity,h=a.warningTooltip,i=a.friendlyName,j=a.description;a=a.value;var k;e!==!0||f==null?k=null:f.isCalculating&&(k=this.$1());f=e==!0?this.$2(g,h):null;return b("React").createElement(b("SignalsKPIString.react"),{className:c,color:d,description:j,friendlyName:i,isEmbedded:e,leftContent:f,rightContent:k,value:a})};return c}(b("React").Component);e.exports=a}),null);
__d("SignalsKPIBlock.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").Component;var h=b("React").Children;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_1am3"},h.map(this.props.children,function(a,c){return a!=null?b("React").createElement("div",{className:"_1am4"+(a.props.doubleWidth===!0?" _1mo-":""),key:c},a):null}))};return c}(a);e.exports=c}),null);
__d("SignalsKPIIssueIndicator.react",["ix","cssVar","cx","fbt","FDSText.react","Image.react","React","ShimButton.react","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=b("React").PureComponent;var k=g("480790"),l=g("494556"),m="#FFBA00";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.issue;a=a.onClick;if(!c||!a||c.warningCount===0&&c.errorCount===0)return null;var d=c.warningCount>0?b("React").createElement("div",{className:"_3u2p"},b("React").createElement(b("Image.react"),{className:"_3u2q",src:k}),b("React").createElement(b("SUIText.react"),{customColorUseSparingly:m,size:"body3",weight:"bold"},j._({"*":"{warning} avertissements","_1":"1 avertissement"},[j._plural(c.warningCount,"warning")]))):null;c=c.errorCount>0?b("React").createElement("div",{className:"_3u2p"},b("React").createElement(b("Image.react"),{className:"_3u2q",src:l}),b("React").createElement(b("FDSText.react"),{color:"negative",size:"body3",weight:"bold"},j._({"*":"{error} erreurs","_1":"1 erreur"},[j._plural(c.errorCount,"error")]))):null;return b("React").createElement(b("ShimButton.react"),{className:"_3u2r",onClick:a},c,d)};return c}(a);e.exports=c}),null);
__d("SignalsUIPanel.react",["cx","FDSCard.react","FDSSection.react","React","SUIBusinessThemeContainer.react","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.children,d=a.title,e=a.noBottomBorder,f=a.noPadding;a=a.className;d=d!=null?b("React").createElement("div",{className:"_4b9a"},d):null;return b("gkx")("677788")?b("React").createElement("div",{className:"_4ru0"},b("React").createElement(b("FDSCard.react"),null,b("React").createElement(b("FDSSection.react"),{hasPadding:!1},b("React").createElement(b("SUIBusinessThemeContainer.react"),null,d,b("React").createElement("div",{className:b("joinClasses")(a,"_4b9c"+(f===!0?" _4b9d":""))},c))))):b("React").createElement("div",{className:"_3h_e _4b9b"+(e===!0?" _61qq":"")},d,b("React").createElement("div",{className:b("joinClasses")(a,"_4b9c"+(f===!0?" _4b9d":""))},c))};return c}(a);e.exports=c}),null);
__d("SignalsKPIBlockPanel.react",["ix","cssVar","cx","fbt","FDSButton.react","FDSText.react","FlexLayout.react","React","ShimButton.react","SignalsDataSourcesEnum","SignalsKPIIssueIndicator.react","SignalsLoggingBoundary.react","SignalsLoggingScopesEnum","SignalsLoggingStandardActionsEnum","SignalsPixelUIUtils","SignalsUIPanel.react","SignalsUnavailableAssetConstants","SUIAtlasTheme","SUIGlyphIcon.react","SUIStatusIndicator.react","XUIAmbientNUX.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=b("React").PureComponent;var k=g("562277"),l=g("372407"),m=j._("Activit\u00e9 d\u2019aujourd\u2019hui"),n=j._("7 derniers jours");function o(a){var c=a.signalSourceIcon;a=a.onClick;return a==null?b("React").createElement("div",{className:"_1ksw",style:{background:"#4267b2"}},c):b("React").createElement(b("ShimButton.react"),{className:"_1ksw _25n_",style:{background:"#4267b2"},onClick:a},c)}function p(a){var c=a.signalSourceName,d=a.signalSourceID,e=a.signalSourceIsUnavailable;a=a.onClick;c=b("React").createElement(b("FDSText.react"),{color:b("SignalsPixelUIUtils").canSeeUnavailablePixelSharingUX()&&e?"disabled":"blueLink",margin:"_3-8_",size:"body1",weight:"bold"},c,b("SignalsPixelUIUtils").canSeeUnavailablePixelSharingUX()&&e?b("React").createElement(b("React").Fragment,null," (",b("SignalsUnavailableAssetConstants").UNAVAILABLE_ASSET_STATUS,")"):null);a=a==null?c:b("React").createElement(b("ShimButton.react"),{className:"_1mta",onClick:a},c);return b("React").createElement("div",{className:"_1ksx"},b("React").createElement("div",{className:"_1ksy"},a),b("React").createElement("div",{className:"_1ks-"},b("React").createElement(b("FDSText.react"),{color:b("SignalsPixelUIUtils").canSeeUnavailablePixelSharingUX()&&e?"disabled":"placeholder",size:"meta1",weight:"normal"},d)))}function q(a){a=a.signalSourceType;a=a===b("SignalsDataSourcesEnum").DATA_SET||a===b("SignalsDataSourcesEnum").APP_EVENT?n:m;return b("React").createElement("div",{className:"_1ks_"},b("React").createElement(b("FDSText.react"),{size:"header4",weight:"bold"},a))}var r=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,c=a.isDisabled;a=a.onClick;return b("React").createElement("span",{className:"_5_43"},b("React").createElement(b("FDSButton.react"),{isDisabled:c,label:j._("D\u00e9tails"),use:"default",onClick:a}))};return a}(a);function s(a){var c=a.issue,d=a.onClick,e=a.signalSourceStatus;a=a.signalSourceStatusSentence;return b("React").createElement("div",{className:"_1kt0"},b("React").createElement(b("SignalsKPIIssueIndicator.react"),{issue:c,onClick:d}),e?b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"center"},b("React").createElement(b("SUIStatusIndicator.react"),{margin:"_3-90",status:e,theme:b("SUIAtlasTheme")}),a):null)}function t(a){var c=a.isCollapsed;a=a.children;return b("React").createElement("div",{className:"_2ok-"+(c?" _2ok_":"")},a)}var u=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={detailsButtonNUXDismissed:!1},b.$1=null,b.$2=function(){return b.$1},b.$3=function(){var a=b.props.onDetailsButtonNUXClose;a&&a();b.setState({detailsButtonNUXDismissed:!0})},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this,c=this.props,d=c.allowInspect,e=c.collapsible,f=c.detailsButtonNUXMessage,g=c.isCollapsed,h=c.isEmbedded,i=c.issue,j=c.neverActive,m=c.onInspect,n=c.onHeaderClick,t=c.signalSourceIcon,u=c.signalSourceIsUnavailable,v=c.signalSourceName,w=c.signalSourceStatus,x=c.signalSourceStatusSentence,y=c.signalSourceType,z=c.signalSourceID;c=c.upsellButton;var A=this.state.detailsButtonNUXDismissed,B=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:k,style:{verticalAlign:"middle"}}),C=b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:l,style:{verticalAlign:"middle"}});t=d!==!1?b("React").createElement(o,{signalSourceIcon:t,onClick:m}):b("React").createElement(o,{signalSourceIcon:t});z=d!==!1?b("React").createElement(p,{signalSourceID:z,signalSourceIsUnavailable:u,signalSourceName:v,onClick:m}):b("React").createElement(p,{signalSourceID:z,signalSourceIsUnavailable:u,signalSourceName:v});v=e===!0?b("React").createElement(b("ShimButton.react"),{className:"_2ol0"+(e&&g?" _2ol1":""),onClick:n},B):null;return h===!0?b("React").createElement("div",{className:"_1kt2"},b("React").createElement("span",{className:"_7qv_"+(h!==!0&&j?" _1-xi":"")},b("React").createElement("div",{className:"_1mtc"},C),b("React").createElement(q,{signalSourceType:y})),b("React").createElement(s,{signalSourceStatus:w,signalSourceStatusSentence:x})):b("React").createElement("div",{className:"_1kt2"},b("React").createElement("span",{className:"_7qv_"+(h!==!0&&j?" _1-xi":"")},v,t,z),b("React").createElement(s,{issue:i,signalSourceStatus:w,signalSourceStatusSentence:x,onClick:m}),b("React").createElement("span",{className:"_7qv_"+(h!==!0&&j?" _1-xi":"")},d===!1?null:b("React").createElement(r,{isDisabled:u,ref:function(b){a.$1=b},onClick:m}),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",contextRef:this.$2,shown:!A&&f!=null,onCloseButtonClick:this.$3},f),c))};return a}(a);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isCollapsed:d.$1(d.props)},d.$2=function(){d.setState(function(a){return{isCollapsed:!a.isCollapsed}},function(){d.props.onCollapseToggle&&d.props.onCollapseToggle(d.state.isCollapsed)})},d.$3=function(){var a=d.props,c=a.logger,e=a.signalSourceType;a=a.onInspect;c.scope(b("SignalsLoggingScopesEnum").INSPECT_DATA_SOURCE).scope(e).logAction(b("SignalsLoggingStandardActionsEnum").CLICK);a&&a()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a=this.$1(a);this.setState({isCollapsed:a})};d.$1=function(a){return a.isEmbedded!==!0&&!!a.isCollapsed};d.render=function(){var a=this.props,c=a.allowInspect,d=a.children,e=a.collapsible,f=a.detailsButtonNUXMessage,g=a.isEmbedded,h=a.neverActive,i=a.issue,j=a.signalSourceIcon,k=a.signalSourceIsUnavailable,l=a.signalSourceName,m=a.signalSourceStatus,n=a.signalSourceStatusSentence,o=a.signalSourceID,p=a.signalSourceType,q=a.upsellButton;a=a.onDetailsButtonNUXClose;var r=this.state.isCollapsed;return b("React").createElement("div",{className:"_1kt3","data-testid":this.props["data-testid"]!=null&&this.props["data-testid"]!==""?this.props["data-testid"]:"SIGNALS_HOME_KPI_BLOCK_PANEL"},b("React").createElement(b("SignalsUIPanel.react"),{className:"_1kt4",noPadding:!0},b("React").createElement(u,{allowInspect:c,collapsible:e,detailsButtonNUXMessage:f,isCollapsed:r,isEmbedded:g,issue:i,neverActive:h,signalSourceID:o,signalSourceIcon:j,signalSourceIsUnavailable:k,signalSourceName:l,signalSourceStatus:m,signalSourceStatusSentence:n,signalSourceType:p,upsellButton:q,onDetailsButtonNUXClose:a,onHeaderClick:this.$2,onInspect:this.$3}),b("React").createElement(t,{isCollapsed:r},d)))};return c}(b("React").PureComponent);e.exports=b("SignalsLoggingBoundary.react").loggerConsumingComponent(c)}),null);
__d("SignalsDSKPIBlockPanel.react",["ix","cx","fbt","BrandsAppConfig","Image.react","OfflineEventsAttributionStatus","React","SignalsDataSourcesEnum","SignalsDSKPINumber.react","SignalsDSKPIString.react","SignalsDSStatusUtils","SignalsKPIBlock.react","SignalsKPIBlockPanel.react","SignalsKPIConstants","SimpleNUXMessage","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PureComponent;var j=b("SignalsDataSourcesEnum").DATA_SET,k=b("SignalsDSStatusUtils").getUploadStatus,l=b("SignalsDSStatusUtils").getOptimizationStatus,m=b("SignalsDSStatusUtils").getSUIStatusIndicatorStatus,n=g("412282"),o=i._("Affichez des insights plus d\u00e9taill\u00e9s de votre ensemble d\u2019\u00e9v\u00e8nements hors ligne, notamment le revenu, l\u2019heure et l\u2019historique de chargement et plus encore."),p=b("SignalsKPIConstants").ATTRIBUTION_STATUS,q=b("SignalsKPIConstants").OFFLINE_EVENTS_MATCH_RATE;function r(a){__p&&__p();var c=a.attributionStatus,d=a.isEmbedded,e=a.matchRate,f=a.volumeStatBlock;a=a.latestUpload;var g=[],h=a!=null&&a.isCalculating?"disabled":"primary",i=babelHelpers["extends"]({},f);f.value>=1e6?i.format="millions":f.value>=1e3?i.format="thousands":i.format="low";i.color=h;g.push(b("React").createElement(b("SignalsDSKPINumber.react"),{className:"_3812",isEmbedded:d,latestUpload:a,stat:i}));if(e!=null){f=e>=0?"~"+e+"%":"";g.push(b("React").createElement(b("SignalsDSKPIString.react"),{color:h,description:q.description,friendlyName:q.friendlyName,isEmbedded:d,latestUpload:a,value:f}))}i=null;e=null;f=null;c===b("OfflineEventsAttributionStatus").NO_ATTRIBUTION?(i=p.noAttributionValue,e="error",f=p.highWarningTooltip):c===b("OfflineEventsAttributionStatus").LOW_ATTRIBUTION?(i=p.lowAttributionValue,e="warning",f=p.lowWarningTooltip):c===b("OfflineEventsAttributionStatus").FINE_ATTRIBUTION||c===b("OfflineEventsAttributionStatus").FINE_OR_LOW_ATTRIBUTION?(i=p.fineAttributionValue,e="information",f=p.fineInfoTooltip):(e="information",f=p.notAvailableTooltip);g.push(b("React").createElement(b("SignalsDSKPIString.react"),{color:h,description:p.description,friendlyName:p.friendlyName,isEmbedded:d,latestUpload:a,value:i!=null?i.toString():"",warningSeverity:e,warningTooltip:f}));return b("React").createElement(b("SignalsKPIBlock.react"),{children:g,doubleWidth:!d})}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser("109908416310495")};d.render=function(){var a=this.props,c=a.attributionStatus,d=a.dataSetID,e=a.dsSourceName,f=a.isEmbedded,g=a.latestUpload,h=a.matchRate,p=a.onInspect,q=a.showDetailsButtonNUX,s=a.status,t=a.upsellButton;a=a.volumeStatBlock;d=i._("ID de l\u2019ensemble d\u2019\u00e9v\u00e8nements hors ligne\u00a0: {=actual selected dataSet ID for Kpi panel}",[i._param("=actual selected dataSet ID for Kpi panel",d)]);var u=g!=null?g.time:null;s=b("BrandsAppConfig").businessCapabilities.can_use_store_sales_optimization?l(s):k(u);u=m(s.status);s=b("React").createElement(b("SUIText.react"),{customSizeUseSparingly:"10px",shade:"light",size:"meta1",weight:"normal"},s.description);return b("React").createElement(b("SignalsKPIBlockPanel.react"),{"data-testid":"SIGNALS_HOME_OFFLINE_KPI_BLOCK_PANEL",detailsButtonNUXMessage:q===!0?o:null,isEmbedded:f===!0,signalSourceID:d,signalSourceIcon:b("React").createElement(b("Image.react"),{src:n}),signalSourceIsUnavailable:!1,signalSourceName:e,signalSourceStatus:f!==!0?u:void 0,signalSourceStatusSentence:f!==!0?s:null,signalSourceType:j,upsellButton:t,onDetailsButtonNUXClose:this.$1,onInspect:p},b("React").createElement(r,{attributionStatus:c,isEmbedded:f,latestUpload:g,matchRate:h,volumeStatBlock:a}))};return c}(a);e.exports=c}),null);
__d("SignalsDSOptimizationStatusesStore",["Promise","AdsGraphAPI","AdsSignalsDsOemDataSetUploadSuccessDataActionFlux","SignalsDSRefreshStoreDataActionFlux","SignalsLoadObjectStore","adsCreateStoreThunkSelector","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getAllSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getAll.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.__getName=function(){return e.id};d.__getLoader=function(a){return new(b("Promise"))(function(c,d){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("offline_conversion_data_set",a).edge("optimization_statuses").get(),function(a){return c(g(a.data))},d)})};d.__customReduce=function(a,c){c=c.action;switch(c.type){case b("SignalsDSRefreshStoreDataActionFlux").actionType:case b("AdsSignalsDsOemDataSetUploadSuccessDataActionFlux").actionType:this.clearKeyLater(c.dataSetID)}return a};return c}(b("SignalsLoadObjectStore"));e.exports=new a()}),null);
__d("FBMaskedShimmerArea.react",["cx","FBLoadShimmer.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("joinClasses")("_45jw",this.props.className);return b("React").createElement("div",{className:a},b("React").createElement(b("FBLoadShimmer.react"),{height:this.props.height,width:this.props.width}),this.$1().map(function(a,c){return b("React").createElement("div",{className:"_45jx",key:c,style:{left:a.x+"px",height:a.height+"px",top:a.y+"px",width:a.width+"px"}})}))};d.$2=function(a,b){var c=Math.max(a.x,b.x),d=Math.max(a.y,b.y),e=Math.min(a.x+a.width,b.x+b.width);a=Math.min(a.y+a.height,b.y+b.height);return e<c||a<d?null:{x:c,y:d,width:e-c,height:a-d}};d.$3=function(a,b){__p&&__p();b=this.$2(b,a);if(!b)return[a];var c=[];c.push({x:a.x,y:a.y,width:a.width,height:b.y-a.y});c.push({x:a.x,y:b.y+b.height,width:a.width,height:a.y+a.height-(b.y+b.height)});c.push({x:a.x,y:b.y,width:b.x-a.x,height:b.height});c.push({x:b.x+b.width,y:b.y,width:a.x+a.width-(b.x+b.width),height:b.height});return c.filter(function(a){return a.width>0&&a.height>0})};d.$1=function(){__p&&__p();var a=[{x:0,y:0,width:this.props.width,height:this.props.height}];for(var b=this.props.rectangles,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=[];for(var g=0;g<a.length;g++){var h=a[g];f=f.concat(this.$3(h,e))}a=f}return a};return c}(b("React").PureComponent);e.exports=a}),null);
__d("SignalsDataSourceKPIBlockPanelLoading.react",["cx","FBMaskedShimmerArea.react","React","SignalsUIPanel.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("React").Component;var h=[{x:0,y:0,width:36,height:36},{x:46,y:7,width:156,height:8},{x:46,y:23,width:116,height:8}];function a(){var a=0;for(var b=0;b<h.length;b++){var c=h[b];c=c.x+c.width;a<c&&(a=c)}return a}var i=a(),j=36;d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_1kt3"},b("React").createElement(b("SignalsUIPanel.react"),{className:"_1kt4",noPadding:!0},b("React").createElement("div",{className:"_1kt2"},b("React").createElement(b("FBMaskedShimmerArea.react"),{height:j,rectangles:h,width:i})),b("React").createElement("div",{className:"_2ep7"})))};return c}(c);e.exports=d}),null);
__d("SignalsHomeDSLatestUploadStore",["AdsDataAtom","BrandsAppConfig","FluxDerivedStore","LoadObject","SignalsDSRefreshStoreDataAction","SignalsHomeDSLastUploadUIStateStore","SignalsNewDSStore","immutable","setTimeout","signalsNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3;a=60;var h=15*a;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$SignalsHomeDSLatestUploadStore1=b("immutable").Map(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.__getStores=function(){return[b("SignalsHomeDSLastUploadUIStateStore"),b("SignalsNewDSStore")]};d.__getData=function(a){__p&&__p();var c=b("SignalsHomeDSLastUploadUIStateStore").getLastUIUpload(a);a=b("SignalsNewDSStore").get(a);if(a.isLoading())return b("LoadObject").loading();else if(a.hasError()){var d=a.getErrorEnforcing();return b("LoadObject").withError(d)}else if(a.hasValue()){d=a.getValueEnforcing();a=d.last_upload_time||null;return b("LoadObject").withValue({lastUploadTime:a,lastUIUpload:c})}else return b("LoadObject").empty()};d.__computeResult=function(a,c){__p&&__p();var d=this;if(!this.canSeeOfflineUploadLatency())return b("LoadObject").empty();if(c.isLoading())return b("LoadObject").loading();else if(c.hasError()){var e=c.getErrorEnforcing();return b("LoadObject").withError(e)}else if(c.hasValue()){e=c.getValueEnforcing();c=e.lastUploadTime;e=e.lastUIUpload;var f=null;if(c!=null||e!=null){c=Math.max(c||0,e!=null?e.time:0);var i=b("signalsNow").getNow()-c<h;f={count:e!=null?e.count:null,isCalculating:i,time:c};if(i&&!this.$SignalsHomeDSLatestUploadStore1.has(a)){e=b("setTimeout")(function(){b("SignalsDSRefreshStoreDataAction").dispatch({dataSetID:a},{line:"105",module:"SignalsHomeDSLatestUploadStore.js"}),d.$SignalsHomeDSLatestUploadStore1["delete"](a)},(h-b("signalsNow").getNow()+c)*g);this.$SignalsHomeDSLatestUploadStore1.set(a,e)}}return b("LoadObject").withValue(f)}else return b("LoadObject").empty()};d.canSeeOfflineUploadLatency=function(){return b("BrandsAppConfig").businessCapabilities.can_see_offline_upload_latency};return c}(b("FluxDerivedStore"));c.__moduleID=e.id;e.exports=new c(b("AdsDataAtom"))}),null);
__d("SignalsKPITimeRange",["DateTime","SignalsHomeDataSourceDateRangeEnum"],(function(a,b,c,d,e,f){"use strict";a=b("DateTime").localNow();c=b("DateTime").localNow().startOfDay();e.exports=(d={},d[b("SignalsHomeDataSourceDateRangeEnum").TODAY]={start:c.instant,end:a.instant},d[b("SignalsHomeDataSourceDateRangeEnum").YESTERDAY]={start:c.subtractDays(1).instant,end:c.instant},d[b("SignalsHomeDataSourceDateRangeEnum").WEEK]={start:c.subtractDays(6).instant,end:a.instant},d[b("SignalsHomeDataSourceDateRangeEnum").TWOWEEKS]={start:c.subtractDays(13).instant,end:a.instant},d[b("SignalsHomeDataSourceDateRangeEnum").MONTH]={start:c.subtractDays(29).instant,end:a.instant},d)}),null);
__d("SignalsDSKPIBlockContainer.react",["cx","fbt","BrandsAppConfig","FDSButton.react","React","SignalsContainer.react","SignalsDataSourceKPIBlockPanelLoading.react","SignalsDSKPIBlockPanel.react","SignalsDSMDFUSetupFlowDialogV1UIStateStore.react","SignalsDSOptimizationStatusesStore","SignalsDSStatusUtils","SignalsHomeDatasetActions","SignalsHomeDataSourceDateRangeEnum","SignalsHomeDSLatestUploadStore","SignalsHomeStateStore","SignalsKPIConstants","SignalsKPITimeRange","SignalsNewDSEventStatsStore","SignalsNewDSStore","SimpleNUXMessage","killswitch","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SignalsContainer.react").getValueSafe;a=b("React").PureComponent;var j=b("SignalsDSStatusUtils").findBestOptimizationStatus,k="upload_time",l=b("SignalsKPITimeRange")[b("SignalsHomeDataSourceDateRangeEnum").WEEK],m=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props.onClick;return b("React").createElement("span",{className:"_5_43"},b("React").createElement(b("FDSButton.react"),{label:h._("Setup Automatic Uploads"),use:"special",onClick:a}))};return a}(a);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$SignalsDSKPIBlockContainer1=function(){var a=d.props.dataSetID;b("SimpleNUXMessage").markMessageSeenByUser("109908416310495");b("SignalsHomeDatasetActions").inspectDataSet(a);b("SimpleNUXMessage").markMessageSeenByUser("100655320575883")},d.$SignalsDSKPIBlockContainer2=function(){var a=d.props.dataSetID,c=d.getStateEnforcing();c=c.businessID;var e=b("BrandsAppConfig").businessCapabilities.can_use_offline_mdfu_v2?"v2":"v1";b("SignalsDSMDFUSetupFlowDialogV1UIStateStore.react").openAutomatedOfflineUploadsSetupFlowFromOfflineListView(c,a,e);b("SignalsHomeDatasetActions").inspectDataSet(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getStores=function(){return[b("SignalsDSOptimizationStatusesStore"),b("SignalsHomeDSLatestUploadStore"),b("SignalsHomeStateStore"),b("SignalsNewDSEventStatsStore"),b("SignalsNewDSStore")]};d.calculateState=function(a,c){__p&&__p();a=c.dataSetID;var d=c.positionInList;c=c.selectedTimeRange;var e=b("SignalsHomeStateStore").getState();e=e.businessID;c=c!=null?c:l;var f=c.start;c=c.end;var g=i(b("SignalsNewDSStore").get(a));f=i(b("SignalsNewDSEventStatsStore").getVal(a,k,f,c));c=f.summary;f=d===0&&!b("SimpleNUXMessage").hasUserSeenMessage("109908416310495");d=i(b("SignalsHomeDSLatestUploadStore").get(a));var h=!b("killswitch")("ADS_SIGNALS_OFFLINE_DISABLE_MATCH_STATS");a=i(b("SignalsDSOptimizationStatusesStore").get(a));return{apiConnected:g.last_upload_app==="api",businessID:e,dataSetSummary:c,dsSourceName:g.name,latestUpload:d,showDetailsButtonNUX:f,showMatchedMetrics:h,status:b("nullthrows")(j(a)).status}};d.renderLoading=function(){return b("React").createElement(b("SignalsDataSourceKPIBlockPanelLoading.react"),null)};d.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.apiConnected,d=a.dataSetSummary,e=a.dsSourceName,f=a.latestUpload,g=a.showDetailsButtonNUX,h=a.showMatchedMetrics;a=a.status;var i=this.props,j=i.dataSetID;i=i.isEmbedded;var k=d.attribution_status,l=d.count;h=h?d.match_rate_approx:null;d=babelHelpers["extends"]({},b("SignalsKPIConstants").OFFLINE_EVENTS_RECEIVED,{value:l});return b("React").createElement(b("SignalsDSKPIBlockPanel.react"),{attributionStatus:k,dataSetID:j,dsSourceName:e,isEmbedded:i,latestUpload:f,matchRate:h,showDetailsButtonNUX:g,status:a,upsellButton:b("BrandsAppConfig").businessCapabilities.can_see_offline_mdfu_upsell_option&&h!=null&&h>0&&!c?b("React").createElement(m,{onClick:this.$SignalsDSKPIBlockContainer2}):null,volumeStatBlock:d,onInspect:this.$SignalsDSKPIBlockContainer1})};return c}(b("SignalsContainer.react"));e.exports=c}),null);
__d("SignalsDSAutomaticUploadsNextStepsTipUIStateStore",["SignalsUIStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.__getName=function(){return e.id};c.getInitialState=function(){return{showTip:!1}};return b}(b("SignalsUIStateStore"));e.exports=new a()}),null);
__d("SignalsDSAutomaticUploadsNextStepsTipContainer.react",["fbt","AdsBlueTipTour.react","React","SignalsContainer.react","SignalsDSAutomaticUploadsNextStepsTipUIStateStore","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getStores=function(){return[b("SignalsDSAutomaticUploadsNextStepsTipUIStateStore")]};d.calculateState=function(){var a=b("SignalsDSAutomaticUploadsNextStepsTipUIStateStore").getState();a=a.showTip;return{showTip:a}};d.renderLoadedValue=function(){var a=this.getStateEnforcing();a=a.showTip;if(!a)return null;a=b("ge")("offline_automated_uploads_instructions_sent_label");var c=b("ge")("offline_automated_uploads_instructions_send_again");return b("React").createElement(b("AdsBlueTipTour.react"),{highlightContext:!0,steps:[{content:g._("When the access token is successfully installed, your status will be updated here."),context:a,position:"above",alignment:"left"},{content:g._("You can resend the technical instructions or generate a new access token here."),context:c,position:"left",alignment:"left"}],onComplete:this.$SignalsDSAutomaticUploadsNextStepsTipContainer1,onXOut:this.$SignalsDSAutomaticUploadsNextStepsTipContainer1})};d.$SignalsDSAutomaticUploadsNextStepsTipContainer1=function(){b("SignalsDSAutomaticUploadsNextStepsTipUIStateStore").updateStateLater({showTip:!1})};return c}(b("SignalsContainer.react"));e.exports=a}),null);
__d("SignalsDSAPIIntegrationStatusCheckerContainer.react",["ix","cx","fbt","BrandsAppConfig","FDSButton.react","FDSLink.react","FDSSpinner.react","FDSText.react","FlexLayout.react","Image.react","OfflineConversionUploadAutomationStatus","PositionEnum","React","SignalsContainer.react","SignalsDSAutomaticUploadsNextStepsTipContainer.react","SignalsDSAutomaticUploadsSetupStatusStore","SignalsDSMDFUSetupFlowDialogV1UIStateStore.react","SignalsHomeActions","SignalsHomeHelpLink.react","SignalsHomeStateStore","SUIBusinessTheme","SUITooltip.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("BrandsAppConfig").businessCapabilities,k=b("SignalsContainer.react").getValueSafe,l="https://developers.facebook.com/docs/marketing-api/offline-conversions",m=g("697442"),n=g("697441"),o=i._("Only a business admin can set up an access token."),p=i._("Only a business admin can set up Automated Uploads.");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$SignalsDSAPIIntegrationStatusCheckerContainer1=function(){return d.refs.link},d.$SignalsDSAPIIntegrationStatusCheckerContainer3=function(){var a=d.props,c=a.dataSetID;a=a.businessID;var e=j.can_use_offline_mdfu_v2?"v2":"v1";b("SignalsDSMDFUSetupFlowDialogV1UIStateStore.react").openAutomatedOfflineUploadsSetupFlowFromAPIIntegrationStatusChecker(a,c,e)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getStores=function(){return[b("SignalsDSAutomaticUploadsSetupStatusStore"),b("SignalsHomeStateStore")]};d.calculateState=function(){var a=this.props,c=a.businessID;a=a.dataSetID;a=k(b("SignalsDSAutomaticUploadsSetupStatusStore").get(a));var d=a.upload_automation_status;a=a.last_upload_app;var e=b("SignalsHomeStateStore").getState().isBusinessAdmin;return{connected:a==="api",isViewerBusinessAdmin:e,shouldSeeSetupOption:c!==null&&a==="ui",uploadAutomationStatus:d}};d.$SignalsDSAPIIntegrationStatusCheckerContainer2=function(){b("SignalsHomeActions").openHelpContent("USE_OFFLINE_CONVERSION_API")};d.renderLoading=function(){return b("React").createElement("div",{className:"_3-9c _3-92"},b("React").createElement(b("FDSSpinner.react"),null))};d.renderLoadedValue=function(){return j.can_use_offline_mdfu_v2?this.$SignalsDSAPIIntegrationStatusCheckerContainer4():this.$SignalsDSAPIIntegrationStatusCheckerContainer5()};d.$SignalsDSAPIIntegrationStatusCheckerContainer4=function(){var a=this.getStateEnforcing(),c=a.connected;a=a.uploadAutomationStatus;if(c)return this.$SignalsDSAPIIntegrationStatusCheckerContainer6();else if(a===b("OfflineConversionUploadAutomationStatus").ACCESS_TOKEN_GENERATED)return this.$SignalsDSAPIIntegrationStatusCheckerContainer7();else return this.$SignalsDSAPIIntegrationStatusCheckerContainer8()};d.$SignalsDSAPIIntegrationStatusCheckerContainer6=function(){var a=this.props,c=a.className;a=a.style;return b("React").createElement(b("FlexLayout.react"),{align:"center",className:c,style:a},b("React").createElement(b("Image.react"),{src:m}),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-99",palette:"light",size:"body3"},i._("Automated Uploads - ON")))};d.$SignalsDSAPIIntegrationStatusCheckerContainer7=function(){var a=this.props,c=a.className;a=a.style;return b("React").createElement(b("FlexLayout.react"),{align:"center",className:c,style:a},b("React").createElement("div",{id:"offline_automated_uploads_instructions_sent_label"},b("React").createElement(b("FlexLayout.react"),{align:"center"},b("React").createElement(b("Image.react"),{src:n}),b("React").createElement(b("FDSText.react"),{color:"placeholder",margin:"_3-99",palette:"light",size:"body3"},i._("Importations automatiques - Instructions envoy\u00e9es")))),b("React").createElement("div",{className:"_2pi7"}),b("React").createElement("div",{id:"offline_automated_uploads_instructions_send_again"},b("React").createElement(b("FDSText.react"),{size:"body3"},b("React").createElement(b("FDSLink.react"),{onClick:this.$SignalsDSAPIIntegrationStatusCheckerContainer3},i._("Renvoyer")))),b("React").createElement(b("SignalsDSAutomaticUploadsNextStepsTipContainer.react"),null))};d.$SignalsDSAPIIntegrationStatusCheckerContainer8=function(){var a=this.props,c=a.className;a=a.style;var d=this.getStateEnforcing(),e=d.isViewerBusinessAdmin;d=d.shouldSeeSetupOption;return b("React").createElement(b("FlexLayout.react"),{align:"center",className:c,style:a},b("React").createElement(b("Image.react"),{src:n}),b("React").createElement(b("FDSText.react"),{color:"placeholder",margin:"_3-99",palette:"light",size:"body3"},i._("Automated Uploads - OFF")),d?e?b("React").createElement(b("FDSText.react"),{margin:"_3-9a",size:"body3"},b("React").createElement(b("FDSLink.react"),{onClick:this.$SignalsDSAPIIntegrationStatusCheckerContainer3},i._("Configurer"))):b("React").createElement(b("SUITooltip.react"),{position:b("PositionEnum").below,style:{position:"relative",bottom:"1px"},tooltip:p},b("React").createElement(b("FDSText.react"),{margin:"_3-9a",size:"body3"},b("React").createElement(b("FDSLink.react"),{showUnderline:"never"},i._("Configurer")))):null)};d.$SignalsDSAPIIntegrationStatusCheckerContainer5=function(){var a=this.props,c=a.businessID,d=a.className;a=a.style;var e=this.getStateEnforcing(),f=e.connected;e=e.isViewerBusinessAdmin;c=j.can_see_offline_access_token_flow&&c!=null;var g=b("React").createElement(b("FDSText.react"),{display:"inline"},b("React").createElement(b("FDSLink.react"),{href:l,target:"_blank",theme:b("SUIBusinessTheme")},i._("Documents de l\u2019API")));return b("React").createElement(b("FlexLayout.react"),{align:"center",className:d,style:a},b("React").createElement(b("Image.react"),{className:"_2pih",src:f?m:n}),b("React").createElement(b("SignalsHomeHelpLink.react"),{helpContent:"USE_OFFLINE_CONVERSION_API",ref:"link"},f?b("React").createElement(b("FDSText.react"),{color:"primary",palette:"light",size:"body3"},i._("Automated Uploads - ON")):b("React").createElement(b("FDSText.react"),{color:"placeholder",palette:"light",size:"body3"},i._("Automated Uploads - OFF"))),c?b("React").createElement(b("XUIContextualDialog.react"),{contextRef:this.$SignalsDSAPIIntegrationStatusCheckerContainer1,hoverContextRef:this.$SignalsDSAPIIntegrationStatusCheckerContainer1,position:"below",width:b("XUIContextualDialog.react").WIDTH.NORMAL},b("React").createElement(b("XUIContextualDialogTitle.react"),null,i._("Configurer des importations automatiques")),b("React").createElement(b("XUIContextualDialogBody.react"),null,b("React").createElement(b("FDSText.react"),{display:"block"},i._("Pour configurer une int\u00e9gration d\u2019API hors ligne, vous aurez besoin d\u2019un token d\u2019acc\u00e8s.")),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x"},i._("Une fois que vous poss\u00e9dez votre token d\u2019acc\u00e8s, suivez les {=apiDocumentLink} pour terminer la configuration de l\u2019int\u00e9gration.",[i._param("=apiDocumentLink",g)])),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x"},b("React").createElement(b("FDSLink.react"),{theme:b("SUIBusinessTheme"),onClick:this.$SignalsDSAPIIntegrationStatusCheckerContainer2},i._("En savoir plus"))),b("React").createElement(b("FDSButton.react"),{isDisabled:!e,label:"Setup Access Token",margin:"_3-8x",tooltip:e?null:o,tooltipPosition:b("PositionEnum").below,use:"primary",onClick:this.$SignalsDSAPIIntegrationStatusCheckerContainer3}))):null)};return c}(b("SignalsContainer.react"));e.exports=a}),null);
__d("SignalsHomeDSEventsInspectorNoticeContainer.react",["fbt","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","BrandsAppConfig","DateTime","FlexLayout.react","OfflineConversionOptimizationStatusEnum","React","SignalsContainer.react","SignalsDSOptimizationStatusesStore","SignalsDSStatusEnum","SignalsDSStatusUtils","SignalsHomeScreenColumn.react","SignalsHomeScreenRow.react","SignalsNewDSEventStatsStore","SignalsNewDSStore","Timezone","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsCCMigrationCategory").MigrationCategory,i=b("SignalsContainer.react").getValueSafe,j=b("SignalsDSStatusUtils").findBestOptimizationStatus,k=b("SignalsDSStatusUtils").getAutomaticUploadsSetupStatus,l=b("SignalsDSStatusUtils").getOptimizationStatus,m=1541577600,n=1541750400;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getStores=function(){return[b("SignalsDSOptimizationStatusesStore"),b("SignalsNewDSStore"),b("SignalsNewDSEventStatsStore")]};d.calculateState=function(a,c){__p&&__p();a=c.dataSetID;c=0;var d=null;if(b("BrandsAppConfig").businessCapabilities.can_use_store_sales_optimization){var e=i(b("SignalsDSOptimizationStatusesStore").get(a));d=b("nullthrows")(j(e)).status}e=i(b("SignalsNewDSStore").get(a));var f=e.last_upload_time,g=e.last_upload_app;e=e.last_upload_app_changed_time;var h=b("DateTime").localNow();e=new(b("DateTime"))(e,b("Timezone").UTC).startOfDay().addDays(1);if(b("BrandsAppConfig").businessCapabilities.can_use_offline_mdfu_v2&&g==="api"&&(e===0||h.isAfter(e.addDays(1)))){g=Math.max(e.addDays(1).getUnixTimestampSeconds(),h.startOfDay().subtractWeeks(2).getUnixTimestampSeconds());e=i(b("SignalsNewDSEventStatsStore").getVal(a,"upload_time",g));var k=e.data.filter(function(a){return a.count>0}).map(function(a){return a.time}).sort();c=k.size===0?0:k.map(function(a,b){return b===0?0:a-k.get(b-1)}).max()}h=f!=null&&f>m&&Date.now()/1e3<n;return{maxDifferenceInAutomatedUploadTimes:c,optimizationStatus:d,shouldShowMigrationNotice:h}};d.renderLoading=function(){return null};d.renderLoadedValue=function(){__p&&__p();var a=this.getStateEnforcing(),c=a.maxDifferenceInAutomatedUploadTimes,d=a.optimizationStatus;a=a.shouldShowMigrationNotice;var e=[];if(a){a=g._("Attribution will be paused from Nov 7th to Nov 8th for technical maintenance. You will still receive data, but it won't show in your account until maintenance is complete. No action is required.");e.push(b("React").createElement(b("SignalsHomeScreenRow.react"),{fullWidth:!0,key:"migration_notice_key"},b("React").createElement(b("SignalsHomeScreenColumn.react"),null,b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"migration_notice",textData:[{data:{text:a},type:"PARAGRAPH"}]},migrationCategory:h.ADS_NOTICE,suiNoticeProps:{messageBody:a,type:"information"}}))))}if(d===b("OfflineConversionOptimizationStatusEnum").ACTIVE){a=l(b("OfflineConversionOptimizationStatusEnum").ACTIVE);d=a.status;a=a.tooltip;e.push(this.$SignalsHomeDSEventsInspectorNoticeContainer1("the_notice_that_store_sales_optimization_is_complete",d,a))}if(c>0){d=k(c);a=d.status;c=d.tooltip;e.push(this.$SignalsHomeDSEventsInspectorNoticeContainer1("automated_uploads_"+a.toLowerCase()+"_notice",a,c))}e=e.filter(function(a){return a!==null});return e.length>0?b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"vertical",style:{width:"100%"}},e):null};d.$SignalsHomeDSEventsInspectorNoticeContainer1=function(a,c,d){__p&&__p();var e,f;switch(c){case b("SignalsDSStatusEnum").ACTIVE:e=b("AdsCCCategory").ACTIVE_FEEDBACK_SUCCESS_MESSAGE;f="success";break;case b("SignalsDSStatusEnum").WARNING:e=b("AdsCCCategory").WARNING;f="warning";break;case b("SignalsDSStatusEnum").ERROR:e=b("AdsCCCategory").ERROR;f="error";break;case b("SignalsDSStatusEnum").INACTIVE:default:return null}return b("React").createElement(b("SignalsHomeScreenRow.react"),{fullWidth:!0,key:a},b("React").createElement(b("SignalsHomeScreenColumn.react"),null,b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:e,messageID:a,textData:[{data:{text:d},type:"PARAGRAPH"}]},migrationCategory:h.ADS_NOTICE,suiNoticeProps:{messageBody:d,type:f}})))};return c}(b("SignalsContainer.react"));e.exports=a}),null);
__d("SignalsHomeDSEventsInspectorSetupAutomaticUploadsUpsellContainer.react",["cssVar","cx","fbt","FDSButton.react","FDSText.react","FlexLayout.react","FlexLayoutItem.react","React","RoundImage.react","SignalsDSMDFUSetupFlowDialogV1UIStateStore.react","SUICloseButton.react","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PureComponent;var j="/images/ads/growth/aymt/illustrations/tips.png";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isHidden:!1},d.$1=function(){var a=d.props,c=a.businessID;a=a.dataSetID;var e="v2";b("SignalsDSMDFUSetupFlowDialogV1UIStateStore.react").openAutomatedOfflineUploadsSetupFlowFromUpsell(c,a,e)},d.$2=function(){d.setState({isHidden:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.businessID,c=this.state.isHidden;return a!=null&&!c?b("React").createElement("div",{className:"_40c7",style:{backgroundColor:"#FFFFFF",borderColor:"#DADDE1",borderStyle:"solid",borderWidth:"1px",borderRadius:"4px 4px 4px 4px"}},b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"horizontal",justify:"all"},b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"horizontal",justify:"start"},b("React").createElement(b("FlexLayoutItem.react"),{grow:1,shrink:0},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"center"},b("React").createElement(b("RoundImage.react"),{behavior:"fit",height:48,src:j,width:48}))),b("React").createElement("div",{className:"_31wk"}),b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("FlexLayout.react"),{align:"start",direction:"vertical",justify:"start"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"header3",weight:"bold"},i._("Set Up Automatic Uploads")),b("React").createElement("div",{className:"_2pim"}),b("React").createElement(b("FDSText.react"),{color:"primary",size:"body2"},i._("Keep your offline data up-to-date without the hassle of manual uploads. This step-by-step guide gives you and your developer the tools to automate uploads and gain more insights into your advertising impact.")))))),b("React").createElement("div",{className:"_2pij"}),b("React").createElement(b("FlexLayoutItem.react"),{grow:1},b("React").createElement(b("FlexLayout.react"),{align:"center",direction:"vertical",justify:"center"},b("React").createElement(b("FDSButton.react"),{label:i._("Get Started"),margin:"_3-8x",use:"primary",width:150,onClick:this.$1}))),b("React").createElement("div",{className:"_2pij"}),b("React").createElement(b("FlexLayoutItem.react"),{align:"start",style:{position:"relative",bottom:"8px",left:"8px"}},b("React").createElement(b("SUICloseButton.react"),{size:"large",onClick:this.$2})))):null};return c}(a);e.exports=c}),null);
__d("SignalsHomeDSEventsInspectorUpsellContainer",["BrandsAppConfig","OfflineConversionUploadAutomationStatus","React","SignalsContainer.react","SignalsDSAutomaticUploadsSetupStatusStore","SignalsHomeDSEventsInspectorSetupAutomaticUploadsUpsellContainer.react","SignalsHomeScreenColumn.react","SignalsHomeScreenRow.react","SignalsHomeStateStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BrandsAppConfig").businessCapabilities,h=b("SignalsContainer.react").getValueSafe;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getStores=function(){return[b("SignalsDSAutomaticUploadsSetupStatusStore"),b("SignalsHomeStateStore")]};d.calculateState=function(a,c){a=c.businessID;c=c.dataSetID;c=h(b("SignalsDSAutomaticUploadsSetupStatusStore").get(c));var d=c.last_upload_app;c=c.upload_automation_status;var e=b("SignalsHomeStateStore").getState().isBusinessAdmin;a=this.$SignalsHomeDSEventsInspectorUpsellContainer1(a,e,d,c);return{upsell:a}};d.renderLoading=function(){return null};d.renderLoadedValue=function(){var a=this.props,c=a.businessID;a=a.dataSetID;var d=this.getStateEnforcing();d=d.upsell;switch(d){case"setup_automatic_uploads":return b("React").createElement(b("SignalsHomeScreenRow.react"),{fullWidth:!0},b("React").createElement(b("SignalsHomeScreenColumn.react"),null,b("React").createElement(b("SignalsHomeDSEventsInspectorSetupAutomaticUploadsUpsellContainer.react"),{businessID:c,dataSetID:a})))}return null};d.$SignalsHomeDSEventsInspectorUpsellContainer1=function(a,c,d,e){return g.can_see_offline_access_token_flow&&g.can_use_offline_mdfu_v2&&a!=null&&c&&d==="ui"&&e!==b("OfflineConversionUploadAutomationStatus").ACCESS_TOKEN_GENERATED?"setup_automatic_uploads":null};return c}(b("SignalsContainer.react"));e.exports=a}),null);
__d("SignalsHomeDSEventsTableUtils",["fbt","formatNumber","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("formatNumber").withThousandDelimiters;f=100;var j=50;function a(a){var b=[{id:"event",label:g._("Nom de l\u2019\u00e9v\u00e8nement"),nonOrderable:!1,tooltipMessage:g._("Le type d\u2019\u00e9v\u00e8nement hors ligne re\u00e7u, y compris les \u00e9v\u00e8nements standard ou personnalis\u00e9s import\u00e9s dans Facebook."),widthWeight:1},{id:"eventVolume",label:g._("\u00c9v\u00e8nements re\u00e7us"),tooltipMessage:g._("Le nombre total d\u2019\u00e9v\u00e8nements re\u00e7us par cet ensemble d\u2019\u00e9v\u00e8nements hors ligne."),nonOrderable:!1,widthWeight:1},{id:"value",label:g._("Valeur totale"),nonOrderable:!1,tooltipMessage:g._("La valeur totale de tous les \u00e9v\u00e8nements de cette p\u00e9riode."),widthWeight:1}];a&&(b=b.concat([{id:"matchRate",label:g._("Taux de correspondance"),nonOrderable:!1,tooltipMessage:g._("Le pourcentage approximatif d\u2019\u00e9v\u00e8nements correspondant \u00e0 des personnes sur Facebook."),widthWeight:1}]));return h(b)}function c(a,b){return a.filter(function(a){return(b==null||a.time>=b.start)&&(b==null||a.time<=b.end)}).groupBy(function(a){return a.event}).map(function(a,b){var c=0,d=0,e=0,f=0;a.forEach(function(a){c+=a.count,d+=a.usdAmount,a.matchRateApprox>-1&&(e+=a.count,f+=a.matchRateApprox/100*a.count)});return{event:b,eventVolume:c,matchRate:e>0?Math.round(f/e*100):-1,value:d}}).toList()}function d(a){return a.filter(function(a){return a.eventVolume!==0}).map(function(a){var b=a.matchRate<0?g._("Le taux de correspondance n\u2019est pas disponible quand le volume d\u2019\u00e9v\u00e8nements correspondants est inf\u00e9rieur \u00e0 un seuil minimum."):a.matchRate<j?g._("Vos enregistrements trouvent peu de correspondances parmi les personnes sur Facebook. Ces donn\u00e9es pr\u00e9sentent peut-\u00eatre des probl\u00e8mes qui emp\u00eachent une lecture correcte."):null;return{event:a.event,eventVolume:k(a.eventVolume),matchRate:m(a.matchRate,!0),value:l(a.value),warningMessage:b}})}function k(a,b){if(a<=0)return"-";else if(b==null||a>=b)return i(a,0);else{a=g._("Moins de {=minCount}",[g._param("=minCount",b)]);return a.toString()}}function l(a,b){if(a<=0)return"-";else if(b==null||a>=b)return"$"+i(a,2);else{a=g._("Moins de {=minValue} $",[g._param("=minValue",b)]);return a.toString()}}function m(a,b){b===void 0&&(b=!1);if(a<=0)return"-";else return(b?"~":"")+i(a,0)+"%"}e.exports={getEventsBreakDownDataFromEvents:c,getEventsTableColumns:a,getItemsFromEventBreakdownData:d,MIN_VOLUME:f}}),null);
__d("SignalsHomeDSEventsInspector.react",["ix","cx","fbt","AdsCCCategory","AdsCCMigrationCategory","AdsCCNotificationWrapper.react","FDSLink.react","FDSText.react","FlexLayout.react","Image.react","LocalDate","React","SignalsDSAPIIntegrationStatusCheckerContainer.react","SignalsDSEventsChart.react","SignalsDSKPIBlockContainer.react","SignalsDSLastUploadUtils","SignalsEventsTable.react","SignalsHomeContentPageHeader.react","SignalsHomeDSEventsInspectorNoticeContainer.react","SignalsHomeDSEventsInspectorUpsellContainer","SignalsHomeDSEventsTableUtils","SignalsHomeHelpContent","SignalsPerformanceUtils","SignalsTimelineUtils","SUITooltip.react","asset","immutable","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsCCMigrationCategory").MigrationCategory,k=b("SignalsHomeHelpContent").getHelpContentURL,l=b("immutable").List;a=b("React").PureComponent;var m=b("SignalsHomeDSEventsTableUtils").getEventsTableColumns,n=b("SignalsHomeDSEventsTableUtils").MIN_VOLUME,o=b("SignalsTimelineUtils").formatTimeRange,p=b("SignalsTimelineUtils").getLabels,q=b("SignalsTimelineUtils").hasMetricsAtTime,r=b("SignalsTimelineUtils").HOURLY_GRANULARITY,s=b("SignalsTimelineUtils").MATCH_RATE,t=b("SignalsTimelineUtils").MATCHED_APPROX,u=b("SignalsTimelineUtils").shouldRenderEventTimeNotice,v=b("SignalsTimelineUtils").shouldRenderUploadTimeNotice,w=b("SignalsTimelineUtils").TOTAL;c=b("SignalsPerformanceUtils").measureRenderTime;var x=b("SignalsDSLastUploadUtils").CALCULATING_DESCRIPTION,y=i._("L\u2019ensemble des indicateurs bas\u00e9s sur l\u2019heure d\u2019import ne sont pas disponibles avant le 26 mai 2017, car ces indicateurs ont \u00e9t\u00e9 cr\u00e9\u00e9s \u00e0 cette date. Vous pouvez toujours voir les indicateurs bas\u00e9s sur l\u2019heure de l\u2019\u00e9v\u00e8nement en choisissant Heure de l\u2019\u00e9v\u00e8nement."),z=i._("Les indicateurs \u00c9v\u00e8nements attribu\u00e9s et Valeur attribu\u00e9e ne sont pas disponibles lorsque vous consultez vos donn\u00e9es pour sur une heure d\u2019\u00e9v\u00e8nement ant\u00e9rieure au 22 mai 2017, car ces indicateurs ont \u00e9t\u00e9 cr\u00e9\u00e9s \u00e0 cette date."),A=i._("Les donn\u00e9es d\u2019\u00e9v\u00e8nement pour une plage de dates de plus de 30 jours s\u2019affiche en heure UTC. Pour voir ces donn\u00e9es dans votre fuseau horaire, r\u00e9duisez la plage de dates \u00e0 30 jours ou moins."),B=100;function C(a,c){__p&&__p();var d=[],e=a.size,f=function(f){__p&&__p();var g=f+r,h={},i=0,j=0;for(var k=f;k<Math.min(g,e);k++){var l=a.get(k),m=l.stats;m.entrySeq().forEach(function(a){var b=a[0];a=a[1];h[b]=(h[b]||0)+a});if(q(l.time,c)){l=b("nullthrows")(m.get(w));m=b("nullthrows")(m.get(s));m!==-1&&(i+=l,j+=m*l/B)}}if(i===0)h[t]=h[w]===0?0:null;else{m=j/i*h[w];h[t]=Math.min(Math.round(m/B)*B,h[w])}d.push(babelHelpers["extends"]({},a.get(f),{stats:b("immutable").Map(h)}))};for(var g=0;g<e;g+=r)f(g);return l(d)}function D(a,c){__p&&__p();var d=[],e=function(e){__p&&__p();var f={},g=a.get(e),h=g.stats;h.entrySeq().forEach(function(a){var b=a[0];a=a[1];f[b]=a});if(q(g.time,c)){g=b("nullthrows")(h.get(w));h=b("nullthrows")(h.get(s));if(h!==-1){h=h*g/B;f[t]=Math.min(Math.round(h/B)*B,g)}else f[t]=g===0?0:null}d.push(babelHelpers["extends"]({},a.get(e),{stats:b("immutable").Map(f)}))};for(var f=0;f<a.size;f++)e(f);return l(d)}d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.aggregationTime,d=a.businessID,e=a.config,f=a.dataSetID,h=a.dateRestraints,l=a.isCalculating,q=a.onOrder,r=a.onRefreshData,s=a.onToggleAggregationTime,t=a.onUpdateTimeRange,w=a.options,B=a.showMatchedMetrics,E=a.sortedItems,F=a.statMappings,G=a.timelineData,H=a.timeRange,I=a.timezoneID;a=a.useHourlyEvents;if(h==null||w==null||F==null||G==null||E==null)return null;var J=v(c,H)?y:u(c,H)?z:null,K=a?null:A;J=J==null?null:b("React").createElement("div",{className:"_3-95 _3-9c _3-92"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,messageID:"signals_home_ds_event_inspector_warning_message",textData:[{data:{text:J},type:"PARAGRAPH"}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{messageBody:J,type:"warning"}}));K=K==null?null:b("React").createElement("div",{className:"_3-95 _3-9c _3-92"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"signals_home_ds_event_hourly_metrics_info",textData:[{data:{text:K},type:"PARAGRAPH"}]},migrationCategory:j.ADS_NOTICE,suiNoticeProps:{messageBody:K,type:"information"}}));var L=b("LocalDate").fromInstant(H.start,I).toInstant(I),M=b("LocalDate").fromInstant(H.end,I).toInstant(I),N=H||b("SignalsTimelineUtils").getInitialTimeRangeFromTimeLineData(G)||{end:null,start:null},O=N.start,P=N.end;if(O==null||P==null)return null;N=G.filter(function(a){return a.time>=O&&a.time<P});G=a?C(N,c):D(N,c);N=["top","row"];var Q=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SignalsHomeDSEventsInspectorNoticeContainer.react"),{dataSetID:f}),b("React").createElement(b("SignalsHomeDSEventsInspectorUpsellContainer"),{businessID:d,dataSetID:f}));return b("React").createElement("div",{"data-testid":"SIGNALS_HOME_OFFLINE_EVENTS_INSPECTOR"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",{style:{width:724}},b("React").createElement(b("SignalsHomeContentPageHeader.react"),{description:i._("Comprenez quels \u00e9v\u00e8nements hors ligne qui se sont produits, tels que les achats dans votre magasin de retail ou les commandes pass\u00e9es par t\u00e9l\u00e9phone, sont attribuables \u00e0 vos publicit\u00e9s Facebook. {=Learn More}",[i._param("=Learn More",b("React").createElement(b("FDSLink.react"),{href:k("OFFLINE_CONVERSION"),target:"_blank"},i._("En savoir plus")))]),title:i._("Vue d\u2019ensemble")})),b("React").createElement(b("SignalsDSAPIIntegrationStatusCheckerContainer.react"),{businessID:d,dataSetID:f})),b("React").createElement(b("React").Fragment,null,Q,b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("SignalsDSKPIBlockContainer.react"),{dataSetID:f,isEmbedded:!0}))),b("React").createElement("div",null,J,K,b("React").createElement(b("SignalsDSEventsChart.react"),{aggregationHours:void 0,aggregationTime:c,dateRestraints:h,isAggregated:!1,isCalculating:l,labels:p(),noTimeOnHoverCard:!a,options:w,renderAsArea:!0,statMappings:F,timeRange:H,timelineData:G,timezoneID:I,onRefreshData:r,onToggleAggregationTime:s,onUpdateTimeRange:t})),b("React").createElement("div",{className:"_7fg8"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold"},i._("\u00c9v\u00e8nements pour la p\u00e9riode {formatTimeRange}",[i._param("formatTimeRange",o(L,M-1,I))])),l?b("React").createElement(b("SUITooltip.react"),{alignment:"center",position:"above",tooltip:x},b("React").createElement(b("Image.react"),{src:g("491991"),style:{marginLeft:12,marginRight:4}})):null),b("React").createElement(b("SignalsEventsTable.react"),{borders:N,className:(l?"_4ih5":"")+" _7bjh",columns:m(B),config:e,items:E,minVolume:n,onOrder:q}))};return c}(a);e.exports=c(d,"SignalsHomeDSEventsInspector")}),null);
__d("SignalsHomeDSUploadNUXContainer.react",["BrandsAppConfig","React","SignalsContainer.react","SignalsDataSourcesEnum","SignalsDSActions","SignalsDSAdAccountIDListStore","SignalsDSUIUtils","SignalsDSUploadNUX.react","SignalsHomeDSSetupSelectors","SignalsHomeStateStore","SignalsNewDSStore","SignalsPerformanceUtils","SignalsQEStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BrandsAppConfig").businessCapabilities,h=b("SignalsDSUIUtils").getURIToBMSettings,i=b("SignalsContainer.react").getValueSafe,j=b("SignalsHomeDSSetupSelectors").popTOSDialogOrStartSetupOrUploadFlowFnSelector;a=b("SignalsPerformanceUtils").measureLoadTimeForSignalsContainer;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$SignalsHomeDSUploadNUXContainer1=function(){var a=d.getStateEnforcing(),c=a.dataSetID;a=a.dataSetTitle;c!=null&&c!==""&&a!=null&&a!==""&&b("SignalsDSActions").handleCustomConversionCreateDialogOpen({id:c,name:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getStores=function(){return[b("SignalsQEStore"),b("SignalsDSAdAccountIDListStore"),b("SignalsHomeStateStore"),b("SignalsNewDSStore"),b("SignalsQEStore")].concat(j.getStores())};d.calculateState=function(){__p&&__p();var a=b("SignalsHomeStateStore").getState(),c=a.isBusinessAdmin,d=a.businessID,e=a.dataSetID;a=a.dataSourcesUserPermissions;if(d==null||e==null)return{businessID:d,canAssign:!1,canCreateCustomConversion:!1,canUpload:!1,dataSetID:e,dataSetIsNotAssigned:!1,onUpload:function(){}};var f=i(b("SignalsNewDSStore").get(e)),k=f.is_restricted_use,l=f.name;f=f.permissions;k=!k&&g.can_see_offline_custom_conversion;var m=i(b("SignalsDSAdAccountIDListStore").getVal(e,d));m=m.isEmpty();c=c?h(d,e):null;a=a.get(b("SignalsDataSourcesEnum").DATA_SET);a=a.canAssignToAddAccounts;return{businessID:d,canAssign:a===!0,canCreateCustomConversion:k,canUpload:f.can_upload,dataSetID:e,dataSetIsNotAssigned:m,dataSetTitle:l,onUpload:j(),uriToBMSettings:c}};d.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.dataSetID,d=function(){return a.onUpload(c)};return a.dataSetID!=null&&a.dataSetID!==""?b("React").createElement(b("SignalsDSUploadNUX.react"),babelHelpers["extends"]({},a,{"data-testid":"SIGNALS_HOME_OFFLINE_UPLOAD_NUX",onCreateCustomConversionClick:this.$SignalsHomeDSUploadNUXContainer1,onUploadClick:d})):null};return c}(b("SignalsContainer.react"));e.exports=a(c,"SignalsHomeDSUploadNUXContainer")}),null);
__d("SignalsSUITableUtils",["SUITableTypesDEPRECATED"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SUITableTypesDEPRECATED").ORDER_DIRECTION;function a(a,b,c){var d=a;b!=null&&(d=a.sort(function(a,d){a=a&&a[b];d=d&&d[b];a=h(a,d);c===g.DESCENDING&&(a*=-1);return a}));return d}function h(a,b){__p&&__p();if(j(a)&&j(b))return Number(a)-Number(b);else if(i(a)&&i(b)||k(a)&&k(b)){a=a.toString();b=b.toString();if(a>b)return 1;else if(a<b)return-1}return 0}function i(a){return Object.hasOwnProperty.call(a,"$FbtResultBase_contents")}function j(a){return typeof a==="number"}function k(a){return typeof a==="string"}e.exports={sortByKeyAndDirection:a}}),null);
__d("SignalsHomeDSEventsInspectorContainer.react",["cx","fbt","AdsPixelURLUtil","DateTime","LoadObject","LocalDate","React","SignalsContainer.react","SignalsDSCatalogAssociationOpenDialogAction","SignalsDSEventHourlyStatsStore","SignalsDSEventStatsObject","SignalsDSInspectorTimeConstants","SignalsDSRefreshStoreDataAction","SignalsDSUpdateTimeRangeDataAction","SignalsDSUploadLatencyNUX.react","SignalsHomeDSEventsInspector.react","SignalsHomeDSEventsTableUtils","SignalsHomeDSEventsUIStateStore","SignalsHomeDSLatestUploadStore","SignalsHomeDSUploadNUXContainer.react","SignalsHomeStateStore","SignalsLoadingSpinner.react","SignalsNewDSEventStatsStore","SignalsNewDSStore","SignalsPerformanceUtils","SignalsSUITableConfig","SignalsSUITableUtils","SignalsTimelineUtils","SUINotice.react","killswitch","signalsNow"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SignalsDSInspectorTimeConstants").LOCAL_START_TIME,j=b("SignalsHomeDSEventsTableUtils").getEventsBreakDownDataFromEvents,k=b("SignalsHomeDSEventsTableUtils").getItemsFromEventBreakdownData,l=b("SignalsSUITableUtils").sortByKeyAndDirection,m=b("SignalsTimelineUtils").getStatMappings,n=b("SignalsTimelineUtils").getTimelineDataFromEvents,o=b("SignalsContainer.react").getValueSafe;a=b("SignalsPerformanceUtils").measureLoadTimeForSignalsContainer;var p=h._("Impossible d\u2019obtenir les \u00e9v\u00e8nements.");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$SignalsHomeDSEventsInspectorContainer2=function(){var a=d.getStateEnforcing();a=a.dataSetID;b("SignalsDSRefreshStoreDataAction").dispatch({dataSetID:a},{line:"282",module:"SignalsHomeDSEventsInspectorContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getStores=function(){return[b("SignalsDSEventHourlyStatsStore"),b("SignalsHomeDSEventsUIStateStore"),b("SignalsHomeDSLatestUploadStore"),b("SignalsHomeStateStore"),b("SignalsNewDSEventStatsStore"),b("SignalsNewDSStore")]};d.calculateState=function(){__p&&__p();var a=b("SignalsHomeStateStore").getState(),c=a.businessID,d=a.dataSetID;a=a.isBusinessAdmin;var e=b("SignalsHomeDSEventsUIStateStore").getState(),f=e.aggregationTime,g=e.config,h=e.timeRange,j=e.initialTimeRangePreset;e=e.showCatalogAssociationDialog;if(d==null)throw b("LoadObject").withError(new Error("Data Set ID is required"));var k=o(b("SignalsNewDSEventStatsStore").getVal(d,f));k=k.data;var l=o(b("SignalsDSEventHourlyStatsStore").getVal(d,f)),m=o(b("SignalsNewDSStore").get(d)),n=o(b("SignalsHomeDSLatestUploadStore").get(d)),p=!b("killswitch")("ADS_SIGNALS_OFFLINE_DISABLE_MATCH_STATS"),q=h.start>=i,r=q?b("signalsNow").LOCAL_TIMEZONE_ID:b("signalsNow").UTC;k=k==null?null:k.map(function(a){return b("SignalsDSEventStatsObject").fromJS(a)});l=l==null?null:l.map(function(a){return b("SignalsDSEventStatsObject").fromJS(a)});c!=null&&d!=null&&e===!0&&b("SignalsDSCatalogAssociationOpenDialogAction").dispatch({businessID:c,dataSetID:d,isBusinessAdmin:a},{line:"149",module:"SignalsHomeDSEventsInspectorContainer.react.js"});e={aggregationTime:f,businessID:c,config:g,dataSetID:d,dateRestraints:null,hasUpload:m.num_uploads>0,initialTimeRangePreset:j,latestUpload:n,options:null,showMatchedMetrics:p,sortedItems:null,statMappings:null,timeRange:h,timelineData:null,timezoneID:r,useHourlyEvents:q,validEntries:m.valid_entries};return k==null||l==null?e:this.$SignalsHomeDSEventsInspectorContainer1(e,k,l)};d.$SignalsHomeDSEventsInspectorContainer1=function(a,c,d){__p&&__p();var e=a.config,f=a.aggregationTime,g=a.timezoneID,h=a.timeRange,i=a.useHourlyEvents,o=n(c,f),p=n(d,f,!0,g);f=[function(a){a=a.toInstant(g);var c=new(b("DateTime"))(o.first().time,b("signalsNow").PST8PDT);c=b("LocalDate").fromDateTime(c).toInstant(g);var d=new(b("DateTime"))(p.last().time,b("signalsNow").PST8PDT);d=b("LocalDate").fromDateTime(d).toInstant(g);return a>=c&&a<=d}];var q=b("SignalsTimelineUtils").getOptionsForDSDatePicker(o,p,g);d=i?d:c;c=i?p:o;i=m(c,!1,!1);d=j(d,h);e=e!=null?l(d,e.orderByColumnID,e.orderDirection):d;d=k(e);return babelHelpers["extends"]({},a,{dateRestraints:f,options:q,sortedItems:d,statMappings:i,timeRange:h,timelineData:c,timezoneID:g})};d.componentDidUpdate=function(){var a=this.state.stateLoadObject;if(a.isLoading()||!a.hasValue())return;a=this.getStateEnforcing();a=a.initialTimeRangePreset;a!=null&&b("SignalsDSUpdateTimeRangeDataAction").dispatch({timeRangePreset:a},{line:"274",module:"SignalsHomeDSEventsInspectorContainer.react.js"})};d.$SignalsHomeDSEventsInspectorContainer3=function(a){b("SignalsHomeDSEventsUIStateStore").updateStateLater({aggregationTime:a}),b("AdsPixelURLUtil").updateUrlParams("dataset_event_aggregation_type",a)};d.$SignalsHomeDSEventsInspectorContainer4=function(a,c){b("SignalsHomeDSEventsUIStateStore").updateStateLater({config:new(b("SignalsSUITableConfig"))({orderByColumnID:a,orderDirection:c})})};d.$SignalsHomeDSEventsInspectorContainer5=function(a,c,d){c={end:c,start:a};b("SignalsHomeDSEventsUIStateStore").updateStateLater({timeRange:c});b("AdsPixelURLUtil").updateUrlDateRange(c,{dateRangeParam:"dataset_event_date_range",endTimeParam:"dataset_event_end_time",startTimeParam:"dataset_event_start_time"},d)};d.renderError=function(){return b("React").createElement("div",{className:"_29mf"},b("React").createElement(b("SUINotice.react"),{type:"error"},p))};d.renderLoading=function(){return b("React").createElement(b("SignalsLoadingSpinner.react"),{height:100})};d.renderLoadedValue=function(){var a=this.getStateEnforcing(),c=a.aggregationTime,d=a.businessID,e=a.config,f=a.dataSetID,g=a.dateRestraints,h=a.hasUpload,i=a.latestUpload,j=a.showMatchedMetrics,k=a.timeRange,l=a.validEntries,m=a.options,n=a.sortedItems,o=a.statMappings,p=a.timelineData,q=a.timezoneID;a=a.useHourlyEvents;if(!h)return b("React").createElement(b("SignalsHomeDSUploadNUXContainer.react"),null);else if(i!=null&&i.isCalculating&&l===0)return b("React").createElement(b("SignalsDSUploadLatencyNUX.react"),null);return b("React").createElement(b("SignalsHomeDSEventsInspector.react"),{aggregationTime:c,businessID:d,config:e,dataSetID:f,dateRestraints:g,isCalculating:i!=null&&i.isCalculating,options:m,showMatchedMetrics:j,sortedItems:n,statMappings:o,timeRange:k,timelineData:p,timezoneID:q,useHourlyEvents:a,onOrder:this.$SignalsHomeDSEventsInspectorContainer4,onRefreshData:this.$SignalsHomeDSEventsInspectorContainer2,onToggleAggregationTime:this.$SignalsHomeDSEventsInspectorContainer3,onUpdateTimeRange:this.$SignalsHomeDSEventsInspectorContainer5})};return c}(b("SignalsContainer.react"));e.exports=a(c,"SignalsHomeDSEventsInspectorContainer")}),null);