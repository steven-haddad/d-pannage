if (self.CavalryLogger) { CavalryLogger.start_js(["5nCxl"]); }

__d("AdsAdgroupSetCollectionCoverMediaDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentSetCollectionCoverMediaReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"ADGROUP.SET_COLLECTION_COVER_MEDIA");e.exports=a}),null);
__d("AdsCFSetCollectionCoverMediaDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsCFAdgroupSetCollectionCoverMediaReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"ADS_CF.SET_COLLECTION_COVER_MEDIA");e.exports=a}),null);
__d("AdsExistingPostOpenCTADialogDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"OPEN_EXISTING_POST_CTA_DIALOG");e.exports=a}),null);
__d("AdsExistingPostSetCTADataReducerPlugin",["PostCTAState"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return c.pagePostIDs.reduce(function(a,d){return a.update(d,function(a){a===void 0&&(a=new(b("PostCTAState"))());return a.set("fieldCTA",c.cta)})},a)}};e.exports=a}),null);
__d("AdsExistingPostSetCTADataAction",["Laminar","AdsExistingPostSetCTADataReducerPlugin","AdsExistingPostCTAProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsExistingPostSetCTADataReducerPlugin"),b("AdsExistingPostCTAProvider"),{})]},function(){return[]},"SET_CTA_TYPE");e.exports=a}),null);
__d("AdsExistingPostSetCTALinkDataReducerPlugin",["PostCTAState"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return c.pagePostIDs.reduce(function(a,d){return a.update(d,function(a){a===void 0&&(a=new(b("PostCTAState"))());return a.set("fieldLink",c.link)})},a)}};e.exports=a}),null);
__d("AdsExistingPostSetCTALinkDataAction",["Laminar","AdsExistingPostSetCTALinkDataReducerPlugin","AdsExistingPostCTAProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsExistingPostSetCTALinkDataReducerPlugin"),b("AdsExistingPostCTAProvider"),{})]},function(){return[]},"SET_CTA_LINK");e.exports=a}),null);
__d("AdsMessengerExperienceEditingDialogOpenAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_MESSENGER_EXPERIENCE_EDITING_DIALOG_OPEN");e.exports=a}),null);
__d("XMessengerAdsIsPostMessagingRelatedController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/is_post_messaging_related/",{post_id:{type:"FBID"},page_id:{type:"FBID"}})}),null);
__d("AdsMessengerIsPostMessagingRelatedDataManager",["Promise","AsyncRequest","XMessengerAdsIsPostMessagingRelatedController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.getMessageIntent=function(a,c){var d=b("XMessengerAdsIsPostMessagingRelatedController").getURIBuilder().setFBID("post_id",a).setFBID("page_id",c).getURI();return new(b("Promise"))(function(a,c){new(b("AsyncRequest"))().setURI(d).setHandler(function(b){b=b.payload;b.error?c(new Error(b.error)):a(b)}).setErrorHandler(function(a){c(a)}).send()})};return a}();e.exports=new a()}),null);
__d("AdsMessengerIsPostMessagingRelatedDataProviderPlugin",["AdsMessengerIsPostMessagingRelatedDataManager","AdsPagePostUtils","LoadObject","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){a(function(a){return a.set(c.pagePostID,b("LoadObject").withValue(c.isMessagingRelated))})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){var d=new Map();c.forEach(function(a){return d.set(a,b("AdsMessengerIsPostMessagingRelatedDataManager").getMessageIntent(b("AdsPagePostUtils").getPostIdFromPagePostId_BROKEN(a),b("AdsPagePostUtils").getPageIdFromPagePostId_BROKEN(a)))});b("promiseDone")(b("promiseLoadObjects")(d),function(b){b.forEach(function(b,c){b.hasValue()&&g(a,{pagePostID:c,isMessagingRelated:b.getValueEnforcing()})})})})}};e.exports=a}),null);
__d("AdsMessengerIsPostMessagingRelatedDataProvider",["Laminar","AdsMessengerIsPostMessagingRelatedDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerIsPostMessagingRelatedDataProviderPlugin"),"AdsMessengerIsPostMessagingRelatedDataProviderPlugin")}),null);
__d("AdsUEditorAdgroupSetImageCropsDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsSetImageCropsDataReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsUEditorAdgroupSetImageCropsReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"ADS_ADGROUP_EDITOR_SET_IMAGE_CROPS");e.exports=a}),null);
__d("AdsUEditorCollectionCoverMediaChangeIndexAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"COLLETION.COVER_MEDIA_CHANGE_INDEX");e.exports=a}),null);
__d("AdsPPEMessagesUpsellNux.react",["cx","fbt","AdsCCCategory","AdsIntelligentComponentsMessageGroupEnum","AdsIntelligentInlineNux.react","FDSButton.react","React","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Recevoir plus de messages et de commentaires"),j=h._("Passer \u00e0 l\u2019objectif de messages pour recevoir plus de commentaires et de messages sur votre pub."),k=h._("Passer \u00e0 l\u2019objectif de messages"),l=h._("Qu\u2019est-ce qui changerait\u00a0?"),m="ctm_ads_ppe_messages_existing_post";function n(){var a=[h._("Objectif de l\u2019interaction avec la publication aux messages"),h._("Optimisation de la diffusion des publicit\u00e9s de l\u2019interaction avec la publication aux r\u00e9ponses"),h._("Un bouton call-to-action \u00ab\u00a0Envoyer un message\u00a0\u00bb serait ajout\u00e9 \u00e0 votre publication"),h._("Le placement TV connect\u00e9e ne serait pas disponible")];a=a.map(function(a,c){return b("React").createElement("li",{key:c},a)});return b("React").createElement("div",{className:"_754k"},b("React").createElement("ul",{className:"_754l _754m"},a))}function o(a){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Fermer"),onClick:a.onHide})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Qu\u2019est-ce qui changerait\u00a0?")}),isShown:a.isDialogShown,theme:b("SUIBusinessTheme"),titleID:"ppe-messages-upsell",width:600,onHide:a.onHide},b("React").createElement("div",{className:"_2pia"},b("React").createElement(n,null)))}function p(a){return b("React").createElement(b("AdsIntelligentInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").RECOMMENDATION_PERSONALIZED,ctaData:[{type:"BUTTON_GROUP",data:{buttonsData:[{text:k,onCallToAction:a.onClick}]}},{type:"LINK",data:{text:l,onCallToAction:a.showDialog}}],header:i,textData:[{type:"PARAGRAPH",data:{text:j}}]},messageGroup:b("AdsIntelligentComponentsMessageGroupEnum").CREATION_AND_EDITING_L1,messageID:m})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={dialogShown:!1},c.$1=function(){c.setState({dialogShown:!1})},c.$2=function(){c.setState({dialogShown:!0})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_3-97"},b("React").createElement(o,{isDialogShown:this.state.dialogShown,onHide:this.$1}),b("React").createElement(p,{showDialog:this.$2,onClick:this.props.onClick}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationListItem.react",["cx","fbt","AdsBulkValueUtils","AdsInterfacesLogger","AdsMessengerContentEditorTabs","AdsMessengerExperienceEditingDialogOpenAction","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","BootloadedComponent.react","FDSSpinner.react","JSResource","LinkPostDestination","MessengerContentEditorSurface","React","SUIBusinessTheme","SUIButton.react","SUIRadioList.react","XUIError.react","adsMessengerDataModelSetLandingScreenType"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SUIRadioList.react").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this)||this;c.$6=function(a){c.props.onJSONChange(a),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_EDIT_PAGE_WELCOME_MESSAGE})};c.$8=function(a){if(a===c.props.landingScreenType)return;var d=c.$5();d instanceof Array&&(d=b("AdsMessengerUtils").getVisualEditorDefaultJSON(!0,c.props.pageID,b("MessengerContentEditorSurface").VISUAL_EDITOR,c.props.defaultFormatType));c.props.onJSONChange(b("adsMessengerDataModelSetLandingScreenType")(d,a))};c.$4=function(){c.props.onSelectionChange(b("LinkPostDestination").MESSENGER),c.setState({attemptOpenDialog:!0}),b("AdsBulkValueUtils").getUniformValue_DEPRECATED(c.props.destinationValue)===b("LinkPostDestination").MESSENGER&&c.$1(),b("AdsMessengerExperienceEditingDialogOpenAction").dispatch({tabValue:b("AdsMessengerContentEditorTabs").VISUAL},{line:"304",module:"MessengerDestinationListItem.react.js"})};c.$7=function(a){a||c.setState({showDialog:!1,attemptOpenDialog:!1})};c.state={showDialog:!1,attemptOpenDialog:!1,error:null,showNux:!0};return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){this.state.attemptOpenDialog&&b("AdsBulkValueUtils").getUniformValue_DEPRECATED(a.destinationValue)===b("LinkPostDestination").MESSENGER&&this.$1(),a.errorSpec?this.setState({error:a.errorSpec.payload}):this.setState({error:null})};d.render=function(){var a=h._("Composez les premiers messages que les personnes verront dans Messenger apr\u00e8s avoir cliqu\u00e9 sur votre pub.");return this.props.isGetStartedEnabled?this.$2():b("React").createElement("div",null,b("React").createElement("div",{className:"_4jzi"},a),this.$3())};d.$3=function(){var a=h._("Modifier la configuration Messenger"),c=b("AdsMessengerUtils").getModalVisualEditorNotice(this.props.pageID,this.props.message);a=b("React").createElement("div",{className:"_4u2o"},b("React").createElement(b("XUIError.react"),{xuiError:this.state.error},b("React").createElement("div",null,b("React").createElement(b("SUIButton.react"),{id:"set_message_button",label:a,theme:b("SUIBusinessTheme"),onClick:this.$4}))));var d=this.$5();return b("React").createElement("div",null,b("React").createElement("div",{className:"_3-95 _3-8w"},c),a,b("React").createElement(b("BootloadedComponent.react"),{accountID:this.props.accountID,bootloadLoader:b("JSResource")("MessengerDestinationJSONEditingDialog.react").__setRef("MessengerDestinationListItem.react"),bootloadPlaceholder:b("React").createElement(b("FDSSpinner.react"),null),defaultFormatType:this.props.defaultFormatType,errorSpec:this.props.errorSpec,isMessengerVisualEditorV2Enabled:this.props.isMessengerVisualEditorV2Enabled,isMessengerVisualEditorVideoEnabled:this.props.isMessengerVisualEditorVideoEnabled,isNewContent:this.props.isNewContent,isSendEnabled:!0,pageID:this.props.pageID,shown:this.state.showDialog,value:d,onJSONChange:this.$6,onJSONSend:this.props.onJSONSend,onToggle:this.$7}))};d.$2=function(){var a=b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE;a=b("React").createElement(i,{key:a,theme:b("SUIBusinessTheme"),value:a},b("React").createElement("div",{className:"_3-95 _3-8w"},b("AdsMessengerUtils").getLandingScreenLabel(a)),this.props.landingScreenType===b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE?this.$3():null);var c=b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED;c=b("React").createElement(i,{key:c,theme:b("SUIBusinessTheme"),value:c},b("React").createElement("div",{className:"_3-94 _3-8w"},b("AdsMessengerUtils").getLandingScreenLabel(c)),this.props.landingScreenType===b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED?b("AdsMessengerUtils").getGetStartedNotice():null);a=[a,c];return this.props.isGetStartedEnabled?b("React").createElement("div",null,b("React").createElement(b("SUIRadioList.react"),{theme:b("SUIBusinessTheme"),value:this.props.landingScreenType,onChange:this.$8},a)):b("React").createElement("div",null)};d.$5=function(){var a=this.props.message;if(!a)a=b("AdsMessengerUtils").getVisualEditorDefaultJSON(!0,this.props.pageID,b("MessengerContentEditorSurface").VISUAL_EDITOR,this.props.defaultFormatType);else try{a=JSON.parse(a)}catch(c){a=b("AdsMessengerUtils").getVisualEditorDefaultJSON(!0,this.props.pageID,b("MessengerContentEditorSurface").VISUAL_EDITOR,this.props.defaultFormatType)}return a};d.$1=function(){this.setState({showDialog:!0,attemptOpenDialog:!1})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsCanvasCollectionsCoverMediaStore",["AdsCanvasCollectionsCoverMediaLoadedDataActionFlux","AdsCanvasCollectionsCoverMediaLoadFailDataActionFlux","AdsCanvasCollectionsDataDispatcher","AdsDataAtom","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","FluxLoadObjectStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),b("AdsCanvasCollectionsCoverMediaLoadFailDataActionFlux").actionType,b("AdsCanvasCollectionsCoverMediaLoadedDataActionFlux").actionType,b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsCanvasCollectionsCoverMediaLoadedDataActionFlux").actionType:return this.__handleOne(a,c.canvasID,c.coverMedia);case b("AdsCanvasCollectionsCoverMediaLoadFailDataActionFlux").actionType:return this.__handleOne(a,c.canvasID,c.error);case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:return this.__setEmpty(a,[c.canvasID]);default:return a}};d.__load=function(a){b("AdsCanvasCollectionsDataDispatcher").getCanvasCollectionsHeroMedia(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsUEditorAdgroupCanvasCollectionCoverMediaSelector",["invariant","AdImageSpecs","AdImageSpecsUtilsV2","AdsAccountUtils","AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedFieldUtils","AdsBulkValueUtils","AdsCanvasAdUtils","AdsCanvasCollectionsCoverMediaStore","AdsCanvasCollectionsUIStore","AdsCollectionsAdUtils","AdsImageIDUtils","AdsImageInfoStore","AdsImageLegacy","AdsLoadState_LEGACY","AdsPlacementAPISpecReaderUtils","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","AdsVideoStore","adsCreateSelector","adsCreateStoreThunkSelector","adsGetCreativeTypeByCreativeFields","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAllowFlexibleImageHeightForFBFeedSelector","firstx","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(function(a,c){return b("AdsCanvasAdUtils").getCanvasID(b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsUnifiedCreativeAPIFields").linkURL.getValue(a,c),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL))});c=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").videoID),b("AdsVideoStore").getSelector],function(a,c){a=b("AdsBulkValueUtils").getUniformValue(a,null);return a?c(a):null},{name:e.id+".videoSelector"});d=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash),b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageURL)],function(a,c,d){return b("AdsImageIDUtils").getImageID({accountID:a.account_id,hash:b("AdsBulkValueUtils").getUniformValue(c,null),url:b("AdsBulkValueUtils").getUniformValue(d,null)})},{name:e.id+".imageIDSelector"});f=b("adsCreateSelector")([d,b("adsCreateStoreThunkSelector")(b("AdsImageInfoStore"),b("AdsImageInfoStore").getFullSize.bind(b("AdsImageInfoStore")))],function(a,b){return a&&b(a).getValue()},{name:e.id+".simpleImageSelector"});d=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("adsUEditorAccountSelector"),b("adsUEditorAllowFlexibleImageHeightForFBFeedSelector")],function(a,c,d){c=b("AdsAccountUtils").hasCapability(c,"ADS_SINGLE_IMAGE_FLEXIBLE_HEIGHT_FOR_FB_FEED");if(!c)return[b("AdImageSpecs").PAGE_POST_MOBILE_FEED];c=b("firstx")(a);a=c.campaign;c=c.adgroup;c=b("adsGetCreativeTypeByCreativeFields")((c=c.creative)==null?void 0:c.object_type);a=b("AdsCollectionsAdUtils").filterUnsupportedPlacementForPlacementSpec(b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a));return b("AdImageSpecsUtilsV2").getCropImageSpecsForAdTypeV2(c,[a],d)},{name:e.id+".imageSpecsSelector"});a=b("adsCreateSelector")([a,b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageCrops),b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash),f,d,c,b("adsCreateStoreThunkSelector")(b("AdsCanvasCollectionsCoverMediaStore"),function(a){return b("AdsCanvasCollectionsCoverMediaStore").get(a)}),b("adsCreateStoreThunkSelector")(b("AdsVideoStore"),function(a){return b("AdsVideoStore").get(a)}),b("AdsCanvasCollectionsUIStore").getSelectedCanvasIndex],function(a,c,d,e,f,h,i,j,k){__p&&__p();a=b("AdsBulkValueUtils").getUniformValue(a,null);c=b("AdsBulkValueUtils").getUniformValue(c,null);var l=b("AdsBulkValueUtils").getUniformValue(d,null),m=c instanceof b("immutable").Map?c.toJS():c;d=!0;c=null;var n=null,o=null,p=null,q=!1,r=!0;if(a!=null&&a!==""){i=i(a);q=i.hasError();var s=i.hasValue();d=q||s;if(s){s=i.getValueEnforcing();r=!!s&&s.count()>0;if(r){s||g(0,1715);c=s.get(k);if(s.get(k).type==="video"){i=s.map(function(a){a.type==="video"||g(0,1716);return a.id});p=i.map(j);o=p.get(k);p.some(function(a){return a.loadState===b("AdsLoadState_LEGACY").LOADING})&&(d=!1)}else n=s.map(function(a){a.type==="image"||g(0,1717);return new(b("AdsImageLegacy"))({crops:m,hash:l,height:a.height,url:a.source,width:a.width})})}}}i=e?new(b("AdsImageLegacy"))({hash:l,url:e.url,crops:m}):null;return{canvasID:a,coverImages:n,coverMedia:c,coverVideo:o,coverVideos:p,hasLoadErrors:q,image:i,imageSpecs:f,isCanvasCollectionsCoverEligible:r,isReady:d,selectedIndex:k,video:h}},{name:e.id});e.exports=a}),null);
__d("AdsUEditorAdgroupCollectionCoverMediaFieldContainer.react",["cx","fbt","AdsAccountStore","AdsAdgroupSetCollectionCoverMediaDataAction","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsArrowedCarouselEnhanced.react","AdsBulkValueUtils","AdsCanvasCollectionsConstants","AdsCCCategory","AdsCFImageCropsChangeDataAction","AdsCFImagePanelItemContainer.react","AdsCFSetCollectionCoverMediaDataAction","AdsFluxContainer","AdsImageCollection","AdsImageLegacy","AdsImagePanelSizes","AdsInfoTable.react","AdsInfoTableRow.react","AdsLoadState_LEGACY","AdsSelectorUtils","AdsSplitTestVariable","AdsStaticInlineNux.react","AdsUEditorAdgroupSetImageCropsDataAction","AdsUEditorCampaignGroupBulkSelectors","AdsUEditorCollectionCoverMediaChangeIndexAction","AdsUEditorContextType","AdsUEditorHostIDs","AdsVideoPlayer.react","BackgroundImage.react","FDSSimplePopover.react","FDSSpinner.react","LoadObject","React","VideoThumbnailSource","adsCanvasHasTemplateVideoElementSelector","adsUEditorAdgroupCanvasCollectionCoverMediaSelector","adsUEditorAdgroupCanvasCollectionsFieldSelector","adsUEditorAdgroupInlineCanvasCreationEnabledSelector","adsUEditorAllowFlexibleImageHeightForFBFeedSelector","areEqual"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsCanvasCollectionsConstants").COVER_VIDEO_LENGTH,j=b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),k=b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").SPLIT_TEST_CONFIG.TEST_VARIABLE);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$6=function(a,c){if(d.context.adgroupEditorContext.hostID===b("AdsUEditorHostIDs").CREATION){var e=d.state.imageSpecs.map(function(a){return a.placement});b("AdsCFImageCropsChangeDataAction").dispatch({data:{crops:c,image:a,objective:d.state.objective,placements:e},ids:d.state.adgroupIDs},{line:"549",module:"AdsUEditorAdgroupCollectionCoverMediaFieldContainer.react.js"})}else b("AdsUEditorAdgroupSetImageCropsDataAction").dispatch({hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.state.adgroupIDs,platform:null,imageCrops:c},{line:"559",module:"AdsUEditorAdgroupCollectionCoverMediaFieldContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return[].concat(b("AdsSelectorUtils").getStores([b("adsCanvasHasTemplateVideoElementSelector"),b("adsUEditorAdgroupCanvasCollectionCoverMediaSelector"),b("adsUEditorAdgroupCanvasCollectionsFieldSelector"),b("adsUEditorAdgroupInlineCanvasCreationEnabledSelector"),j,k],a),b("adsUEditorAllowFlexibleImageHeightForFBFeedSelector").getStores(),[b("AdsAccountStore")])};c.calculateState=function(a,c,d){__p&&__p();a=d.adgroupEditorContext;c=b("AdsBulkValueUtils").getUniformValue_DEPRECATED(j(a),b("AdsAPIObjectives").NONE);d=b("AdsBulkValueUtils").getUniformValue_DEPRECATED(k(a),null);d=d?d===b("AdsSplitTestVariable").CREATIVE:!1;var e=b("AdsAccountStore").getSelectedAccount_LEGACY(),f=b("adsUEditorAdgroupCanvasCollectionsFieldSelector")(a);f=f.adgroupIDs;var g=b("adsUEditorAdgroupInlineCanvasCreationEnabledSelector")(a);if(!g)return{accountID:e.account_id,adgroupIDs:f,allowFlexibleImageAspectRatio:!1,canvasHasTemplateVideoElement:b("LoadObject").withValue(!1),canvasID:null,coverImages:null,coverMedia:null,coverVideo:null,coverVideos:null,hasLoadErrors:!1,image:null,imageSpecs:[],isCanvasCollectionsCoverEligible:!1,isCreativeSplitTest:d,isReady:!0,objective:c,selectedIndex:0,video:null};g=b("adsUEditorAdgroupCanvasCollectionCoverMediaSelector")(a);var h=g.canvasID,i=g.coverImages,l=g.coverMedia,m=g.coverVideo,n=g.coverVideos,o=g.hasLoadErrors,p=g.image,q=g.imageSpecs,r=g.isCanvasCollectionsCoverEligible,s=g.isReady,t=g.selectedIndex;g=g.video;a=b("adsCanvasHasTemplateVideoElementSelector")(a);var u=b("adsUEditorAllowFlexibleImageHeightForFBFeedSelector")();return{accountID:e.account_id,adgroupIDs:f,allowFlexibleImageAspectRatio:u,canvasHasTemplateVideoElement:a,canvasID:h,coverImages:i,coverMedia:l,coverVideo:m,coverVideos:n,hasLoadErrors:o,image:p,imageSpecs:q,isCanvasCollectionsCoverEligible:r,isCreativeSplitTest:d,isReady:s&&!a.isLoading(),objective:c,selectedIndex:t,video:g}};var d=c.prototype;d.componentDidUpdate=function(a,c){(!b("areEqual")(c.coverMedia,this.state.coverMedia)||c.canvasID!==this.state.canvasID||!b("areEqual")(c.coverVideo,this.state.coverVideo)||c.canvasHasTemplateVideoElement.getValue()!==this.state.canvasHasTemplateVideoElement.getValue())&&this.syncToAPISpec()};d.componentDidMount=function(){this.syncToAPISpec()};d.syncToAPISpec=function(){__p&&__p();if(!this.state.isReady)return;var a=this.state.coverMedia,b=a?a.type==="image"?a.source:null:null;a=a?a.type==="video"?a.id:null:null;var c=this.state.image?this.state.image.getUrl():null,d=this.state.video?this.state.video.id:null;if(c!==null||d!==null)return;c=b;d=a;this.$1(c,d)};d.render=function(){__p&&__p();if(!this.state.canvasID)return null;if(!this.state.isReady)return b("React").createElement("div",{style:{display:"flex",justifyContent:"center"}},b("React").createElement(b("FDSSpinner.react"),null));if(this.state.hasLoadErrors)return b("React").createElement("div",{style:{marginBottom:"12px"}},b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"canvas_fails_to_load_in_cover_media_field",textData:[{type:"PARAGRAPH",data:{text:h._("Une erreur s\u2019est produite. Veuillez r\u00e9essayer.")}}]}}));if(!this.state.isCanvasCollectionsCoverEligible)return b("React").createElement("div",{style:{marginBottom:"12px"}},b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"cover_media_field_no_enough_images_for_canvas_collection_ads",textData:[{type:"PARAGRAPH",data:{text:h._("La pub collection qui appara\u00eet dans le fil d\u2019actualit\u00e9 utilise les premi\u00e8res ressources multim\u00e9dia de votre Instant Experience plein \u00e9cran. Veuillez s\u00e9lectionner une autre Instant Experience ou passer au format avec image ou vid\u00e9o seule.")}}]}}));var a=this.$2()?h._("L\u2019image ou la vid\u00e9o de couverture provient de votre Instant Experience plein \u00e9cran. Pour la modifier, modifiez votre Instant Experience."):h._("L\u2019image ou la vid\u00e9o de couverture qui s\u2019affiche dans votre publicit\u00e9 collection utilise la premi\u00e8re ressource multim\u00e9dia de votre Instant Experience plein \u00e9cran. Pour changer de ressource, modifiez votre Instant Experience plein \u00e9cran.");return b("React").createElement(b("AdsInfoTable.react"),{sectionborders:!1},b("React").createElement(b("AdsInfoTableRow.react"),{className:"_2_7p",helpLink:b("React").createElement(b("FDSSimplePopover.react"),{content:a,contentWidthUseSparingly:288,position:"right"}),label:h._("Image ou vid\u00e9o de couverture"),vertical:!0},b("React").createElement("div",{"data-testid":"ads-collection-cover"},this.$3(),this.$4())))};d.$3=function(){var a=this,c=this.state.coverImages;if(!c)return null;var d=this.state.imageSpecs.length>0?this.state.imageSpecs[0].placement:null;return b("React").createElement("div",{className:(this.context.adgroupEditorContext.hostID===b("AdsUEditorHostIDs").CREATION?"_20px":"")+(this.context.adgroupEditorContext.hostID!==b("AdsUEditorHostIDs").CREATION?" _20py":"")},b("React").createElement(b("AdsArrowedCarouselEnhanced.react"),{currentSelectedIndex:this.state.selectedIndex,currentSelectedShouldVisible:!0},c.map(function(c,e){return b("React").createElement("div",{className:e!==0?"_3-9b":"",key:e,role:"menuitem",tabIndex:0,onClick:function(){if(e===a.state.selectedIndex)return;a.$5(e)}},b("React").createElement(b("AdsCFImagePanelItemContainer.react"),{accountID:a.state.accountID,allowFlexibleImageAspectRatio:a.state.allowFlexibleImageAspectRatio,disableCropping:a.$2(),disableImageCropperUpgrade:!0,image:c,imageCollection:new(b("AdsImageCollection"))(),imageSpecs:a.state.imageSpecs,placement:d,size:a.state.allowFlexibleImageAspectRatio?b("AdsImagePanelSizes").SMALL_SQUARE:b("AdsImagePanelSizes").MEDIUM,onConfirmCropping:a.$6}))})))};d.$4=function(){var a=this,c=this.state.coverVideos;return!c?null:b("React").createElement("div",{className:(this.context.adgroupEditorContext.hostID===b("AdsUEditorHostIDs").CREATION?"_20px":"")+(this.context.adgroupEditorContext.hostID!==b("AdsUEditorHostIDs").CREATION?" _20py":"")},b("React").createElement(b("AdsArrowedCarouselEnhanced.react"),{currentSelectedIndex:this.state.selectedIndex,currentSelectedShouldVisible:!0},c.map(function(c,d){if(c.loadState===b("AdsLoadState_LEGACY").LOADING)return b("React").createElement("div",{style:{display:"flex",justifyContent:"center"}},b("React").createElement(b("FDSSpinner.react"),null));var e=i,f=Math.round(c.height*i/c.width);return b("React").createElement("div",{className:d!==0?"_3-9b":"",key:d,role:"menuitem",tabIndex:0,onClick:function(){if(d===a.state.selectedIndex)return;a.$5(d)}},b("React").createElement(b("AdsVideoPlayer.react"),{autoPlay:!1,className:"_1mh5",forceHD:!0,hideCloseButton:!1,playerHeight:f,playerWidth:e,ref:"videoPlayer",showControls:!0,videoID:c.id},b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"contain",height:f,src:c.preferredThumbnail.uri,width:e})))})))};d.$5=function(a){b("AdsUEditorCollectionCoverMediaChangeIndexAction").dispatch({hostID:this.context.adgroupEditorContext.hostID,index:a},{line:"506",module:"AdsUEditorAdgroupCollectionCoverMediaFieldContainer.react.js"})};d.$1=function(a,c){if(this.context.adgroupEditorContext.hostID===b("AdsUEditorHostIDs").CREATION){var d=a?[new(b("AdsImageLegacy"))({url:a})]:[],e=this.state.coverVideo?this.state.coverVideo.preferredThumbnail:null;b("AdsCFSetCollectionCoverMediaDataAction").dispatch({canvasHasTemplateVideoElement:this.state.canvasHasTemplateVideoElement.getValueEnforcing(),canvasID:this.state.canvasID,ids:this.state.adgroupIDs,imageList:d,shouldSyncAdgroupCount:!this.state.isCreativeSplitTest,videoId:c,videoThumbnail:e,videoThumbnailSource:b("VideoThumbnailSource").GENERATED_DEFAULT},{line:"520",module:"AdsUEditorAdgroupCollectionCoverMediaFieldContainer.react.js"})}else this.context.adgroupEditorContext.hostID===b("AdsUEditorHostIDs").EDITING&&b("AdsAdgroupSetCollectionCoverMediaDataAction").dispatch({canvasHasTemplateVideoElement:this.state.canvasHasTemplateVideoElement.getValueEnforcing(),ids:this.state.adgroupIDs,imageURL:a,videoId:c},{line:"533",module:"AdsUEditorAdgroupCollectionCoverMediaFieldContainer.react.js"})};d.$2=function(){return!!this.state.coverVideos&&this.state.coverVideos.count()>1||!!this.state.coverImages&&this.state.coverImages.count()>1};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("adsUEditorAdgroupExistingPostCTADeleteFieldSelector",["AdsUEditorAdgroupExistingPostCTACommonSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector],function(a){return a.map(function(a){var b=a.pagePostIDs,c=a.isDraft;a=a.objective;return{pagePostIDs:b,isDraft:c,objective:a}})},{name:e.id});e.exports=a}),null);
__d("AdsUEditorAdgroupExistingPostCTADeleteFieldContainer.react",["ix","fbt","AdsDeletePostCTADataAction","AdsFluxContainer","AdsUEditorContextType","FDSButton.react","React","SimpleXUIDialog","SUIGlyphIcon.react","adsUEditorAdgroupExistingPostCTADeleteFieldSelector","asset"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.state.ctaData.getValueEnforcing(),c=a.pagePostIDs;a=h._({"*":"Voulez-vous vraiment supprimer le bouton call-to-action sur ces publications\u00a0?","_1":"Voulez-vous vraiment supprimer le bouton call-to-action sur cette publication\u00a0?"},[h._plural(c.length)]);b("SimpleXUIDialog").showConfirm(a,h._("Supprimer le call-to-action"),function(a){a&&b("AdsDeletePostCTADataAction").dispatch({pagePostIDs:c},{line:"109",module:"AdsUEditorAdgroupExistingPostCTADeleteFieldContainer.react.js"})})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostCTADeleteFieldSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return{ctaData:b("adsUEditorAdgroupExistingPostCTADeleteFieldSelector")(a)}};var d=c.prototype;d.render=function(){return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("411468")}),label:h._("Supprimer"),onClick:this.$1})};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("adsUEditorAdgroupExistingPostCTALinkFieldSelector",["AdsUEditorAdgroupExistingPostCTACommonSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector],function(a){return a.map(function(a){var b=a.bulkDisplayCTALink,c=a.bulkDisplayCTAType,d=a.bulkPostCTALink,e=a.hasDisplayCTALinkError;a=a.pagePostIDs;return{bulkDisplayCTALink:b,bulkDisplayCTAType:c,bulkPostCTALink:d,hasDisplayCTALinkError:e,pagePostIDs:a}})},{name:e.id});e.exports=a}),null);
__d("AdsUEditorAdgroupExistingPostCTALinkFieldContainer.react",["AdsExistingPostSetCTALinkDataAction","AdsFluxContainer","AdsUEditorAdgroupExistingPostCTALinkField.react","AdsUEditorContextType","React","adsUEditorAdgroupExistingPostCTALinkFieldSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.state.ctaData.getValueEnforcing();c=c.pagePostIDs;a=a.getValue();b("AdsExistingPostSetCTALinkDataAction").dispatch({link:a,pagePostIDs:c},{line:"83",module:"AdsUEditorAdgroupExistingPostCTALinkFieldContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostCTALinkFieldSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return{ctaData:b("adsUEditorAdgroupExistingPostCTALinkFieldSelector")(a)}};var d=c.prototype;d.render=function(){return b("React").createElement(b("AdsUEditorAdgroupExistingPostCTALinkField.react"),{ctaData:this.state.ctaData,readOnly:this.props.readOnly,onCallToActionLinkChange:this.$1})};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("adsUEditorAdgroupExistingPostCTATypeFieldSelector",["AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsCallToActionTypes","AdsUEditorAdgroupCallToActionCommonSelectors","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorCampaignGroupBulkSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector],function(a){return a.map(function(a){var b=a.pagePostIDs,c=a.bulkPostCTAType;a=a.bulkDisplayCTAType;return{bulkDisplayCTAType:a,bulkPostCTAType:c,pagePostIDs:b}})},{name:e.id+".ctaTypeSelector"});c=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),a,b("AdsUEditorAdgroupCallToActionCommonSelectors").validCTATypesSelector],function(a,c,d){var e=new Set([b("AdsCallToActionTypes").TYPES.CALL_NOW.name,b("AdsCallToActionTypes").TYPES.DIAL_CODE.name]);return{ctaData:c,ctaTypes:d.filter(function(a){return!e.has(a.name)}),objective:b("AdsBulkValueUtils").getUniformValue_DEPRECATED(a,b("AdsAPIObjectives").NONE)}},{name:e.id+".adsUEditorAdgroupExistingPostCTATypeFieldSelector"});e.exports=c}),null);
__d("AdsUEditorAdgroupExistingPostCTATypeFieldContainer.react",["cx","AdsAPIObjectives","AdsExistingPostSetCTADataAction","AdsFluxContainer","AdsUEditorAdgroupCallToActionField.react","AdsUEditorAdgroupCallToActionStrings","AdsUEditorContextType","CallToActionTypes","React","adsUEditorAdgroupExistingPostCTATypeFieldSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.state.ctaData.getValueEnforcing();c=c.pagePostIDs;a=a.getValue();b("AdsExistingPostSetCTADataAction").dispatch({cta:a,pagePostIDs:c},{line:"99",module:"AdsUEditorAdgroupExistingPostCTATypeFieldContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostCTATypeFieldSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostCTATypeFieldSelector")(a)};var d=c.prototype;d.render=function(){if(this.state.objective===b("AdsAPIObjectives").MESSAGES)return b("React").createElement("div",{className:"_3-8y"},b("AdsUEditorAdgroupCallToActionStrings")[b("CallToActionTypes").MESSAGE_PAGE]);if(!this.state.ctaData.hasValue())return b("React").createElement("div",null);var a=this.state.ctaData.getValueEnforcing();a=a.bulkDisplayCTAType;return b("React").createElement(b("AdsUEditorAdgroupCallToActionField.react"),{CTATypes:this.state.ctaTypes,showEmptyValueOption:!1,value:a,onChange:this.$1})};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupExistingPostCTADialog.react",["cssVar","cx","fbt","AdsBulkValueUtils","AdsExistingPostCTAUtils","AdsUEditorAdgroupExistingPostCTALinkFieldContainer.react","AdsUEditorAdgroupExistingPostCTATypeFieldContainer.react","AdsUEditorAdgroupInvalidPlacementsForWhatsAppNotice.react","AdsUEditorAdgroupMultipleAdsSelectedForWhatsAppNotice.react","AdsUEditorAdgroupWhatsAppCTAFieldEditor.react","CallToActionTypes","FDSButton.react","React","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c,d,e,f,g,h,i,j){var k=a!=null&&a!=="";h=h===c&&(j||k&&g===a);g=c===b("CallToActionTypes").NO_BUTTON;var l=c===b("AdsBulkValueUtils").MIXED_VALUE;a=a===b("AdsBulkValueUtils").MIXED_VALUE;a=a||!k||i;k=c===b("CallToActionTypes").WHATSAPP_MESSAGE&&(d||e||!f);return h||g||l||a&&!j||k}function a(a){__p&&__p();var c=a.ctaData,d=a.dialogShown,e=a.hasInvalidWhatsAppPlacementErrors,f=a.hasMultipleAdsSelected,g=a.isIGFeedPlacementSupported,h=a.pageID,k=a.pageWhatsAppData,l=a.savedCtaLink,m=a.savedCtaType,n=a.onHide,o=a.onAddSupportedPlacementsForWhatsApp;a=a.onSetCTA;var p=!0,q=!1,r=null;if(c.hasValue()){c=c.getValueEnforcing();var s=c.bulkDisplayCTALink,t=c.bulkDisplayCTAType;c=c.hasDisplayCTALinkError;s=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(s);t=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(t);q=b("AdsExistingPostCTAUtils").shouldHideLinkField(t);p=j(s,t,e,f,k.hasWhatsAppNumber,l,m,c,q);if(t===b("CallToActionTypes").WHATSAPP_MESSAGE&&f)r=b("React").createElement(b("AdsUEditorAdgroupMultipleAdsSelectedForWhatsAppNotice.react"),null);else if(t===b("CallToActionTypes").WHATSAPP_MESSAGE){s=k.hasWhatsAppNumber&&e?b("React").createElement(b("AdsUEditorAdgroupInvalidPlacementsForWhatsAppNotice.react"),{isIGFeedPlacementSupported:g,onAddSupportedPlacements:o}):null;r=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("AdsUEditorAdgroupWhatsAppCTAFieldEditor.react"),{hasWhatsAppBusinessNumber:k.hasWhatsAppBusinessNumber,hasWhatsAppNumber:k.hasWhatsAppNumber,isPageAdmin:k.isPageAdmin,pageID:h,pageLoadState:k.pageLoadState,pageSettingsLink:k.pageSettingsLink,pageToken:k.pageToken,requireWhatsAppBusinessNumber:!1,whatsAppNumber:k.whatsAppNumber}),s)}}l=p?"button":"cancel";m=q?null:b("React").createElement(b("AdsUEditorAdgroupExistingPostCTALinkFieldContainer.react"),{readOnly:!1});return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:p,label:i._("Mettre \u00e0 jour la publication"),layerAction:l,use:"primary",onClick:a}),secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null)}),header:b("React").createElement(b("SUIModalHeader.react"),{title:i._("Ajoutez un bouton \u00e0 votre publication")}),isShown:d,titleID:"cta-mutation-dialog",width:600,onHide:n},b("React").createElement("div",{className:"_2pia"},b("React").createElement("div",{className:"_3-97",style:{color:"#1d2129"}},i._("Rendez votre publicit\u00e9 plus interactive en ajoutant un bouton \u00e0 votre publication. Notez \u00e9galement que le nouveau bouton call-to-action sera ajout\u00e9 \u00e0 votre publication d\u2019origine une fois que vous aurez cliqu\u00e9 sur \u00ab\u00a0Mettre \u00e0 jour la publication\u00a0\u00bb.")),b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("AdsUEditorAdgroupExistingPostCTATypeFieldContainer.react"),{readOnly:!1})),r,b("React").createElement("div",{className:"_3-97"},m)))}e.exports=a}),null);
__d("adsUEditorAdgroupExistingPostCTADialogSelector",["invariant","AdsPageStore","AdsPageUtils","AdsUEditorCampaignSelectors","AdsWhatsAppCTASupportedPlacementsUtils","AdsWhatsAppUtils","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","firstx"],(function(a,b,c,d,e,f,g){"use strict";a=b("adsCreateSelector")([b("AdsUEditorCampaignSelectors").eligibilityInformation,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b("AdsPageStore").getSelector],function(a,c,d){var e=b("firstx")(c),f=e.adgroup;e=e.campaign;var h=b("AdsPageUtils").getPageID(f);h!=null||g(0,11430,f.id);f=d(h);return{campaignID:e.id,eligibilityInformation:a,hasInvalidWhatsAppPlacementErrors:!b("AdsWhatsAppCTASupportedPlacementsUtils").hasSupportedPlacements(a),hasMultipleAdsSelected:c.length>1,pageID:h,pageWhatsAppData:b("AdsWhatsAppUtils").getPageWhatsAppData(f)}},{name:e.id});e.exports=a}),null);
__d("AdsUEditorAdgroupExistingPostCTADialogContainer.react",["AdsFluxContainer","AdsUEditorAdgroupExistingPostCTADialog.react","AdsUEditorContextType","AdsWhatsAppCTASupportedPlacementsUtils","AdsWhatsAppFeatureGating","React","adsUEditorAdgroupExistingPostCTADialogSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("AdsWhatsAppCTASupportedPlacementsUtils").addSupportedPlacements([d.state.campaignID],d.state.eligibilityInformation)},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostCTADialogSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostCTADialogSelector")(a)};var d=c.prototype;d.render=function(){var a=b("AdsWhatsAppFeatureGating").canUseWhatsAppCTAOnIGFeedPlacement(this.state.eligibilityInformation.capabilities);return b("React").createElement(b("AdsUEditorAdgroupExistingPostCTADialog.react"),{ctaData:this.props.ctaData,dialogShown:this.props.dialogShown,hasInvalidWhatsAppPlacementErrors:this.state.hasInvalidWhatsAppPlacementErrors,hasMultipleAdsSelected:this.state.hasMultipleAdsSelected,isIGFeedPlacementSupported:a,pageID:this.state.pageID,pageWhatsAppData:this.state.pageWhatsAppData,savedCtaLink:this.props.savedCtaLink,savedCtaType:this.props.savedCtaType,onAddSupportedPlacementsForWhatsApp:this.$1,onHide:this.props.onHide,onSetCTA:this.props.onSetCTA})};return c}(b("React").Component);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,withProps:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupExistingPostCTADialogField.react",["ix","cssVar","cx","fbt","AdsAPIObjectives","AdsBulkValueUtils","AdsCallToActionTypes","AdsExistingPostOpenCTADialogDataAction","AdsUEditorAdgroupExistingPostCTADeleteFieldContainer.react","AdsUEditorAdgroupExistingPostCTADialogContainer.react","AdsUEditorAdgroupExistingPostCTATypeFieldContainer.react","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSpinner.react","React","SimpleNUXMessage","SUIGlyphIcon.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","XUIAmbientNUX.react","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();function k(a){var c=a.isDisabled,d=a.onClick;a=a.layerAction;return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:c,label:j._("Mettre \u00e0 jour la publication"),layerAction:a,use:"primary",onClick:d}),secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null)})}function l(a){a.ctaData;var c=a.onSetCTA,d=a.dialogShown,e=a.onHide;a.savedCtaLink;a.savedCtaType;a.objective;return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(k,{isDisabled:!1,layerAction:"cancel",onClick:c}),header:b("React").createElement(b("SUIModalHeader.react"),{title:j._("Supprimer le bouton de votre publication")}),isShown:d,titleID:"cta-mutation-dialog",width:600,onHide:e},b("React").createElement("div",{className:"_2pia"},b("React").createElement("div",{className:"_3-97",style:{color:"#1d2129"}},j._("Si vous choisissez de ne pas inclure de bouton, le bouton de votre publication originale sera \u00e9galement supprim\u00e9 une fois que vous aurez cliqu\u00e9 sur Mettre \u00e0 jour la publication."))))}function m(a){a.ctaData;var c=a.onSetCTA,d=a.dialogShown,e=a.onHide;a.savedCtaLink;a.savedCtaType;a.objective;return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(k,{isDisabled:!1,layerAction:"cancel",onClick:c}),header:b("React").createElement(b("SUIModalHeader.react"),{title:j._("Ajoutez un bouton \u00e0 votre publication")}),isShown:d,titleID:"cta-mutation-dialog",width:600,onHide:e},b("React").createElement("div",{className:"_2pia"},b("React").createElement("div",{className:"_3-97",style:{color:"#1d2129"}},j._("Rendez votre publicit\u00e9 plus interactive en ajoutant un bouton \u00e0 votre publication. Votre publication originale sera \u00e9galement mise \u00e0 jour avec le bouton Envoyer un message une fois que vous aurez cliqu\u00e9 sur Mettre \u00e0 jour la publication.")),b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("AdsUEditorAdgroupExistingPostCTATypeFieldContainer.react"),{readOnly:!1}))))}function n(a){var c=a.value;a=a.onChange;var d=[b("AdsCallToActionTypes").TYPES.NO_BUTTON.text,b("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.text],e=[];d.forEach(function(a,c){e.push(b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:c,value:a},a))});return b("React").createElement("span",{className:"uiContextualLayerParent","data-testid":"call-to-action-selector"},b("React").createElement(b("FDSDropdownSelector.react"),{placeholder:"Cta Options",value:c,onChange:a},e))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=function(){var a=d.props.ctaData.getValueEnforcing();a=a.bulkDisplayCTALink;a=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);d.setState({savedCtaLink:a});d.props.onSetCallToActionType()};d.$2=function(){d.setState({dialogShown:!1})};d.$3=function(){d.setState({dialogShown:!0});var a=d.props.ctaData.getValueEnforcing(),c=a.bulkDisplayCTALink,e=a.bulkDisplayCTAType;a=a.pagePostIDs;b("AdsExistingPostOpenCTADialogDataAction").dispatch({existingCTALinks:c.getValues(),existingCTATypes:e.getValues(),pagePostIDs:a},{line:"254",module:"AdsUEditorAdgroupExistingPostCTADialogField.react.js"})};d.$4=function(){b("SimpleNUXMessage").markMessageSeenByUser("342824272805137"),d.setState({showNux:!1})};c=d.props.ctaData.getValueEnforcing();var e=c.bulkPostCTALink;c=c.bulkPostCTAType;e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(e);c=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(c);d.state={dialogShown:!1,savedCtaLink:e,savedCtaType:c,showNux:!b("SimpleNUXMessage").hasUserSeenMessage("342824272805137")};return d}var d=c.prototype;d.renderNUX=function(){var a=this,c=function(){return a.refs.ctaButton};return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"left",contextRef:c,key:"ambientNUX",position:"right",shown:this.state.showNux,onCloseButtonClick:this.$4},b("React").createElement("div",null,b("React").createElement("b",null,j._("Nouveau\u00a0! Personnalisez votre bouton call-to-action"))),b("React").createElement("div",null,j._("Choisissez l\u2019action que vous souhaitez proposer aux personnes qui voient votre publicit\u00e9.")))};d.render=function(){__p&&__p();var a=this.props.ctaData.hasValue(),c=this.props.ctaData.getValueEnforcing();c=c.objective;var d=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("363756")}),label:j._("Modifier"),style:{marginRight:"8px"},onClick:this.$3});if(this.props.showCTAMultiPhoto||c===b("AdsAPIObjectives").MESSAGES){d=null;var e=this.props.showAddButton?b("AdsCallToActionTypes").TYPES.NO_BUTTON.text:b("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.text;e=b("React").createElement(n,{value:e,onChange:this.$3});e=a?e:b("React").createElement(b("FDSSpinner.react"),null);if(this.props.showAddButton)return b("React").createElement("div",{className:"_3-97"},b("React").createElement(m,{ctaData:this.props.ctaData,dialogShown:this.state.dialogShown,objective:c,savedCtaLink:this.state.savedCtaLink,savedCtaType:this.state.savedCtaType,onHide:this.$2,onSetCTA:this.$1}),e,this.renderNUX());else return b("React").createElement("div",{className:"_3-97"},b("React").createElement(l,{ctaData:this.props.ctaData,dialogShown:this.state.dialogShown,objective:c,savedCtaLink:this.state.savedCtaLink,savedCtaType:this.state.savedCtaType,onHide:this.$2,onSetCTA:this.$1}),e,this.renderNUX())}c=this.props.showAddButton?b("React").createElement("span",{className:"uiContextualLayerParent","data-testid":"existing-post-add-cta-button"},b("React").createElement(b("FDSButton.react"),{label:j._("Ajouter un bouton"),ref:"ctaButton",onClick:this.$3})):b("React").createElement("div",null,d,b("React").createElement("span",{className:"uiContextualLayerParent"},b("React").createElement(b("AdsUEditorAdgroupExistingPostCTADeleteFieldContainer.react"),{ref:"ctaButton"})));e=a?c:b("React").createElement(b("FDSSpinner.react"),null);return b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("AdsUEditorAdgroupExistingPostCTADialogContainer.react"),{ctaData:this.props.ctaData,dialogShown:this.state.dialogShown,savedCtaLink:this.state.savedCtaLink,savedCtaType:this.state.savedCtaType,onHide:this.$2,onSetCTA:this.$1}),e,this.renderNUX())};return c}(b("React").PureComponent);e.exports=a}),null);
__d("adsUEditorAdgroupExistingPostCTADialogFieldSelector",["AdsUEditorAdgroupExistingPostCTACommonSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector],function(a){return a.map(function(a){var b=a.bulkDisplayCTALink,c=a.bulkDisplayCTAType,d=a.bulkPostCTALink,e=a.bulkPostCTAType,f=a.hasDisplayCTALinkError,g=a.isDraft,h=a.objective,i=a.pagePostIDs;a=a.showCTAMultiPhoto;return{bulkDisplayCTALink:b,bulkDisplayCTAType:c,bulkPostCTALink:d,bulkPostCTAType:e,hasDisplayCTALinkError:f,isDraft:g,objective:h,pagePostIDs:i,showCTAMultiPhoto:a}})},{name:e.id});e.exports=a}),null);
__d("AdsUEditorAdgroupExistingPostCTADialogFieldContainer.react",["invariant","AdsFluxContainer","AdsMutatePostCTADataAction","AdsUEditorAdgroupExistingPostCTADialogField.react","AdsUEditorContextType","AdsUniformValue","CallToActionTypes","React","adsUEditorAdgroupExistingPostCTADialogFieldSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.state.ctaData.getValueEnforcing(),c=a.bulkDisplayCTALink,e=a.bulkDisplayCTAType;a=a.pagePostIDs;e instanceof b("AdsUniformValue")||g(0,5787);e=e.getValue();var f=null;e!==b("CallToActionTypes").MESSAGE_PAGE&&(c instanceof b("AdsUniformValue")||g(0,5788),f=c.getValue());b("AdsMutatePostCTADataAction").dispatch({cta:e,link:f,pagePostIDs:a},{line:"97",module:"AdsUEditorAdgroupExistingPostCTADialogFieldContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostCTADialogFieldSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return{ctaData:b("adsUEditorAdgroupExistingPostCTADialogFieldSelector")(a)}};var d=c.prototype;d.render=function(){return b("React").createElement(b("AdsUEditorAdgroupExistingPostCTADialogField.react"),{ctaData:this.state.ctaData,showAddButton:this.props.showAddButton,showCTAMultiPhoto:this.props.showCTAMultiPhoto,onSetCallToActionType:this.$1})};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupExistingPostCTAField.react",["cssVar","cx","fbt","AdsAPIObjectives","AdsBulkEditAdgroupLoggingFieldNames","AdsBulkValueUtils","AdsCallToActionTypes","AdsCallToActionUtils","AdsCampaignRawSpecUtils","AdsEditorMixedStateLoggingMixedStateComponentMountDataAction","AdsLabeledField.react","AdsMixedValue","AdsUEditorAdgroupExistingPostCTADialogFieldContainer.react","AdsUEditorAdgroupExistingPostCTALinkFieldContainer.react","AdsUEditorAdgroupWhatsAppPlacementsNotice.react","AdsWhatsAppCTASupportedPlacementsUtils","AdsWhatsAppFeatureGating","CallToActionTypes","FDSSpinner.react","React","SUIText.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("AdsWhatsAppCTASupportedPlacementsUtils").addSupportedPlacements(d.props.campaigns.map(function(a){return a.id}),d.props.eligibilityInformation)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.props.ctaData.getValue();a instanceof b("AdsMixedValue")&&b("AdsEditorMixedStateLoggingMixedStateComponentMountDataAction").dispatch({mixedStateFields:[b("AdsBulkEditAdgroupLoggingFieldNames").EXISTING_CALL_TO_ACTION]},{line:"61",module:"AdsUEditorAdgroupExistingPostCTAField.react.js"})};d.render=function(){__p&&__p();var a=i._("Call-to-action (Recommand\u00e9)"),c=i._("Choisissez le type d\u2019interaction \u00e0 accomplir sur votre publicit\u00e9. L\u2019ajout d\u2019un bouton \u00e0 votre pub modifiera \u00e9galement votre publication originale."),d=!this.props.ctaData.hasValue();if(d)return b("React").createElement(b("FDSSpinner.react"),null);d=this.props.ctaData.getValueEnforcing();var e=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(d),f=e===b("CallToActionTypes").MESSAGE_PAGE;e=e===b("CallToActionTypes").WHATSAPP_MESSAGE;d=b("AdsCallToActionUtils").getCTALabel(d);var g=d!=null&&d!==""?d:b("AdsCallToActionTypes").TYPES.NO_BUTTON.text;d=!!d;var h=this.props.objective===b("AdsAPIObjectives").MESSAGES||this.props.showCTAMultiPhoto,j=b("AdsWhatsAppCTASupportedPlacementsUtils").hasSupportedPlacements(this.props.eligibilityInformation),l=b("AdsWhatsAppCTASupportedPlacementsUtils").hasUnsupportedPlacements(this.props.eligibilityInformation),m=b("AdsWhatsAppFeatureGating").canUseWhatsAppCTAOnIGFeedPlacement(this.props.eligibilityInformation.capabilities),n=this.props.rawCampaigns.every(function(a){return b("AdsCampaignRawSpecUtils").isAutomaticPlacements(a)});return b("React").createElement(b("AdsLabeledField.react"),{className:"_3-97",helpText:c,label:a},b("React").createElement(k,{buttonLabel:g,hasMessagePageCTAType:f,hasSupportedWhatsAppPlacements:j,hasUnsupportedWhatsAppPlacements:l,hasWhatsAppMessageCTAType:e,isAutoPlacementSelected:n,isIGFeedPlacementSupported:m,shouldShowCTASelector:h,shouldShowEditButton:d,showCTAMultiPhoto:this.props.showCTAMultiPhoto,onAddSupportedPlacementsForWhatsApp:this.$1}))};return c}(b("React").PureComponent);function j(a){a=a.hasMessagePageCTAType;a=a?b("React").createElement(b("SUIText.react"),{color:"secondary",size:"meta1"}):b("React").createElement(b("AdsUEditorAdgroupExistingPostCTALinkFieldContainer.react"),{readOnly:!0});return b("React").createElement("span",null,a)}function k(a){var c=a.buttonLabel,d=a.hasMessagePageCTAType,e=a.hasSupportedWhatsAppPlacements,f=a.hasUnsupportedWhatsAppPlacements,g=a.hasWhatsAppMessageCTAType,h=a.isAutoPlacementSelected,i=a.isIGFeedPlacementSupported,k=a.shouldShowCTASelector,l=a.shouldShowEditButton,m=a.showCTAMultiPhoto;a=a.onAddSupportedPlacementsForWhatsApp;if(k||m)return b("React").createElement("div",null,b("React").createElement(b("AdsUEditorAdgroupExistingPostCTADialogFieldContainer.react"),{showAddButton:!l,showCTAMultiPhoto:m}));return!l?b("React").createElement("div",null,b("React").createElement(b("AdsUEditorAdgroupExistingPostCTADialogFieldContainer.react"),{showAddButton:!0,showCTAMultiPhoto:m})):b("React").createElement("div",null,b("React").createElement("div",{className:"_2ph_ _3-95",style:{backgroundColor:"#f6f7f9"}},b("React").createElement(b("SUIText.react"),{display:"block",shade:"medium",size:"meta1",weight:"bold"},c),b("React").createElement(j,{hasMessagePageCTAType:d})),g&&b("React").createElement(b("AdsUEditorAdgroupWhatsAppPlacementsNotice.react"),{hasSupportedPlacements:e,hasUnsupportedPlacements:f,isAutoPlacementSelected:h,isIGFeedPlacementSupported:i,onAddSupportedPlacements:a}),b("React").createElement(b("AdsUEditorAdgroupExistingPostCTADialogFieldContainer.react"),{showAddButton:!1,showCTAMultiPhoto:m}))}e.exports=a}),null);
__d("adsUEditorAdgroupExistingPostCTAFieldSelector",["AdsAPICampaignGroupPaths","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorCampaignGroupBulkSelectors","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector,b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE)],function(a){return{ctaData:a.map(function(a){a=a.bulkPostCTAType;return a})}},{name:e.id});e.exports=a}),null);
__d("AdsUEditorAdgroupExistingPostCTAFieldContainer.react",["AdsFluxContainer","AdsSelectorUtils","AdsUEditorAdgroupExistingPostCTAField.react","AdsUEditorCampaignSelectors","AdsUEditorContextType","React","adsUEditorAdgroupExistingPostCTADialogFieldSelector","adsUEditorAdgroupExistingPostCTAFieldSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorSelectedRawCampaignsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a,c){a=c.adgroupEditorContext;return[].concat(b("AdsSelectorUtils").getStores([b("adsUEditorAdgroupExistingPostCTAFieldSelector"),b("adsUEditorAdgroupExistingPostCTADialogFieldSelector")],a),b("AdsUEditorCampaignSelectors").eligibilityInformation.getStores(a),b("adsUEditorAdObjectsForSelectedAdgroupsSelector").getStores(a),b("adsUEditorSelectedRawCampaignsSelector").getStores(a))};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;c=b("adsUEditorAdgroupExistingPostCTAFieldSelector")(a);return{campaigns:b("adsUEditorAdObjectsForSelectedAdgroupsSelector")(a).map(function(a){return a.campaign}),rawCampaigns:b("adsUEditorSelectedRawCampaignsSelector")(a),ctaData:c.ctaData,ctaSelectorData:b("adsUEditorAdgroupExistingPostCTADialogFieldSelector")(a),eligibilityInformation:b("AdsUEditorCampaignSelectors").eligibilityInformation(a)}};var d=c.prototype;d.render=function(){var a=this.state.ctaSelectorData.getValueEnforcing(),c=a.objective;a=a.showCTAMultiPhoto;return b("React").createElement(b("AdsUEditorAdgroupExistingPostCTAField.react"),{campaigns:this.state.campaigns,ctaData:this.state.ctaData,eligibilityInformation:this.state.eligibilityInformation,objective:c,rawCampaigns:this.state.rawCampaigns,showCTAMultiPhoto:a})};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupExistingPostObjectiveUpsellField.react",["fbt","AdsAPIObjectives","AdsBulkValueUtils","AdsCCCategory","AdsDeliveryGrowthPostOptimization","AdsInterfacesLogger","AdsPPEMessagesUpsellLoggerEvents","AdsPPEMessagesUpsellNux.react","AdsStaticInlineNux.react","CallToActionTypes","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,this.renderMessageUpsell(),b("React").createElement(h,this.props))};d.renderMessageUpsell=function(){if(!i(this.props))return null;var a=this.props.onChangeObjective;return b("React").createElement(b("AdsPPEMessagesUpsellNux.react"),{onClick:a})};return c}(b("React").PureComponent);function h(a){if(a.objective!==b("AdsAPIObjectives").MESSAGES||a.actionFromNux!==!0)return null;var c=g._("Annuler les changements"),d=g._("Vous avez d\u00e9sormais plus de chances de recevoir des commentaires et messages \u00e0 partir de votre publicit\u00e9."),e=g._("Votre objectif est pass\u00e9 \u00e0 Messages");return b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK_SUCCESS_MESSAGE,messageID:"change_objective_to_message_success",textData:[{type:"PARAGRAPH",data:{text:d}}],header:e,ctaData:[{type:"LINK",data:{text:c,onCallToAction:a.onUndoChangeObjective}}]}})}function i(a){__p&&__p();b("AdsInterfacesLogger").log({eventName:b("AdsPPEMessagesUpsellLoggerEvents").PPE_TO_MESSAGES_CHECK_FOR_MESSAGE_INTENT});if(a.objective!==b("AdsAPIObjectives").POST_ENGAGEMENT){b("AdsInterfacesLogger").log({eventName:b("AdsPPEMessagesUpsellLoggerEvents").PPE_TO_MESSAGES_OBJECTIVE_NOT_PPE});return!1}var c=a.isMessagingRelated||a.ctaType===b("CallToActionTypes").MESSAGE_PAGE;if(c){b("AdsInterfacesLogger").log({eventName:b("AdsPPEMessagesUpsellLoggerEvents").PPE_TO_MESSAGES_IN_TEST_GROUP_RENDER_NUX});return!0}if(a.deliveryOptimizations.hasValue()){a=a.deliveryOptimizations.getValueEnforcing();a=b("AdsBulkValueUtils").getValueOrMixed_DEPRECATED(a);c=!!a&&(a.includes(b("AdsDeliveryGrowthPostOptimization").MESSAGE_INTENTION_REPLIES_OPTIMIZATION)||a.includes(b("AdsDeliveryGrowthPostOptimization").MESSENGER_LINK_REPLIES_OPTIMIZATION))}c&&b("AdsInterfacesLogger").log({eventName:b("AdsPPEMessagesUpsellLoggerEvents").PPE_TO_MESSAGES_IN_TEST_GROUP_RENDER_NUX});return c}e.exports=a}),null);
__d("adsUEditorAdgroupExistingPostObjectiveUpsellSelector",["AdsAccountStore","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsAPIPromotablePostFields","AdsBulkValueUtils","AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsMessengerIsPostMessagingRelatedDataProvider","AdsPagePostStore","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUniformValue","adsCreateSelector","adsUEditorSelectedCampaignGroupsSelector","adsUEditorSelectedCampaignsSelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorAdgroupExistingPostCTACommonSelectors").pagePostIDSelector;c=b("AdsMessengerIsPostMessagingRelatedDataProvider").toFluxSelector();d=b("adsCreateSelector")([a,b("AdsPagePostStore").getSelector],function(a,c){a=a.map(function(a){return c(a)}).map(function(a){return b("AdsLoadStateUtils_LEGACY").toLoadObject(a).map(function(c){return b("getByPath")(a,[b("AdsAPIPromotablePostFields").DELIVERY_GROWTH_OPTIMIZATION],[])})});return b("AdsLoadObjectUtils").all(a).map(b("AdsBulkValueUtils").aggregate)},{name:e.id+".pagePostOptimizationSelector"});f=b("adsCreateSelector")([b("AdsAccountStore").getSelectedAccount_LEGACY,b("AdsUEditorAdgroupExistingPostCTACommonSelectors").existingPostCTABulkObjectSelector,b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),b("adsUEditorSelectedCampaignsSelector"),b("adsUEditorSelectedCampaignGroupsSelector"),d,c],function(a,c,d,e,f,g,h){__p&&__p();var i={ctaType:null,pagePostIDs:null},j=null;if(c.isDone()&&c.hasValue()){var k=c.getValueEnforcing(),l=k.bulkPostCTAType;k=k.pagePostIDs;l instanceof b("AdsUniformValue")&&(i.ctaType=l.getValue());i.pagePostIDs=k;j=k.map(function(a){if(!a)return!1;a=h.get(a);return!a.isDone()||!a.hasValue()?!1:a.getValueEnforcing()})}l=j!==null&&j.includes(!0);return{account:a,campaigns:e,campaignGroups:f,ctaData:i,deliveryOptimizations:g,isMessagingRelated:l,existingPostCTAObjects:c,objective:b("AdsBulkValueUtils").getUniformValue_DEPRECATED(d,b("AdsAPIObjectives").NONE)}},{name:e.id});e.exports=f}),null);
__d("AdsUEditorAdgroupExistingPostObjectiveUpsellFieldContainer.react",["AdsAPICampaignPaths","AdsAPIObjectives","AdsCFObjectiveSuggestionsChangeObjectiveDataAction","AdsConvertCampaignByObjectiveUtils","AdsConvertCampaignGroupByObjectiveUtils","AdsDeletePostCTADataAction","AdsFluxContainer","AdsInterfacesLogger","AdsMutatePostCTADataAction","AdsPlacementAPISpecReaderUtils","AdsPlacementAPISpecWriterUtils","AdsPPEMessagesUpsellLoggerEvents","AdsUEditorAdgroupExistingPostObjectiveUpsellField.react","AdsUEditorContextType","CallToActionTypes","React","adsUEditorAdgroupExistingPostObjectiveUpsellSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onChangeObjective=function(){b("AdsInterfacesLogger").log({eventName:b("AdsPPEMessagesUpsellLoggerEvents").PPE_TO_MESSAGES_CLICK_TRY_MESSAGES_CF});var a=d.getCampaignForSuggestedObjective(b("AdsAPIObjectives").MESSAGES),c=d.state.campaigns.map(function(a){return b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(a)}),e=d.state.campaigns.map(function(a){return a.getIn(b("AdsAPICampaignPaths").TARGETING.TARGETING_RELAX_OPTION)});d.setState({oldState:{placement:c,targetingRelaxation:e}});d.state.ctaData&&d.state.ctaData.ctaType!==b("CallToActionTypes").MESSAGE_PAGE&&(d.state.ctaData.pagePostIDs&&b("AdsMutatePostCTADataAction").dispatch({cta:b("CallToActionTypes").MESSAGE_PAGE,link:null,pagePostIDs:d.state.ctaData.pagePostIDs},{line:"149",module:"AdsUEditorAdgroupExistingPostObjectiveUpsellFieldContainer.react.js"}),d.setState({addedSendMessageCTA:!0}));b("AdsCFObjectiveSuggestionsChangeObjectiveDataAction").dispatch({campaigns:a,originalObjective:d.state.objective,suggestedObjective:b("AdsAPIObjectives").MESSAGES},{line:"159",module:"AdsUEditorAdgroupExistingPostObjectiveUpsellFieldContainer.react.js"});d.setState({actionFromNux:!0})},d.onUndoChangeObjective=function(){b("AdsInterfacesLogger").log({eventName:b("AdsPPEMessagesUpsellLoggerEvents").PPE_TO_MESSAGES_UNDO_CHANGE_OBJECTIVE_TO_PPE});var a=d.getCampaignForSuggestedObjective(b("AdsAPIObjectives").POST_ENGAGEMENT);b("AdsCFObjectiveSuggestionsChangeObjectiveDataAction").dispatch({campaigns:a,originalObjective:d.state.objective,suggestedObjective:b("AdsAPIObjectives").POST_ENGAGEMENT},{line:"190",module:"AdsUEditorAdgroupExistingPostObjectiveUpsellFieldContainer.react.js"});d.undoCTAMaybe()},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostObjectiveUpsellSelector").getStores(a)};c.calculateState=function(a,c,d){a=d.adgroupEditorContext;return b("adsUEditorAdgroupExistingPostObjectiveUpsellSelector")(a)};var d=c.prototype;d.render=function(){var a;a=(a=this.state)!=null?(a=a.ctaData)!=null?a.ctaType:a:a;return b("React").createElement(b("AdsUEditorAdgroupExistingPostObjectiveUpsellField.react"),{account:this.state.account,actionFromNux:this.state.actionFromNux,ctaType:a,deliveryOptimizations:this.state.deliveryOptimizations,isMessagingRelated:this.state.isMessagingRelated,objective:this.state.objective,onChangeObjective:this.onChangeObjective,onUndoChangeObjective:this.onUndoChangeObjective})};d.undoCTAMaybe=function(){if(this.state.addedSendMessageCTA!==!0||!this.state.ctaData||!this.state.ctaData.pagePostIDs)return;var a=this.state.ctaData.pagePostIDs;b("AdsDeletePostCTADataAction").dispatch({pagePostIDs:a},{line:"176",module:"AdsUEditorAdgroupExistingPostObjectiveUpsellFieldContainer.react.js"});this.setState({addedSendMessageCTA:!1})};d.updateCampaignRecordForUndo=function(a,c){__p&&__p();var d=this;if(this.state.oldState===void 0)return this.state.campaigns;var e=[];for(var f=0;f<this.state.campaigns.length;f++)e.push(b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement(this.state.campaigns[f],this.state.oldState.placement[f]));f=e.map(function(e){return b("AdsConvertCampaignByObjectiveUtils").convertCampaign(d.state.account,e,null,a,c,[],b("immutable").Map(),b("immutable").Map(),!1)});if(this.state.oldState===void 0)return f;e=[];for(var g=0;g<f.length;g++)e.push(f[g].setIn(b("AdsAPICampaignPaths").TARGETING.TARGETING_RELAX_OPTION,this.state.oldState.targetingRelaxation[g]));return e};d.getCampaignForSuggestedObjective=function(a){var c=this,d=b("immutable").Map(this.state.campaignGroups.map(function(a){var b=a.id;return[b,a]})),e=d.map(function(d){return b("AdsConvertCampaignGroupByObjectiveUtils").convertCampaignGroup(c.state.account,d,a)});if(a===b("AdsAPIObjectives").POST_ENGAGEMENT&&this.state.oldState!==void 0)return this.updateCampaignRecordForUndo(e,d);var f=this.state.campaigns.map(function(a){return b("AdsConvertCampaignByObjectiveUtils").convertCampaign(c.state.account,a,null,e,d,[],b("immutable").Map(),b("immutable").Map(),!1)});return f};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupMessengerContentFieldContainer.react",["AdsFluxContainer","AdsLabeledField.react","AdsMessengerUtils","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","AdsUEditorContextType","AdsUEditorMessengerContentEditorSelectors","AdsUniformValue","LinkPostDestination","MessengerDestinationListItem.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerContentFieldSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.state.ids,pageWelcomeMessage:JSON.stringify(a)},{line:"123",module:"AdsUEditorAdgroupMessengerContentFieldContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,b){a=b.adgroupEditorContext;return g.getStores(a)};c.calculateState=function(a,b,c){a=c.adgroupEditorContext;return g(a)};var d=c.prototype;d.render=function(){if(this.state.isMessengerInlineVisualEditorEnabled)return null;if(!this.state.isOnlyMessengerPromotedObjectType)return null;var a=b("AdsMessengerUtils").getMessengerSetupTitle(),c=b("AdsMessengerUtils").getHelperText();c=b("React").createElement(b("AdsLabeledField.react"),{helpText:c,label:a});a=b("AdsMessengerUtils").getLandingScreenType(this.state.message);return b("React").createElement(b("AdsLabeledField.react"),{label:c},b("React").createElement(b("MessengerDestinationListItem.react"),{accountID:this.state.accountID,defaultFormatType:this.state.defaultFormatType,destinationValue:new(b("AdsUniformValue"))(b("LinkPostDestination").MESSENGER),errorSpec:this.state.errorSpec,isGetStartedEnabled:this.state.isGetStartedEnabled,isMessengerVisualEditorV2Enabled:!0,isMessengerVisualEditorVideoEnabled:this.state.isMessengerVisualEditorVideoEnabled,isNewContent:this.state.isNewContent,isNewDesign:this.state.isNewDesign,isPersonalizedWelcomeMessage:this.state.isPersonalizedWelcomeMessage,landingScreenType:a,message:this.state.message,pageID:this.state.pageID,onJSONChange:this.$1,onJSONSend:b("AdsMessengerUtils").getJSONSend,onSelectionChange:function(){}}))};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);