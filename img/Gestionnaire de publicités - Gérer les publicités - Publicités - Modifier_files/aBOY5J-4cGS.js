if (self.CavalryLogger) { CavalryLogger.start_js(["M5xlL"]); }

__d("AdsMessengerExperienceTabSelectAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_MESSENGER_EXPERIENCE_TAB_SELECT");e.exports=a}),null);
__d("AdsMessengerPartialAutomatedCreationErrorDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{errorMessage:""}};e.exports=a}),null);
__d("AdsMessengerPartialAutomatedCreationErrorDataProvider",["Laminar","AdsMessengerPartialAutomatedCreationErrorDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerPartialAutomatedCreationErrorDataProviderPlugin"),"AdsMessengerPartialAutomatedCreationErrorDataProviderPlugin")}),null);
__d("AdsMessengerPartialAutomatedCreationErrorDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{errorMessage:b.errorMessage}}};e.exports=a}),null);
__d("AdsMessengerPartialAutomatedCreationErrorDataAction",["Laminar","AdsMessengerPartialAutomatedCreationErrorDataReducerPlugin","AdsMessengerPartialAutomatedCreationErrorDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPartialAutomatedCreationErrorDataReducerPlugin"),b("AdsMessengerPartialAutomatedCreationErrorDataProvider"),{})]},function(){return[]},"ADS_MESSENGER_PARTIAL_AUTOMATED_CREATION_ERROR");e.exports=a}),null);
__d("AdsMessengerPartialAutomatedCreationTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({INTRO_MESSAGE:"introMessage",QUESTIONS:"questions",CONFIRMATION_MESSAGE:"confirmationMessage",DISQUALIFY_MESSAGE:"disqualifyMessage",REMINDER:"reminder",PRIVACY_POLICY:"privacyPolicy",FOLLOW_UP:"followUp",GREETING:"greeting"});b=Object.freeze({IN_PROGRESS:"inProgress",ERROR:"error",NO_ERROR:"noError"});c=Object.freeze({MULTIPLE_CHOICE:"multipleChoice",CUSTOM:"custom"});d=Object.freeze({NEXT_QUESTION:"nextQuestion",CONFIRMATION_MESSAGE:"confirmationMessage",DISQUALIFY_MESSAGE:"disqualifyMessage"});f=Object.freeze({TEXT:"text",IMAGE_HASH:"image_hash",VIDEO:"video",BUTTON_LABEL:"button_label",APP_INFO:"app_info"});e.exports={AdsMessengerPartialAutomatedCreationNonPrefillAnswer:c,AdsMessengerPartialAutomatedCreationSections:a,AdsMessengerPartialAutomatedCreationSectionStatus:b,AdsMessengerPartialAutomatedCreationGoToOption:d,FollowUpSectionErrorSpecType:f}}),null);
__d("MessengerAdsPartialAutomatedBroadcastMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text",IMAGE:"image",VIDEO:"video"})}),null);
__d("AdsMessengerMPAConstants",["fbt","AdsMessengerPartialAutomatedCreationTypes","DateTime","MessengerAdsPartialAutomatedBroadcastMediaType"],(function(a,b,c,d,e,f,g){"use strict";a=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption;c={DEFAULT_INTRO_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Bonjour\u00a0! Inscrivez-vous pour \u00eatre la premi\u00e8re personne \u00e0 \u00eatre au courant des annonces et des derni\u00e8res infos.").toString(),media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Bonjour {firstname}! Inscrivez-vous pour \u00eatre la premi\u00e8re personne \u00e0 \u00eatre au courant des annonces et des derni\u00e8res infos.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},DEFAULT_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMENT:{text:g._("Merci de votre inscription\u00a0! Nous vous tiendrons au courant des derni\u00e8res annonces.").toString(),media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMTENT:{text:g._("Merci de votre inscription, {firstname}\u00a0! Nous vous tiendrons au courant des derni\u00e8res annonces.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},DEFAULT_INTRO_MESSAGE_CTM_LEAD_GEN:{text:g._("Bonjour\u00a0! Merci de r\u00e9pondre \u00e0 quelques questions pour nous permettre de mieux vous conna\u00eetre.").toString(),media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_LEAD_GEN:{text:g._("Bonjour {firstname}\u00a0! Merci de r\u00e9pondre \u00e0 quelques questions pour nous aider \u00e0 mieux vous conna\u00eetre.",[g._param("firstname","{{user_first_name}}")]).toString(),media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},DEFAULT_CONFIRMATION_MESSAGE_CTM_LEAD_GEN:{text:g._("Merci d\u2019avoir r\u00e9pondu \u00e0 toutes les questions\u00a0! Nous allons vous mettre en relation avec un agent en ligne d\u00e8s que possible.").toString(),media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN:g._("Merci pour votre int\u00e9r\u00eat, mais votre profil ne semble pas correspondre cette fois-ci."),DEFAULT_CTM_LEAD_GEN_QUESTION_MESSAGE:g._("Dans quelle ville habitez-vous\u00a0?"),DEFAULT_CTM_LEAD_GEN_ANSWERS:[{fieldID:"",value:"",nextStep:a.NEXT_QUESTION}],DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT:g._("Il ne vous reste que quelques questions auxquelles r\u00e9pondre. Terminez maintenant."),DEFAULT_FOLLOW_UP_MESSAGE:{schedule_time:b("DateTime").localNow().addMonths(1).getUnixTimestampSeconds(),text:"",media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:"",button_label:"Install Now",app_info:null,app_id:null}};e.exports=c}),null);
__d("MessengerAdsPartialAutomatedPrefillType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ZIP_CODE:"ZIP_CODE",CITY:"CITY",STATE:"STATE",COUNTRY:"COUNTRY",EMAIL:"EMAIL",PHONE:"PHONE",JOB_TITLE:"JOB_TITLE",COMPANY_NAME:"COMPANY_NAME",GENDER:"GENDER",DOB:"DOB",NONE:"NONE"})}),null);
__d("AdsMessengerPartialAutomatedCreationStateDataProviderPlugin",["AdsMessengerMPAConstants","MessengerAdsPartialAutomatedPrefillType"],(function(a,b,c,d,e,f){"use strict";a={initialState:{confirmationMessage:b("AdsMessengerMPAConstants").DEFAULT_CONFIRMATION_MESSAGE_CTM_LEAD_GEN,disqualifyMessage:b("AdsMessengerMPAConstants").DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),followUpMessage:b("AdsMessengerMPAConstants").DEFAULT_FOLLOW_UP_MESSAGE,introMessage:b("AdsMessengerMPAConstants").DEFAULT_INTRO_MESSAGE_CTM_LEAD_GEN,questionItems:[{fieldID:"",questionMessage:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_QUESTION_MESSAGE.toString(),answerType:b("MessengerAdsPartialAutomatedPrefillType").CITY,answers:null}],reminderText:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString()}};e.exports=a}),null);
__d("AdsMessengerPartialAutomatedCreationStateDataProvider",["Laminar","AdsMessengerPartialAutomatedCreationStateDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerPartialAutomatedCreationStateDataProviderPlugin"),"AdsMessengerPartialAutomatedCreationStateDataProviderPlugin")}),null);
__d("AdsMessengerPartialAutomatedCreationStateDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{confirmationMessage:b.confirmationMessage,disqualifyMessage:b.disqualifyMessage,followUpMessage:b.followUpMessage,introMessage:b.introMessage,questionItems:b.questionItems,reminderText:b.reminderText}}};e.exports=a}),null);
__d("AdsMessengerPartialAutomatedCreationStateDataAction",["Laminar","AdsMessengerPartialAutomatedCreationStateDataReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPartialAutomatedCreationStateDataReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{})]},function(){return[]},"ADS_MESSENGER_PARTIAL_AUTOMATED_CREATION_STATE_DATA");e.exports=a}),null);
__d("AdsMessengerVideoUploadResetDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"MESSENGER.VIDEO_UPLOAD_RESET");e.exports=a}),null);
__d("AdsPageSetPrivacyPolicyURLDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE.SET_PRIVACY_POLICY_URL");e.exports=a}),null);
__d("AdsUEditorAdgroupSetMessengerSponsoredMessageDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsSetMessengerSponsoredMessageDataReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsUEditorAdgroupSetMessengerSponsoredMessageReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"ADS_ADGROUP_EDITOR_SET_MESSENGER_SPONSORED_MESSAGE");e.exports=a}),null);
__d("AdsCFMessengerDestinationVisualEditorInlineTipConfig",["fbt","AdsCCCategory","AdsRecommendationTipConfig","React"],(function(a,b,c,d,e,f,g){"use strict";var h=[{type:"SECTION_TITLE",data:{text:g._("Configurez Messenger pour entamer plus de discussions avec vos clients. Vous pouvez soit\u00a0:")}},{type:"BULLETED_LIST",data:{listItems:[g._("Start with an easy, prefilled {bold} based on best practices.",[g._param("bold",b("React").createElement("strong",null,g._("Mod\u00e8le standard")))]),g._("Cr\u00e9ez et enregistrez des {bold} pour inclure des photos, des vid\u00e9os, et plus encore.",[g._param("bold",b("React").createElement("strong",null,g._("Mod\u00e8le personnalis\u00e9")))])]}}];a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,{category:b("AdsCCCategory").RECOMMENDATION_BEST_PRACTICE,header:g._("Obtenir de meilleurs r\u00e9sultats"),messageID:"ads_messenger_destination_visual_editor_redesign_tip",textData:h})||this}return c}(b("AdsRecommendationTipConfig"));e.exports=a}),null);
__d("AdsMessengerPartialAutomatedLoggerEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({MPA_SUCCUSS_CREATE_FORM:"mpa_succuss_create_form",MPA_ERROR_CREATE_FORM:"mpa_error_create_form",MPA_SUCCUSS_PREVIEW_FORM:"mpa_success_preview_form"});e.exports=a}),null);
__d("AdsMessengerVisualEditorCreateNewType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({WELCOME_MESSAGE:"welcome_message",CTM_LEAD_GEN:"ctm_lead_gen",FOLLOW_UP:"follow_up"});e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerVEImageFormat.react",["cx","fbt","AdsBulkTextInput.react","AdsMessengerConstants","AdsUEditorAdgroupMessengerContentImageSelector.react","AdsUniformValue","FDSText.react","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_3uld"},b("React").createElement("div",{className:"_7omv"},b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-96",weight:"bold"},h._("Image")),b("React").createElement(b("AdsUEditorAdgroupMessengerContentImageSelector.react"),{accountID:this.props.accountID,imageID:this.props.imageID,onImageSelect:this.props.onImageSelect}),this.props.imageID&&b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-95",weight:"bold"},h._("Titre de l\u2019image")),b("React").createElement(b("AdsBulkTextInput.react"),{enforceMaxLength:!0,hideMaxLength:!0,maxLength:b("AdsMessengerConstants").TITLE_MAX_LENGTH,placeholder:h._("Entrez un titre pour votre image"),value:new(b("AdsUniformValue"))(this.props.title),onChange:this.props.onTitleChange})),b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("FDSText.react"),{margin:"_3-95",weight:"bold"},h._("Sous-titre de l\u2019image")),b("React").createElement(b("FDSText.react"),{margin:"_3-94"},h._("(Facultatif)")),b("React").createElement(b("AdsBulkTextInput.react"),{enforceMaxLength:!0,hideMaxLength:!0,maxLength:b("AdsMessengerConstants").SUBTITLE_MAX_LENGTH,placeholder:h._("Entrez une l\u00e9gende pour donner plus de d\u00e9tails"),value:new(b("AdsUniformValue"))(this.props.subTitle),onChange:this.props.onSubTitleChange})))))};return c}(a);e.exports=c}),null);
__d("AdsUEditorAdgroupMessengerVEVideoFormat.react",["cx","fbt","AdsUEditorAdgroupMessengerContentVideoSelector.react","AdsUniformValue","FDSText.react","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PureComponent;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_3uld"},b("React").createElement("div",{className:"_7omv"},b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-96",weight:"bold"},h._("Vid\u00e9o")),b("React").createElement(b("AdsUEditorAdgroupMessengerContentVideoSelector.react"),{isCondensedFormat:!1,isLoading:this.props.isVideoLoading,pageID:new(b("AdsUniformValue"))(this.props.pageID),showPreview:!0,videoURL:this.props.videoURL})))};return c}(a);e.exports=c}),null);
__d("AdsUEditorAdgroupMessengerVEFormat.react",["AdsImageIDClasses","AdsMessengerJSONMediaFormatType","AdsUEditorAdgroupMessengerVEImageFormat.react","AdsUEditorAdgroupMessengerVEVideoFormat.react","React","adsMessengerDataModelGetGenericSubtitle","adsMessengerDataModelGetGenericTitle","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelSelectImage","adsMessengerDataModelSetGenericSubtitle","adsMessengerDataModelSetGenericTitle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("AdsImageIDClasses").AdsImageID;a=b("React").PureComponent;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onJSONChange(b("adsMessengerDataModelSelectImage")(d.props.welcomeMessageJSON,d.props.accountID,a))},d.$3=function(a){d.props.onJSONChange(b("adsMessengerDataModelSetGenericTitle")(d.props.welcomeMessageJSON,a))},d.$2=function(a){d.props.onJSONChange(b("adsMessengerDataModelSetGenericSubtitle")(d.props.welcomeMessageJSON,a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){switch(b("adsMessengerDataModelGetMediaFormat")(this.props.welcomeMessageJSON)){case b("AdsMessengerJSONMediaFormatType").IMAGE:return b("React").createElement(b("AdsUEditorAdgroupMessengerVEImageFormat.react"),{accountID:this.props.accountID,imageID:this.props.imageID,subTitle:b("adsMessengerDataModelGetGenericSubtitle")(this.props.welcomeMessageJSON),title:b("adsMessengerDataModelGetGenericTitle")(this.props.welcomeMessageJSON),welcomeMessageJSON:this.props.welcomeMessageJSON,onImageSelect:this.$1,onJSONChange:this.props.onJSONChange,onSubTitleChange:this.$2,onTitleChange:this.$3});case b("AdsMessengerJSONMediaFormatType").VIDEO:return b("React").createElement(b("AdsUEditorAdgroupMessengerVEVideoFormat.react"),{accountID:this.props.accountID,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,videoURL:this.props.videoURL});default:return b("React").createElement(b("React").Fragment,null)}};return c}(a);e.exports=c}),null);
__d("MessengerDestinationCreateNewEditorGreetingDropdown.react",["cx","fbt","AdsMessengerJSONMediaFormatType","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","LeftRight.react","React","adsMessengerDataModelChangeFormat","adsMessengerDataModelGetMediaFormat"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onJSONChange(b("adsMessengerDataModelChangeFormat")(d.props.welcomeMessageJSON,a,!0,!0))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_exp"},b("React").createElement(b("FDSDropdownSelector.react"),{value:b("adsMessengerDataModelGetMediaFormat")(this.props.welcomeMessageJSON),onChange:this.$1},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("AdsMessengerJSONMediaFormatType").TEXT},h._("Texte uniquement")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("AdsMessengerJSONMediaFormatType").IMAGE},h._("Text & image")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("AdsMessengerJSONMediaFormatType").VIDEO},h._("Text & Video")))))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsMessengerDestinationCreateNewEditor.react",["cx","fbt","AdsMessengerConstants","AdsUEditorAdgroupMessengerVEFormat.react","FDSText.react","MessengerDestinationCreateNewEditorGreetingDropdown.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","React","adsMessengerDataModelGetImageID","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c,d,e,f,g){var i=h._("Salutations");c=c?b("React").createElement(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:d}):null;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"body3"},h._("Souhaitez la bienvenue sur la conversation Messenger gr\u00e2ce \u00e0 un message d\u2019accueil.")),b("React").createElement(b("MessengerDestinationCreateNewEditorGreetingDropdown.react"),{welcomeMessageJSON:f,onJSONChange:g}),b("React").createElement("div",{className:"_3-96 _7md2"},b("React").createElement(b("PagesReplyComposerEditorContainer.react"),{config:d,welcomeString:a,onReplyChange:e}),c))}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a={composerKey:"welcomeMessage",initialDisabled:!1,initialReply:this.props.getGreetingText()||"",isAdsInterfaceSource:!0,maxCharacterLength:b("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,pageID:this.props.pageID,placeholderText:h._("Saisissez une amorce, comme \u00ab\u00a0Bonjour\u00a0! Dites-nous en quoi nous pouvons vous aider.\u00a0\u00bb")};return b("React").createElement(b("React").Fragment,null,i(this.props.getGreetingText(),this.props.greetingTextChanged,a,this.props.onGreetingTextChange,this.props.welcomeMessageJSON,this.props.onJSONChange),b("React").createElement(b("AdsUEditorAdgroupMessengerVEFormat.react"),{accountID:this.props.accountID,imageID:b("adsMessengerDataModelGetImageID")(this.props.welcomeMessageJSON),isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,videoURL:this.props.videoURL,welcomeMessageJSON:this.props.welcomeMessageJSON,onJSONChange:this.props.onJSONChange}))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsMessengerDestinationVESaveSection.react",["ix","cx","fbt","AdsMessengerConstants","AdsMessengerContentEditorTabs","FlexLayout.react","Image.react","React","ShimButton.react","SUITextInput.react","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.shouldSave||this.props.editorTab===b("AdsMessengerContentEditorTabs").USE_EXISTING?g("863527"):g("863537"),c="_7qc_ _7qd0";return b("React").createElement("div",{className:"_exm _3-95"},b("React").createElement(b("ShimButton.react"),{className:"_7qd1",onClick:this.props.editorTab===b("AdsMessengerContentEditorTabs").USE_EXISTING?b("emptyFunction"):this.props.onToggleSaveCheckbox},b("React").createElement(b("FlexLayout.react"),{align:"center",className:c,justify:"all"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"start"},b("React").createElement(b("Image.react"),{className:"_7qd2",src:a}),b("React").createElement("text",{className:"_7qd3",fontFamily:"Arial-BoldMT"},i._("Enregistrer le mod\u00e8le"))))),this.props.shouldSave&&b("React").createElement("div",{className:"_ys4"},b("React").createElement(b("SUITextInput.react"),{isMaxLengthHidden:!1,maxLength:b("AdsMessengerConstants").MAX_TEMPLATE_LENGTH,value:this.props.templateName,onChange:this.props.onTemplateNameChange})))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationCreateNewEditorCustomerActionsDropdown.react",["cx","fbt","AdsMessengerJSONMediaFormatType","AdsMessengerVisualEditorCustomerActionType","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","LeftRight.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChangeCustomerAction(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_exp"},b("React").createElement(b("FDSDropdownSelector.react"),{value:this.props.customerAction,onChange:this.$1},b("React").createElement(b("FDSDropdownSelectorOption.react"),{isDisabled:this.props.format!==b("AdsMessengerJSONMediaFormatType").TEXT,value:b("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS},h._("Questions\/r\u00e9ponses")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{isDisabled:this.props.format===b("AdsMessengerJSONMediaFormatType").VIDEO,value:b("AdsMessengerVisualEditorCustomerActionType").BUTTONS},h._("Boutons")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES},h._("Quick Reply")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("AdsMessengerVisualEditorCustomerActionType").NONE},h._("None"))))))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react",["cx","fbt","AdsMessengerConstants","AdsMessengerSetSavedResponseIndexAction","AdsMessengerWelcomeMessageIcebreakerFields","ClickableArea.react","FDSCloseButton.react","FDSText.react","React","SUITextArea.react","SUITextInput.react","curry","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Entrez la r\u00e9ponse \u00e0 cette question");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(){if(d.props.visualEditorName==null)return;b("AdsMessengerSetSavedResponseIndexAction").dispatch({contentEditorTab:d.props.visualEditorName,index:d.props.index},{line:"142",module:"AdsUEditorAdgroupMessengerFAQContentIceBreaker.react.js"})},d.$1=function(a){d.props.onIceBreakerChange(d.props.index,a,b("AdsMessengerWelcomeMessageIcebreakerFields").TITLE)},d.$3=function(a){d.props.onIceBreakerChange(d.props.index,a,b("AdsMessengerWelcomeMessageIcebreakerFields").RESPONSE)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!this.props.showResponse?this.props.showRemove?b("React").createElement("div",{className:"_ys4"},b("React").createElement(b("SUITextInput.react"),{isMaxLengthHidden:!1,maxLength:b("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,value:this.props.value.title,onChange:this.$1,onFocus:this.props.onFocus,onRemove:b("curry")(this.props.onRemoveIceBreaker,this.props.index)})):b("React").createElement("div",{className:"_ys4"},b("React").createElement(b("SUITextInput.react"),{isMaxLengthHidden:!1,maxLength:b("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,placeholder:null,value:this.props.value.title,onChange:this.$1,onFocus:this.props.onFocus})):b("React").createElement(b("ClickableArea.react"),{onClick:this.$2},b("React").createElement("div",{className:"_79x_"},this.props.showRemove&&b("React").createElement("span",{className:"rfloat"},b("React").createElement(b("FDSCloseButton.react"),{onClick:b("curry")(this.props.onRemoveIceBreaker,this.props.index)})),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"meta1",weight:"bold"},h._("Question")," #",this.props.index+1),b("React").createElement(b("SUITextInput.react"),{isMaxLengthHidden:!1,maxLength:b("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,placeholder:null,value:this.props.value.title,onChange:this.$1,onFocus:this.props.onFocus}),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-95 _3-8y",size:"meta1",weight:"bold"},h._("R\u00e9ponses automatis\u00e9es (facultatif)")),b("React").createElement(b("SUITextArea.react"),{isMaxLengthHidden:!1,maxLength:b("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_LENGTH,placeholder:i,shouldAutoGrow:!0,value:this.props.value.response,onChange:this.$3})))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerVEContentCTASection.react",["cx","fbt","AdsBulkTextInput.react","AdsMessengerConstants","AdsMessengerUtils","AdsUniformValue","FDSCloseButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSimplePopover.react","FDSText.react","Link.react","MessengerAttachmentFields","React","ShimButton.react","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){__p&&__p();var c=h._("Saisissez le texte pour votre bouton"),d=a.cta?a.cta.title:"",e="",f=b("MessengerAttachmentFields").WEB_URL;a.cta&&(f=a.cta.type,a.cta.type===b("MessengerAttachmentFields").WEB_URL?e=a.cta.url:e=a.cta.payload);var g=h._("Bouton n\u00b0{cta_index}",[h._param("cta_index",a.index+1)]),i=a.ctaCount===1;function j(){a.onRemoveButton(a.index)}function k(b){a.onURLChange(a.index,b)}function l(b){a.onButtonTitleChange(a.index,b)}function m(b){a.onCTATypeChange(a.index,b)}i=i?null:b("React").createElement("span",{className:"rfloat"},b("React").createElement(b("FDSCloseButton.react"),{onClick:j}));j=f===b("MessengerAttachmentFields").WEB_URL?h._("URL du site web"):b("React").createElement("span",null,h._("Donn\u00e9es utiles du bot"),b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Si vous avez configur\u00e9 un bot et que vous envoyez un postback, entrez vos donn\u00e9es utiles. {learn more link for payload}",[h._param("learn more link for payload",b("React").createElement(b("Link.react"),{href:b("AdsMessengerUtils").getPayloadLink(),target:"_blank"},h._("En savoir plus")))]),contentWidthUseSparingly:288}));var n=h._("Facultatif\u00a0: cela sera renvoy\u00e9 \u00e0 votre webhook.");n=f===b("MessengerAttachmentFields").WEB_URL?"https://your-website.com/your-page":n;return b("React").createElement("div",{className:"_79x_",key:a.index},a.ctaCount>1&&b("React").createElement("div",{className:"rfloat"},i),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"meta1",weight:"bold"},g),b("React").createElement(b("AdsBulkTextInput.react"),{enforceMaxLength:!0,hideMaxLength:!0,maxLength:b("AdsMessengerConstants").BUTTON_LABEL_MAX_LENGTH,placeholder:c,value:new(b("AdsUniformValue"))(d),onChange:l}),a.isMessengerPlatformBot&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"meta1",weight:"bold"},h._("Action")),b("React").createElement("div",{className:"_exp"},b("React").createElement(b("FDSDropdownSelector.react"),{value:f,onChange:m},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAttachmentFields").WEB_URL},h._("Ouvrir un site web")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{tooltip:b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Si vous avez un bot, vous pouvez configurer un bouton pour envoyer un postback. {learn more link}",[h._param("learn more link",b("React").createElement(b("Link.react"),{href:b("AdsMessengerUtils").getPayloadLink(),target:"_blank"},h._("En savoir plus")))]),contentWidthUseSparingly:288}),value:b("MessengerAttachmentFields").POSTBACK},h._("Envoyer un postback"))))),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"meta1",weight:"bold"},j),b("React").createElement(b("AdsBulkTextInput.react"),{placeholder:n,value:new(b("AdsUniformValue"))(e),onChange:k}))}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=b("React").createElement(b("ShimButton.react"),{className:"_6kj8",onClick:this.props.onAddButton},b("React").createElement("span",{className:"_7i1z"},h._("+ Add a Button"))),d=this.props.ctas,e=d&&d.length?d.map(function(c,e){return b("React").createElement(i,{cta:c,ctaCount:d.length,index:e,isMessengerPlatformBot:a.props.isMessengerPlatformBot,isNewContent:!0,key:e,onButtonTitleChange:a.props.onButtonTitleChange,onCTATypeChange:a.props.onCTATypeChange,onRemoveButton:a.props.onRemoveButton,onURLChange:a.props.onURLChange})}):null;return b("React").createElement("div",null,e,(!this.props.ctas||this.props.ctas.length<b("AdsMessengerUtils").getMaxCTANum())&&b("React").createElement("div",null,c))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerVEContentQuickReply.react",["cx","fbt","AdsBulkTextInput.react","AdsMessengerConstants","AdsMessengerUtils","AdsUniformValue","FDSCloseButton.react","FDSSimplePopover.react","FDSText.react","Link.react","React","SUITextInput.react","curry","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showPayload:!1},d.$2=function(a){d.props.onQRPayloadChange(d.props.index,new(b("AdsUniformValue"))(a))},d.$4=function(){d.setState({showPayload:!0})},d.$3=function(){d.setState({showPayload:!1})},d.$1=function(a){d.props.onQuickReplyTitleChange(d.props.index,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.qr,c="",d="";a&&(c=a.title!=null?a.title.toString():a.title,d=a.payload);return b("React").createElement("div",{className:"_79x_"},this.props.shouldShowClose&&b("React").createElement("div",{className:"rfloat"},b("React").createElement(b("FDSCloseButton.react"),{onClick:b("curry")(this.props.onRemoveQuickReply,this.props.index)})),b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"meta1",weight:"bold"},h._("R\u00e9ponse rapide n\u00b0{cta_index}",[h._param("cta_index",this.props.index+1)])),b("React").createElement(b("AdsBulkTextInput.react"),{enforceMaxLength:!0,hideMaxLength:!0,maxLength:b("AdsMessengerConstants").QUICK_REPLY_TITLE_MAX_LENGTH,placeholder:h._("Sugg\u00e9rez une r\u00e9ponse, comme \u00ab\u00a0Je suis int\u00e9ress\u00e9(e)\u00a0\u00bb par exemple"),value:new(b("AdsUniformValue"))(c),onChange:this.$1}),this.props.isMessengerPlatformBot&&b("React").createElement(b("React").Fragment,null,this.state.showPayload?b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"primary",margin:"_3-95",size:"meta1",weight:"bold"},h._("Donn\u00e9es utiles du bot")),b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Si vous avez configur\u00e9 un bot et que vous envoyez un postback, entrez votre donn\u00e9es utiles. {learn more link for payload}",[h._param("learn more link for payload",b("React").createElement(b("Link.react"),{href:b("AdsMessengerUtils").getPayloadLink(),target:"_blank"},h._("En savoir plus")))]),contentWidthUseSparingly:288}),b("React").createElement(b("SUITextInput.react"),{placeholder:h._("Pour les bots uniquement\u00a0: ceci sera envoy\u00e9 vers votre webhook"),value:d,onChange:this.$2,onRemove:this.$3})):b("React").createElement(b("Link.react"),{href:{url:"#"},onClick:this.$4},h._("Connecter votre bot"))))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerVEQuickRepliesSection.react",["cx","fbt","AdsMessengerUtils","AdsUEditorAdgroupMessengerVEContentQuickReply.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=this.props.quickReplies;return!c||!c.length?null:b("React").createElement(b("React").Fragment,null,c.map(function(d,e){return b("React").createElement(b("AdsUEditorAdgroupMessengerVEContentQuickReply.react"),{index:e,isMessengerPlatformBot:a.props.isMessengerPlatformBot,qr:d,shouldShowClose:c&&c.length>1,onAddQuickReply:a.props.onAddQuickReply,onQRPayloadChange:a.props.onQRPayloadChange,onQuickReplyTitleChange:a.props.onQuickReplyTitleChange,onRemoveQuickReply:a.props.onRemoveQuickReply})}),(!this.props.quickReplies||this.props.quickReplies.length<b("AdsMessengerUtils").getMaxQRNum())&&b("React").createElement(b("ShimButton.react"),{className:"_6kj8",onClick:this.props.onAddQuickReply},b("React").createElement("span",{className:"_7i1z"},h._("+ Ajouter une r\u00e9ponse rapide"))))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerVisualEditorAddAutomatedResponseButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.onClick;return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("541614")}),label:h._("Ajouter des r\u00e9ponses automatis\u00e9es"),margin:"_3-8z",onClick:a})}e.exports=a}),null);
__d("adsMessengerDataModelRemoveIceBreaker",["MessengerContentEditorSurface","adsMessengerDataModelClone","adsMessengerDataModelGetIceBreakerPath","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetSurface","deleteByPath","setByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=b("adsMessengerDataModelGetIceBreakers")(a)||[];d&&d.splice(c,1);d=d.filter(function(a){return!!a});c=b("adsMessengerDataModelGetIceBreakerPath")(a);if(!c)return a;var e=b("adsMessengerDataModelClone")(a);!d.length?b("adsMessengerDataModelGetSurface")(a)!==b("MessengerContentEditorSurface").BUSINESS_TOOLS&&b("deleteByPath")(e,c):b("setByPath")(e,c,d);return e}e.exports=a}),null);
__d("MessengerDestinationCustomerActionSection.react",["cx","fbt","AdsMessengerDestinationUtils","AdsMessengerVisualEditorCustomerActionType","AdsMessengerWelcomeMessageFields","AdsMessengerWelcomeMessageIcebreakerFields","AdsUEditorAdgroupMessengerFAQContentIceBreaker.react","AdsUEditorAdgroupMessengerVEContentCTASection.react","AdsUEditorAdgroupMessengerVEQuickRepliesSection.react","FDSText.react","MessengerVisualEditorAddAutomatedResponseButton.react","React","ShimButton.react","adsMessengerDataModelAddCTA","adsMessengerDataModelAddQuickReply","adsMessengerDataModelGetIceBreaker","adsMessengerDataModelRemoveCTA","adsMessengerDataModelRemoveIceBreaker","adsMessengerDataModelRemoveQuickReply","adsMessengerDataModelSetCTATitle","adsMessengerDataModelSetCTAType","adsMessengerDataModelSetCTAURL","adsMessengerDataModelSetIceBreaker","adsMessengerDataModelSetQRPayload","adsMessengerDataModelSetQRTitle","setByPath","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsMessengerDestinationUtils").icebreakersHaveResponse;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showResponse:!1},d.$11=function(){d.props.onJSONChange(b("adsMessengerDataModelAddQuickReply")(d.props.welcomeMessageJSON))},d.$13=function(a,c){d.props.onJSONChange(b("adsMessengerDataModelSetQRTitle")(d.props.welcomeMessageJSON,a,c))},d.$14=function(a){d.props.onJSONChange(b("adsMessengerDataModelRemoveQuickReply")(d.props.welcomeMessageJSON,a))},d.$12=function(a,c){d.props.onJSONChange(b("adsMessengerDataModelSetQRPayload")(d.props.welcomeMessageJSON,a,c))},d.$6=function(){d.props.onJSONChange(b("adsMessengerDataModelAddCTA")(d.props.welcomeMessageJSON))},d.$9=function(a){d.props.onJSONChange(b("adsMessengerDataModelRemoveCTA")(d.props.welcomeMessageJSON,a))},d.$8=function(a,c){d.props.onJSONChange(b("adsMessengerDataModelSetCTAType")(d.props.welcomeMessageJSON,a,c))},d.$10=function(a,c){d.props.onJSONChange(b("adsMessengerDataModelSetCTAURL")(d.props.welcomeMessageJSON,a,c))},d.$7=function(a,c){d.props.onJSONChange(b("adsMessengerDataModelSetCTATitle")(d.props.welcomeMessageJSON,a,c))},d.$5=function(){d.setState({showResponse:!0})},d.$2=function(a,c,e){__p&&__p();var f=d.props.welcomeMessageJSON,g=b("adsMessengerDataModelGetIceBreaker")(f,a);switch(e){case b("AdsMessengerWelcomeMessageIcebreakerFields").TITLE:if(c===g.title)return;b("setByPath")(f,[b("AdsMessengerWelcomeMessageFields").USER_EDIT],!0);d.props.onJSONChange(b("adsMessengerDataModelSetIceBreaker")(f,a,(e={},e[b("AdsMessengerWelcomeMessageIcebreakerFields").TITLE]=c,e[b("AdsMessengerWelcomeMessageIcebreakerFields").RESPONSE]=g.response,e)));break;case b("AdsMessengerWelcomeMessageIcebreakerFields").RESPONSE:if(c===g.response)return;b("setByPath")(f,[b("AdsMessengerWelcomeMessageFields").USER_EDIT],!0);d.props.onJSONChange(b("adsMessengerDataModelSetIceBreaker")(f,a,(e={},e[b("AdsMessengerWelcomeMessageIcebreakerFields").TITLE]=g.title,e[b("AdsMessengerWelcomeMessageIcebreakerFields").RESPONSE]=c,e)));break}},d.$3=function(a){d.props.onJSONChange(b("adsMessengerDataModelRemoveIceBreaker")(d.props.welcomeMessageJSON,a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this;switch(this.props.customerAction){case b("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS:var c=i(this.props.iceBreakers)||this.state.showResponse,d=this.props.iceBreakers?this.props.iceBreakers.length>1:!1;return b("React").createElement(b("React").Fragment,null,(this.props.iceBreakers||[]).map(function(e,f){return b("React").createElement(b("AdsUEditorAdgroupMessengerFAQContentIceBreaker.react"),{index:f,showRemove:d,showResponse:c,value:e,onFocus:a.$1,onIceBreakerChange:a.$2,onRemoveIceBreaker:a.$3})}),b("React").createElement(b("ShimButton.react"),{className:"_6kj8",onClick:this.$4},b("React").createElement("span",{className:"_7i1z"},h._("Ajouter une question"))),!this.state.showResponse&&b("React").createElement(b("MessengerVisualEditorAddAutomatedResponseButton.react"),{onClick:this.$5}));case b("AdsMessengerVisualEditorCustomerActionType").BUTTONS:return b("React").createElement(b("AdsUEditorAdgroupMessengerVEContentCTASection.react"),{ctas:this.props.ctas,isMessengerPlatformBot:this.props.isMessengerPlatformBot,onAddButton:this.$6,onButtonTitleChange:this.$7,onCTATypeChange:this.$8,onRemoveButton:this.$9,onURLChange:this.$10});case b("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES:return b("React").createElement(b("AdsUEditorAdgroupMessengerVEQuickRepliesSection.react"),{isMessengerPlatformBot:this.props.isMessengerPlatformBot,quickReplies:this.props.quickReplies,onAddQuickReply:this.$11,onQRPayloadChange:this.$12,onQuickReplyTitleChange:this.$13,onRemoveQuickReply:this.$14});default:return b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"body3"},h._("Add frequently asked questions or buttons to make it easier for customers to start a conversation with your business. Customers will always be able to type their own message."))}};d.$4=function(){};d.$1=function(){};return c}(b("React").Component);e.exports=a}),null);
__d("adsMessengerDataModelRemoveAllActionType",["AdsMessengerJSONMediaFormatType","AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelRemoveAllCTA","adsMessengerDataModelRemoveAllQR","adsMessengerDataModelRemoveButtonTemplate","adsMessengerDataModelRemoveIceBreakers","adsMessengerDataModelSetActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){b("adsMessengerDataModelSetActionType")(a,b("AdsMessengerVisualEditorCustomerActionType").NONE);var c=b("adsMessengerDataModelGetMediaFormat")(a);if(c===b("AdsMessengerJSONMediaFormatType").TEXT){b("adsMessengerDataModelRemoveIceBreakers")(a);return b("adsMessengerDataModelRemoveAllQR")(b("adsMessengerDataModelRemoveButtonTemplate")(a,!0))}else return b("adsMessengerDataModelRemoveAllQR")(b("adsMessengerDataModelRemoveAllCTA")(a))}e.exports=a}),null);
__d("AdsMessengerDestinationExperienceCreateNewDialog.react",["cx","fbt","AdsJSONBlobField.react","AdsMessengerContentEditorTabs","AdsMessengerDestinationCreateNewEditor.react","AdsMessengerDestinationVESaveSection.react","AdsMessengerPageWelcomeMessageDataManager","AdsMessengerUtils","AdsMessengerVisualEditorCustomerActionType","AdsMessengerVisualEditorUtils","AdsMessengerWelcomeMessageDataType","AdsMessengerWelcomeMessageFields","AdsUniformValue","FDSButton.react","FDSSpinner.react","FDSText.react","LayerFadeOnHide","LeftRight.react","MessengerDestinationCreateNewEditorCustomerActionsDropdown.react","MessengerDestinationCustomerActionSection.react","MessengerDestinationExperiencePreview.react","React","SUIModal.react","SUIModalFillViewportHeight","SUIModalFooter.react","SUIModalHeader.react","adsMessengerDataModelGetActionType","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelGetWelcomeMessage","adsMessengerDataModelRemoveAllActionType","adsMessengerDataModelSetWelcomeMessage","adsMessengerDataModelSwitchToButtons","adsMessengerDataModelSwitchToIceBreakers","adsMessengerDataModelSwitchToQuickReplies","emptyFunction","setByPath","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[{title:h._("J\u2019aimerais en savoir plus"),content_type:"text"}];function j(a){var c=a.shouldSave,d=a.onClickFinish;a=a.onClickPreview;return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:c?b("React").createElement(b("FDSButton.react"),{label:h._("Enregistrer et terminer"),use:"primary",onClick:d}):b("React").createElement(b("FDSButton.react"),{label:h._("Finish"),use:"primary",onClick:d}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Afficher un aper\u00e7u dans Messenger"),use:"default",onClick:a})})}function k(){return b("React").createElement("div",{className:"_exm _3-95"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"body3",weight:"bold"},h._("Actions client")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"body3"},h._("Sugg\u00e9rez aux clients des questions ou des r\u00e9ponses sur lesquelles appuyer, ou bien utilisez un bouton pour rediriger les personnes vers votre site.")))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={greetingTextChanged:!1,shouldSave:!0,previewLoading:!1,showPreviewSuccessDialog:!1},d.$9=function(){d.setState({showPreviewSuccessDialog:!1})},d.$8=function(){if(!d.props.errorSpec){var a=d.props.pageID;if(a==null)return;b("AdsMessengerUtils").getJSONSend(d.props.welcomeMessageJSON,a,function(){},d.$10,function(){})}},d.$10=function(a){d.setState({showPreviewSuccessDialog:!0})},d.$7=function(){d.setState(function(a){return{shouldSave:!a.shouldSave}})},d.$6=function(a){switch(a){case b("AdsMessengerVisualEditorCustomerActionType").BUTTONS:d.props.onJSONChange(b("adsMessengerDataModelSwitchToButtons")(d.props.welcomeMessageJSON,!0));break;case b("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS:d.props.onJSONChange(b("adsMessengerDataModelSwitchToIceBreakers")(d.props.welcomeMessageJSON,d.props.pageID));break;case b("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES:d.props.onJSONChange(b("adsMessengerDataModelSwitchToQuickReplies")(d.props.welcomeMessageJSON,i,!0));break;case b("AdsMessengerVisualEditorCustomerActionType").NONE:d.props.onJSONChange(b("adsMessengerDataModelRemoveAllActionType")(d.props.welcomeMessageJSON))}},d.$5=function(a){var c=d.props.welcomeMessageJSON,e=b("adsMessengerDataModelGetWelcomeMessage")(c,!0);if(e===a)return;b("setByPath")(c,[b("AdsMessengerWelcomeMessageFields").USER_EDIT],!0);d.props.onJSONChange(b("adsMessengerDataModelSetWelcomeMessage")(c,new(b("AdsUniformValue"))(a),!0));d.setState({greetingTextChanged:!0})},d.$4=function(){return b("adsMessengerDataModelGetWelcomeMessage")(d.props.welcomeMessageJSON,!0)},d.$1=function(){var a=JSON.stringify(d.props.welcomeMessageJSON);b("AdsMessengerPageWelcomeMessageDataManager").createCustomTemplate(d.props.adgroupIDs,String(d.props.pageID),a,d.props.templateName,d.props.hostID,d.props.isEditTemplate,d.props.onHide());d.props.editorTab!==b("AdsMessengerContentEditorTabs").USE_EXISTING&&d.props.onTabChange(b("AdsMessengerContentEditorTabs").USE_EXISTING)},d.$2=function(){d.props.onHide()},d.$3=function(){if(!!d.props.errorSpec||d.props.pageID==null)return;b("AdsMessengerUtils").getJSONSend(d.props.welcomeMessageJSON,d.props.pageID,function(){},d.$10,function(){})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("AdsMessengerUtils").getWelcomeMessageDataType(this.props.welcomeMessageJSON)!==b("AdsMessengerWelcomeMessageDataType").VISUAL_EDITOR||this.props.editorTab===b("AdsMessengerContentEditorTabs").JSON;return b("React").createElement("div",null,b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight"),LayerHideOnBlur:null},footer:b("React").createElement(j,{shouldSave:this.state.shouldSave,onClickFinish:this.state.shouldSave?this.$1:this.$2,onClickPreview:this.$3}),header:b("React").createElement(b("SUIModalHeader.react"),{title:a?h._("Advanced JSON Setup"):h._("Edit Welcome Message")}),isShown:this.props.shown,width:950,onHide:this.props.onClose},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_7mdc"},b("React").createElement("div",{className:"_2phb"},a?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},h._("Edit or paste your customized JSON code here")),b("React").createElement("div",{className:"_2pid"},b("React").createElement(b("AdsJSONBlobField.react"),{label:"",value:this.props.welcomeMessageJSON,onChange:this.props.onJSONChange,onJSONSend:b("emptyFunction")}))):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("AdsMessengerDestinationCreateNewEditor.react"),{accountID:this.props.accountID,editorTab:this.props.editorTab,getGreetingText:this.$4,greetingTextChanged:this.state.greetingTextChanged,isVideoLoading:this.props.isVideoLoading,pageID:String(this.props.pageID),videoURL:this.props.videoURL,welcomeMessageJSON:this.props.welcomeMessageJSON,onGreetingTextChange:this.$5,onJSONChange:this.props.onJSONChange}),b("React").createElement(k,null),b("React").createElement(b("MessengerDestinationCreateNewEditorCustomerActionsDropdown.react"),{customerAction:b("adsMessengerDataModelGetActionType")(this.props.welcomeMessageJSON),format:b("adsMessengerDataModelGetMediaFormat")(this.props.welcomeMessageJSON),onChangeCustomerAction:this.$6}),b("React").createElement(b("MessengerDestinationCustomerActionSection.react"),{ctas:b("adsMessengerDataModelGetCTAs")(this.props.welcomeMessageJSON),customerAction:b("adsMessengerDataModelGetActionType")(this.props.welcomeMessageJSON),iceBreakers:b("adsMessengerDataModelGetIceBreakers")(this.props.welcomeMessageJSON),isMessengerPlatformBot:!!b("AdsMessengerUtils").getIsMessengerPlatformBot(this.props.pageID),quickReplies:b("adsMessengerDataModelGetQuickReplies")(this.props.welcomeMessageJSON),welcomeMessageJSON:this.props.welcomeMessageJSON,onJSONChange:this.props.onJSONChange})),b("React").createElement(b("AdsMessengerDestinationVESaveSection.react"),{editorTab:this.props.editorTab,shouldSave:this.state.shouldSave,templateName:this.props.templateName,onTemplateNameChange:this.props.onTemplateNameChange,onToggleSaveCheckbox:this.$7}))),b("React").createElement("div",{className:"_1wrt"},b("React").createElement("div",{className:"_3d22"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body1",weight:"bold"},h._("Aper\u00e7u Messenger"))),b("React").createElement("div",{className:"_3d24"},this.state.previewLoading&&b("React").createElement("div",{className:"_3mqx"},b("React").createElement(b("FDSSpinner.react"),null)),b("React").createElement(b("MessengerDestinationExperiencePreview.react"),{pageID:this.props.pageID,pageName:this.props.pageName,videoURL:this.props.videoURL,visualEditorName:this.props.editorTab,welcomeMessageJSON:this.props.welcomeMessageJSON,onJSONSend:this.$8}))))),b("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.state.showPreviewSuccessDialog,this.props.pageName,this.$9))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationContainer.react",["ix","fbt","Bootloader","DateTime","FDSButton.react","FDSSpinner.react","Image.react","JSResource","React","asset","emptyFunction","lazyLoadComponent","memoize"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("memoize")(function(){b("Bootloader").loadModules(["MessengerDestinationPartialAutomatedCreationDialogContainer.react"],b("emptyFunction"),"MessengerDestinationPartialAutomatedCreationContainer.react")}),j=b("lazyLoadComponent")(b("JSResource")("MessengerDestinationPartialAutomatedCreationDialogContainer.react").__setRef("MessengerDestinationPartialAutomatedCreationContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={edited:!1,showDialog:!1},c.$1=function(){c.$4(!0)},c.$3=function(){c.setState({edited:!0})},c.$4=function(a){c.setState({showDialog:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){i()};d.render=function(){var a;a=(a=this.props.isFollowUpStyle)!=null?a:!1;var c=this.state.edited?h._("Modifier la discussion"):h._("Cr\u00e9er une discussion");a&&!this.state.edited&&(c=h._("Cr\u00e9er"));return b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("378286")}),label:c,onClick:this.$1}),this.$2())};d.$2=function(){var a;a=(a=this.props.isFollowUp)!=null?a:!1;var c=h._("Discussion automatis\u00e9e").toString(),d=h._("Promouvoir l\u2019application").toString();d=(a?d:c)+" "+b("DateTime").localNow().format("m-d-y");return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("FDSSpinner.react"),null)},b("React").createElement(j,{isFollowUp:a,selectedTemplateName:d,shown:this.state.showDialog,onEdited:this.$3,onToggle:this.$4}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationExperiencePESection.react",["ix","cx","fbt","AdsMessengerContentEditorTabs","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","FDSButton.react","Image.react","Link.react","MessengerDestinationPartialAutomatedCreationContainer.react","React","SUIBusinessTheme","SUICloseButton.react","SUIRadioList.react","SUISelector.react","SUISelectorOption.react","SUIText.react","URI","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("SUIRadioList.react").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){d.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(d.props.pageID))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,this.$1(),this.$2())};d.$2=function(){__p&&__p();var a=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("363444")}),label:i._("Afficher un aper\u00e7u dans Messenger"),onClick:this.props.onPreviewInMessengerButtonClicked}),c=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("477824")}),label:i._("Modifier"),onClick:this.props.onEditStandardTemplateButtonClick});c=b("React").createElement(j,{key:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE,theme:b("SUIBusinessTheme"),value:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{size:"body3",weight:"bold"},i._("Mod\u00e8le standard"))),b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"secondary",size:"body3"},i._("Commencez par un mod\u00e8le qui comprend une salutation et quelques questions que les gens sont susceptibles de poser \u00e0 votre entreprise."))),this.props.tabValue===b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE?b("React").createElement("div",{className:"_3-8y _3-96"},b("React").createElement("div",{className:"_2pii _653e"},c),b("React").createElement("div",{className:"_653e"},a)):null);a=b("React").createElement(b("Link.react"),{href:new(b("URI"))("/business/m/one-sheeters/improve-click-to-messenger?locale=en_US"),target:"_blank"},i._("Voir des astuces et des exemples."));var d=this.props.customTemplatesList.length===0;d=d?i._("Cr\u00e9ez votre propre mod\u00e8le pour ajouter des photos, des vid\u00e9os, des boutons et plus encore \u00e0 votre exp\u00e9rience d\u2019accueil. Enregistrez vos mod\u00e8les, c\u2019est facile et pratique\u00a0: vous pouvez ensuite les r\u00e9utiliser pour vos futures campagnes. {Tips and exammples about CTM ad}",[i._param("Tips and exammples about CTM ad",a)]):i._("Cr\u00e9ez un nouveau mod\u00e8le ou choisissez-en un parmi ceux que vous avez d\u00e9j\u00e0 cr\u00e9\u00e9s. {Tips and exammples about CTM ad}",[i._param("Tips and exammples about CTM ad",a)]);a=b("React").createElement(j,{key:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE,theme:b("SUIBusinessTheme"),value:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{size:"body3",weight:"bold"},i._("Mod\u00e8le personnalis\u00e9"))),b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"secondary",size:"body3"},d)));d=[c,a];switch(this.props.landingScreenType){case b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE:return b("React").createElement("div",null,b("React").createElement(b("SUIRadioList.react"),{theme:b("SUIBusinessTheme"),value:this.props.tabValue,onChange:this.props.onTabChange},d),this.props.tabValue===b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE?b("React").createElement("div",{className:"_3-8y _3-9d"},this.$3()):null);case b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED:return b("React").createElement("div",{className:"_6b7v"},b("AdsMessengerUtils").getGetStartedNotice());case b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN:return b("React").createElement("div",null,b("React").createElement(b("MessengerDestinationPartialAutomatedCreationContainer.react"),{isCTMLeadGenBetaDesign:this.props.isCTMLeadGenBetaDesign,isEditingFlow:!0}))}return null};d.$1=function(){var a=b("React").createElement(b("SUISelectorOption.react"),{key:b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE,value:b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE},i._("Cr\u00e9er la v\u00f4tre"));a=[a];if(this.props.isGetStartedEnabled){var c=b("React").createElement(b("SUISelectorOption.react"),{key:b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED,value:b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED},i._("Utiliser votre \u00e9cran de d\u00e9marrage"));a.push(c)}return this.props.isGetStartedEnabled?b("React").createElement("div",{className:"_2ymq"},b("React").createElement(b("SUISelector.react"),{theme:b("SUIBusinessTheme"),value:this.props.landingScreenType,onChange:this.props.onLandingScreenChange},a)):b("React").createElement("div",null)};d.$3=function(){var a=b("React").createElement(b("SUISelector.react"),{placeholder:i._("Utiliser un mod\u00e8le existant"),theme:b("SUIBusinessTheme"),value:this.props.selectedRowIndex,onChange:this.props.onSelectedRowIndexChange},this.props.customTemplatesList.map(function(a,c){return b("React").createElement(b("SUISelectorOption.react"),{key:a.id,theme:b("SUIBusinessTheme"),value:c},a.template_name)})),c=b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.pageID,label:i._("Cr\u00e9er"),use:"primary",onClick:this.props.onCreateNewTemplateClick});if(this.props.selectedTemplateID)return this.$4();else if(this.props.customTemplatesList.length>0)return b("React").createElement("div",null,b("React").createElement("div",{className:"_2pii _653e"},a),b("React").createElement("div",{className:"_653e"},c));else return b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.pageID,label:i._("D\u00e9marrer"),use:"primary",onClick:this.props.onCreateNewTemplateClick})};d.$4=function(){var a=this,c=this.props.customTemplatesList.find(function(b){return b.id===a.props.selectedTemplateID});if(!c)return b("React").createElement("div",null);var d=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("363444")}),label:i._("Afficher un aper\u00e7u dans Messenger"),onClick:this.props.onPreviewInMessengerButtonClicked}),e=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("422635")}),isDisabled:this.props.selectedTemplateID===null,label:i._("Dupliquer"),onClick:this.props.onDuplicateButtonClicked});return b("React").createElement("div",{className:"_1yea"},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("SUIText.react"),{color:"primary",size:"header4",weight:"bold"},c.template_name),b("React").createElement("div",{className:"_1yeb"},b("React").createElement(b("SUICloseButton.react"),{onClick:this.$5}))),b("React").createElement("div",{className:"_2pit _2pio"},b("React").createElement("div",{className:"_2pii _653e"},e),b("React").createElement("div",{className:"_653e"},d)))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerAdsPartialAutomatedBroadcastType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NOTIFY_ME:"NOTIFY_ME",SIGN_UP:"SIGN_UP",GET_UPDATES:"GET_UPDATES"})}),null);
__d("MessengerAdsPartialAutomatedReplyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUICK_REPLIES:"QUICK_REPLIES",TEXT:"TEXT",NONE:"NONE",PREFILL:"PREFILL",ICE_BREAKERS:"ICE_BREAKERS",APPOINTMENT:"APPOINTMENT",SUBSCRIBE:"SUBSCRIBE"})}),null);
__d("MessengerAdsPartialAutomatedStepType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({QUESTION:"QUESTION",CONFIRMATION:"CONFIRMATION",DISQUALIFY:"DISQUALIFY",INTRO:"INTRO"})}),null);
__d("AdsMessengerPartialAutomatedCreationUtils",["fbt","AdsInterfacesLogger","AdsMessengerMPAConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerVisualEditorLoggerEvents","ApiPageFields","DateTime","MessengerAdsPartialAutomatedBroadcastMediaType","MessengerAdsPartialAutomatedBroadcastType","MessengerAdsPartialAutomatedPrefillType","MessengerAdsPartialAutomatedReplyType","MessengerAdsPartialAutomatedStepType","ads-lib-urllib"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSectionStatus,l=10,m=g._("URL non valide");function n(a){return{step_id:0,message:a.text,media_type:a.media_type,media_content:a.media_content,step_type:b("MessengerAdsPartialAutomatedStepType").INTRO,reply_type:b("MessengerAdsPartialAutomatedReplyType").NONE,next_step_ids:[1],crm_field_id:null}}function o(a,c){return{step_id:c,message:a.text,media_type:a.media_type,media_content:a.media_content,step_type:b("MessengerAdsPartialAutomatedStepType").CONFIRMATION,reply_type:b("MessengerAdsPartialAutomatedReplyType").NONE,crm_field_id:null}}function p(a,c){return{step_id:c,message:a,media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,step_type:b("MessengerAdsPartialAutomatedStepType").DISQUALIFY,reply_type:b("MessengerAdsPartialAutomatedReplyType").NONE,crm_field_id:null}}function q(a,c,d){__p&&__p();if(!a.answers)return null;var e=a.answers&&a.answers.map(function(a){switch(a.nextStep){case h.NEXT_QUESTION:return c+2;case h.CONFIRMATION_MESSAGE:return d;case h.DISQUALIFY_MESSAGE:return d+1;default:return c+2}}),f=a.answers&&a.answers.map(function(a){return a.value}),g=a.answers&&a.answers.map(function(a){return a.fieldID});return{step_id:c+1,step_type:b("MessengerAdsPartialAutomatedStepType").QUESTION,reply_type:b("MessengerAdsPartialAutomatedReplyType").QUICK_REPLIES,message:a.questionMessage,media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,answers:f,answer_crm_field_ids:g,next_step_ids:e,crm_field_id:a.fieldID===""?null:a.fieldID}}function r(a){return a.some(function(a){return a.answers&&a.answers.some(function(a){return a.nextStep===h.DISQUALIFY_MESSAGE})})}function s(a,c,d,e){__p&&__p();if(a[d+1]==null)return h.NEXT_QUESTION;if(c.next_steps&&c.next_steps.data[e].id===a[d+1].id)return h.NEXT_QUESTION;d=a.filter(function(a){return a.step_type===b("MessengerAdsPartialAutomatedStepType").CONFIRMATION});if(c.next_steps&&d&&c.next_steps.data[e].id===d[0].id)return h.CONFIRMATION_MESSAGE;d=a.filter(function(a){return a.step_type===b("MessengerAdsPartialAutomatedStepType").DISQUALIFY});return c.next_steps&&d&&c.next_steps.data[e].id===d[0].id?h.DISQUALIFY_MESSAGE:h.NEXT_QUESTION}var t={EMPTY_QUESTION_SECTION_ERROR_MESSAGE:g._("Au moins une question requise"),EMPTY_FIELD_ERROR_MESSAGE:g._("Ce champ est obligatoire"),EMPTY_IMAGE_ERROR_MESSAGE:g._("S\u00e9lectionnez une image pour votre message"),EMPTY_VIDEO_ERROR_MESSAGE:g._("S\u00e9lectionnez une vid\u00e9o pour votre message"),EMPTY_FOLLOW_UP_SECTION_TEXT:g._("Enter the text for your message"),EMPTY_FOLLOW_UP_SECTION_BUTTON_LABEL:g._("Enter a label for your button"),EMPTY_FOLLOW_UP_SECTION_APP_INFO:g._("Choisissez une app \u00e0 promouvoir."),getMaxQuestionNumber:function(){return l},getMaxOptionNumber:function(){return l},getHeaderName:function(a){__p&&__p();switch(a){case j.INTRO_MESSAGE:return g._("Intro");case j.QUESTIONS:return g._("Questions");case j.CONFIRMATION_MESSAGE:return g._("Message de remerciement");case j.DISQUALIFY_MESSAGE:return g._("Message de disqualification");case j.REMINDER:return g._("Rappel de finalisation");case j.PRIVACY_POLICY:return g._("Conditions d\u2019utilisation et politique de confidentialit\u00e9");case j.FOLLOW_UP:return g._("Message de suivi");case j.GREETING:return g._("Salutations");default:return""}},getSectionStatus:function(a,b){return b===!1?k.IN_PROGRESS:a===null?k.NO_ERROR:k.ERROR},getRequiredTextFieldErrorMessage:function(a,b){return a&&/\S/.test(a.toString())||!b?null:t.EMPTY_FIELD_ERROR_MESSAGE},getMediaErrorMessage:function(a,c,d){if(a===b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE){a=c!=null?c.split(":").length===2:!1;return a||!d?null:t.EMPTY_IMAGE_ERROR_MESSAGE}return null},getQuestionsSectionErrorMessage:function(a,b){if(!b)return null;if(a.length===0)return t.EMPTY_QUESTION_SECTION_ERROR_MESSAGE;return!t.validateEachQuestionItem(a)?t.EMPTY_FIELD_ERROR_MESSAGE:null},getFollowUpSectionErrorMessages:function(a,c){__p&&__p();if(!c)return null;c={};(!a.text||a.text==null)&&(c.text=t.EMPTY_FOLLOW_UP_SECTION_TEXT);Boolean(a.button_label)||(c.button_label=t.EMPTY_FOLLOW_UP_SECTION_BUTTON_LABEL);a.app_info||(c.app_info=t.EMPTY_FOLLOW_UP_SECTION_APP_INFO);if(a.media_type===b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE){var d=a.media_content;d=d!=null?d.split(":").length===2:!1;d||(c.image_hash=t.EMPTY_IMAGE_ERROR_MESSAGE)}a.media_type===b("MessengerAdsPartialAutomatedBroadcastMediaType").VIDEO&&(a.media_content==null||a.media_content==="")&&(c.video=t.EMPTY_VIDEO_ERROR_MESSAGE);return Object.keys(c).length>0?c:null},getPrivacyPolicyLinkURLErrorMessage:function(a,c){__p&&__p();if(!c)return null;if(!a){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_EMPTY_PRIVACY_LINK});return t.EMPTY_FIELD_ERROR_MESSAGE}if(!b("ads-lib-urllib").isUrl(a)){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_LEAD_GEN_INVALID_PRIVACY_LINK});return m}return null},getAnswerTypeName:function(a){__p&&__p();switch(a){case i.MULTIPLE_CHOICE:return g._("Options");case i.CUSTOM:return g._("R\u00e9ponse courte");case b("MessengerAdsPartialAutomatedPrefillType").ZIP_CODE:return g._("Code postal");case b("MessengerAdsPartialAutomatedPrefillType").CITY:return g._("Ville");case b("MessengerAdsPartialAutomatedPrefillType").STATE:return g._("\u00c9tat");case b("MessengerAdsPartialAutomatedPrefillType").COUNTRY:return g._("Pays");case b("MessengerAdsPartialAutomatedPrefillType").EMAIL:return g._("Adresse e-mail");case b("MessengerAdsPartialAutomatedPrefillType").PHONE:return g._("Num\u00e9ro de t\u00e9l\u00e9phone");case b("MessengerAdsPartialAutomatedPrefillType").JOB_TITLE:return g._("Poste");case b("MessengerAdsPartialAutomatedPrefillType").COMPANY_NAME:return g._("Nom de l\u2019entreprise");case b("MessengerAdsPartialAutomatedPrefillType").GENDER:return g._("Sexe");case b("MessengerAdsPartialAutomatedPrefillType").DOB:return g._("Date de naissance");case b("MessengerAdsPartialAutomatedBroadcastType").NOTIFY_ME:return g._("Pr\u00e9venez-moi");case b("MessengerAdsPartialAutomatedBroadcastType").SIGN_UP:return g._("Inscription");case b("MessengerAdsPartialAutomatedBroadcastType").GET_UPDATES:return g._("Recevoir les actualit\u00e9s")}return""},validateEachQuestionItem:function(a){return a.every(function(a,b){if(!a.questionMessage||a.answerType===null||!/\S/.test(a.questionMessage.toString()))return!1;return a.answerType!==i.MULTIPLE_CHOICE?!0:a.answers&&a.answers[0]&&a.answers[0].value})},validatePartialAutomatedCreationData:function(a,c,d,e,f,g,h,i,j){f=t.getPrivacyPolicyLinkURLErrorMessage(f,!i);var k=r(a);if(k&&e==="")return!1;k=!d||t.getMediaErrorMessage(d.media_type,d.media_content,!0)==null&&(d.media_type===b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT||d.text!=="");e=!i||j==null||t.getFollowUpSectionErrorMessages(j,!0)==null;d=t.getMediaErrorMessage(c.media_type,c.media_content,!0)==null;return k&&e&&d&&a.length>0&&t.validateEachQuestionItem(a)&&/\S/.test(g.toString())&&/\S/.test(c.text.toString())&&f==null&&h!=null&&(h[b("ApiPageFields").LEADGEN_TOS_ACCEPTED]||i)},getPostData:function(a,c,d,e,f,g,h,j){__p&&__p();var k=1,l=[],m=c.length+1;if(a!=null&&a.text!==""){a=n(a);k=a.step_id;l.push(a)}c.forEach(function(a,c){__p&&__p();switch(a.answerType){case i.MULTIPLE_CHOICE:var d=q(a,c,m);d!==null&&l.push(d);break;case i.CUSTOM:l.push({step_id:c+1,step_type:b("MessengerAdsPartialAutomatedStepType").QUESTION,reply_type:b("MessengerAdsPartialAutomatedReplyType").TEXT,message:a.questionMessage,media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,next_step_ids:[c+2],crm_field_id:a.fieldID===""?null:a.fieldID});break;case b("MessengerAdsPartialAutomatedPrefillType").ZIP_CODE:case b("MessengerAdsPartialAutomatedPrefillType").CITY:case b("MessengerAdsPartialAutomatedPrefillType").STATE:case b("MessengerAdsPartialAutomatedPrefillType").COUNTRY:case b("MessengerAdsPartialAutomatedPrefillType").EMAIL:case b("MessengerAdsPartialAutomatedPrefillType").PHONE:case b("MessengerAdsPartialAutomatedPrefillType").JOB_TITLE:case b("MessengerAdsPartialAutomatedPrefillType").COMPANY_NAME:case b("MessengerAdsPartialAutomatedPrefillType").GENDER:case b("MessengerAdsPartialAutomatedPrefillType").DOB:l.push({step_id:c+1,step_type:b("MessengerAdsPartialAutomatedStepType").QUESTION,reply_type:b("MessengerAdsPartialAutomatedReplyType").PREFILL,prefill_type:a.answerType,message:a.questionMessage,media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,next_step_ids:[c+2],crm_field_id:a.fieldID===""?null:a.fieldID});break;case b("MessengerAdsPartialAutomatedBroadcastType").NOTIFY_ME:case b("MessengerAdsPartialAutomatedBroadcastType").SIGN_UP:case b("MessengerAdsPartialAutomatedBroadcastType").GET_UPDATES:d=(d=a.answerType)!=null?d:"";l.push({step_id:c+1,step_type:b("MessengerAdsPartialAutomatedStepType").QUESTION,reply_type:b("MessengerAdsPartialAutomatedReplyType").SUBSCRIBE,message:a.questionMessage,answers:[t.getAnswerTypeName(d).toString()],next_step_ids:[c+2],crm_field_id:a.fieldID===""?null:a.fieldID});break;default:break}});l.push(o(d,m));r(c)&&l.push(p(e,m+1));f!=null&&delete f.app_info;return{first_step_id:k,privacy_url:"www.example.com",step_list:l,is_preview:j,reminder_text:g,follow_up_message:f,partial_automated_type:h}},getStateData:function(a,c,d){__p&&__p();var e={text:"",media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""},f="",g={text:"",media_type:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:""};d=d&&d[0];var h=null;if(d!=null){var j=d==null?void 0:d.media_type,k=b("DateTime").localNow().getUnixTimestampSeconds(),l=d.schedule_time;k=l==null||l===0||l<k?b("DateTime").localNow().addMonths(1).getUnixTimestampSeconds():l;h={schedule_time:k,text:(l=d==null?void 0:d.text)!=null?l:"",media_type:j!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[j]:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:(k=d==null?void 0:d.media_content)!=null?k:"",button_label:(l=d==null?void 0:d.button_label)!=null?l:"",app_info:null,app_id:null}}var m=[];a.forEach(function(c,d){__p&&__p();if(!c)return;switch(c.step_type){case b("MessengerAdsPartialAutomatedStepType").INTRO:e={text:c.message,media_type:c.media_type!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[c.media_type]:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:c.media_content};break;case b("MessengerAdsPartialAutomatedStepType").QUESTION:var h;switch(c.reply_type){case b("MessengerAdsPartialAutomatedReplyType").ICE_BREAKERS:case b("MessengerAdsPartialAutomatedReplyType").QUICK_REPLIES:case b("MessengerAdsPartialAutomatedReplyType").SUBSCRIBE:h=i.MULTIPLE_CHOICE;break;case b("MessengerAdsPartialAutomatedReplyType").TEXT:h=i.CUSTOM;break;case b("MessengerAdsPartialAutomatedReplyType").PREFILL:h=c.prefill_type;break;default:h=null;break}if(h){var j=c.answers&&c.answers.map(function(b,e){var f=s(a,c,d,e);return{fieldID:c.answer_crm_field_ids?c.answer_crm_field_ids[e]:"",value:b,nextStep:f}});m.push({questionMessage:c.message,answerType:h,answers:j,fieldID:(j=c.crm_field_id)!=null?j:""})}break;case b("MessengerAdsPartialAutomatedStepType").CONFIRMATION:g={text:c.message,media_type:c.media_type!=null?b("MessengerAdsPartialAutomatedBroadcastMediaType")[c.media_type]:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT,media_content:c.media_content};break;case b("MessengerAdsPartialAutomatedStepType").DISQUALIFY:f=c.message;break}});return{confirmationMessage:g,disqualifyMessage:f,introMessage:e,questionItems:m,reminderText:c,followUpMessage:h}},getPlaceholderFieldID:function(a){return a.split(" ").join("_").toLowerCase()},getDefaultCTMLeadGenForm:function(){return{confirmationMessage:b("AdsMessengerMPAConstants").DEFAULT_CONFIRMATION_MESSAGE_CTM_LEAD_GEN,disqualifyMessage:b("AdsMessengerMPAConstants").DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),introMessage:b("AdsMessengerMPAConstants").DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_LEAD_GEN,questionItems:[{fieldID:"",questionMessage:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_QUESTION_MESSAGE.toString(),answerType:b("MessengerAdsPartialAutomatedPrefillType").CITY,answers:null}],reminderText:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString()}},getDefaultCTMAnnouncementForm:function(){return{confirmationMessage:b("AdsMessengerMPAConstants").DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_ANNOUNCEMTENT,disqualifyMessage:b("AdsMessengerMPAConstants").DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),introMessage:null,questionItems:[{fieldID:"",questionMessage:b("AdsMessengerMPAConstants").DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_ANNOUNCEMENT.text,answerType:b("MessengerAdsPartialAutomatedBroadcastType").GET_UPDATES,answers:null}],reminderText:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString()}}};e.exports=t}),null);
__d("MessengerDestinationMessengerExperienceCustomTemplateRadioList.react",["ix","cx","fbt","AdsLearnMore.react","AdsMessengerVisualEditorCreateNewType","FDSButton.react","FDSText.react","Image.react","MessengerDestinationPartialAutomatedCreationContainer.react","React","XUIRadioList.react","XUIRadioListItem.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=i._("Cr\u00e9er");return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_2piq"},i._("Commencez avec un mod\u00e8le personnalis\u00e9 bas\u00e9 sur le but de votre pub\u00a0:")),b("React").createElement(b("XUIRadioList.react"),{selectedValue:this.props.selectorValue,onValueChange:this.props.onChange},b("React").createElement(b("XUIRadioListItem.react"),{value:b("AdsMessengerVisualEditorCreateNewType").WELCOME_MESSAGE},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("D\u00e9marrer des conversations")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x _3-97",size:"body3",weight:"normal"},i._("Incitez les gens \u00e0 engager la conversation avec votre entreprise en leur proposant des sujets sur lesquels appuyer. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])),this.props.selectorValue===b("AdsMessengerVisualEditorCreateNewType").WELCOME_MESSAGE?b("React").createElement("div",{className:"_2pip"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("378286")}),label:a,onClick:this.props.onCreateNewTemplateClick})):null),b("React").createElement(b("XUIRadioListItem.react"),{value:b("AdsMessengerVisualEditorCreateNewType").CTM_LEAD_GEN},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("G\u00e9n\u00e9rer des prospects")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x _3-97",size:"body3",weight:"normal"},i._("Recueillez des informations sur les personnes int\u00e9ress\u00e9es par votre entreprise en leur posant des questions dans une discussion automatis\u00e9e. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"592240724554522"}))])),this.props.selectorValue===b("AdsMessengerVisualEditorCreateNewType").CTM_LEAD_GEN?b("React").createElement("div",{className:"_2pip"},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationContainer.react"),{isCTMLeadGenBetaDesign:!0,isEditingFlow:!1,isFollowUp:!1,isFollowUpStyle:!0})):null),b("React").createElement(b("XUIRadioListItem.react"),{value:b("AdsMessengerVisualEditorCreateNewType").FOLLOW_UP},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Faites la promotion de votre site ou de votre app")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x",size:"body3",weight:"normal"},i._("Incitez les gens \u00e0 s\u2019inscrire aux derni\u00e8res nouvelles, puis envoyez un message de suivi pour promouvoir votre site ou votre app \u00e0 tout moment. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"2138706492856723"}))])),this.props.selectorValue===b("AdsMessengerVisualEditorCreateNewType").FOLLOW_UP?b("React").createElement("div",{className:"_2pif _2pip"},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationContainer.react"),{isCTMLeadGenBetaDesign:!0,isEditingFlow:!1,isFollowUp:!0,isFollowUpStyle:!0})):null)))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationMessengerExperienceCustomTemplate.react",["ix","cx","fbt","AdsInterfacesLogger","AdsLearnMore.react","AdsMessengerContentEditorTabs","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorCreateNewType","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","FDSButton.react","FDSText.react","Image.react","MessengerDestinationExperienceDialog.react","MessengerDestinationMessengerExperienceCustomTemplateRadioList.react","MessengerDestinationPartialAutomatedCreationContainer.react","React","XUIRadioList.react","XUIRadioListItem.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={selectorValue:b("AdsMessengerVisualEditorCreateNewType").WELCOME_MESSAGE},d.$1=function(a){d.setState({selectorValue:a});var c=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID);a===b("AdsMessengerVisualEditorCreateNewType").WELCOME_MESSAGE?(d.props.onJSONChange(c,!0),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_CUSTOM_WELCOME_MESSAGE})):a===b("AdsMessengerVisualEditorCreateNewType").CTM_LEAD_GEN?(b("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(b("AdsMessengerPartialAutomatedCreationUtils").getDefaultCTMLeadGenForm(),{line:"217",module:"MessengerDestinationMessengerExperienceCustomTemplate.react.js"}),d.props.onJSONChange(babelHelpers["extends"]({},c,{landing_screen_type:b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW}),!0),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_LEAD_GEN})):a===b("AdsMessengerVisualEditorCreateNewType").FOLLOW_UP&&(b("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(b("AdsMessengerPartialAutomatedCreationUtils").getDefaultCTMAnnouncementForm(),{line:"232",module:"MessengerDestinationMessengerExperienceCustomTemplate.react.js"}),d.props.onJSONChange(babelHelpers["extends"]({},c,{landing_screen_type:b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP}),!0),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_FOLLOW_UP}))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=i._("Cr\u00e9er un message");a=this.props.isFollowUpStyle?b("React").createElement(b("MessengerDestinationMessengerExperienceCustomTemplateRadioList.react"),{selectorValue:this.state.selectorValue,onChange:this.$1,onCreateNewTemplateClick:this.props.onCreateNewTemplateClick}):b("React").createElement(b("XUIRadioList.react"),{selectedValue:this.state.selectorValue,onValueChange:this.$1},b("React").createElement(b("XUIRadioListItem.react"),{value:b("AdsMessengerVisualEditorCreateNewType").WELCOME_MESSAGE},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Personnaliser le message de bienvenue")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x _3-97",size:"body3",weight:"normal"},i._("Ajoutez des photos, des vid\u00e9os, des boutons et plus encore \u00e0 votre message de bienvenue. Vous pouvez facilement enregistrer vos mod\u00e8les pour les r\u00e9utiliser dans les campagnes \u00e0 venir. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])),this.state.selectorValue===b("AdsMessengerVisualEditorCreateNewType").WELCOME_MESSAGE?b("React").createElement("div",{className:"_2pip"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("378286")}),label:a,onClick:this.props.onCreateNewTemplateClick})):null),b("React").createElement(b("XUIRadioListItem.react"),{value:b("AdsMessengerVisualEditorCreateNewType").CTM_LEAD_GEN},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Discussion automatis\u00e9e")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8x _3-97",size:"body3",weight:"normal"},i._("Recueillez des informations sur les personnes int\u00e9ress\u00e9es par votre entreprise en leur posant des questions dans une discussion automatis\u00e9e. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"592240724554522"}))])),this.state.selectorValue===b("AdsMessengerVisualEditorCreateNewType").CTM_LEAD_GEN?b("React").createElement("div",{className:"_2pip"},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationContainer.react"),{isAnnouncement:!1,isCTMLeadGenBetaDesign:!0,isEditingFlow:!1})):null));return b("React").createElement("div",{className:"_7129"},a,this.$2())};d.$2=function(){var a=b("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage);return this.props.pageID==null||this.props.pageID===""?b("React").createElement("div",null):b("React").createElement(b("MessengerDestinationExperienceDialog.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorType:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isBetaDesign:!0,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,shown:this.props.showDialog,templateName:this.props.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,visualEditorName:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE,welcomeMessageJSON:a,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange,onToggle:this.props.onToggle})};return c}(b("React").Component);e.exports=a}),null);
__d("XMessengerAdsSetPrivacyPolicyURLController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/set_privacy_policy_url/",{page_id:{type:"FBID"},privacy_info_url:{type:"String"}})}),null);
__d("XMessengerPartialAutomatedPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/ctm_lead_gen/preview/",{page_welcome_message:{type:"String"},page_id:{type:"FBID"}})}),null);
__d("AdsMessengerPartialAutomatedCreationDataManager",["fbt","AdsGraphAPI","AdsInterfacesLogger","AdsMessengerPageWelcomeMessageDataManager","AdsMessengerPartialAutomatedCreationErrorDataAction","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerVisualEditorUtils","AdsPageSetPrivacyPolicyURLDataAction","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","AsyncRequest","XMessengerAdsSetPrivacyPolicyURLController","XMessengerPartialAutomatedPreviewController","promiseAsyncRequest","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g._("URL non valide"),i={generatePreview:function(a,c,d,f,g,h,j,k,l){c=b("AdsMessengerPartialAutomatedCreationUtils").getPostData(c,d,f,g,h,j,k,!0);b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",a).edge("messenger_lead_forms").post(c),function(b){i._sendCTMLeadGenPreviewFromResponse(b,a,k,l)},function(a){return i._errorHandler(a)})},createForm:function(a,c,d,f,g,j,k,l,m,n,o,p){var q=b("AdsMessengerPartialAutomatedCreationUtils").getPostData(f,g,j,k,l,n,p,!1);b("promiseDone")(b("promiseAsyncRequest")(b("XMessengerAdsSetPrivacyPolicyURLController").getURIBuilder().setFBID("page_id",d).setString("privacy_info_url",m).getURI()),function(f){b("AdsPageSetPrivacyPolicyURLDataAction").dispatch({pageID:d,privacyPolicyURL:m},{line:"128",module:"AdsMessengerPartialAutomatedCreationDataManager.js"}),b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",d).edge("messenger_lead_forms").post(q),function(e){i._successCreateForm(e,a,c,d,m,o,p,l),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerPartialAutomatedLoggerEvents").MPA_SUCCUSS_CREATE_FORM})},function(a){return i._errorHandler(a)})},function(a){b("AdsMessengerPartialAutomatedCreationErrorDataAction").dispatch({errorMessage:h.toString()},{line:"160",module:"AdsMessengerPartialAutomatedCreationDataManager.js"}),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerPartialAutomatedLoggerEvents").MPA_ERROR_CREATE_FORM})})},sendCTMLeadGenPreview:function(a,c,d,e){c=b("XMessengerPartialAutomatedPreviewController").getURIBuilder().setFBID("page_id",c).setString("page_welcome_message",a).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setHandler(function(a){d()}).setErrorHandler(function(a){e&&e(a.getErrorDescriptionString()||"")}).send()},_errorHandler:function(a){a=a.error_user_msg!==null&&a.error_user_msg!==void 0?a.error_user_msg:a.message;b("AdsMessengerPartialAutomatedCreationErrorDataAction").dispatch({errorMessage:a},{line:"198",module:"AdsMessengerPartialAutomatedCreationDataManager.js"});b("AdsInterfacesLogger").log({eventName:b("AdsMessengerPartialAutomatedLoggerEvents").MPA_ERROR_CREATE_FORM})},_successCreateForm:function(a,c,d,e,f,g,h,i){f=b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(e);d=d.adgroupEditorContext.hostID;f.landing_screen_type=h;f.ctm_lead_gen_template_id=a.id;b("AdsMessengerPageWelcomeMessageDataManager").createCustomTemplate(c,e,JSON.stringify(f),g,d);h=i?{hostID:d,adgroupIDs:c,pageWelcomeMessage:JSON.stringify(f),followUpMessage:i}:{hostID:d,adgroupIDs:c,pageWelcomeMessage:JSON.stringify(f)};b("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch(h,{line:"242",module:"AdsMessengerPartialAutomatedCreationDataManager.js"})},_sendCTMLeadGenPreviewFromResponse:function(a,c,d,e){var f=b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(c);f.landing_screen_type=d;f.ctm_lead_gen_template_id=a.id;i.sendCTMLeadGenPreview(JSON.stringify(f),c,e);b("AdsInterfacesLogger").log({eventName:b("AdsMessengerPartialAutomatedLoggerEvents").MPA_SUCCUSS_PREVIEW_FORM})}};e.exports=i}),null);
__d("AdsMessengerPartialAutomatedCreationSelectors",["AdsAccountUtils","AdsBulkValueUtils","AdsMessengerPartialAutomatedCreationErrorDataProvider","AdsPageStore","AdsUEditorAdgroupBulkSelectors","AdsUEditorMessengerContentEditorSelectors","AdsUnifiedCreativeAPIFields","adsCreateSelector","adsCreateStoreThunkSelector","adsMessengerDataModelGetTemplateIDForCTMLeadGen","adsUEditorAccountSelector","adsUEditorSelectedAdgroupIDsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorMessengerContentEditorSelectors").adsUEditorPageWelcomeMessageSelector;c=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").pageID);d=b("adsCreateSelector")([b("adsUEditorAccountSelector"),a,b("adsUEditorSelectedAdgroupIDsSelector"),c,b("AdsMessengerPartialAutomatedCreationErrorDataProvider").toFluxSelector(),b("adsCreateStoreThunkSelector")(b("AdsPageStore"),function(a){return b("AdsPageStore").get(a)})],function(a,c,d,e,f,g){var h=b("AdsAccountUtils").hasCapability(a,"CTM_ADS_PARTIAL_AUTOMATED_CREATION_FIELDID");e=b("AdsBulkValueUtils").getUniformValue(e,null);g=e!==void 0&&e!==null?g(e):null;var i=g?g.name:null,j=b("adsMessengerDataModelGetTemplateIDForCTMLeadGen")(c);return{account:a,adgroupIDs:d,errorMessage:f.errorMessage,isFieldIDEnabled:h,page:g,pageID:e,pageName:i,pageWelcomeMessage:c,templateID:j}},{name:e.id+".AdsMessengerPartialAutomatedCreationSelector"});e.exports={AdsMessengerPartialAutomatedCreationSelector:d}}),null);
__d("MessengerDestinationPartialAutomatedCreationVideoSelector.react",["ix","cx","fbt","AdsFBIconDownsized.react","AdsFullSizeImageBoxContainer.react","AdsImageIDClasses","FDSButton.react","FDSSpinner.react","FileInput.react","FileInputUploader","LeftRight.react","MessengerContentEditorVideoSelectorUtils","React","URI","XUIError.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsImageIDClasses").AdsImageID,k="/ajax/mercury/upload.php";function l(a){if(a.isLoading)return b("React").createElement(b("FDSSpinner.react"),null);if(a.videoURL){a=j.fromExternalURL(a.videoURL);return b("React").createElement(b("AdsFullSizeImageBoxContainer.react"),{className:"_jlc",crop:null,height:100,imageID:a,renderStyle:"SCALE",width:160})}else return b("React").createElement("div",{className:"_jkn"},b("React").createElement(b("AdsFBIconDownsized.react"),{className:"_jko",src:g("406686")}))}function m(a){var c=a.isVideoSelected?i._("Modifier la vid\u00e9o"):i._("S\u00e9lectionner la vid\u00e9o");a=b("React").createElement("div",{className:"_jlf"},b("React").createElement(b("XUIError.react"),{xuiError:a.videoError},b("React").createElement("div",null,b("React").createElement(b("FileInput.react"),{accept:"video/*",name:"file",onChange:a.onVideoSelect},b("React").createElement(b("FDSButton.react"),{href:{url:"#"},isDisabled:a.isDisabled,label:c,use:"default"})))));return b("React").createElement("div",null,b("React").createElement("div",{className:"_4sif"},b("MessengerContentEditorVideoSelectorUtils").getVideoSelectorDescription()),a)}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={videoClientError:null,isLoading:!1},d.$1=function(a){__p&&__p();d.setState({isLoading:!0});var c=b("MessengerContentEditorVideoSelectorUtils").getVideoSizeError(a);if(c){c=i._("La taille de la vid\u00e9o d\u00e9passe les 25 Mo autoris\u00e9s. S\u00e9lectionnez une autre vid\u00e9o pour continuer.").toString();d.setState({isLoading:!1,videoClientError:c});return}c=b("MessengerContentEditorVideoSelectorUtils").getVideoTypeError(a);if(c){c=i._("La vid\u00e9o que vous avez s\u00e9lectionn\u00e9e n\u2019est pas compatible. S\u00e9lectionnez un format .MOV ou .MP4 pour continuer.").toString();d.setState({isLoading:!1,videoClientError:c});return}c=d.props.pageID?new(b("URI"))(k).addQueryData({request_user_id:d.props.pageID}).toString():new(b("URI"))(k).toString();a=a.target;a=new(b("FileInputUploader"))(a).setURI(c);a!=null?(a.subscribe("success",d.$2),a.subscribe("failure",d.$3),a.send()):d.$3()},d.$2=function(a,b){d.setState({isLoading:!1}),d.props.onVideoSelect(b)},d.$3=function(){var a=i._("Votre importation n\u2019a pas pu aboutir. R\u00e9essayez plus tard.").toString();d.setState({isLoading:!1,videoClientError:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a;a=(a=this.state.videoClientError)!=null?a:this.props.videoError;a=this.state.isLoading?null:a;return b("React").createElement("div",null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",null,b("React").createElement(l,{isLoading:this.state.isLoading,videoURL:this.props.videoPreview})),b("React").createElement("div",{className:"_4s4w"},b("React").createElement(m,{isDisabled:this.state.isLoading,isVideoSelected:!!this.props.videoURL,videoError:a,onVideoSelect:this.$1}))))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerExperienceFollowUpTrackingAppWarningDialog.react",["fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("The apps you select for conversion tracking and follow-up message must be the same. We'll changed the app event in conversion tracking to match the app you select in the follow-up message."),c=g._("Tracking App");return b("React").createElement(b("XUIDialog.react"),{height:200,shown:this.props.shown,width:500,onToggle:this.props.onToggle},b("React").createElement(b("XUIDialogTitle.react"),null,c),b("React").createElement(b("XUIDialogBody.react"),null,a),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm",onClick:this.props.onConfirm})))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationFollowUpSection.react",["cx","fbt","AdsBulkTextInput.react","AdsImageIDUtils","AdsLearnMore.react","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsTypeahead.react","AdsUEditorAdgroupMessengerContentImageSelector.react","AdsUniformValue","BUIDateTimePicker.react","DateTime","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSimplePopover.react","FDSText.react","LocalDate","MessengerAdsPartialAutomatedBroadcastMediaType","MessengerDestinationPartialAutomatedCreationVideoSelector.react","MessengerExperienceFollowUpTrackingAppWarningDialog.react","React","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsMessengerPartialAutomatedCreationTypes").FollowUpSectionErrorSpecType;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showFollowUpTrackingAppWarningDialog:!1},d.$4=function(a){var b=Object.assign({},d.props.followUpMessage);b.schedule_time=a.instant;d.props.onFollowUpMessageChange(b)},d.$6=function(a){var b=Object.assign({},d.props.followUpMessage);b.text=a.getValue();d.props.onFollowUpMessageChange(b)},d.$2=function(a){__p&&__p();var c=Object.assign({},d.props.followUpMessage);a=a&&a[0];if(!a)return;if(a.hash!=null){var e=d.props.account!=null?d.props.account.account_id:"";c.media_content=e+":"+a.hash;c.media_type=b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE}d.props.onFollowUpMessageChange(c)},d.$5=function(a){var b=Object.assign({},d.props.followUpMessage);b.media_content="";b.media_type=a;d.props.onVideoRemove();d.props.onFollowUpMessageChange(b)},d.$7=function(a){var b=Object.assign({},d.props.followUpMessage);b.button_label=a.getValue();d.props.onFollowUpMessageChange(b)},d.$3=function(a){var b=Object.assign({},d.props.followUpMessage);if(a!=null){var c=a.getUniqueID();c!==null&&c!==d.props.selectedTrackingAppID&&d.$10();b.app_info=a;b.app_id=c;d.props.onFollowUpMessageChange(b)}},d.$8=function(){d.setState({showFollowUpTrackingAppWarningDialog:!1})},d.$9=function(a){d.setState({showFollowUpTrackingAppWarningDialog:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},h._("Envoie un message automatique \u00e0 une date ult\u00e9rieure aux personnes qui se sont inscrites.")),c=this.props.followUpMessage;if(c==null)return b("React").createElement("div",{className:"_6kg8"},a,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},h._("Vous pouvez envoyer un message de suivi plus tard en modifiant votre pub. {=Learn more}",[h._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"2138706492856723"}))])));var d=b("DateTime").localNow(),e=d.timezoneID;d=b("DateTime").create(c.schedule_time,e);var f=function(a){return a.isAfter(b("LocalDate").today(e))};f=[f];var g=null;if(c.media_type==b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE){var j=this.$1(i.IMAGE_HASH),k=this.props.account!=null?this.props.account.account_id:"",l=c.media_content;l=l!=null?l.split(":"):null;l=l&&l[1]&&l[1].trim();l=b("AdsImageIDUtils").getImageID({accountID:k,hash:l});g=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},h._("Image")),b("React").createElement(b("AdsUEditorAdgroupMessengerContentImageSelector.react"),{accountID:k,imageError:j,imageID:l,isCondensedFormat:!1,onImageSelect:this.$2}))}k=null;if(c.media_type===b("MessengerAdsPartialAutomatedBroadcastMediaType").VIDEO){j=this.$1(i.VIDEO);l=j?j.toString():null;k=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},h._("Vid\u00e9o")),b("React").createElement(b("MessengerDestinationPartialAutomatedCreationVideoSelector.react"),{pageID:this.props.pageID,videoError:l,videoPreview:this.props.videoPreview,videoURL:c.media_content,onVideoSelect:this.props.onVideoSelect}))}j=this.$1(i.TEXT);l=this.$1(i.BUTTON_LABEL);var m=this.$1(i.APP_INFO),n=this.props.appSearchSource;m=n!=null?b("React").createElement(b("AdsTypeahead.react"),{className:"_7oar",clearQueryIfNoSelectedEntry:!0,errors:Boolean(m)?[m]:null,placeholder:h._("Choisissez une app"),searchSource:n,selectedEntry:c.app_info,onSelectAttempt:this.$3}):null;return b("React").createElement("div",{className:"_6kg8"},a,b("React").createElement(b("FDSText.react"),{display:"inline",margin:"_3-8x _3-95",size:"body3",weight:"bold"},h._("Date et heure")),b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Votre message sera envoy\u00e9 aux destinataires dans leur heure locale."),contentWidthUseSparingly:288}),b("React").createElement(b("BUIDateTimePicker.react"),{dateRestraints:f,height:"tall",timezoneID:e,value:d,onChange:this.$4}),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},h._("Format")),b("React").createElement(b("FDSDropdownSelector.react"),{buttonUse:"default",value:c.media_type,onChange:this.$5},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT},h._("Texte uniquement")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE},h._("Texte et Image")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastMediaType").VIDEO},h._("Texte et Vid\u00e9o"))),g,k,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},h._("Texte")),b("React").createElement(b("AdsBulkTextInput.react"),{enforceMaxLength:!0,errors:j?{error:j.toString()}:null,hideMaxLength:!0,maxLength:b("AdsMessengerConstants").TITLE_MAX_LENGTH,multiline:!0,placeholder:h._("Entrez le texte de votre message"),value:new(b("AdsUniformValue"))(c.text),onChange:this.$6}),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-95",size:"body3",weight:"bold"},h._("Nom du bouton")),b("React").createElement(b("AdsBulkTextInput.react"),{enforceMaxLength:!0,errors:l?{error:l.toString()}:null,hideMaxLength:!0,maxLength:b("AdsMessengerConstants").TITLE_MAX_LENGTH,placeholder:h._("Entrez le texte pour votre bouton"),value:new(b("AdsUniformValue"))(c.button_label),onChange:this.$7}),b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-95",size:"body3",weight:"bold"},h._("App")),m,b("React").createElement(b("MessengerExperienceFollowUpTrackingAppWarningDialog.react"),{shown:this.state.showFollowUpTrackingAppWarningDialog,onConfirm:this.$8,onToggle:this.$9}))};d.$1=function(a){return this.props.showError?this.props.followUpErrorSpec&&this.props.followUpErrorSpec[a]:null};d.$10=function(){this.setState({showFollowUpTrackingAppWarningDialog:!0})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationMessageFormat.react",["fbt","AdsImageIDUtils","AdsMessengerPartialAutomatedCreationUtils","AdsUEditorAdgroupMessengerContentImageSelector.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","MessengerAdsPartialAutomatedBroadcastMediaType","React","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){var b=Object.assign({},d.props.message);b.media_content="";b.media_type=a;d.props.onMessageChange(b)},d.$4=function(a){__p&&__p();var c=Object.assign({},d.props.message);a=a&&a[0];if(!a)return;if(a.hash!=null){var e=d.props.account!=null?d.props.account.account_id:"";c.media_content=e+":"+a.hash;c.media_type=b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE}d.props.onMessageChange(c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.$1(),c=this.props.message.media_type===b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE?this.$2():null;return b("React").createElement(b("React").Fragment,null,a,c)};d.$1=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},g._("Format")),b("React").createElement(b("FDSDropdownSelector.react"),{buttonUse:"default",value:this.props.message.media_type,onChange:this.$3},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT},g._("Texte uniquement")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastMediaType").IMAGE},g._("Texte et Image"))))};d.$2=function(){var a=this.props.account!=null?this.props.account.account_id:"",c=this.props.message.media_content,d=c!=null?c.split(":"):null;d=d&&d[1]&&d[1].trim();d=b("AdsImageIDUtils").getImageID({accountID:a,hash:d});var e=this.props.message.media_type;e=b("AdsMessengerPartialAutomatedCreationUtils").getMediaErrorMessage(e,c,this.props.showError);return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},g._("Image")),b("React").createElement(b("AdsUEditorAdgroupMessengerContentImageSelector.react"),{accountID:a,imageError:e,imageID:d,isCondensedFormat:!1,onImageSelect:this.$4}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationPreview.react",["cx","fbt","AdsMessengerConstants","AdsMessengerJSONMediaFormatType","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","CurrentUser","ImmutableObject","MercuryAttachmentType","MercuryIDs","MessengerAdsPartialAutomatedBroadcastMediaType","MessengerAdsPartialAutomatedBroadcastType","MessengerAdsPartialAutomatedPrefillType","MessengerConversation.react","MessengerDetailViewHeaderReact.bs","MessengerEnvironment","MessengerPlatformXMDType","MessengerReadReceipt.bs","MNCommerceCallToActionType","React","emptyFunction","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer,j=b("MessengerDetailViewHeaderReact.bs").jsComponent,k=h._("Libell\u00e9 de bouton"),l="/images/messenger_commerce/photo-add2x.png",m="/images/messenger_commerce/video-add.png",n=180,o=170,p=106;function q(a,c,d,e,f,g,h,i,j,k){__p&&__p();if(d==null)return b("immutable").List();d="fbid:"+d;var l=[];if(c){var m;(m=l).push.apply(m,r(c,d,f,h,"intro"))}l=l.concat(v(a,d,e,f,i));if(i){(m=l).push.apply(m,r(g,d,f,h,"confirmation"))}if(i&&j!=null){(c=l).push.apply(c,w(d,f,h,j,k))}return b("immutable").List(l)}function r(a,c,d,e,f){__p&&__p();var g=[];g.push(new(b("ImmutableObject"))({body:a.text,author:c,timestamp:Date.now()-1,message_id:f+":"+Date.now().toString(),key:Date.now()-1,thread_id:d}));if(a.media_type===b("MessengerAdsPartialAutomatedBroadcastMediaType").TEXT)return g;a=x(a.media_content,e);e=p;var h=o,i=1;a!=null&&(i=a.height/a.width,h=Math.min(a.width,n),e=i*h);i=a&&a.url||l;g.push(new(b("ImmutableObject"))({attachments:[{attach_type:b("MercuryAttachmentType").PHOTO,preview_height:e,preview_url:i,preview_width:h}],author:c,has_attachment:!0,message_id:f+"_image_"+Date.now().toString(),key:Date.now()-1,timestamp:Date.now()-1,thread_id:d,platform_xmd:JSON.stringify(null)}));return g}function s(a){var c;if(a==null)return null;a=a.map(function(a){return{title:a,content_type:"text"}});a=(c={},c[b("MessengerPlatformXMDType").QUICK_REPLIES]=a,c);return JSON.stringify(a)}function t(a,c,d){var e;switch(c.answerType){case i.MULTIPLE_CHOICE:return new(b("ImmutableObject"))({body:c.questionMessage,author:d,timestamp:Date.now()-1,message_id:"question_"+a.toString()+":"+Date.now().toString(),key:Date.now()-1,thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID()),platform_xmd:s(c.answers?c.answers.map(function(a){return a.value}):null)});case b("MessengerAdsPartialAutomatedPrefillType").ZIP_CODE:case b("MessengerAdsPartialAutomatedPrefillType").CITY:case b("MessengerAdsPartialAutomatedPrefillType").STATE:case b("MessengerAdsPartialAutomatedPrefillType").COUNTRY:case b("MessengerAdsPartialAutomatedPrefillType").EMAIL:case b("MessengerAdsPartialAutomatedPrefillType").PHONE:case b("MessengerAdsPartialAutomatedPrefillType").JOB_TITLE:case b("MessengerAdsPartialAutomatedPrefillType").COMPANY_NAME:case b("MessengerAdsPartialAutomatedPrefillType").GENDER:case b("MessengerAdsPartialAutomatedPrefillType").DOB:case b("MessengerAdsPartialAutomatedBroadcastType").NOTIFY_ME:case b("MessengerAdsPartialAutomatedBroadcastType").SIGN_UP:case b("MessengerAdsPartialAutomatedBroadcastType").GET_UPDATES:return new(b("ImmutableObject"))({body:c.questionMessage,author:d,timestamp:Date.now()-1,message_id:"question_"+a.toString()+":"+Date.now().toString(),key:Date.now()-1,thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID()),platform_xmd:s([b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName((e=c.answerType)!=null?e:"").toString()])});case i.CUSTOM:default:return new(b("ImmutableObject"))({body:c.questionMessage,author:d,timestamp:Date.now()-1,message_id:"question_"+a.toString()+":"+Date.now().toString(),key:Date.now()-1})}}function u(a,c,d){d=b("CurrentUser").getAccountID();return new(b("ImmutableObject"))({body:c.answerType?b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(c.answerType).toString():"",author:"fbid:"+d,timestamp:Date.now()-1,message_id:"answer_"+a.toString()+":"+Date.now().toString(),key:Date.now()-1})}function v(a,b,c,d,e){var f=c.filter(function(b,c){return c<=a&&b.answerType!==null&&b.questionMessage!==""}),g=[];f.forEach(function(a,c){g.push(t(c,a,b)),(e||c!==f.length-1)&&g.push(u(c,a,b))});return g}function w(a,c,d,e,f){__p&&__p();var g=[];if(e==null)return g;var h=p,i=o,j=null;if(e.media_type===b("AdsMessengerJSONMediaFormatType").IMAGE){d=x(e.media_content,d);j=d&&d.url||l;if(d!=null){var q=d.height/d.width;i=Math.min(d.width,n);h=q*i}}else e.media_type===b("AdsMessengerJSONMediaFormatType").VIDEO&&(j=f||m);j!==null&&g.push(new(b("ImmutableObject"))({attachments:[{attach_type:b("MercuryAttachmentType").PHOTO,preview_height:h,preview_url:j,preview_width:i}],author:a,has_attachment:!0,message_id:"followup_image_"+Date.now().toString(),key:Date.now()-1,timestamp:e.schedule_time*1e3,thread_id:c,platform_xmd:JSON.stringify(null)}));g.push(new(b("ImmutableObject"))({body:e.text,author:a,timestamp:e.schedule_time*1e3,message_id:"followup_text_:"+Date.now().toString(),key:Date.now()-1,thread_id:c}));d={thumb_url:"",call_to_actions:[{id:0,action_link:"#",action_type:b("MNCommerceCallToActionType").OPEN_URL,title:e.button_label||k}]};g.push(new(b("ImmutableObject"))({attachments:[{attach_type:b("MercuryAttachmentType").SHARE,upload_id:0,share:{style_list:["business_message_items","fallback"],target:{items:[d]}}}],author:a,has_attachment:!0,message_id:"followup_button_"+Date.now().toString(),key:Date.now()-1,timestamp:e.schedule_time*1e3,thread_id:c,platform_xmd:JSON.stringify(null)}));return g}function x(a,b){a=a&&a.split(":");var c=null;b!=null&&a&&a.length==2&&(c=b(a[0],a[1]));return c}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("CurrentUser").getAccountID(),c=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerEnvironment").setMessengerUI(!0);return b("React").createElement("div",{className:"_6z1e"},b("React").createElement("div",{className:"_1ist"},b("React").createElement(j,{infoPanelCollapsed:!0,maxTitle:b("AdsMessengerConstants").PREVIEW_PAGENAME_MAX_LENGTH,participants:b("immutable").Map({}),thread:new(b("ImmutableObject"))({name:this.props.pageName||"",participants:[]}),viewer:a,onInfoPanelToggle:b("emptyFunction")})),b("React").createElement(b("MessengerConversation.react"),{className:"_6z1f",deliveryTimestamp:0,fetchMessages:b("emptyFunction"),innerClassName:"_1ist",isCanonical:!0,isMessengerAdPreview:!0,messages:q(this.props.focusedIndex,this.props.introMessage,this.props.pageID,this.props.questionItems,c,this.props.confirmationMessage,this.props.imageLoader,this.props.isFollowUp,this.props.followUpMessage,this.props.videoPreview),readReceipts:b("MessengerReadReceipt.bs").emptyReadReceipts,threadID:c,viewer:a,onRead:b("emptyFunction")}),b("React").createElement("div",{className:"_6z1g"},h._("\u00c9crivez un message...")))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationPreviewContainer.react",["AdsFluxContainer","AdsImageIDClasses","AdsImageInfoStore","MessengerDestinationPartialAutomatedCreationPreview.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageIDClasses").AdsImageID,h="MPAPreview";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesReplyComposerStore").getByKey(h)]};c.calculateState=function(){var a=b("PagesReplyComposerStore").getByKey(h).getState();return{composerState:a,imageLoader:function(a,c){a=g.fromAcountAndHash(a,c);c=a?b("AdsImageInfoStore").getFullSize(a):null;return c?c.getValueEnforcing():null}}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("PagesReplyComposerDispatcher").getByKey(h).explicitlyRegisterStore(b("PagesReplyComposerStore").getByKey(h)),b("PagesReplyComposerActions").getActionsByKey(h).initializeStoreWithConfig({composerKey:h,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!0,pageID:this.props.pageID||"",placeholderText:""})};d.render=function(){var a=this.props.introMessage;a=a?{text:b("PagesReplyComposerTextUtilities").processMessage(a.text,this.state.composerState.supportedMacros),media_type:a.media_type,media_content:a.media_content}:null;var c={text:b("PagesReplyComposerTextUtilities").processMessage(this.props.confirmationMessage.text||"",this.state.composerState.supportedMacros),media_type:this.props.confirmationMessage.media_type,media_content:this.props.confirmationMessage.media_content},d=[].concat(this.props.questionItems),e=babelHelpers["extends"]({},d[0]),f=b("PagesReplyComposerTextUtilities").processMessage(e&&e.questionMessage||"",this.state.composerState.supportedMacros);e.questionMessage=f;d[0]=e;return b("React").createElement(b("MessengerDestinationPartialAutomatedCreationPreview.react"),{confirmationMessage:c,focusedIndex:this.props.focusedIndex,followUpMessage:this.props.followUpMessage,imageLoader:this.state.imageLoader,introMessage:a,isFollowUp:this.props.isFollowUp,pageID:this.props.pageID,pageName:this.props.pageName,questionItems:d,videoPreview:this.props.videoPreview})};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("reverseArgs",[],(function(a,b,c,d,e,f){function a(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(void 0,c.reverse())}}e.exports=a}),null);
__d("curryRight",["curry","reverseArgs"],(function(a,b,c,d,e,f){"use strict";function a(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b("reverseArgs")(b("curry").apply(void 0,[b("reverseArgs")(a)].concat(d)))}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationConditionalStopSection.react",["ix","cx","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","FDSDropdownMenu.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","Image.react","React","SUIBusinessTheme","SUITextInput.react","asset","curry","curryRight","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption;function a(a,c,d,e,f,h,k,l,m,n){f=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(a.value,f);l={type:"item",label:i._("Supprimer"),icon:b("React").createElement(b("Image.react"),{src:g("555427")}),onClick:b("curry")(l,e)};m={type:"item",label:i._("Acc\u00e9der \u00e0..."),icon:b("React").createElement(b("Image.react"),{src:g("816776")}),onClick:b("curry")(m,e)};d=b("React").createElement("span",{className:"_7gvj"},b("React").createElement(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:d?[l,m]:[m],label:i._("Type de r\u00e9ponse"),useEllipsisIcon:!0}));return b("React").createElement("div",{key:e},b("React").createElement(b("SUITextInput.react"),{autoFocus:c,display:"block",errorMessage:e<=1?f:null,margin:"_3-95 _3-8x",maxLength:b("AdsMessengerConstants").OPTION_MAX_LENGTH,placeholder:i._("Entrez le texte de votre r\u00e9ponse"),rightIcon:d,theme:b("SUIBusinessTheme"),value:a.value,onChange:b("curryRight")(k,e)}),h[e]&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{src:g("816776")}),b("React").createElement(b("FDSText.react"),{display:"inline",margin:"_3-9a _3-90",size:"body3"},i._("Acc\u00e9der \u00e0")),b("React").createElement(b("FDSDropdownSelector.react"),{value:a.nextStep,onChange:b("curry")(n,e)},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:j.NEXT_QUESTION},i._("Question suivante")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:j.CONFIRMATION_MESSAGE},i._("Message de remerciement")),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:j.DISQUALIFY_MESSAGE},i._("Message de disqualification")))))}e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationQuestionItem.react",["ix","cx","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","ClickableArea.react","FDSDropdownMenu.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSSimplePopover.react","FDSText.react","Image.react","LeftRight.react","Link.react","MessengerAdsPartialAutomatedPrefillType","MessengerDestinationPartialAutomatedCreationConditionalStopSection.react","React","ShimButton.react","SUITextArea.react","SUITextInput.react","asset","curryRight","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={autoFocus:!1,showFieldID:!1,showMoreOptions:!0,visibleGoToOptions:[]},c.$7=function(a){var b=a===k.MULTIPLE_CHOICE?[{fieldID:"",value:"",nextStep:j.NEXT_QUESTION}]:null;a={fieldID:c.props.questionItem.fieldID,questionMessage:c.props.questionItem.questionMessage,answerType:a,answers:b};c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$6=function(a){a=babelHelpers["extends"]({},c.props.questionItem,{questionMessage:a});c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$10=function(a,b){var d=Object.assign({},c.props.questionItem);if(!d.answers)return;d.answers[b].value=a;c.props.onQuestionItemChange(d,c.props.questionIndex)},c.$11=function(a){__p&&__p();var b=Object.assign({},c.props.questionItem);if(!b.answers)return;b.answers=b.answers.filter(function(b,c){return c!==a});c.setState(function(b){var c=[].concat(b.visibleGoToOptions);c.splice(a,1);return babelHelpers["extends"]({},b,{visibleGoToOptions:c})});c.props.onQuestionItemChange(b,c.props.questionIndex)},c.$16=function(){if(!c.props.questionItem.answers)return;var a=c.props.questionItem.answers.concat({fieldID:"",value:"",nextStep:j.NEXT_QUESTION});a=babelHelpers["extends"]({},c.props.questionItem,{answers:a});c.setState(function(a){var b=[].concat(a.visibleGoToOptions);b.push(!1);return babelHelpers["extends"]({},a,{autoFocus:!0,visibleGoToOptions:b})});c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$18=function(){c.props.onRemoveQuestion(c.props.questionIndex)},c.$14=function(a){a=babelHelpers["extends"]({},c.props.questionItem,{fieldID:a});c.props.onQuestionItemChange(a,c.props.questionIndex)},c.$15=function(a,b){var d=Object.assign({},c.props.questionItem);if(!d.answers)return;d.answers[b].fieldID=a;c.props.onQuestionItemChange(d,c.props.questionIndex)},c.$18=function(){c.props.onRemoveQuestion(c.props.questionIndex)},c.$19=function(){c.setState({showFieldID:!0})},c.$13=function(a,b){var d=Object.assign({},c.props.questionItem);if(!d.answers)return;d.answers[a].nextStep=b;c.props.onQuestionItemChange(d,c.props.questionIndex)},c.$12=function(a){c.setState(function(b){var c=[].concat(b.visibleGoToOptions);c[a]=!0;return babelHelpers["extends"]({},b,{visibleGoToOptions:c})})},b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromProps=function(a,b){if(b.visibleGoToOptions.length!==0)return babelHelpers["extends"]({},b);a=a.questionItem.answers?a.questionItem.answers.map(function(a){return a.nextStep!==j.NEXT_QUESTION}):[];return babelHelpers["extends"]({},b,{visibleGoToOptions:a})};var d=c.prototype;d.render=function(){var a=b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Question n\u00b0"),(this.props.questionIndex+1).toString()),c=b("React").createElement(b("FDSSimplePopover.react"),{content:i._("Choisissez la fa\u00e7on de r\u00e9pondre. Pour les questions li\u00e9es aux informations utilisateur, vous pouvez utiliser un format de r\u00e9ponse pr\u00e9d\u00e9fini comme Ville ou Adresse e-mail."),contentWidthUseSparingly:288}),d=b("React").createElement(b("FDSText.react"),{display:"inline",margin:"_3-95",size:"body3",weight:"bold"},i._("Type de r\u00e9ponse"));return b("React").createElement(b("ClickableArea.react"),{onClick:this.props.onClick},b("React").createElement("div",{className:(this.props.isFocused?"":"_6kg6")+(this.props.isFocused?" _6zbd":"")},b("React").createElement(b("LeftRight.react"),{className:"_2pin"},b("React").createElement("div",null,a),b("React").createElement("div",null,this.$1())),this.$2(),d,c,this.$3(),this.$4(),this.$5()))};d.$2=function(){var a=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-95",size:"body3",weight:"bold"},i._("Texte de la question")),c=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(this.props.questionItem.questionMessage,this.props.showError);c=b("React").createElement(b("SUITextArea.react"),{autoFocus:this.props.isFocused,errorMessage:c,margin:"_3-95",maxLength:b("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,placeholder:i._("Entrez le texte de votre question"),value:this.props.questionItem.questionMessage,onChange:this.$6});return b("React").createElement("div",null,a,c)};d.$3=function(){var a=[b("MessengerAdsPartialAutomatedPrefillType").CITY,b("MessengerAdsPartialAutomatedPrefillType").GENDER,b("MessengerAdsPartialAutomatedPrefillType").PHONE,b("MessengerAdsPartialAutomatedPrefillType").ZIP_CODE,b("MessengerAdsPartialAutomatedPrefillType").STATE,b("MessengerAdsPartialAutomatedPrefillType").COUNTRY,b("MessengerAdsPartialAutomatedPrefillType").EMAIL,b("MessengerAdsPartialAutomatedPrefillType").JOB_TITLE,b("MessengerAdsPartialAutomatedPrefillType").COMPANY_NAME];a=a.map(function(a,c){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:c,value:a},b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(a))});var c=i._("Choisir un type de r\u00e9ponse"),d=i._("Informations utilisateur"),e=this.props.questionItem.answerType||!this.props.showError?null:i._("Choisir un type de r\u00e9ponse");return b("React").createElement("div",null,b("React").createElement(b("FDSDropdownSelector.react"),{errorMessage:e,placeholder:c,value:this.props.questionItem.answerType,onChange:this.$7},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:k.CUSTOM},b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(k.CUSTOM)),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:k.MULTIPLE_CHOICE},b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(k.MULTIPLE_CHOICE)),b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{isExpandedInitially:!0,label:d},a)))};d.$4=function(){if(this.props.questionItem.answerType!==k.MULTIPLE_CHOICE)return null;var a=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},i._("Texte de la r\u00e9ponse"));return b("React").createElement("div",null,a,this.$8(),this.$9())};d.$8=function(){var a=this;return!this.props.questionItem.answers?null:this.props.questionItem.answers.map(function(c,d){var e=a.props.questionItem.answers!=null&&a.props.questionItem.answers.length>1;return b("MessengerDestinationPartialAutomatedCreationConditionalStopSection.react")(c,a.state.autoFocus,e,d,a.props.showError,a.state.visibleGoToOptions,a.$10,a.$11,a.$12,a.$13)})};d.$5=function(){var a=this;if(!this.state.showFieldID||!this.props.isFieldIDEnabled)return null;var c=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},i._("Identifiants de champs")),d=b("React").createElement(b("SUITextInput.react"),{display:"block",placeholder:b("AdsMessengerPartialAutomatedCreationUtils").getPlaceholderFieldID(this.props.questionItem.questionMessage),value:this.props.questionItem.fieldID,onChange:this.$14}),e=this.props.questionItem.answers&&this.props.questionItem.answers.map(function(c,d){return b("React").createElement(b("SUITextInput.react"),{display:"block",key:d,margin:"_3-8x",placeholder:b("AdsMessengerPartialAutomatedCreationUtils").getPlaceholderFieldID(c.value),value:c.fieldID,onChange:b("curryRight")(a.$15,d)})});return b("React").createElement("div",null,c," ",d," ",e)};d.$9=function(){if(this.props.questionItem.answers&&this.props.questionItem.answers.length>=b("AdsMessengerPartialAutomatedCreationUtils").getMaxOptionNumber())return null;var a=i._("Ajouter une option");return b("React").createElement(b("ShimButton.react"),{className:"_6kj8",onClick:this.$16},b("React").createElement("span",{className:"_7i1z"},a))};d.$17=function(){var a={type:"item",label:i._("Supprimer"),icon:b("React").createElement(b("Image.react"),{src:g("555427")}),onClick:this.$18},c={type:"item",label:i._("Modifier l\u2019identifiant du champ"),icon:b("React").createElement(b("Image.react"),{src:g("495519")}),onClick:this.$19};a=this.props.questionCount===1?[c]:[a,c];return b("React").createElement(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:a,label:i._("Type de r\u00e9ponse"),useEllipsisIcon:!0})};d.$1=function(){var a=b("React").createElement(b("Link.react"),{onClick:this.$18},i._("Supprimer"));return this.props.isFieldIDEnabled?this.$17():this.props.questionCount!==1&&a};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationQuestionsSection.react",["cx","fbt","AdsMessengerPartialAutomatedCreationUtils","MessengerDestinationPartialAutomatedCreationQuestionItem.react","React","ShimButton.react","curry"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_6kgq"},this.$1(),this.$2())};d.$1=function(){var a=this;return!this.props.questionItems?null:this.props.questionItems.map(function(c,d){return b("React").createElement("div",{key:d},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationQuestionItem.react"),{isFieldIDEnabled:a.props.isFieldIDEnabled,isFocused:a.props.focusedIndex===d,questionCount:a.props.questionItems==null?0:a.props.questionItems.length,questionIndex:d,questionItem:c,showError:a.props.showError,onClick:b("curry")(a.props.onClick,d),onQuestionItemChange:a.props.onQuestionItemChange,onRemoveQuestion:a.props.onRemoveQuestion}))})};d.$2=function(){var a=h._("+ Ajouter une question");return!this.props.questionItems||this.props.questionItems.length<b("AdsMessengerPartialAutomatedCreationUtils").getMaxQuestionNumber()?b("React").createElement(b("ShimButton.react"),{className:"_6klg",onClick:this.props.onAddQuestion},b("React").createElement("span",null,a)):null};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationTOSAgreement.react",["fbt","AdsCCCategory","AdsLeadGenTOSDialog.react","AdsPageSignLeadgenTosDataAction","AdsStaticInlineNux.react","ApiPageFields","DateTime","LeadGenTOSAcceptanceDetailsGatekeeper","React","emptyFunction","formatDate","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="M j, Y g:i A";function i(a){var c;if(!a.account||!a.selectedPage)return null;if(!a.selectedPage[b("ApiPageFields").LEADGEN_TOS_ACCEPTED])return b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,ctaData:[{type:"LINK",data:{href:"",text:g._("Afficher les Conditions g\u00e9n\u00e9rales"),onCallToAction:a.showTOSDialog}}],messageID:"ads_u_editor_campaign_lead_gen_tos_agreement",textData:[{type:"PARAGRAPH",data:{text:g._("Veuillez lire et accepter les conditions d\u2019utilisation des pubs \u00e0 formulaire avant de cr\u00e9er votre pub pour cette page.")}}]}});c=(c=a.selectedPage[b("ApiPageFields").LEADGEN_TOS_ACCEPTING_USER])==null?void 0:c.name;a=a.selectedPage[b("ApiPageFields").LEADGEN_TOS_ACCEPTANCE_TIME]?b("DateTime").createFromISOString(a.selectedPage[b("ApiPageFields").LEADGEN_TOS_ACCEPTANCE_TIME],a.account.timezone_id).toDate():null;a=a&&!isNaN(a.getTime())?b("formatDate")(a,h):null;return b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,ctaData:[{type:"LINK",data:{href:"https://www.facebook.com/ads/leadgen/tos",text:g._("Afficher les conditions de service"),onCallToAction:b("emptyFunction")}}],messageID:"ads_u_editor_campaign_lead_gen_tos_agreement",textData:[{type:"PARAGRAPH",data:{text:c&&a!=null&&a!==""&&b("LeadGenTOSAcceptanceDetailsGatekeeper").in_gk?g._("Les conditions d\u2019utilisation pour cette Page ont \u00e9t\u00e9 accept\u00e9es par {Name of user who accepted the TOS} le {Date and time the user accepted the TOS}.",[g._param("Name of user who accepted the TOS",c),g._param("Date and time the user accepted the TOS",a)]):g._("Vous avez accept\u00e9 les conditions des publicit\u00e9s \u00e0 formulaire de Facebook pour cette Page.")}}]}})}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shouldShowLeadGenTOSDialog:!1},d.$1=function(){d.setState({shouldShowLeadGenTOSDialog:!0})},d.$3=function(){b("AdsPageSignLeadgenTosDataAction").dispatch({adObjectIDs:[],pageID:b("nullthrows")(d.props.pageID)},{line:"186",module:"MessengerDestinationPartialAutomatedCreationTOSAgreement.react.js"}),d.setState({shouldShowLeadGenTOSDialog:!1})},d.$2=function(){d.setState({shouldShowLeadGenTOSDialog:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,b("React").createElement(i,{account:this.props.account,selectedPage:this.props.page,showTOSDialog:this.$1}),b("React").createElement(b("AdsLeadGenTOSDialog.react"),{pageID:this.props.pageID,shown:this.state.shouldShowLeadGenTOSDialog,onCancel:this.$2,onConfirm:this.$3}))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerExperienceFollowUpOffDialog.react",["fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Si vous d\u00e9sactivez les messages de suivi, les modifications effectu\u00e9es ne seront pas enregistr\u00e9es."),c=g._("Les modifications ne seront pas enregistr\u00e9es");return b("React").createElement(b("XUIDialog.react"),{height:200,shown:this.props.shown,width:500,onToggle:this.props.onToggle},b("React").createElement(b("XUIDialogTitle.react"),null,c),b("React").createElement(b("XUIDialogBody.react"),null,a),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm",onClick:this.props.onConfirm})))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationDialog.react",["cx","errorCode","errorDesc","fbt","AdsError","AdsLeadGenBigTextInput.react","AdsLearnMore.react","AdsMessengerMPAConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorUtils","BUISwitch.react","DialogFitHeightToContent","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSimplePopover.react","FDSText.react","LayerFadeOnHide","LeftRight.react","MessengerAdsPartialAutomatedBroadcastType","MessengerDestinationPartialAutomatedCreationFollowUpSection.react","MessengerDestinationPartialAutomatedCreationMessageFormat.react","MessengerDestinationPartialAutomatedCreationPreviewContainer.react","MessengerDestinationPartialAutomatedCreationQuestionsSection.react","MessengerDestinationPartialAutomatedCreationTOSAgreement.react","MessengerExperienceCancelDialog.react","MessengerExperienceConfirmDialog.react","MessengerExperienceFollowUpOffDialog.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","React","SUITextArea.react","SUITextInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIDialogTitle.react","emptyFunction","suiMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption,l=b("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isValidSpec:!1,followUpErrorSpec:null,showCancelDialog:!1,showConfirmDialog:!1,showFollowUpOffDialog:!1,videoPreview:null},d.$33=function(a){var b=Object.assign({},d.props.questionItems[0]);if(!b)return;b.answerType=a;d.props.onQuestionItemChange(b,0)},d.$32=function(a){var b=Object.assign({},d.props.questionItems[0]);if(!b)return;b.questionMessage=a;d.props.onQuestionItemChange(b,0)},d.$42=function(a){a?d.props.onFollowUpMessageChange(b("AdsMessengerMPAConstants").DEFAULT_FOLLOW_UP_MESSAGE):d.setState({showFollowUpOffDialog:!0})},d.$21=function(a){a||d.props.onCloseErrorDialog()},d.$45=function(){d.setState({showCancelDialog:!0})},d.$46=function(){d.state.isValidSpec?d.setState({showConfirmDialog:!0}):d.props.onShowError()},d.$12=function(){d.setState({showConfirmDialog:!1})},d.$13=function(){d.setState({showCancelDialog:!1}),d.props.onCancelButtonClicked()},d.$14=function(a){d.setState({showCancelDialog:a})},d.$9=function(){d.setState({showConfirmDialog:!1})},d.$10=function(){d.setState({showConfirmDialog:!1}),d.props.onFinishButtonClicked()},d.$11=function(a){d.setState({showConfirmDialog:a})},d.$15=function(){d.setState({showFollowUpOffDialog:!1})},d.$16=function(){d.setState({showFollowUpOffDialog:!1}),d.props.onFollowUpMessageChange(null)},d.$17=function(a){d.setState({showFollowUpOffDialog:a})},d.$44=function(a){var b;b=(b=a)!=null?(b=b.response)!=null?(b=b.payload)!=null?(b=b.metadata)!=null?(b=b[0])!=null?b.video_id:b:b:b:b:b;a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.thumbnail_src:a:a:a:a:a;if(b!=null){var c=Object.assign({},d.props.followUpMessage);c.media_content=b;d.props.onFollowUpMessageChange(c);d.setState({videoPreview:a})}},d.$43=function(){d.setState({videoPreview:null})},d.$38=function(a){var b=Object.assign({},d.props.confirmationMessage);b.text=a;d.props.onConfirmationMessageChange(b)},d.$35=function(a){var b=Object.assign({},d.props.introMessage);b.text=a;d.props.onIntroMessageChange(b)},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){var d=b("AdsMessengerPartialAutomatedCreationUtils").validatePartialAutomatedCreationData(a.questionItems,a.confirmationMessage,a.introMessage,a.disqualifyMessage,a.privacyPolicyURL,a.reminderText,a.page,a.isFollowUp,a.followUpMessage);a=a.isFollowUp&&!!a.followUpMessage?b("AdsMessengerPartialAutomatedCreationUtils").getFollowUpSectionErrorMessages(a.followUpMessage,a.showError):null;return babelHelpers["extends"]({},c,{isValidSpec:d,followUpErrorSpec:a})};var d=c.prototype;d.render=function(){this.$1={composerKey:"introMessageCTMLeadGen",initialDisabled:!1,initialReply:(this.props.isFollowUp?this.props.questionItems[0]&&this.props.questionItems[0].questionMessage:this.props.introMessage&&this.props.introMessage.text)||"",isAdsInterfaceSource:!0,pageID:this.props.pageID||"",placeholderText:""};this.$2={composerKey:"confirmationMessageCTMLeadGen",initialDisabled:!1,initialReply:this.props.confirmationMessage.text||"",isAdsInterfaceSource:!0,pageID:this.props.pageID||"",placeholderText:""};this.$3={composerKey:"reminderMessageCTMLeadGen",initialDisabled:!1,initialReply:this.props.reminderText||"",isAdsInterfaceSource:!0,pageID:this.props.pageID||"",placeholderText:""};var a=this.props.isFollowUp?j._("Cr\u00e9er un mod\u00e8le"):j._("Cr\u00e9er une discussion");return this.props.pageID!=null?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIDialog.react"),babelHelpers["extends"]({behaviors:{DialogFitHeightToContent:b("DialogFitHeightToContent"),LayerFadeOnHide:b("LayerFadeOnHide")},destroyonhide:!0,layerHideOnBlur:!1,shown:this.props.shown,width:950,onHide:this.props.onToggle},this.props),b("React").createElement(b("XUIDialogTitle.react"),{className:"_1wrq",showCloseButton:!1},a),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},this.$4()),b("React").createElement(b("XUIDialogFooter.react"),null,this.$5(),this.$6(),this.$7())),this.$8(),b("React").createElement(b("MessengerExperienceConfirmDialog.react"),{shown:this.state.showConfirmDialog,onCancel:this.$9,onCreateConfirm:this.$10,onToggle:this.$11}),b("React").createElement(b("MessengerExperienceCancelDialog.react"),{isStandardTemplate:!1,shown:this.state.showCancelDialog,onCancel:this.$12,onConfirm:this.$13,onToggle:this.$14}),b("React").createElement(b("MessengerExperienceFollowUpOffDialog.react"),{shown:this.state.showFollowUpOffDialog,onCancel:this.$15,onConfirm:this.$16,onToggle:this.$17}),b("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.props.showPreviewSuccessDialog,this.props.pageName,this.props.onPreviewSuccessDialogToggle)):b("React").createElement(b("React").Fragment,null)};d.$18=function(){var a=j._("Donnez un nom \u00e0 votre mod\u00e8le"),c=this.$19();return b("React").createElement("div",{className:"_19yp"},b("React").createElement(b("AdsLeadGenBigTextInput.react"),{className:"_5jqd",error:c&&c.message,placeholder:a,value:this.props.templateName,onBlur:b("emptyFunction"),onChange:this.props.onTemplateNameChange,onFocus:b("emptyFunction")}))};d.$8=function(){var a=j._("Erreur"),b=this.props.errorMessage;return this.$20(a,b,this.props.showErrorDialog,this.props.onCloseErrorDialog,this.$21)};d.$4=function(){var a=b("React").createElement(b("FDSText.react"),{color:"placeholder",size:"body1",weight:"bold"},j._("Aper\u00e7u Messenger")),c=this.props.isFollowUp?b("React").createElement("div",{className:"_6kgs"},this.$22(),this.$23(),this.$24()):b("React").createElement("div",{className:"_6kgs"},this.$25(),this.$26(),this.$23(),this.$27(),this.$28(),this.$29());return b("React").createElement("div",{className:"_6h1q"},this.$18(),b("React").createElement(b("LeftRight.react"),null,c,b("React").createElement("div",{className:"_6kg7"},b("React").createElement("div",{className:"_6z1d"},a),b("React").createElement(b("MessengerDestinationPartialAutomatedCreationPreviewContainer.react"),{confirmationMessage:this.props.confirmationMessage,focusedIndex:this.props.focusedIndex,followUpMessage:this.props.followUpMessage,introMessage:this.props.introMessage,isFollowUp:this.props.isFollowUp,pageID:this.props.pageID,pageName:this.props.pageName,questionItems:this.props.questionItems,videoPreview:this.state.videoPreview}))))};d.$22=function(){return b("React").createElement("div",{className:"_6jlz"},this.$30(l.GREETING),this.$31())};d.$31=function(){var a=this.$1;if(a==null)return;var c=this.props.questionItems[0],d=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},j._("Accueillez dans la conversation les personnes qui ont cliqu\u00e9 sur votre pub et encouragez-les \u00e0 s\u2019inscrire aux prochaines informations.")),e=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},j._("Texte")),f=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x _3-95",size:"body3",weight:"bold"},j._("Bouton"));a=b("React").createElement("div",{className:"_6t0z"},b("React").createElement(b("PagesReplyComposerEditorContainer.react"),{config:a,welcomeString:c.questionMessage,onReplyChange:this.$32}),b("React").createElement(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a}));c=b("React").createElement(b("FDSDropdownSelector.react"),{value:c.answerType,onChange:this.$33},b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastType").GET_UPDATES},b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(b("MessengerAdsPartialAutomatedBroadcastType").GET_UPDATES)),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastType").NOTIFY_ME},b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(b("MessengerAdsPartialAutomatedBroadcastType").NOTIFY_ME)),b("React").createElement(b("FDSDropdownSelectorOption.react"),{value:b("MessengerAdsPartialAutomatedBroadcastType").SIGN_UP},b("AdsMessengerPartialAutomatedCreationUtils").getAnswerTypeName(b("MessengerAdsPartialAutomatedBroadcastType").SIGN_UP)));return b("React").createElement("div",{className:"_6kg8"},d,e,a,f,c)};d.$25=function(){if(!this.props.introMessage)return null;var a=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(this.props.introMessage.text,this.props.showError);return b("React").createElement("div",{className:"_6jlz"},this.$30(l.INTRO_MESSAGE),this.$34(a))};d.$34=function(a){a=this.$1;if(a==null)return;var c=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},j._("Accueillez les personnes dans la conversation une fois qu\u2019elles ont cliqu\u00e9 sur votre publicit\u00e9 et configurez les questions que vous poserez.")),d=this.props.showPartialAutomatedFormat&&this.props.introMessage&&b("React").createElement(b("MessengerDestinationPartialAutomatedCreationMessageFormat.react"),{account:this.props.account,message:this.props.introMessage,showError:this.props.showError,onMessageChange:this.props.onIntroMessageChange}),e=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3",weight:"bold"},j._("Texte"));return b("React").createElement("div",{className:"_6kg8"},c,d,e,b("React").createElement("div",{className:"_6t0z"},b("React").createElement(b("PagesReplyComposerEditorContainer.react"),{config:a,welcomeString:this.props.introMessage&&this.props.introMessage.text,onReplyChange:this.$35}),b("React").createElement(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a})))};d.$26=function(){return b("React").createElement("div",{className:"_6jlz"},this.$30(l.QUESTIONS),b("React").createElement(b("MessengerDestinationPartialAutomatedCreationQuestionsSection.react"),{focusedIndex:this.props.focusedIndex,isFieldIDEnabled:this.props.isFieldIDEnabled,questionItems:this.props.questionItems,showError:this.props.showError,onAddQuestion:this.props.onAddQuestion,onClick:this.props.onClick,onQuestionItemChange:this.props.onQuestionItemChange,onRemoveQuestion:this.props.onRemoveQuestion}))};d.$23=function(){var a=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(this.props.confirmationMessage.text,this.props.showError);return b("React").createElement("div",{className:"_6jlz"},this.$30(l.CONFIRMATION_MESSAGE),this.props.isFollowUp?this.$36(a):this.$37(a))};d.$37=function(a){var c=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},j._("Remerciez les utilisateurs d\u2019avoir r\u00e9pondu \u00e0 vos questions et informez-les de ce qu\u2019il se passe ensuite.")),d=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3",weight:"bold"},j._("Texte")),e=this.props.showPartialAutomatedFormat&&b("React").createElement(b("MessengerDestinationPartialAutomatedCreationMessageFormat.react"),{account:this.props.account,message:this.props.confirmationMessage,showError:this.props.showError,onMessageChange:this.props.onConfirmationMessageChange});return b("React").createElement("div",{className:"_6kg8"},c,e,d,b("React").createElement(b("SUITextArea.react"),{errorMessage:a,margin:"_3-8x",value:this.props.confirmationMessage.text,onChange:this.$38}))};d.$36=function(a){a=this.$2;if(a==null)return;var c=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},j._("Envoie une r\u00e9ponse automatique remerciant les personnes qui se sont inscrites et les informant de ce qui se passe ensuite.")),d=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3",weight:"bold"},j._("Texte")),e=b("React").createElement(b("MessengerDestinationPartialAutomatedCreationMessageFormat.react"),{account:this.props.account,message:this.props.confirmationMessage,showError:this.props.showError,onMessageChange:this.props.onConfirmationMessageChange});return b("React").createElement("div",{className:"_6kg8"},c,e,d,b("React").createElement("div",{className:"_6t0z"},b("React").createElement(b("PagesReplyComposerEditorContainer.react"),{config:a,welcomeString:this.props.confirmationMessage.text,onReplyChange:this.$38}),b("React").createElement(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a})))};d.$27=function(){var a=this.props.questionItems.some(function(a){if(!a.answers)return;return a.answers.some(function(a){return a.nextStep===k.DISQUALIFY_MESSAGE})});if(!a)return;a=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(this.props.disqualifyMessage,this.props.showError);return b("React").createElement("div",{className:"_6jlz"},this.$30(l.DISQUALIFY_MESSAGE),this.$39(a))};d.$39=function(a){var c=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},j._("Envoyez un message diff\u00e9rent si vous disqualifiez une r\u00e9ponse.")),d=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3",weight:"bold"},j._("Texte"));return b("React").createElement("div",{className:"_6kg8"},c,d,b("React").createElement(b("SUITextArea.react"),{errorMessage:a,margin:"_3-8x",value:this.props.disqualifyMessage,onChange:this.props.onDisqualifyMessageChange}))};d.$28=function(){var a=b("AdsMessengerPartialAutomatedCreationUtils").getRequiredTextFieldErrorMessage(this.props.reminderText,this.props.showError);return b("React").createElement("div",{className:"_6jlz"},this.$30(l.REMINDER),this.$40(a))};d.$40=function(a){a=this.$3;if(a==null)return;var c=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3"},j._("Envoyez un message automatis\u00e9 aux personnes qui n\u2019ont pas fini toutes les questions sous 24 heures. {=Learn more}",[j._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"592240724554522"}))])),d=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8x",size:"body3",weight:"bold"},j._("Texte"));return b("React").createElement("div",{className:"_6kg8"},c,d,b("React").createElement("div",{className:/\S/.test(this.props.reminderText)?"_6t0z":"_7m38"},b("React").createElement(b("PagesReplyComposerEditorContainer.react"),{config:a,welcomeString:this.props.reminderText,onReplyChange:this.props.onReminderTextChange}),b("React").createElement(b("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a})))};d.$29=function(){return b("React").createElement("div",{className:"_6v96"},this.$30(l.PRIVACY_POLICY),this.$41())};d.$41=function(){var a=b("React").createElement(b("FDSText.react"),{display:"block",margin:"_3-8z",size:"body3"},j._("\u00c9tant donn\u00e9 que vous recueillerez des informations client, vous devez inclure un lien vers la politique de confidentialit\u00e9 de votre entreprise. {=Learn more}",[j._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"592240724554522"}))])),c=b("React").createElement(b("FDSText.react"),{display:"inline",margin:"_3-8x",size:"body3",weight:"bold"},j._("L\u2019URL de votre politique de confidentialit\u00e9")),d=b("React").createElement(b("FDSSimplePopover.react"),{content:j._("Ce lien vers votre politique de confidentialit\u00e9 appara\u00eetra sur l\u2019\u00e9cran des d\u00e9tails de la conversation sur Messenger, et dans la section \u00c0 propos de votre Page Facebook. {=Learn more}",[j._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"592240724554522"}))]),contentWidthUseSparingly:288}),e=b("AdsMessengerPartialAutomatedCreationUtils").getPrivacyPolicyLinkURLErrorMessage(this.props.privacyPolicyURL,this.props.showError);return b("React").createElement("div",{className:"_3-8k"},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationTOSAgreement.react"),{account:this.props.account,page:this.props.page,pageID:this.props.pageID}),a,c,d,b("React").createElement(b("SUITextInput.react"),{display:"block",errorMessage:e,margin:"_3-8x",placeholder:"https://www.yourprivacypolicy.com/",value:this.props.privacyPolicyURL,onChange:this.props.onPrivacyPolicyURLChange}))};d.$24=function(){return b("React").createElement("div",{className:"_6jlz"},b("React").createElement("div",{className:"_6jfw _7nhf"},b("React").createElement("div",{className:"_7nhg"},b("AdsMessengerPartialAutomatedCreationUtils").getHeaderName(l.FOLLOW_UP)),b("React").createElement("div",{className:"_7nhh"},b("React").createElement(b("BUISwitch.react"),{showLabel:!0,value:this.props.followUpMessage!=null,onToggle:this.$42}))),b("React").createElement(b("MessengerDestinationPartialAutomatedCreationFollowUpSection.react"),{account:this.props.account,appSearchSource:this.props.appSearchSource,followUpErrorSpec:this.state.followUpErrorSpec,followUpMessage:this.props.followUpMessage,pageID:this.props.pageID,selectedTrackingAppID:this.props.selectedTrackingAppID,showError:this.props.showError,videoPreview:this.state.videoPreview,onFollowUpMessageChange:this.props.onFollowUpMessageChange,onVideoRemove:this.$43,onVideoSelect:this.$44}))};d.$30=function(a){return b("React").createElement("div",{className:"_6jfw"},b("AdsMessengerPartialAutomatedCreationUtils").getHeaderName(a))};d.$5=function(){var a=j._("Annuler");return b("React").createElement(b("XUIDialogButton.react"),{label:a,onClick:this.$45})};d.$6=function(){var a=j._("Aper\u00e7u dans Messenger");return b("React").createElement(b("XUIDialogButton.react"),{disabled:this.props.showError&&!this.state.isValidSpec,label:a,onClick:this.props.onPreviewButtonClicked})};d.$7=function(){var a=j._("Termin\u00e9");return b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",disabled:this.props.showError&&!this.state.isValidSpec,label:a,use:"confirm",onClick:this.$46})};d.$20=function(a,c,d,e,f){return b("React").createElement(b("XUIDialog.react"),{height:200,shown:d,width:500,onToggle:f},b("React").createElement(b("XUIDialogTitle.react"),null,a),b("React").createElement(b("XUIDialogBody.react"),null,c),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogOkayButton.react"),{action:"cancel",use:"confirm",onClick:e})))};d.$19=function(){return!this.props.templateName?new(b("AdsError"))(1815895,i._(function(a,b){return a._("Veuillez entrer un nom de mod\u00e8le")},{}),{level:b("AdsError").Level.WARN}):null};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationPartialAutomatedCreationDialogContainer.react",["fbt","AdsCFSearchSourceStore","AdsFluxContainer","AdsGraphAPI","AdsInterfacesLogger","AdsMessengerMPAConstants","AdsMessengerPartialAutomatedCreationDataManager","AdsMessengerPartialAutomatedCreationErrorDataAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedCreationStateDataProvider","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerVisualEditorLoggerEvents","AdsUEditorContextType","DateTime","MessengerAdsPartialAutomatedBroadcastMediaType","MessengerAdsPartialAutomatedPrefillType","MessengerDestinationPartialAutomatedCreationDialog.react","React","ads-objectives","adsUEditorAdgroupSignalsTrackingPanelSelector","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationSelector,i=b("ads-objectives").KPIObjectives,j=80,k=g._("Discussion automatis\u00e9e").toString()+" "+b("DateTime").localNow().format("m-d-y"),l=b("AdsMessengerPartialAutomatedCreationStateDataProvider").toFluxStore(),m=b("AdsMessengerPartialAutomatedCreationStateDataProvider").toFluxSelector();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={account:null,adgroupIDs:null,appSearchSource:null,confirmationMessage:b("AdsMessengerMPAConstants").DEFAULT_CONFIRMATION_MESSAGE_CTM_LEAD_GEN,disqualifyMessage:b("AdsMessengerMPAConstants").DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),errorMessage:"",focusedIndex:0,followUpMessage:b("AdsMessengerMPAConstants").DEFAULT_FOLLOW_UP_MESSAGE,isFieldIDEnabled:!1,introMessage:b("AdsMessengerMPAConstants").DEFAULT_INTRO_MESSAGE_CTM_LEAD_GEN,page:null,pageID:null,pageName:null,pageWelcomeMessage:null,privacyPolicyURL:"",questionItems:[{fieldID:"",questionMessage:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_QUESTION_MESSAGE.toString(),answerType:b("MessengerAdsPartialAutomatedPrefillType").CITY,answers:null}],reminderText:b("AdsMessengerMPAConstants").DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString(),selectedTrackingAppID:null,showError:!1,showErrorDialog:!1,showPreviewSuccessDialog:!1,templateID:null,templateName:k},d.$10=function(a){d.setState({introMessage:a})},d.$6=function(a){d.setState({confirmationMessage:a})},d.$7=function(a){d.setState({disqualifyMessage:a})},d.$9=function(a){d.setState({followUpMessage:a})},d.$13=function(a){d.setState({privacyPolicyURL:a})},d.$3=function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_CANCEL_LEAD_GEN_DIALOG}),d.props.onToggle(!1)},d.$19=function(){d.setState({showPreviewSuccessDialog:!0})},d.$12=function(){d.setState({showPreviewSuccessDialog:!1})},d.$11=function(){var a;if(!d.state.pageWelcomeMessage)return;var c=d.state.pageWelcomeMessage.landing_screen_type;a=b("AdsMessengerPartialAutomatedCreationUtils").validatePartialAutomatedCreationData(d.state.questionItems,d.state.confirmationMessage,d.state.introMessage,d.state.disqualifyMessage,d.state.privacyPolicyURL,d.state.reminderText,d.state.page,(a=d.props.isFollowUp)!=null?a:!1,d.state.followUpMessage);a&&d.state.pageID!=null&&d.state.templateName&&b("AdsMessengerPartialAutomatedCreationDataManager").generatePreview(d.state.pageID,d.state.introMessage,d.state.questionItems,d.state.confirmationMessage,d.state.disqualifyMessage,d.state.followUpMessage,d.state.reminderText,c,d.$19);d.setState({showError:!0})},d.$8=function(){var a;if(!d.state.pageWelcomeMessage)return;var c=d.state.pageWelcomeMessage.landing_screen_type;a=b("AdsMessengerPartialAutomatedCreationUtils").validatePartialAutomatedCreationData(d.state.questionItems,d.state.confirmationMessage,d.state.introMessage,d.state.disqualifyMessage,d.state.privacyPolicyURL,d.state.reminderText,d.state.page,(a=d.props.isFollowUp)!=null?a:!1,d.state.followUpMessage);a&&d.state.pageID!=null&&d.state.adgroupIDs!=null&&d.state.templateName&&(b("AdsMessengerPartialAutomatedCreationDataManager").createForm(d.state.adgroupIDs,d.context,d.state.pageID,d.state.introMessage,d.state.questionItems,d.state.confirmationMessage,d.state.disqualifyMessage,d.state.followUpMessage,d.state.privacyPolicyURL,d.state.reminderText,d.state.templateName,c),b("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch({confirmationMessage:d.state.confirmationMessage,disqualifyMessage:d.state.disqualifyMessage,followUpMessage:d.state.followUpMessage,introMessage:d.state.introMessage,questionItems:d.state.questionItems,reminderText:d.state.reminderText},{line:"381",module:"MessengerDestinationPartialAutomatedCreationDialogContainer.react.js"}),d.props.onToggle(!1),d.props.onEdited&&d.props.onEdited());d.setState({showError:!0})},d.$2=function(){d.setState(function(a){return babelHelpers["extends"]({},a,{focusedIndex:a.questionItems.length,questionItems:a.questionItems.concat({fieldID:"",questionMessage:"",answerType:null,answers:null})})})},d.$16=function(a){d.setState(function(b){var c=b.questionItems.filter(function(b,c){return c!==a});return babelHelpers["extends"]({},b,{focusedIndex:Math.min(c.length-1,a),questionItems:c})})},d.$14=function(a,b){d.setState(function(c){var d=[].concat(c.questionItems);d[b]=a;return babelHelpers["extends"]({},c,{questionItems:d})})},d.$15=function(a){d.setState({reminderText:a})},d.$18=function(a){if(a.length>j)return;d.setState({templateName:a})},d.$5=function(){d.setState({showErrorDialog:!1}),b("AdsMessengerPartialAutomatedCreationErrorDataAction").dispatch({errorMessage:""},{line:"447",module:"MessengerDestinationPartialAutomatedCreationDialogContainer.react.js"}),d.props.onToggle(!0)},d.$4=function(a){d.setState({focusedIndex:a})},d.$17=function(){d.setState({showError:!0})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,b){a=b.adgroupEditorContext;return[].concat(h.getStores(a),[l])};c.calculateState=function(a,c,d){__p&&__p();var e;c=d.adgroupEditorContext;d=h(c);c=b("adsUEditorAdgroupSignalsTrackingPanelSelector")(c).appTrackingRowConfig;var f=m();c=c.get("selectedSources");c=c.size>0&&c.get(0)!==null?c.get(0):null;var g=d.page!=null&&d.page.privacy_info_url!=null?d.page.privacy_info_url:"";e=(e=d.account)==null?void 0:e.account_id;e=e!=null?b("AdsCFSearchSourceStore").getSearchSource(e,null,"AUCTION",i.APP_INSTALLS,"APP_INSTALLS",!0):null;return babelHelpers["extends"]({},a,{account:d.account,adgroupIDs:d.adgroupIDs,appSearchSource:e,confirmationMessage:f.confirmationMessage,disqualifyMessage:f.disqualifyMessage,errorMessage:d.errorMessage,followUpMessage:f.followUpMessage,introMessage:f.introMessage,isFieldIDEnabled:d.isFieldIDEnabled,page:d.page,pageID:d.pageID,pageName:d.pageName,pageWelcomeMessage:d.pageWelcomeMessage,privacyPolicyURL:g,questionItems:f.questionItems,reminderText:f.reminderText,selectedTrackingAppID:c,showErrorDialog:!!d.errorMessage,templateID:d.templateID})};var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.selectedTemplateName!=null&&this.setState({templateName:a.selectedTemplateName})};d.componentDidMount=function(){var a=this;this.state.templateID!==null&&this.state.templateID!==void 0&&b("promiseDone")(b("AdsGraphAPI").get(e.id).object("id",String(this.state.templateID)).batched().get({fields:"steps.fields(step_type,reply_type,prefill_type,message,media_type,media_content,answers,answer_crm_field_ids,next_steps,crm_field_id),reminder_text,follow_up.fields(schedule_time,text,media_type,media_content,button_label,app_id)"}).then(function(a){return{steps:a.steps.data,reminder_text:a.reminder_text,follow_up:a.follow_up&&a.follow_up.data}}),function(b){return a.$1(b)},function(a){})};d.render=function(){var a;return b("React").createElement(b("MessengerDestinationPartialAutomatedCreationDialog.react"),babelHelpers["extends"]({},this.state,{isFollowUp:(a=this.props.isFollowUp)!=null?a:!1,showPartialAutomatedFormat:b("gkx")("860401"),shown:this.props.shown,onAddQuestion:this.$2,onCancelButtonClicked:this.$3,onClick:this.$4,onCloseErrorDialog:this.$5,onConfirmationMessageChange:this.$6,onDisqualifyMessageChange:this.$7,onFinishButtonClicked:this.$8,onFollowUpMessageChange:this.$9,onIntroMessageChange:this.$10,onPreviewButtonClicked:this.$11,onPreviewSuccessDialogToggle:this.$12,onPrivacyPolicyURLChange:this.$13,onQuestionItemChange:this.$14,onReminderTextChange:this.$15,onRemoveQuestion:this.$16,onShowError:this.$17,onTemplateNameChange:this.$18,onToggle:this.props.onToggle}))};d.$1=function(a){a=b("AdsMessengerPartialAutomatedCreationUtils").getStateData(a.steps,a.reminder_text,a.follow_up);this.setState({introMessage:a.introMessage,confirmationMessage:a.confirmationMessage,disqualifyMessage:a.disqualifyMessage,questionItems:a.questionItems,reminderText:a.reminderText,followUpMessage:a.followUpMessage})};return c}(b("React").Component);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);
__d("SUIDateTimeRangeDefaults",["fbt","DateTime","React","Timezone","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("Timezone").UTC;c=a.shape({end:a.instanceOf(b("DateTime")).isRequired,label:a.string.isRequired,value:a.string.isRequired,start:a.instanceOf(b("DateTime")).isRequired});var i=b("keyMirror")({YESTERDAY:null,LAST_7_DAYS:null,LAST_14_DAYS:null,LAST_30_DAYS:null,DATE_RANGE:null}),j=function(a){return g._({"*":"{number} derniers jours","_1":"Le dernier jour"},[g._plural(a,"number")])},k=function(){var a=b("DateTime").now(h).addDays(-1).startOfDay(),c=b("DateTime").now(h).startOfDay().addMinutes(-1);return[{end:c,label:g._("Hier"),value:i.YESTERDAY,start:a},{end:c,label:j(7),value:i.LAST_7_DAYS,start:a.addDays(-6)},{end:c,label:j(14),value:i.LAST_14_DAYS,start:a.addDays(-13)},{end:c,label:j(30),value:i.LAST_30_DAYS,start:a.addDays(-29)},{end:c,label:g._("Plage personnalis\u00e9e"),value:i.DATE_RANGE,start:c}]};d=function(){var a=k();return a[0]};f="F j, Y";a="D M j, Y g:ia";e.exports={DATE_FORMAT:f,DATE_TIME_FORMAT:a,PRESET_SHAPE:c,VALUES:i,getLastNDaysLabel:j,getDefaultPreset:d,getPresets:k}}),null);
__d("MessengerDestinationMessengerExperienceExistingTemplate.react",["ix","cx","fbt","AdsCFRadioSelectionTable.react","AdsIntelligentBlueTip.react","AdsInterfacesLogger","AdsLearnMore.react","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","Date.react","DateTime","FDSButton.react","FDSSpinner.react","FixedDataTableCellDefault.react","FixedDataTableColumn.react","Image.react","LineClamp.react","MessengerDestinationExperienceDialog.react","MessengerDestinationPartialAutomatedCreationDialogContainer.react","React","SUIDateTimeRangeDefaults","asset","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("SUIDateTimeRangeDefaults").DATE_FORMAT,k=b("uniqueID")(),l="ads_manager_ctm_saved_response_duplicate_template",m=490,n=205,o=50;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1},d.$5=function(a){a=d.props.customTemplatesList[a.rowIndex];return b("React").createElement(b("FixedDataTableCellDefault.react"),{className:"_71iu"},b("React").createElement(b("LineClamp.react"),{lines:2},a.template_name))},d.$6=function(a){a=d.props.customTemplatesList[a.rowIndex];a=a.time_created&&b("DateTime").fromISOString(a.time_created,b("DateTime").localNow().getTimezoneID());return b("React").createElement(b("FixedDataTableCellDefault.react"),{className:"_71iu"},b("React").createElement(b("Date.react"),{date:a,format:j}))},d.$3=function(a){d.setState({showDialog:a})},d.$4=function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_DUPLICATE_CTM_LEAD_GEN}),d.$3(!0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(this.props.isCustomTemplatesListLoading)return b("React").createElement("div",{className:"_2jsc"},b("React").createElement(b("FDSSpinner.react"),null));var a=i._("Utilisez un mod\u00e8le existant que vous avez d\u00e9j\u00e0 cr\u00e9\u00e9, ou dupliquez un mod\u00e8le pour le modifier. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1583081491793544"}))]),c=b("React").createElement("div",{className:"_766e"},i._("Vous n\u2019avez pas encore cr\u00e9\u00e9 de mod\u00e8les personnalis\u00e9s. Quand vous cr\u00e9erez un message de bienvenue personnalis\u00e9 ou une discussion automatis\u00e9e, vos mod\u00e8les seront enregistr\u00e9s ici pour pouvoir \u00eatre r\u00e9utilis\u00e9s dans les campagnes \u00e0 venir.")),d=this.props.selectedTemplate?this.props.selectedTemplate.template_name.length<b("AdsMessengerConstants").TITLE_MAX_LENGTH?this.props.selectedTemplate.template_name+" "+i._("Copie").toString():this.props.selectedTemplate.template_name:null,e=b("AdsMessengerUtils").getLandingScreenType(this.props.welcomeMessage);e=e===b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_71iv"},a),this.props.customTemplatesList.length>0?this.$1():c,this.$2(),b("React").createElement(b("MessengerDestinationPartialAutomatedCreationDialogContainer.react"),{isFollowUp:e,selectedTemplateName:d,shown:this.state.showDialog,onToggle:this.$3}))};d.$1=function(){var a=b("React").createElement(b("FixedDataTableCellDefault.react"),null,i._("Mod\u00e8les existants")),c=b("React").createElement(b("FixedDataTableCellDefault.react"),null,i._("Date de cr\u00e9ation")),d=b("AdsMessengerUtils").getLandingScreenType(this.props.welcomeMessage);d=d===b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW||d===b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP;d=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("422635")}),id:k,isDisabled:this.props.selectedTemplateID===null,label:i._("Dupliquer"),onClick:d?this.$4:this.props.onDuplicateButtonClicked});var e=this.props.customTemplatesList.length<3?o*(this.props.customTemplatesList.length+1):n;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_71iw"},b("React").createElement(b("AdsCFRadioSelectionTable.react"),{className:this.props.customTemplatesList.length<3?"_7i1r":"_71ix",headerHeight:o,height:e,rowHeight:o,rowsCount:this.props.customTemplatesList.length,selectedRowError:null,selectedRowIndex:this.props.selectedRowIndex,width:m,onSelectedRowIndexChange:this.props.onSelectedRowIndexChange},b("React").createElement(b("FixedDataTableColumn.react"),{cell:this.$5,flexGrow:3,header:a,width:1}),b("React").createElement(b("FixedDataTableColumn.react"),{cell:this.$6,flexGrow:1,header:c,width:1}))),b("React").createElement("div",{className:"_71iy"},d,b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:k,messageID:l,position:"below"})))};d.$2=function(){var a=b("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage);return this.props.pageID==null||this.props.pageID===""?b("React").createElement("div",null):b("React").createElement(b("MessengerDestinationExperienceDialog.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorType:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isBetaDesign:!0,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,shown:this.props.showDialog,templateName:this.props.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,visualEditorName:b("AdsMessengerContentEditorTabs").USE_EXISTING,welcomeMessageJSON:a,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange,onToggle:this.props.onToggle})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationMessengerExperienceStandardTemplate.react",["ix","cx","fbt","AdsIntelligentBlueTip.react","AdsLearnMore.react","AdsMessengerContentEditorTabs","AdsMessengerVisualEditorUtils","FDSButton.react","FDSText.react","Image.react","MessengerDestinationExperienceDialog.react","React","asset","suiMargin","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("uniqueID")(),k="ads_manager_ctm_saved_response_standard_template";function l(){return i._("Commencez par un mod\u00e8le avec un mot de bienvenue et quelques questions que les gens sont susceptibles de poser \u00e0 votre entreprise. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])}function m(){return i._("Commencez par un mod\u00e8le standard avec un mot de bienvenue et quelques questions que les gens sont susceptibles de poser \u00e0 votre entreprise. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").createElement(b("FDSText.react"),{margin:"_3-8-",size:"body3",weight:"bold"},i._("Message de bienvenue standard")),c=b("React").createElement("div",{className:"_2pig"},l()),d=b("React").createElement("div",{className:"_2pig _2piq"},i._("V\u00e9rifiez votre contenu dans l\u2019aper\u00e7u ou modifiez le texte de cette publicit\u00e9."));a=this.props.isFollowUpStyle?b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_2pig"},m()),d,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("477824")}),id:j,label:i._("Modifier"),onClick:this.props.onEditStandardTemplateButtonClick})):b("React").createElement(b("React").Fragment,null,a,c,d,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("477824")}),id:j,label:i._("Modifier le message"),onClick:this.props.onEditStandardTemplateButtonClick}));return b("React").createElement("div",{className:"_1ufo"},a,b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:j,messageID:k,position:"below"}),this.$1())};d.$1=function(){var a=b("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage);return this.props.pageID==null||this.props.pageID===""?b("React").createElement("div",null):b("React").createElement(b("MessengerDestinationExperienceDialog.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorType:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isBetaDesign:!0,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,shown:this.props.showDialog,templateName:this.props.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,visualEditorName:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE,welcomeMessageJSON:a,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange,onToggle:this.props.onToggle})};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationMessengerExperienceCreationSection.react",["cx","fbt","AdsCFMessengerDestinationVisualEditorInlineTipConfig","AdsCFWebdriverIDs","AdsIntelligentComponentsMessageGroupEnum","AdsIntelligentInlineNux.react","AdsMessengerContentEditorTabs","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","MessengerDestinationMessengerExperienceCustomTemplate.react","MessengerDestinationMessengerExperienceExistingTemplate.react","MessengerDestinationMessengerExperienceStandardTemplate.react","React","SUIBusinessTheme","SUIRadioList.react","SUITabGroup.react","adsMessengerDataModelSetLandingScreenType","curryRight"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SUIRadioList.react").Item;function j(a,c,d,e){var f=b("React").createElement(i,{key:b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE,value:b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE},b("React").createElement("div",{className:"_3-94"},h._("Cr\u00e9ez votre propre exp\u00e9rience de bienvenue"))),g=b("React").createElement(i,{key:b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED,value:b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED},b("React").createElement("div",{className:"_3-94"},h._("Utiliser l\u2019\u00e9cran de d\u00e9marrage de votre bot")));f=[f];a&&f.push(g);return a&&b("React").createElement("div",{className:"_290z"},b("React").createElement(b("SUIRadioList.react"),{theme:b("SUIBusinessTheme"),value:c===b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED?c:b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE,onChange:b("curryRight")(k,e,d)},f))}function k(a,c,d){c=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(c);d(b("adsMessengerDataModelSetLandingScreenType")(c,a))}function l(){var a=h._("Standard"),c=h._("Personnalis\u00e9"),d=h._("Existant");return[{label:a,value:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE},{label:c,value:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE},{label:d,value:b("AdsMessengerContentEditorTabs").USE_EXISTING}]}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c;switch(this.props.tabValue){case b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE:c=b("React").createElement(b("MessengerDestinationMessengerExperienceStandardTemplate.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isFollowUpStyle:this.props.isFollowUpStyle,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,showDialog:this.props.showDialog,templateName:this.props.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onEditStandardTemplateButtonClick:this.props.onEditStandardTemplateButtonClick,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange,onToggle:this.props.onToggle});break;case b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE:c=b("React").createElement(b("MessengerDestinationMessengerExperienceCustomTemplate.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isFollowUpStyle:this.props.isFollowUpStyle,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,showDialog:this.props.showDialog,templateName:this.props.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onCreateNewTemplateClick:this.props.onCreateNewTemplateClick,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange,onToggle:this.props.onToggle});break;case b("AdsMessengerContentEditorTabs").USE_EXISTING:default:c=b("React").createElement(b("MessengerDestinationMessengerExperienceExistingTemplate.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,customTemplatesList:this.props.customTemplatesList,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isCustomTemplatesListLoading:this.props.isCustomTemplatesListLoading,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedRowIndex:this.props.selectedRowIndex,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,showDialog:this.props.showDialog,templateName:this.props.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,visualEditorName:b("AdsMessengerContentEditorTabs").USE_EXISTING,welcomeMessage:this.props.welcomeMessage,onCreateNewTemplateClick:this.props.onCreateNewTemplateClick,onDuplicateButtonClicked:this.props.onDuplicateButtonClicked,onJSONChange:this.props.onJSONChange,onSelectedRowIndexChange:this.props.onSelectedRowIndexChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange,onToggle:this.props.onToggle});break}switch(this.props.landingScreenType){case b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE:case b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN:case b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW:case b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP:a=b("React").createElement("div",{className:"_1ufn"},b("React").createElement(b("SUITabGroup.react"),{tabs:l(),theme:b("SUIBusinessTheme"),value:this.props.tabValue,onChange:this.props.onTabChange}));break;case b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED:c=null;a=b("React").createElement("div",{className:"_2n4w"},b("AdsMessengerUtils").getGetStartedNotice());break}var d=new(b("AdsCFMessengerDestinationVisualEditorInlineTipConfig"))().getTipProps(),e=d.category,f=d.ctaData,g=d.header,h=d.messageID;d=d.textData;return b("React").createElement("div",{"data-testid":b("AdsCFWebdriverIDs").INLINE_VISUAL_EDITOR},j(this.props.isGetStartedEnabled,this.props.landingScreenType,this.props.pageID,this.props.onJSONChange),b("React").createElement("div",{className:"_6e92"},b("React").createElement(b("AdsIntelligentInlineNux.react"),{ccCardProps:{category:e,ctaData:f,header:g,textData:d},messageGroup:b("AdsIntelligentComponentsMessageGroupEnum").CREATION_AND_EDITING_L1,messageID:h})),a,c)};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationMessengerExperiencePESection.react",["ix","cx","fbt","AdsLearnMore.react","AdsMessengerJSONUtils","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSText.react","Image.react","Link.react","MessengerDestinationPartialAutomatedCreationContainer.react","MessengerDestinationPartialAutomatedCreationDialogContainer.react","React","SUICloseButton.react","URI","XUIRadioList.react","XUIRadioListItem.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=Object.freeze({CREATE_NEW:"createNew",USE_EXISTING:"useExisting",GET_STARTED:"getStarted"}),k=Object.freeze({STANDARD:"standard",CUSTOM:"custom",CTM_LEAD_GEN:"ctmLeadGen",FOLLOW_UP:"followUp"}),l=b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:j.CREATE_NEW,value:j.CREATE_NEW},i._("Cr\u00e9er un nouvel onglet")),m=b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:j.USE_EXISTING,value:j.USE_EXISTING},i._("Utiliser l\u2019onglet existant")),n=b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:j.GET_STARTED,value:j.GET_STARTED},i._("Utiliser votre \u00e9cran de d\u00e9marrage"));function o(a){return b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("363444")}),label:i._("Afficher un aper\u00e7u dans Messenger"),onClick:a})}function p(a,c){a=o(a);c=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("477824")}),label:i._("Modifier"),onClick:c});return b("React").createElement("div",{className:"_3-8y _3-96"},b("React").createElement("div",{className:"_2pii _653e"},c),b("React").createElement("div",{className:"_653e"},a))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state=d.getInitialState(),d.$10=function(){d.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(d.props.pageID))},d.$7=function(a){a===j.GET_STARTED?d.props.onLandingScreenChange(b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED):a===j.CREATE_NEW&&d.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID),!0),d.setState({selectorValue:a})},d.$4=function(a){var c=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID);a===k.STANDARD||a===k.CUSTOM?d.props.onJSONChange(c,!0):a===k.CTM_LEAD_GEN&&(b("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(b("AdsMessengerPartialAutomatedCreationUtils").getDefaultCTMLeadGenForm(),{line:"565",module:"MessengerDestinationMessengerExperiencePESection.react.js"}),d.props.onJSONChange(babelHelpers["extends"]({},c,{landing_screen_type:b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW}),!0));d.setState({tabValue:a})},d.$3=function(a){d.setState({showDialog:a})},d.$9=function(){d.$3(!0)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){var a=null;try{a=b("AdsMessengerJSONUtils").getTemplateID(JSON.parse(this.props.welcomeMessage))}catch(a){}return{selectorValue:this.props.landingScreenType===b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED?j.GET_STARTED:a!=null?j.USE_EXISTING:j.CREATE_NEW,showDialog:!1,tabValue:k.STANDARD}};d.render=function(){var a=this.props.selectedTemplate?this.props.selectedTemplate.template_name+" "+i._("Copie").toString():null,c=b("AdsMessengerUtils").getLandingScreenType(this.props.welcomeMessage)===b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP;return b("React").createElement("div",null,this.$1(),this.$2(),b("React").createElement(b("MessengerDestinationPartialAutomatedCreationDialogContainer.react"),{isFollowUp:c,selectedTemplateName:a,shown:this.state.showDialog,onToggle:this.$3}))};d.$2=function(){switch(this.state.selectorValue){case j.CREATE_NEW:return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIRadioList.react"),{selectedValue:this.state.tabValue,onValueChange:this.$4},this.$5()));case j.USE_EXISTING:return this.$6();case j.GET_STARTED:return b("React").createElement("div",{className:"_6b7v"},b("AdsMessengerUtils").getGetStartedNotice())}return null};d.$5=function(){var a=b("React").createElement(b("XUIRadioListItem.react"),{value:k.STANDARD},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},this.props.isFollowUpStyle?i._("Mod\u00e8le standard"):i._("Message de bienvenue standard")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",weight:"normal"},i._("Commencez par un mod\u00e8le avec un mot de bienvenue et quelques questions que les gens sont susceptibles de poser \u00e0 votre entreprise. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])),this.state.tabValue===k.STANDARD&&p(this.props.onPreviewInMessengerButtonClicked,this.props.onEditStandardTemplateButtonClick)),c=b("React").createElement(b("XUIRadioListItem.react"),{value:k.CUSTOM},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},this.props.isFollowUpStyle?i._("D\u00e9marrer des conversations"):i._("Message de bienvenue personnalis\u00e9")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",weight:"normal"},i._("Cr\u00e9ez votre propre mod\u00e8le pour ajouter des photos, des vid\u00e9os, des boutons et plus encore \u00e0 votre exp\u00e9rience d\u2019accueil. Enregistrez vos mod\u00e8les, c\u2019est facile et pratique\u00a0: vous pouvez ensuite les r\u00e9utiliser pour vos futures campagnes. {Learn more}",[i._param("Learn more",b("React").createElement(b("Link.react"),{href:new(b("URI"))("/business/m/one-sheeters/improve-click-to-messenger?locale=en_US"),target:"_blank"},i._("En savoir plus.")))])),this.state.tabValue===k.CUSTOM&&p(this.props.onPreviewInMessengerButtonClicked,this.props.onCreateNewTemplateClick)),d=b("React").createElement(b("XUIRadioListItem.react"),{value:k.CTM_LEAD_GEN},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},this.props.isFollowUpStyle?i._("G\u00e9n\u00e9rer des prospects"):i._("Discussion automatis\u00e9e")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",weight:"normal"},i._("Recueillez des informations sur les personnes int\u00e9ress\u00e9es par votre entreprise en leur posant des questions dans une discussion automatis\u00e9e. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"592240724554522"}))])),this.state.tabValue===k.CTM_LEAD_GEN&&b("React").createElement("div",{className:"_3-8y _3-96"},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationContainer.react"),{isCTMLeadGenBetaDesign:!0,isEditingFlow:!0,isFollowUp:!1}))),e=this.props.isFollowUpStyle?b("React").createElement(b("XUIRadioListItem.react"),{value:k.FOLLOW_UP},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Faites la promotion de votre site ou de votre app")),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",weight:"normal"},i._("Incitez les gens \u00e0 s\u2019inscrire aux derni\u00e8res nouvelles, puis envoyez un message de suivi pour promouvoir votre site ou votre app \u00e0 tout moment. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"2138706492856723"}))])),this.state.tabValue===k.FOLLOW_UP&&b("React").createElement("div",{className:"_3-8y _3-96"},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationContainer.react"),{isCTMLeadGenBetaDesign:!0,isEditingFlow:!0,isFollowUp:!0}))):null;return[a,c,d,e]};d.$1=function(){var a=[l,m];this.props.isGetStartedEnabled&&a.push(n);return b("React").createElement("div",{className:"_2ymq"},b("React").createElement(b("FDSDropdownSelector.react"),{value:this.state.selectorValue,onChange:this.$7},a))};d.$6=function(){var a=b("React").createElement(b("FDSDropdownSelector.react"),{placeholder:i._("Utiliser un mod\u00e8le existant"),value:this.props.selectedRowIndex,onChange:this.props.onSelectedRowIndexChange},this.props.customTemplatesList.map(function(a,c){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.id,value:c},a.template_name)}));if(this.props.selectedTemplateID!=null)return this.$8();else if(this.props.customTemplatesList.length>0)return b("React").createElement("div",{className:"_2pii _653e"},a);else return b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.pageID,label:i._("D\u00e9marrer"),use:"primary",onClick:this.props.onCreateNewTemplateClick})};d.$8=function(){var a=this,c=this.props.customTemplatesList.find(function(b){return b.id===a.props.selectedTemplateID});if(!c)return null;var d=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("363444")}),label:i._("Afficher un aper\u00e7u dans Messenger"),onClick:this.props.onPreviewInMessengerButtonClicked}),e=b("AdsMessengerUtils").getLandingScreenType(this.props.welcomeMessage);e=e===b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW||e===b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP;e=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("422635")}),isDisabled:this.props.selectedTemplateID===null,label:i._("Dupliquer"),onClick:e?this.$9:this.props.onDuplicateButtonClicked});return b("React").createElement("div",{className:"_1yea"},b("React").createElement("div",{className:"_2ph_"},b("React").createElement(b("FDSText.react"),{color:"primary",size:"header4",weight:"bold"},c.template_name),b("React").createElement("div",{className:"_1yeb"},b("React").createElement(b("SUICloseButton.react"),{onClick:this.$10}))),b("React").createElement("div",{className:"_2pit _2pio"},b("React").createElement("div",{className:"_2pii _653e"},e),b("React").createElement("div",{className:"_653e"},d)))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerExperienceVECancelDialog.react",["fbt","FDSButton.react","React","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:g._("Quitter"),use:"primary",onClick:this.props.onDiscardChangesToTemplate}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:g._("Poursuivre la modification"),use:"default",onClick:this.props.onContinueEditing})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:g._("Leave Without Saving Changes?")}),isShown:this.props.shown,width:450,onHide:this.props.onContinueEditing},g._("If you leave, any changes you've made to your welcome message won't be saved."))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationVECreateNewSection.react",["ix","cx","fbt","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerDestinationExperienceCreateNewDialog.react","AdsMessengerVisualEditorUtils","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","MessengerExperienceVECancelDialog.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,oldWelcomeMessage:d.props.welcomeMessage,isCloseDialogShown:!1},d.$1=function(){d.setState({showDialog:!0,oldWelcomeMessage:d.props.welcomeMessage})},d.$2=function(){if(d.state.oldWelcomeMessage===d.props.welcomeMessage){d.setState({showDialog:!1});return}d.setState({isCloseDialogShown:!1})},d.$3=function(){d.setState({showDialog:!1})},d.$5=function(){d.setState({isCloseDialogShown:!1,showDialog:!1});var a=d.state.oldWelcomeMessage;try{a=JSON.parse(a)}catch(c){a=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID)}d.props.onJSONChange(a)},d.$4=function(){d.setState({isCloseDialogShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("363444")}),label:b("AdsMessengerConstants").PREVIEW,onClick:this.props.onClickPreview}),c=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("477824")}),label:b("AdsMessengerConstants").EDIT,onClick:this.$1}),d=b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:b("AdsMessengerContentEditorTabs").CREATE_NEW,value:b("AdsMessengerContentEditorTabs").CREATE_NEW},i._("Welcome Message")),e=b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:b("AdsMessengerContentEditorTabs").JSON,value:b("AdsMessengerContentEditorTabs").JSON},i._("Advanced JSON Setup"));d=[d,e];e=b("React").createElement("div",{className:"_3-8y _3-96"},b("React").createElement(b("FDSDropdownSelector.react"),{value:this.props.editorType,onChange:this.props.onTabChange},d));return b("React").createElement("div",null,this.props.editorType!==b("AdsMessengerContentEditorTabs").USE_EXISTING&&b("React").createElement("div",{className:"_3-9d _3-96"},e,b("React").createElement("div",{className:"_2pii _653e"},c),b("React").createElement("div",{className:"_653e"},a)),this.state.showDialog&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("AdsMessengerDestinationExperienceCreateNewDialog.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorTab:this.props.editorType,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,shown:this.state.showDialog,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessageJSON:b("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage),onClose:this.$2,onHide:this.$3,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),b("React").createElement(b("MessengerExperienceVECancelDialog.react"),{isExistingTemplate:this.props.editorType===b("AdsMessengerContentEditorTabs").USE_EXISTING,shown:this.state.isCloseDialogShown,onContinueEditing:this.$4,onDiscardChangesToTemplate:this.$5})))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationVEUseExistingSection.react",["ix","cx","fbt","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerDestinationExperienceCreateNewDialog.react","AdsMessengerVisualEditorUtils","FDSButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","Image.react","React","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={showDialog:!1},c.$1=function(){c.setState({showDialog:!0}),c.props.onClickEdit()},c.$3=function(){c.setState({showDialog:!1})},c.$4=function(){c.setState({showDialog:!1})},c.$2=function(){c.setState({showDialog:!0}),c.props.onClickDuplicate()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(this.props.editorType!==b("AdsMessengerContentEditorTabs").USE_EXISTING||this.props.existingTemplatesList.length===0)return b("React").createElement(b("React").Fragment,null);var a=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("363444")}),label:b("AdsMessengerConstants").PREVIEW,onClick:this.props.onClickPreview}),c=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490346")}),label:b("AdsMessengerConstants").EDIT,margin:"_3-90",onClick:this.$1}),d=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("508751")}),label:b("AdsMessengerConstants").DUPLICATE,margin:"_3-90",onClick:this.$2});return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",null,this.props.editorType===b("AdsMessengerContentEditorTabs").USE_EXISTING&&b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("FDSDropdownSelector.react"),{placeholder:i._("Utiliser un mod\u00e8le existant"),value:this.props.selectedTemplate&&this.props.selectedTemplate.page_welcome_message_body,onChange:this.props.onSelectedRowIndexChange},this.props.existingTemplatesList.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.id,value:a.page_welcome_message_body},a.template_name)}))),c,b("React").createElement("div",{className:"_653e"},d),b("React").createElement("div",{className:"_653e"},a)),this.state.showDialog&&b("React").createElement(b("AdsMessengerDestinationExperienceCreateNewDialog.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorTab:this.props.editorType,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,shown:this.state.showDialog,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessageJSON:b("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage),onClose:this.$3,onHide:this.$4,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange})))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerDestinationVEEditSection.react",["cx","fbt","AdsLearnMore.react","AdsMessengerContentEditorTabs","AdsMessengerVisualEditorUtils","FDSSpinner.react","FDSText.react","MessengerDestinationVECreateNewSection.react","MessengerDestinationVEUseExistingSection.react","React","SUIBusinessTheme","SUIRadioList.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("SUIRadioList.react").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){if(a==null)return;try{c.props.onJSONChange(JSON.parse(a))}catch(a){}},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return this.props.pageID==null||this.props.isExistingTemplatesListLoading?b("React").createElement("div",{className:"_2jsc"},b("React").createElement(b("FDSSpinner.react"),null)):b("React").createElement("div",{className:"_3-96 _3-9b _3-91"},b("React").createElement(b("SUIRadioList.react"),{theme:b("SUIBusinessTheme"),value:this.props.editorType==b("AdsMessengerContentEditorTabs").USE_EXISTING?this.props.editorType:b("AdsMessengerContentEditorTabs").CREATE_NEW,onChange:this.props.onTabChange},b("React").createElement(i,{key:b("AdsMessengerContentEditorTabs").CREATE_NEW,theme:b("SUIBusinessTheme"),value:b("AdsMessengerContentEditorTabs").CREATE_NEW},b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{size:"body3",weight:"bold"},h._("Cr\u00e9er"))),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},h._("Review your welcome message that includes a greeting and a few questions that people might want to ask your business.")))),b("React").createElement(b("MessengerDestinationVECreateNewSection.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorType:this.props.editorType,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickPreview:this.$1,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),b("React").createElement(i,{key:b("AdsMessengerContentEditorTabs").USE_EXISTING,theme:b("SUIBusinessTheme"),value:b("AdsMessengerContentEditorTabs").USE_EXISTING},b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{size:"body3",weight:"bold"},h._("Use Existing"))),this.props.existingTemplatesList.length!==0?b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},h._("Use, edit or duplicate an existing template you've already created. {=Learn more}",[h._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1583081491793544"}))])):b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},h._("No existing Templates Yet {=Learn more}",[h._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1583081491793544"}))]))),b("React").createElement("div",{className:"_7u62"},b("React").createElement(b("MessengerDestinationVEUseExistingSection.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorType:this.props.editorType,errorSpec:this.props.errorSpec,existingTemplatesList:this.props.existingTemplatesList,hostID:this.props.hostID,isExistingTemplatesListLoading:this.props.isExistingTemplatesListLoading,isGetStartedEnabled:this.props.isGetStartedEnabled,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickDuplicate:this.props.onClickDuplicate,onClickEdit:this.props.onClickEdit,onClickPreview:this.$1,onJSONChange:this.props.onJSONChange,onSelectedRowIndexChange:this.$2,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}))))};d.$1=function(){};d.$3=function(){this.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(this.props.pageID))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerContentEditorContainer.react",["AdsFluxContainer","AdsInterfacesLogger","AdsMessengerContentEditorTabs","AdsMessengerJSONMediaFormatType","AdsMessengerUtils","AdsMessengerVisualEditorLoggerEvents","AdsMessengerWelcomeMessageDataType","AdsMessengerWelcomeMessageFields","AdsUEditorAdgroupMessengerContentEditor.react","AdsUEditorAdgroupSetMessengerSponsoredMessageDataAction","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","AdsUEditorContextType","AdsUEditorMessengerContentEditorSelectors","AdsUniformValue","MessengerContentEditorSurface","React","adsMessengerDataModelAddCTA","adsMessengerDataModelAddQuickReply","adsMessengerDataModelChangeFormat","adsMessengerDataModelGetActionType","adsMessengerDataModelGetAttachmentText","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetGenericSubtitle","adsMessengerDataModelGetGenericTitle","adsMessengerDataModelGetImageID","adsMessengerDataModelGetLandingScreenType","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelGetVideoID","adsMessengerDataModelGetWelcomeMessage","adsMessengerDataModelRemoveCTA","adsMessengerDataModelRemoveQuickReply","adsMessengerDataModelSelectImage","adsMessengerDataModelSetAttachmentText","adsMessengerDataModelSetCTATitle","adsMessengerDataModelSetCTAType","adsMessengerDataModelSetCTAURL","adsMessengerDataModelSetGenericSubtitle","adsMessengerDataModelSetGenericTitle","adsMessengerDataModelSetLandingScreenType","adsMessengerDataModelSetQRPayload","adsMessengerDataModelSetQRTitle","adsMessengerDataModelSetVideo","adsMessengerDataModelSetWelcomeMessage","adsMessengerDataModelSwitchToButtons","adsMessengerDataModelSwitchToQuickReplies","emptyFunction","setByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerContentEditorSelector;function h(a){return b("AdsMessengerUtils").getWelcomeMessageDataType(a)===b("AdsMessengerWelcomeMessageDataType").VISUAL_EDITOR}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$13=function(a){var c=d.state.json;if(c instanceof Array){var e=d.state.pageID instanceof b("AdsUniformValue")?d.state.pageID.getValue():null;c=b("AdsMessengerUtils").getVisualEditorDefaultJSON(!0,e,b("MessengerContentEditorSurface").VISUAL_EDITOR,d.state.defaultFormatType)}d.$22(b("adsMessengerDataModelSetLandingScreenType")(c,a))},d.$4=function(){d.$22(b("adsMessengerDataModelAddCTA")(d.state.json))},d.$5=function(){d.$22(b("adsMessengerDataModelAddQuickReply")(d.state.json))},d.$6=function(a){d.$22(b("adsMessengerDataModelSetAttachmentText")(d.state.json,a))},d.$7=function(a,c){d.$22(b("adsMessengerDataModelSetCTATitle")(d.state.json,a,c))},d.$8=function(a,c){d.$22(b("adsMessengerDataModelSetCTAType")(d.state.json,a,c))},d.$11=function(a){d.$22(b("adsMessengerDataModelSelectImage")(d.state.json,d.state.accountID,a))},d.$12=function(a){b("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.state.ids,pageWelcomeMessage:JSON.stringify(a)},{line:"271",module:"AdsUEditorAdgroupMessengerContentEditorContainer.react.js"}),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_EDIT_PAGE_WELCOME_MESSAGE})},d.$9=function(a,c){d.$22(b("adsMessengerDataModelSetCTAURL")(d.state.json,a,c))},d.$15=function(a,c){d.$22(b("adsMessengerDataModelSetQRTitle")(d.state.json,a,c))},d.$14=function(a,c){d.$22(b("adsMessengerDataModelSetQRPayload")(d.state.json,a,c))},d.$17=function(a){d.$22(b("adsMessengerDataModelRemoveQuickReply")(d.state.json,a))},d.$18=function(a){d.$22(b("adsMessengerDataModelSetGenericSubtitle")(d.state.json,a))},d.$19=function(a){var c=h(d.state.json);if(c&&a!==b("AdsMessengerContentEditorTabs").VISUAL)d.$22(b("AdsMessengerUtils").getDefaultJSON());else if(!c&&a===b("AdsMessengerContentEditorTabs").VISUAL){c=d.state.pageID instanceof b("AdsUniformValue")?d.state.pageID.getValue():null;d.$22(b("AdsMessengerUtils").getVisualEditorDefaultJSON(!0,c,b("MessengerContentEditorSurface").VISUAL_EDITOR,d.state.defaultFormatType))}},d.$20=function(a){d.$22(b("adsMessengerDataModelSetGenericTitle")(d.state.json,a))},d.$16=function(a){d.$22(b("adsMessengerDataModelRemoveCTA")(d.state.json,a))},d.$10=function(a){a=b("adsMessengerDataModelChangeFormat")(d.state.json,a,d.state.isNewContent,!0);d.$22(a);return b("adsMessengerDataModelGetActionType")(a)},d.$21=function(a){d.$22(b("adsMessengerDataModelSetWelcomeMessage")(d.state.json,a,!0))},d.$2=function(){d.$22(b("adsMessengerDataModelSwitchToButtons")(d.state.json,!0))},d.$3=function(){var a=d.state.pageID instanceof b("AdsUniformValue")?d.state.pageID.getValue():null;a=b("AdsMessengerUtils").getVisualEditorDefaultJSON(!0,a,b("MessengerContentEditorSurface").VISUAL_EDITOR);a=b("adsMessengerDataModelGetQuickReplies")(a);d.$22(b("adsMessengerDataModelSwitchToQuickReplies")(d.state.json,a,!0))},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,b){a=b.adgroupEditorContext;return g.getStores(a)};c.calculateState=function(a,b,c){a=c.adgroupEditorContext;return g(a)};var d=c.prototype;d.render=function(){this.$1();return b("React").createElement(b("AdsUEditorAdgroupMessengerContentEditor.react"),{accountID:this.state.accountID,actionType:b("adsMessengerDataModelGetActionType")(this.state.json),attachmentText:b("adsMessengerDataModelGetAttachmentText")(this.state.json),ctas:b("adsMessengerDataModelGetCTAs")(this.state.json),defaultTextOnly:this.state.defaultFormatType===b("AdsMessengerJSONMediaFormatType").TEXT,errorSpec:this.state.errorSpec,format:b("adsMessengerDataModelGetMediaFormat")(this.state.json),imageID:b("adsMessengerDataModelGetImageID")(this.state.json),isCondensedFormat:this.props.isCondensedFormat,isGetStartedEnabled:this.state.isGetStartedEnabled,isLoading:this.state.isLoading,isNewContent:this.state.isNewContent,isNewDesign:!0,isSponsoredMessage:this.state.isSponsoredMessage,isSuggestedReply:this.state.isSuggestedReply,isVisualEditorData:h(this.state.json),json:this.state.json,landingScreenType:b("adsMessengerDataModelGetLandingScreenType")(this.state.json),pageID:this.state.pageID,quickReplies:b("adsMessengerDataModelGetQuickReplies")(this.state.json),shown:!0,subtitle:b("adsMessengerDataModelGetGenericSubtitle")(this.state.json),surface:b("MessengerContentEditorSurface").VISUAL_EDITOR,switchToButtons:this.$2,switchToIceBreakers:b("emptyFunction"),switchToQuickReplies:this.$3,title:b("adsMessengerDataModelGetGenericTitle")(this.state.json),videoURL:this.state.videoURL,visualEditorOnly:this.state.isSponsoredMessage&&!this.state.canUseJSONInSponsoredMessages,welcomeMessage:b("adsMessengerDataModelGetWelcomeMessage")(this.state.json,!0),onAddCTA:this.$4,onAddQR:this.$5,onAttachmentTextChange:this.$6,onCTATitleChange:this.$7,onCTATypeChange:this.$8,onCTAURLChange:this.$9,onFormatChange:this.$10,onImageSelect:this.$11,onJSONChange:this.$12,onLandingScreenChange:this.$13,onQRPayloadChange:this.$14,onQRTitleChange:this.$15,onRemoveCTA:this.$16,onRemoveIceBreaker:b("emptyFunction"),onRemoveQR:this.$17,onSubtitleChange:this.$18,onTabChange:this.$19,onTitleChange:this.$20,onWelcomeMessageChange:this.$21})};d.$1=function(){this.state.videoID&&this.state.videoID!==b("adsMessengerDataModelGetVideoID")(this.state.json)&&this.$22(b("adsMessengerDataModelSetVideo")(this.state.json,this.state.videoID))};d.$22=function(a){a&&(b("setByPath")(a,[b("AdsMessengerWelcomeMessageFields").USER_EDIT],!0),this.state.isSponsoredMessage?b("AdsUEditorAdgroupSetMessengerSponsoredMessageDataAction").dispatch({adgroupIDs:this.state.ids,hostID:this.context.adgroupEditorContext.hostID,messengerSponsoredMessage:JSON.stringify(a)},{line:"410",module:"AdsUEditorAdgroupMessengerContentEditorContainer.react.js"}):(b("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:this.context.adgroupEditorContext.hostID,adgroupIDs:this.state.ids,pageWelcomeMessage:JSON.stringify(a)},{line:"416",module:"AdsUEditorAdgroupMessengerContentEditorContainer.react.js"}),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_EDIT_PAGE_WELCOME_MESSAGE})))};return c}(b("React").Component);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupMessengerExperienceEditor.react",["cx","fbt","ix","AdsCFMessengerDestinationVisualEditorInlineTipConfig","AdsCFRadioSelectionTable.react","AdsCFWebdriverIDs","AdsGraphAPI","AdsIntelligentComponentsMessageGroupEnum","AdsIntelligentInlineNux.react","AdsInterfacesLogger","AdsLearnMore.react","AdsMessengerContentEditorTabs","AdsMessengerExperienceTabSelectAction","AdsMessengerJSONUtils","AdsMessengerPartialAutomatedCreationDataManager","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedCreationUtils","AdsMessengerSetStandardTemplateAction","AdsMessengerUtils","AdsMessengerVideoUploadResetDataAction","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","BootloadedComponent.react","Date.react","DateTime","FDSButton.react","FDSSpinner.react","FixedDataTableCellDefault.react","FixedDataTableColumn.react","Image.react","JSResource","Link.react","MessengerDestinationExperiencePESection.react","MessengerDestinationMessengerExperienceCreationSection.react","MessengerDestinationMessengerExperiencePESection.react","MessengerDestinationPartialAutomatedCreationContainer.react","React","SUIBusinessTheme","SUIDateTimeRangeDefaults","SUIRadioList.react","SUITabGroup.react","SUIText.react","URI","adsMessengerDataModelGetLandingScreenType","adsMessengerDataModelGetTemplateIDForCTMLeadGen","adsMessengerDataModelSetLandingScreenType","asset","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("SUIDateTimeRangeDefaults").DATE_FORMAT,k=b("SUIRadioList.react").Item,l=550,m=355,n=80,o=h._("Message de bienvenue").toString()+" "+b("DateTime").localNow().format("m-d-y");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(g))||this,d.state={showDialog:!1,showPreviewSuccessDialog:!1,templateName:o,tabValue:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE},d.$7=function(a){if(a===d.props.landingScreenType)return;var c=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID);d.props.onJSONChange(b("adsMessengerDataModelSetLandingScreenType")(c,a))},d.$11=function(a){__p&&__p();if(a===d.state.tabValue)return;d.setState({tabValue:a});if(a===b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE)d.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID),!0);else if(d.props.customTemplatesList.length>0){b("AdsMessengerSetStandardTemplateAction").dispatch({standardTemplate:d.props.welcomeMessage},{line:"472",module:"AdsUEditorAdgroupMessengerExperienceEditor.react.js"});var c=d.props.customTemplatesList[0];c=JSON.parse(c.page_welcome_message_body);d.props.onJSONChange(c,!0)}b("AdsMessengerExperienceTabSelectAction").dispatch({tabValue:a},{line:"483",module:"AdsUEditorAdgroupMessengerExperienceEditor.react.js"})},d.$13=function(a){__p&&__p();d.setState({tabValue:a});if(a===b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE||a===b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE)d.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID),!0);else if(a===b("AdsMessengerContentEditorTabs").USE_EXISTING&&d.props.customTemplatesList.length>0){var c=d.props.customTemplatesList[0];c=JSON.parse(c.page_welcome_message_body);d.props.onJSONChange(c,!0);d.$10(0)}b("AdsMessengerExperienceTabSelectAction").dispatch({tabValue:a},{line:"512",module:"AdsUEditorAdgroupMessengerExperienceEditor.react.js"})},d.$10=function(a){a=b("nullthrows")(d.props.customTemplatesList[a]);d.props.onJSONChange(JSON.parse(a.page_welcome_message_body),!0);if(d.props.isCTMLeadGenBetaDesign){a=b("adsMessengerDataModelGetTemplateIDForCTMLeadGen")(JSON.parse(a.page_welcome_message_body));b("promiseDone")(b("AdsGraphAPI").get(e.id).object("id",String(a)).batched().get({fields:"steps.fields(step_type,reply_type,prefill_type,message,media_content,media_type,answers,answer_crm_field_ids,next_steps,crm_field_id),reminder_text,follow_up.fields(schedule_time,text,media_type,media_content,button_label,app_id)"}).then(function(a){return{steps:a.steps.data,reminder_text:a.reminder_text,follow_up:a.follow_up&&a.follow_up.data}}),function(a){return d.$27(a)},function(a){})}},d.$25=function(a){a=d.props.customTemplatesList[a.rowIndex];return b("React").createElement(b("FixedDataTableCellDefault.react"),{className:"_2sge"},a.template_name)},d.$26=function(a){a=d.props.customTemplatesList[a.rowIndex];a=a.time_created?b("DateTime").fromISOString(a.time_created,b("DateTime").localNow().getTimezoneID()):a.time_created;return b("React").createElement(b("FixedDataTableCellDefault.react"),{className:"_2sge"},b("React").createElement(b("Date.react"),{date:a,format:j}))},d.$9=function(){if(!d.props.errorSpec){var a=d.props.pageID;if(a==null||a==="")return;var c=d.$29(),e=b("adsMessengerDataModelGetLandingScreenType")(c);e===b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN||e===b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW||e===b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP?b("AdsMessengerPartialAutomatedCreationDataManager").sendCTMLeadGenPreview(JSON.stringify(c),a,d.$30):b("AdsMessengerUtils").getJSONSend(c,a,function(){},function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_PREVIEW_MESSAGE_SUCCESS}),d.setState({showPreviewSuccessDialog:!0})},function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_PREVIEW_MESSAGE_FAILED})})}},d.$5=function(){if(d.props.selectedTemplate){var a=d.props.selectedTemplate.template_name,c=a+" "+h._("Copie").toString();c.length<=n?d.setState({showDialog:!0,templateName:c}):d.setState({showDialog:!0,templateName:a})}else d.setState({showDialog:!0,templateName:o});b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_DUPLICATE_CUSTOM_TEMPLATE})},d.$6=function(){d.setState({showDialog:!0,tabValue:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE,templateName:o}),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_STANDARD_EDITING_DIALOG_OPEN})},d.$4=function(){d.setState({showDialog:!0,tabValue:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE,templateName:o}),d.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(d.props.pageID),!0),b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_CUSTOM_EDITING_DIALOG_OPEN})},d.$14=function(a){if(a.length>n)return;d.setState({templateName:a})},d.$15=function(a){a||d.setState({showDialog:!1})},d.$30=function(){d.setState({showPreviewSuccessDialog:!0})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){if(a.isCTMLeadGenBetaDesign){try{var d=b("AdsMessengerJSONUtils").getTemplateID(JSON.parse(a.welcomeMessage));if(d!=null)return{tabValue:b("AdsMessengerContentEditorTabs").USE_EXISTING}}catch(a){}return null}return c.tabValue===b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE||c.tabValue===b("AdsMessengerContentEditorTabs").USE_EXISTING?null:{tabValue:a.selectedTemplateID!==""&&a.selectedTemplateID!=null?b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE}};var d=c.prototype;d.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_VISUAL_EDITOR_RENDER})};d.componentDidUpdate=function(a,c){if(this.props.pageID!==a.pageID){a=b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(this.props.pageID);b("AdsMessengerSetStandardTemplateAction").dispatch({standardTemplate:JSON.stringify(a)},{line:"178",module:"AdsUEditorAdgroupMessengerExperienceEditor.react.js"})}a=c.showDialog&&!this.state.showDialog;a&&b("AdsMessengerVideoUploadResetDataAction").dispatch({},{line:"185",module:"AdsUEditorAdgroupMessengerExperienceEditor.react.js"})};d.render=function(){return this.props.isEditingFlow?this.$1():this.$2()};d.$1=function(){var a=this;return b("React").createElement("div",{className:"_2ph_"},this.props.isCTMLeadGenBetaDesign?b("React").createElement(b("MessengerDestinationMessengerExperiencePESection.react"),{customTemplatesList:this.props.customTemplatesList,isFollowUpStyle:this.props.isFollowUpStyle,isGetStartedEnabled:this.props.isGetStartedEnabled,landingScreenType:this.props.landingScreenType,pageID:this.props.pageID,selectedRowIndex:this.$3(),selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,welcomeMessage:this.props.welcomeMessage,onCreateNewTemplateClick:this.$4,onDuplicateButtonClicked:this.$5,onEditStandardTemplateButtonClick:this.$6,onJSONChange:this.props.onJSONChange,onLandingScreenChange:this.$7,onPreviewButtonClicked:this.$8,onPreviewInMessengerButtonClicked:this.$9,onSelectedRowIndexChange:this.$10}):b("React").createElement(b("MessengerDestinationExperiencePESection.react"),{customTemplatesList:this.props.customTemplatesList,isCTMLeadGenBetaDesign:this.props.isCTMLeadGenBetaDesign,isGetStartedEnabled:this.props.isGetStartedEnabled,landingScreenType:this.props.landingScreenType,pageID:this.props.pageID,selectedRowIndex:this.$3(),selectedTemplateID:this.props.selectedTemplateID,tabValue:this.state.tabValue,onCreateNewTemplateClick:this.$4,onDuplicateButtonClicked:this.$5,onEditStandardTemplateButtonClick:this.$6,onJSONChange:this.props.onJSONChange,onLandingScreenChange:this.$7,onPreviewButtonClicked:this.$8,onPreviewInMessengerButtonClicked:this.$9,onSelectedRowIndexChange:this.$10,onTabChange:this.$11}),this.$12(),b("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.state.showPreviewSuccessDialog,this.props.pageName,function(){a.setState({showPreviewSuccessDialog:!1})}))};d.$2=function(){__p&&__p();if(this.props.isCTMLeadGenBetaDesign)return b("React").createElement(b("MessengerDestinationMessengerExperienceCreationSection.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,customTemplatesList:this.props.customTemplatesList,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isCustomTemplatesListLoading:this.props.isCustomTemplatesListLoading,isFollowUpStyle:this.props.isFollowUpStyle,isGetStartedEnabled:this.props.isGetStartedEnabled,isVideoLoading:this.props.isVideoLoading,landingScreenType:this.props.landingScreenType,pageID:this.props.pageID,pageName:this.props.pageName,selectedRowIndex:this.$3(),selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,showDialog:this.state.showDialog,tabValue:this.state.tabValue,templateName:this.state.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onCreateNewTemplateClick:this.$4,onDuplicateButtonClicked:this.$5,onEditStandardTemplateButtonClick:this.$6,onJSONChange:this.props.onJSONChange,onSelectedRowIndexChange:this.$10,onTabChange:this.$13,onTemplateNameChange:this.$14,onToggle:this.$15});var a,c,d=this.state.tabValue===b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE?this.$16():this.$17();switch(this.props.landingScreenType){case b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE:a=b("React").createElement("div",{className:"_1ufn"},b("React").createElement(b("SUITabGroup.react"),{tabs:this.$18(),theme:b("SUIBusinessTheme"),value:this.state.tabValue,onChange:this.$11}));c=d;break;case b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED:a=this.$19();c=b("React").createElement("div",null);break;case b("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN:case b("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP:a=b("React").createElement("div",null);c=b("React").createElement("div",{className:"_2o1q"},b("React").createElement(b("MessengerDestinationPartialAutomatedCreationContainer.react"),{isCTMLeadGenBetaDesign:this.props.isCTMLeadGenBetaDesign,isEditingFlow:!1}));break}d=new(b("AdsCFMessengerDestinationVisualEditorInlineTipConfig"))().getTipProps();var e=d.category,f=d.ctaData,g=d.header,h=d.messageID;d=d.textData;return b("React").createElement("div",{"data-testid":b("AdsCFWebdriverIDs").INLINE_VISUAL_EDITOR},this.$20(),b("React").createElement("div",{className:"_6e92"},b("React").createElement(b("AdsIntelligentInlineNux.react"),{ccCardProps:{category:e,ctaData:f,header:g,textData:d},messageGroup:b("AdsIntelligentComponentsMessageGroupEnum").CREATION_AND_EDITING_L1,messageID:h})),a,c)};d.$19=function(){return b("React").createElement("div",{className:"_2n4w"},b("AdsMessengerUtils").getGetStartedNotice())};d.$20=function(){var a=b("React").createElement(k,{key:b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE,value:b("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE},b("React").createElement("div",{className:"_3-94"},h._("Cr\u00e9ez votre propre exp\u00e9rience de bienvenue"))),c=b("React").createElement(k,{key:b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED,value:b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED},b("React").createElement("div",{className:"_3-94"},h._("Utiliser l\u2019\u00e9cran de d\u00e9marrage de votre bot")));a=[a];this.props.isGetStartedEnabled&&a.push(c);return this.props.isGetStartedEnabled?b("React").createElement("div",{className:"_290z"},b("React").createElement(b("SUIRadioList.react"),{theme:b("SUIBusinessTheme"),value:this.props.landingScreenType,onChange:this.$7},a)):b("React").createElement("div",null)};d.$18=function(){var a=h._("Mod\u00e8le standard"),c=h._("Mod\u00e8le personnalis\u00e9");return[{label:a,value:b("AdsMessengerContentEditorTabs").STANDARD_TEMPLATE},{label:c,value:b("AdsMessengerContentEditorTabs").CUSTOM_TEMPLATE}]};d.$21=function(){return h._("Commencez par un mod\u00e8le avec un mot de bienvenue et quelques questions que les gens sont susceptibles de poser \u00e0 votre entreprise. {=Learn more}",[h._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])};d.$22=function(){var a=b("React").createElement(b("Link.react"),{href:new(b("URI"))("/business/m/one-sheeters/improve-click-to-messenger?locale=en_US"),target:"_blank"},h._("Voir des astuces et des exemples."));return h._("Cr\u00e9ez votre propre mod\u00e8le pour ajouter des photos, des vid\u00e9os, des boutons et plus encore \u00e0 votre exp\u00e9rience d\u2019accueil. Enregistrez vos mod\u00e8les, c\u2019est facile et pratique\u00a0: vous pouvez ensuite les r\u00e9utiliser pour vos futures campagnes. {Tips and exammples about CTM ad}",[h._param("Tips and exammples about CTM ad",a)])};d.$16=function(){var a=b("React").createElement("div",{className:"_2pig"},this.$21()),c=b("React").createElement("div",{className:"_2pig _2piq"},h._("V\u00e9rifiez votre contenu dans l\u2019aper\u00e7u ou modifiez le texte de cette publicit\u00e9."));return b("React").createElement("div",{className:"_1ufo"},a,c,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:i("477824")}),label:h._("Modifier"),onClick:this.$6}),this.$12())};d.$17=function(){if(this.props.customTemplatesList.length===0&&!this.props.isCustomTemplatesListLoading)return this.$23();var a=h._("Cr\u00e9ez un nouveau mod\u00e8le ou choisissez-en un parmi ceux que vous avez d\u00e9j\u00e0 cr\u00e9\u00e9s. {=Learn more}",[h._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))]),c=h._("Cr\u00e9er"),d=b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:i("422635")}),isDisabled:this.props.selectedTemplateID===null,label:h._("Dupliquer"),onClick:this.$5});return b("React").createElement("div",{className:"_34wp"},b("React").createElement("div",{className:"_2sgp"},a),b("React").createElement("div",{className:"_2sgq"},b("React").createElement("div",{className:"_2pii _653e"},b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:i("378286")}),label:c,onClick:this.$4})),b("React").createElement("div",{className:"_653e"},d)),this.$24(),this.$12())};d.$24=function(){var a=b("React").createElement(b("FixedDataTableCellDefault.react"),null,h._("Mod\u00e8les existants")),c=b("React").createElement(b("FixedDataTableCellDefault.react"),null,h._("Date de cr\u00e9ation"));return this.props.isCustomTemplatesListLoading?b("React").createElement("div",{className:"_2jsc"},b("React").createElement(b("FDSSpinner.react"),null)):b("React").createElement(b("AdsCFRadioSelectionTable.react"),{className:"_2sgt",height:m,rowsCount:this.props.customTemplatesList.length,selectedRowError:null,selectedRowIndex:this.$3(),width:l,onSelectedRowIndexChange:this.$10},b("React").createElement(b("FixedDataTableColumn.react"),{cell:this.$25,flexGrow:3,header:a,width:1}),b("React").createElement(b("FixedDataTableColumn.react"),{cell:this.$26,flexGrow:1,header:c,width:1}))};d.$27=function(a){a=b("AdsMessengerPartialAutomatedCreationUtils").getStateData(a.steps,a.reminder_text,a.follow_up);b("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch({confirmationMessage:a.confirmationMessage,disqualifyMessage:a.disqualifyMessage,introMessage:a.introMessage,questionItems:a.questionItems,reminderText:a.reminderText,followUpMessage:a.followUpMessage},{line:"744",module:"AdsUEditorAdgroupMessengerExperienceEditor.react.js"})};d.$3=function(){var a=this,b=this.props.customTemplatesList.findIndex(function(b){return b.id===a.props.selectedTemplateID});return b>-1?b:null};d.$28=function(){return b("React").createElement(b("FDSButton.react"),{isDisabled:!this.props.pageID,label:h._("D\u00e9marrer"),use:"primary",onClick:this.$4})};d.$23=function(){var a=b("React").createElement("div",{className:"_2pif _2pin"},b("React").createElement(b("SUIText.react"),{color:"primary",size:"header4",weight:"bold"},h._("Vous voulez plus de personnalisation\u00a0?"))),c=b("React").createElement("div",{className:"_2pip"},this.$22()),d=b("React").createElement("div",{className:"_2k-o"},b("React").createElement(b("Image.react"),{src:i("543183")}));return b("React").createElement("div",null,d,b("React").createElement("div",{className:"_2sgu"},a,c,b("React").createElement("div",null," ",this.$28()),this.$12()))};d.$12=function(){if(this.props.pageID==null||this.props.pageID==="")return b("React").createElement("div",null);var a=this.$29();return b("React").createElement(b("BootloadedComponent.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,bootloadLoader:b("JSResource")("MessengerDestinationExperienceDialog.react").__setRef("AdsUEditorAdgroupMessengerExperienceEditor.react"),bootloadPlaceholder:b("React").createElement(b("FDSSpinner.react"),null),editorType:this.state.tabValue,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isBetaDesign:!1,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,shown:this.state.showDialog,templateName:this.state.templateName,videoID:this.props.videoID,videoURL:this.props.videoURL,visualEditorName:this.state.tabValue,welcomeMessageJSON:a,onJSONChange:this.props.onJSONChange,onTabChange:this.$11,onTemplateNameChange:this.$14,onToggle:this.$15})};d.$8=function(){};d.$29=function(){if(this.props.welcomeMessage)try{return JSON.parse(this.props.welcomeMessage)}catch(a){return b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(this.props.pageID)}else return b("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(this.props.pageID)};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerExperienceEditorContainer.react",["AdsFluxContainer","AdsInterfacesLogger","AdsMessengerVisualEditorLoggerEvents","AdsPageStore","AdsUEditorAdgroupMessengerExperienceEditor.react","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","AdsUEditorContextType","AdsUEditorMessengerContentEditorSelectors","React","adsMessengerDataModelGetVideoID","adsMessengerDataModelSetVideo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerExperienceEditorSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a,c){c!==!0&&b("AdsInterfacesLogger").log({eventName:b("AdsMessengerVisualEditorLoggerEvents").CTM_EDIT_PAGE_WELCOME_MESSAGE}),b("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.state.adgroupIDs,pageWelcomeMessage:JSON.stringify(a)},{line:"134",module:"AdsUEditorAdgroupMessengerExperienceEditorContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,c){a=c.adgroupEditorContext;return[].concat(g.getStores(a),[b("AdsPageStore")])};c.calculateState=function(a,b,c){a=c.adgroupEditorContext;return g(a)};var d=c.prototype;d.render=function(){this.$1();var a=this.state.pageID!==""&&this.state.pageID!=null?b("AdsPageStore").get(this.state.pageID):null;a=a?a.name:null;return b("React").createElement(b("AdsUEditorAdgroupMessengerExperienceEditor.react"),{accountID:this.state.accountID,adgroupIDs:this.state.adgroupIDs,customTemplatesList:this.state.customTemplatesList||[],errorSpec:this.state.errorSpec,hostID:this.context.adgroupEditorContext.hostID,isCTMLeadGenBetaDesign:this.state.isCTMLeadGenBetaDesign,isCustomTemplatesListLoading:this.state.isCustomTemplatesListLoading,isEditingFlow:this.props.isEditingFlow,isFollowUpStyle:this.props.isFollowUpStyle,isGetStartedEnabled:this.state.isGetStartedEnabled,isVideoLoading:this.state.isVideoLoading,landingScreenType:this.state.landingScreenType,pageID:this.state.pageID,pageName:a,selectedTemplate:this.state.selectedTemplate,selectedTemplateID:this.state.selectedTemplateID,videoID:this.state.videoID,videoURL:this.state.videoURL,welcomeMessage:this.state.welcomeMessage,onJSONChange:this.$2})};d.$1=function(){var a=null;if(this.state.welcomeMessage)try{a=JSON.parse(this.state.welcomeMessage)}catch(a){return}a&&this.state.videoID!==""&&this.state.videoID!==0&&this.state.videoID!=null&&this.state.videoID!==b("adsMessengerDataModelGetVideoID")(a)&&this.$2(b("adsMessengerDataModelSetVideo")(a,this.state.videoID))};return c}(b("React").Component);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupMessengerExperienceVECreateNew.react",["ix","cx","fbt","AdsLearnMore.react","AdsMessengerContentEditorTabs","AdsMessengerDestinationExperienceCreateNewDialog.react","AdsMessengerVisualEditorUtils","FDSButton.react","Image.react","MessengerExperienceVECancelDialog.react","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showDialog:!1,isCloseDialogShown:!1,oldWelcomeMessage:d.props.welcomeMessage},d.$6=function(){d.setState({isCloseDialogShown:!1,showDialog:!1});var a=d.state.oldWelcomeMessage;try{a=JSON.parse(a)}catch(c){a=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID)}d.props.onJSONChange(a)},d.$5=function(){d.setState({isCloseDialogShown:!1})},d.$2=function(){d.setState({showDialog:!0,oldWelcomeMessage:d.props.welcomeMessage}),d.props.onTabChange(b("AdsMessengerContentEditorTabs").JSON)},d.$3=function(){if(d.state.oldWelcomeMessage===d.props.welcomeMessage){d.setState({showDialog:!1});return}d.setState({isCloseDialogShown:!0})},d.$4=function(){d.setState({showDialog:!1})},d.$1=function(){d.setState({showDialog:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_1ufo"},b("React").createElement("div",{className:"_2pig"},i._("Review your welcome message that includes a greeting and a few questions that people might want to ask your business.")),b("React").createElement("div",{className:"_2pig _2piq"},i._("You can edit it to change the text or add photos, videos, buttons and more. {=Learn more}",[i._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("477824")}),label:i._("Edit"),onClick:this.$1}),b("React").createElement(b("ShimButton.react"),{onClick:this.$2},b("React").createElement("span",{className:"_7mdl"},b("React").createElement(b("Image.react"),{src:g("591465")}),b("React").createElement("span",{className:"_7mdm"},b("React").createElement("text",{fontFamily:"Arial-BoldMT"},i._("Advanced JSON Setup")))))),this.state.showDialog&&b("React").createElement(b("AdsMessengerDestinationExperienceCreateNewDialog.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorTab:this.props.editorTab,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,shown:this.state.showDialog,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessageJSON:b("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage),onClose:this.$3,onHide:this.$4,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),b("React").createElement(b("MessengerExperienceVECancelDialog.react"),{isExistingTemplate:this.props.editorTab===b("AdsMessengerContentEditorTabs").USE_EXISTING,shown:this.state.isCloseDialogShown,onContinueEditing:this.$5,onDiscardChangesToTemplate:this.$6}))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupVEUseExistingBotRow.react",["cx","fbt","ix","FDSText.react","FlexLayout.react","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_7qho"},b("React").createElement(b("ShimButton.react"),{className:"_7qhp",onClick:this.props.onClickBotTemplate},b("React").createElement(b("FlexLayout.react"),null,b("React").createElement(b("Image.react"),{className:"_7qhq",src:this.props.isSelected?i("22551"):i("22552")}),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{display:"block",weight:"bold"},h._("Bot welcome message")),b("React").createElement("div",{className:"_3-8x _3-95"},b("React").createElement(b("FDSText.react"),{color:"disabled",size:"meta1"},h._("This is a bot message for your bot")))))))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupVEUseExistingRow.react",["cx","fbt","ix","AdsMessengerConstants","Date.react","DateTime","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","React","ShimButton.react","SUIDateTimeRangeDefaults","asset","curry","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("SUIDateTimeRangeDefaults").DATE_FORMAT;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:(this.props.isSelected?"_7qhn":"")+(this.props.isSelected?"":" _7qho")},b("React").createElement(b("ShimButton.react"),{className:"_7qhp",onClick:b("curry")(this.props.onClickTemplate,this.props.index)},b("React").createElement(b("FlexLayout.react"),null,b("React").createElement(b("Image.react"),{className:"_7qhq",src:this.props.isSelected?i("22551"):i("22552")}),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{display:"block",weight:"bold"},this.props.existingTemplate.template_name),this.props.existingTemplate.time_created&&b("React").createElement("div",{className:"_3-8x _3-95"},b("React").createElement(b("FDSText.react"),{color:"disabled",size:"meta1"},h._("Created on"),"\xa0",b("React").createElement(b("Date.react"),{date:b("DateTime").fromISOString(this.props.existingTemplate.time_created,b("DateTime").localNow().getTimezoneID()),format:j}))),this.props.isSelected&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FlexLayout.react"),{justify:"all"},b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:i("490346")}),label:b("AdsMessengerConstants").EDIT,margin:"_3-92",onClick:this.props.onClickEdit})),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:i("508751")}),label:b("AdsMessengerConstants").DUPLICATE,margin:"_3-92",onClick:this.props.onClickDuplicate}),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:i("503832")}),label:h._("Delete"),margin:"_3-92",onClick:this.props.onClickDelete})))))))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupVEUseExisting.react",["cx","fbt","AdsLearnMore.react","AdsMessengerContentEditorTabs","AdsMessengerDestinationExperienceCreateNewDialog.react","AdsMessengerPageWelcomeMessageDataManager","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","AdsUEditorAdgroupVEUseExistingBotRow.react","AdsUEditorAdgroupVEUseExistingRow.react","FDSButton.react","FDSSpinner.react","FDSText.react","MessengerExperienceVECancelDialog.react","React","ScrollableArea.react","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","adsMessengerDataModelSetLandingScreenType","nullthrows","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){return b("React").createElement("div",{className:"_7uek"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-95",size:"title",textAlign:"center",weight:"bold"},h._("No Existing Templates Yet")),b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3",textAlign:"center"},h._("You haven't created any templates yet. When you save a welcome message or automated chat, your templates will be shown here to use in future campaigns. Learn more."))))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isBotWelcomeMessageSelected:d.props.isGetStartedEnabled,isCloseDialogShown:!1,selectedIndex:0,showDialog:!1,showDeleteDialog:!1},d.$6=function(){d.setState({isCloseDialogShown:!1})},d.$11=function(){d.setState({showDialog:!0}),d.props.onClickEdit(),d.setState()},d.$10=function(){d.setState({showDialog:!0}),d.props.onClickDuplicate()},d.$12=function(a){d.setState({isBotWelcomeMessageSelected:!1,selectedIndex:a});a=b("nullthrows")(d.props.existingTemplatesList[a]);d.props.onJSONChange(JSON.parse(a.page_welcome_message_body))},d.$8=function(){if(d.state.isBotWelcomeMessageSelected)return;d.setState({isBotWelcomeMessageSelected:!0});var a=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID);d.props.onJSONChange(b("adsMessengerDataModelSetLandingScreenType")(a,b("AdsMessengerVisualEditorLandingScreenType").GET_STARTED))},d.$9=function(){d.setState({showDeleteDialog:!0})},d.$5=function(){d.setState({showDeleteDialog:!1})},d.$4=function(){d.setState({showDeleteDialog:!1});if(d.props.selectedTemplateID==null)return;b("AdsMessengerPageWelcomeMessageDataManager").deleteExistingTemplate(String(d.props.pageID),String(d.props.selectedTemplateID));d.setState({selectedIndex:0})},d.$3=function(){d.setState({showDialog:!1,selectedIndex:0})},d.$7=function(){d.setState({isCloseDialogShown:!1,showDialog:!1});var a=d.props.selectedTemplate?d.props.selectedTemplate.page_welcome_message_body:null,c=null;if(a!==null)try{c=JSON.parse(a)}catch(a){c=b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID)}d.props.onJSONChange(c)},d.$2=function(){if(d.props.selectedTemplate&&d.props.selectedTemplate.page_welcome_message_body===d.props.welcomeMessage){d.setState({showDialog:!1});return}d.setState({isCloseDialogShown:!0})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return this.props.isExistingTemplatesListLoading?b("React").createElement("div",{className:"_2jsc"},b("React").createElement(b("FDSSpinner.react"),null)):b("React").createElement(b("React").Fragment,null,this.props.existingTemplatesList.length>0?this.$1():b("React").createElement(i,null),b("React").createElement(b("AdsMessengerDestinationExperienceCreateNewDialog.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorTab:this.props.editorTab,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isEditTemplate:this.props.isEditTemplate,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,shown:this.state.showDialog,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessageJSON:b("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage),onClose:this.$2,onHide:this.$3,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),this.state.showDeleteDialog&&b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Supprimer"),use:"primary",onClick:this.$4}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Annuler"),use:"default",onClick:this.$5})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Supprimer ce mod\u00e8le\u00a0?")}),isShown:this.state.showDeleteDialog,width:450,onHide:this.$5},h._("If you delete this template, you will no longer be able to use it for future ad campaigns.")),b("React").createElement(b("MessengerExperienceVECancelDialog.react"),{isExistingTemplate:this.props.editorTab===b("AdsMessengerContentEditorTabs").USE_EXISTING,shown:this.state.isCloseDialogShown,onContinueEditing:this.$6,onDiscardChangesToTemplate:this.$7}))};d.$1=function(){var a=this;return b("React").createElement("div",{className:"_7qhm"},b("React").createElement("div",null,b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},h._("Use, edit or duplicate an existing template you've already created. {=Learn more}",[h._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1583081491793544"}))]))),b("React").createElement(b("ScrollableArea.react"),{maxHeight:500},this.props.isGetStartedEnabled&&b("React").createElement(b("AdsUEditorAdgroupVEUseExistingBotRow.react"),{isSelected:this.state.isBotWelcomeMessageSelected,onClickBotTemplate:this.$8}),this.props.existingTemplatesList.map(function(c,d){return b("React").createElement(b("AdsUEditorAdgroupVEUseExistingRow.react"),{existingTemplate:c,index:d,isSelected:!a.state.isBotWelcomeMessageSelected&&a.state.selectedIndex===d,onClickDelete:a.$9,onClickDuplicate:a.$10,onClickEdit:a.$11,onClickTemplate:a.$12})})))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerExperienceVE.react",["cx","fbt","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerUtils","AdsMessengerVisualEditorUtils","AdsMessengerWelcomeMessageFields","AdsUEditorAdgroupMessengerExperienceVECreateNew.react","AdsUEditorAdgroupVEUseExisting.react","DateTime","MessengerDestinationVEEditSection.react","React","SUIBusinessTheme","SUITabGroup.react","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h._("Message de bienvenue").toString()+" "+b("DateTime").localNow().format("m-d-y");function j(){var a=h._("Cr\u00e9er"),c=h._("Use Existing");return[{label:a,value:b("AdsMessengerContentEditorTabs").CREATE_NEW},{label:c,value:b("AdsMessengerContentEditorTabs").USE_EXISTING}]}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tabValue:d.$1(),templateName:i,isEditTemplate:!1},d.$4=function(a){__p&&__p();if(a===d.state.tabValue)return;d.setState({tabValue:a});if(a===b("AdsMessengerContentEditorTabs").JSON)d.props.onJSONChange(b("AdsMessengerUtils").getDefaultJSON());else if(a===b("AdsMessengerContentEditorTabs").CREATE_NEW)d.props.onJSONChange(b("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(d.props.pageID));else if(!d.props.isExistingTemplatesListLoading&&d.props.existingTemplatesList.length>0){a=d.props.existingTemplatesList[0];try{a=JSON.parse(a.page_welcome_message_body);d.props.onJSONChange(a)}catch(a){}}},d.$2=function(){var a=d.props.selectedTemplate?d.props.selectedTemplate.template_name+" "+h._("Copie").toString():i;a.length<b("AdsMessengerConstants").MAX_TEMPLATE_LENGTH?d.setState({isEditTemplate:!1,templateName:a}):d.setState({isEditTemplate:!1,templateName:i})},d.$3=function(){var a=d.props.selectedTemplate?d.props.selectedTemplate.template_name:i;d.setState({isEditTemplate:!0,templateName:a})},d.$6=function(){var a=i;d.setState({isEditTemplate:!1,templateName:a})},d.$5=function(a){if(a.length>b("AdsMessengerConstants").MAX_TEMPLATE_LENGTH)return;d.setState({templateName:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidUpdate=function(){this.props.selectedTemplate&&this.state.tabValue!==b("AdsMessengerContentEditorTabs").USE_EXISTING&&this.setState({tabValue:b("AdsMessengerContentEditorTabs").USE_EXISTING})};d.render=function(){var a=this.props.isExistingTemplatesListLoading?[]:this.props.existingTemplatesList.filter(function(a){try{a=JSON.parse(a.page_welcome_message_body);return b("getByPath")(a,[b("AdsMessengerWelcomeMessageFields").IS_VISIBLE])!==!1}catch(a){return!1}}),c=null;this.props.isEditingFlow?c=b("React").createElement(b("MessengerDestinationVEEditSection.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorType:this.state.tabValue,errorSpec:this.props.errorSpec,existingTemplatesList:a,hostID:this.props.hostID,isEditTemplate:this.state.isEditTemplate,isExistingTemplatesListLoading:this.props.isExistingTemplatesListLoading,isGetStartedEnabled:this.props.isGetStartedEnabled,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,templateName:this.state.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickDuplicate:this.$2,onClickEdit:this.$3,onJSONChange:this.props.onJSONChange,onTabChange:this.$4,onTemplateNameChange:this.$5}):c=this.state.tabValue===b("AdsMessengerContentEditorTabs").CREATE_NEW||this.state.tabValue===b("AdsMessengerContentEditorTabs").JSON?b("React").createElement(b("AdsUEditorAdgroupMessengerExperienceVECreateNew.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorTab:this.state.tabValue,errorSpec:this.props.errorSpec,hostID:this.props.hostID,isEditingFlow:this.props.isEditingFlow,isGetStartedEnabled:this.props.isGetStartedEnabled,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,templateName:this.state.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onJSONChange:this.props.onJSONChange,onTabChange:this.$4,onTemplateNameChange:this.$5}):b("React").createElement(b("AdsUEditorAdgroupVEUseExisting.react"),{accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,editorTab:this.state.tabValue,errorSpec:this.props.errorSpec,existingTemplatesList:a,hostID:this.props.hostID,isEditTemplate:this.state.isEditTemplate,isExistingTemplatesListLoading:this.props.isExistingTemplatesListLoading,isGetStartedEnabled:this.props.isGetStartedEnabled,isVideoLoading:this.props.isVideoLoading,pageID:this.props.pageID,pageName:this.props.pageName,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,templateName:this.state.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickDelete:this.$6,onClickDuplicate:this.$2,onClickEdit:this.$3,onJSONChange:this.props.onJSONChange,onTabChange:this.$4,onTemplateNameChange:this.$5});return b("React").createElement("div",{"data-testid":"inline-visual-editor"},this.props.isEditingFlow?null:b("React").createElement("div",{className:"_1ufn"},b("React").createElement(b("SUITabGroup.react"),{tabs:j(),theme:b("SUIBusinessTheme"),value:this.state.tabValue,onChange:this.$4})),c)};d.$1=function(){return this.props.selectedTemplateID!==null?b("AdsMessengerContentEditorTabs").USE_EXISTING:b("AdsMessengerContentEditorTabs").CREATE_NEW};return c}(b("React").Component);e.exports=a}),null);
__d("AdsUEditorAdgroupMessengerExperienceVEContainer.react",["AdsFluxContainer","AdsUEditorAdgroupMessengerExperienceVE.react","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","AdsUEditorContextType","AdsUEditorMessengerContentEditorSelectors","React","adsMessengerDataModelGetVideoID","adsMessengerDataModelSetVideo"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerExperienceEditorSelector;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.state.adgroupIDs,pageWelcomeMessage:JSON.stringify(a)},{line:"135",module:"AdsUEditorAdgroupMessengerExperienceVEContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(a,b){a=b.adgroupEditorContext;return g.getStores(a)};c.calculateState=function(a,b,c){a=c.adgroupEditorContext;return g(a)};var d=c.prototype;d.componentDidUpdate=function(){if(this.state.welcomeMessage==null)return;var a=null;try{a=JSON.parse(this.state.welcomeMessage)}catch(a){return}a&&this.state.videoID!=null&&this.state.videoID!==""&&this.state.videoID!==0&&this.state.videoID!==b("adsMessengerDataModelGetVideoID")(a)&&this.$1(b("adsMessengerDataModelSetVideo")(a,this.state.videoID))};d.render=function(){return b("React").createElement(b("AdsUEditorAdgroupMessengerExperienceVE.react"),{accountID:this.state.accountID,adgroupIDs:this.state.adgroupIDs,errorSpec:this.state.errorSpec,existingTemplatesList:this.state.customTemplatesList||[],hostID:this.context.adgroupEditorContext.hostID,isEditingFlow:this.props.isEditingFlow,isExistingTemplatesListLoading:this.state.isCustomTemplatesListLoading,isGetStartedEnabled:this.state.isGetStartedEnabled,isVideoLoading:this.state.isVideoLoading,landingScreenType:this.state.landingScreenType,pageID:this.state.pageID,pageName:this.state.pageName,selectedTemplate:this.state.selectedTemplate,selectedTemplateID:this.state.selectedTemplateID,videoID:this.state.videoID,videoURL:this.state.videoURL,welcomeMessage:this.state.welcomeMessage,onJSONChange:this.$1})};return c}(b("React").Component);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id})}),null);
__d("AdsUEditorAdgroupEditingMessengerContentSectionWrapperContainer.react",["fbt","AdsCard_DEPRECATED.react","AdsFluxContainer","AdsLearnMore.react","AdsUEditorAdgroupMessengerContentEditorContainer.react","AdsUEditorAdgroupMessengerExperienceEditorContainer.react","AdsUEditorAdgroupMessengerExperienceVEContainer.react","AdsUEditorContextType","AdsUEditorMessengerContentEditorSelectors","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsUEditorMessengerContentEditorSelectors").adsUEditorVisualEditorContentSelector,i=b("AdsCard_DEPRECATED.react").Header,j=b("AdsCard_DEPRECATED.react").HeaderTitle,k=b("AdsCard_DEPRECATED.react").Section;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(a,b){a=b.adgroupEditorContext;return h.getStores(a)};c.calculateState=function(a,b,c){a=c.adgroupEditorContext;return h(a)};var d=c.prototype;d.render=function(){var a=this.state.isFollowUpStyle,c=g._("Configuration de Messenger"),d=g._("Composez les quelques premiers messages que les personnes verront dans Messenger apr\u00e8s avoir cliqu\u00e9 sur votre pub."),e=a?g._("Configurez l\u2019exp\u00e9rience que les personnes verront dans Messenger apr\u00e8s avoir cliqu\u00e9 sur votre publicit\u00e9. {=Learn more}",[g._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))]):g._("Incitez les gens \u00e0 engager la conversation avec votre entreprise sur Messenger apr\u00e8s avoir cliqu\u00e9 sur votre pub. {=Learn more}",[g._param("=Learn more",b("React").createElement(b("AdsLearnMore.react"),{cmsID:"1816962591668838"}))]),f=g._("Choisissez le format et entrez le texte de votre message sponsoris\u00e9. Vous pouvez inclure une image, et un bouton ou une r\u00e9ponse sugg\u00e9r\u00e9e que vos clients peuvent s\u00e9lectionner.");a=this.state.isCtmAdsVERedesignTest?b("React").createElement(b("AdsUEditorAdgroupMessengerExperienceVEContainer.react"),{isEditingFlow:!0}):this.state.isVisualEditorRedesign?b("React").createElement(b("AdsUEditorAdgroupMessengerExperienceEditorContainer.react"),{isEditingFlow:!0,isFollowUpStyle:a}):b("React").createElement(b("AdsUEditorAdgroupMessengerContentEditorContainer.react"),{isCondensedFormat:!0});return this.state.shouldShowMessengerSetup?b("React").createElement(b("AdsCard_DEPRECATED.react"),null,b("React").createElement(i,null,b("React").createElement(j,null,c)),b("React").createElement(k,null,this.state.isSponsoredMessage?f:this.state.isVisualEditorRedesign?e:d),a):b("React").createElement("div",null)};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id})}),null);