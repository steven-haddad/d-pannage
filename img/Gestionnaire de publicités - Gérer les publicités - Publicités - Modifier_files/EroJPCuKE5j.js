if (self.CavalryLogger) { CavalryLogger.start_js(["aqe3r"]); }

__d("AdsSearchBrowseTokenizerListItem.react",["cx","fbt","AdsSBTokenizerConstants","AdsSBTokenizerWhiteBoxLayer.react","Animation","BUIAdoptionCloseButton.react","CSS","DOMDimensions","React","ReactDOM","Style","TooltipData"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1e3,j=-37;a=b("React").PropTypes;function k(a){var c=a.entry;a=a.showNumberLabel;return!a||!c.getAuxiliaryData()||!c.getAuxiliaryData().campaignsInfo?null:b("React").createElement("span",{className:"_1vuz"}," (",c.getAuxiliaryData().campaignsInfo.length,")")}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={highlighted:!1,titleOverflow:!1},c.$6=function(){c.props.onRemoveEntry&&c.props.onRemoveEntry(c.props.entry)},c.$4=function(){c.setState({highlighted:!0})},c.$5=function(){c.setState({highlighted:!1})},c.$2=function(){c.setState({highlighted:!0})},c.$3=function(){c.setState({highlighted:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){this.$1(a)};d.componentDidMount=function(){this.$1();if(this.refs.listItem!=null&&this.refs.listTitle!=null){var a=b("DOMDimensions").getElementDimensions(this.refs.listItem).width,c=b("DOMDimensions").getElementDimensions(this.refs.listTitle).width;c>a-100&&this.setState({titleOverflow:!0})}};d.render=function(){var a=this.props.entry.getTitle(),c="search_browse_tokenizer_list_item-"+a;a===this.props.groupTitle?a=b("React").createElement("div",{className:"_5w25","data-testid":c},h._("Tous les {interest}",[h._param("interest",this.props.entry.getTitle())])):a=b("React").createElement("div",babelHelpers["extends"]({className:"_5w25","data-testid":c,ref:"listItem"},this.state.titleOverflow?b("TooltipData").propsFor(a):{}),b("React").createElement("span",{ref:"listTitle"},a),b("React").createElement(k,{entry:this.props.entry,showNumberLabel:this.props.showNumberLabel}));c=((c=this.props)!=null?(c=c.tooltipOptions)!=null?c.position:c:c)||"right";return b("React").createElement(b("AdsSBTokenizerWhiteBoxLayer.react"),{addReportedInterest:this.props.addReportedInterest,deleteReportedInterest:this.props.deleteReportedInterest,info:this.props.entry.toPlainObject(),openToPath:this.props.openToPath,position:c,reportedInterests:this.props.reportedInterests,shown:this.props.showWhiteBox&&this.state.highlighted,type:b("AdsSBTokenizerConstants").ACTIVE_STATES.BROWSE,uniqueID:this.props.uniqueID,yOffset:j,onMouseEnterBox:this.$2,onMouseLeaveBox:this.$3},b("React").createElement("li",{className:"_5w24",onMouseEnter:this.$4,onMouseLeave:this.$5},a,b("React").createElement(b("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_5w28",onClick:this.$6})))};d.$1=function(a){var c=this.props.showAnimation;a&&a.entry&&(c=c&&this.props.entry.getUniqueID()!==a.entry.getUniqueID());if(c){var d=b("ReactDOM").findDOMNode(this);b("Style").set(d,"background","rgba(88, 144, 255, 0.1)");d instanceof Element&&b("CSS").addClass(d,"_5w29");new(b("Animation"))(d).to("background","#fff").duration(i).ondone(function(){b("Style").set(d,"background",""),d instanceof Element&&b("CSS").removeClass(d,"_5w29")}).go()}};return c}(b("React").Component);c.propTypes={addReportedInterest:a.func,deleteReportedInterest:a.func,entry:a.object.isRequired,groupTitle:a.string,openToPath:a.func,showAnimation:a.bool,showNumberLabel:a.bool.isRequired,showWhiteBox:a.bool,tooltipOptions:a.object,uniqueID:a.string.isRequired,onRemoveEntry:a.func};e.exports=c}),null);
__d("AdsSearchBrowseTokenizerList.react",["cx","fbt","AdsSBAreaClicked","AdsSearchBrowseTokenizerListItem.react","AdsSearchBrowseUtils","BUIAdoptionCloseButton.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=h._("Entr\u00e9es suppl\u00e9mentaires");d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){if(!a)return[];var b={},c=[];a.forEach(function(a){var d=a.getUniqueID();d in b||(b[d]=!0,c.push(a))});return c},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.$1(this.props.entries);if(a.length===0)return b("React").createElement("div",null);a=this.props.isFlat?this.$2(a):this.$3(a);return b("React").createElement("div",{className:this.props.shouldDisableAddingEntry===!0?"_7s4k":"_5w21"},a)};d.$2=function(a){a=a.map(function(a){return b("React").createElement(b("AdsSearchBrowseTokenizerListItem.react"),babelHelpers["extends"]({},this.props,{entry:a,key:a.getUniqueID(),showNumberLabel:this.props.numBulkSpecs>1&&this.props.isMixedValue,showWhiteBox:this.props.isMixedValue}))},this);return b("React").createElement("ul",{className:"_5w2a"},a)};d.$3=function(a){var c=this.$4(a),d=[];a=Object.keys(c).sort(function(a,b){return a.localeCompare(b)});this.props.sortAdditionalEntryToButtom!=null&&a.indexOf("Additional Entries")>-1&&(a.splice(a.indexOf("Additional Entries"),1),a.push("Additional Entries"));a.forEach(function(a){d.push(b("React").createElement(i,babelHelpers["extends"]({},this.props,{entryGroup:c[a],key:a,showNumberLabel:(this.props.numBulkSpecs||0)>1&&this.props.isMixedValue,title:a})))}.bind(this));return d};d.$4=function(a){var b={};a.forEach(function(a){var c=a.path,d;!c||c.length===0?a.isInHierarchy?d=a.getTitle():d=this.props.defaultPath:d=c.join(", ");d in b?b[d].push(a):b[d]=[a]},this);return b};return c}(b("React").Component);d.propTypes={addReportedInterest:a.func,defaultPath:a.string,deleteReportedInterest:a.func,entries:a.array,isFlat:a.bool,isMixedValue:a.bool,newEntriesSet:a.object,numBulkSpecs:a.number,reportedInterests:a.object,shouldDisableAddingEntry:a.bool,sortAdditionalEntryToButtom:a.bool,tooltipOptions:a.object,uniqueID:a.string};d.defaultProps={uniqueID:b("AdsSearchBrowseUtils").makeID(),defaultPath:c,sortAdditionalEntryToButtom:!1};var i=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){__p&&__p();var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.state={active:!1,popoverDisabled:!1},d.$2=function(){var a=d.props.title,b=d.props.entryGroup[0].path;b&&b.length&&(a=d.$6(b));return a},d.$1=function(a){var c=d.props.newEntriesSet||{};c=d.props.showAnimation!=null&&c[a.getUniqueID()]!==void 0;return b("React").createElement(b("AdsSearchBrowseTokenizerListItem.react"),babelHelpers["extends"]({},d.props,{entry:a,groupTitle:d.props.title,key:a.getUniqueID(),showAnimation:c,showNumberLabel:d.props.showNumberLabel}))},d.$3=function(){d.setState({active:!0})},d.$4=function(){d.setState({active:!1})},d.$5=function(){d.props.onMultiRemoveEntries&&d.props.onMultiRemoveEntries(d.props.entryGroup)},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.render=function(){var a=this.props.entryGroup.sort(function(a,b){return a.getTitle().localeCompare(b.getTitle())});a=a.map(this.$1);var c="_5w23"+(this.state.active?" _5w27":""),d="_5w22 _1wfl",e=this.$2();if(e!==this.props.defaultPath||this.props.renderDefaultPath)var f=b("React").createElement("li",{className:d,onMouseEnter:this.$3,onMouseLeave:this.$4},e,b("React").createElement(b("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_5w28",onClick:this.$5}));return b("React").createElement("ul",{className:c},f,b("React").createElement("li",null,b("React").createElement("ul",null,a)))};d.$6=function(a){if(!a||a.length===0)return;var c=[],d="_2nop _1wfm";for(var e=0;e<a.length;e++)e!==0&&c.push(b("React").createElement("span",{className:d,key:"breadcrumb_spacer_"+e}," > ")),c.push(b("React").createElement("span",{className:"_2noq",key:"breadcrumb_"+e,onMouseDown:this.$7.bind(this,a.slice(0,e+1))},a[e]));return c};d.$7=function(a){b("AdsSBAreaClicked").setAreaClicked(this.props.uniqueID,!0),this.setState({popoverDisabled:!0}),this.props.openToPath&&this.props.openToPath(a)};return a}(b("React").Component);i.propTypes={entryGroup:a.array,newEntriesSet:a.object,renderDefaultPath:a.bool,showNumberLabel:a.bool,title:a.string,tooltipOptions:a.object,onMultiRemoveEntries:a.func};i.defaultProps={renderDefaultPath:!0};e.exports=d}),null);
__d("AdsBasicBrowseTokenizerMixin",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[];function h(a,b){return b.getUniqueID()===a?!0:void 0}function i(a,b){return!a||!b.getAuxiliaryData()||!b.getAuxiliaryData().campaignsInfo||b.getAuxiliaryData().campaignsInfo.length===a}a={_onAddEntryAttempt:function(a){if(!a)return;var b=a.getUniqueID(),c=this._getEntries();(!c.some(function(a){return h(b,a)})||i(this.props.numBulkSpecs,a))&&(c.push(a),this.props.onNewEntryAdded&&this.props.onNewEntryAdded(a),this.props.onEntriesChange(c))},_onRemoveEntryAttempt:function(a){var b=a.getUniqueID(),c=this._getEntries();c.some(function(a){return h(b,a)})&&(c.splice(c.indexOf(a),1),this.props.onEntriesChange(c))},_getExcludedEntries:function(){var a=this,b={};this._getEntries().filter(function(b){return i(a.props.numBulkSpecs,b)}).forEach(function(a){b[a.getUniqueID()]=!0});return b},_getEntries:function(){return this.props.entries||g}};e.exports=a}),null);
__d("AdsFIGBasicTypeahead.react",["cx","AbstractTypeahead.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={queryString:"",hasFocus:!1},c.$3=function(){c.setState({hasFocus:!0}),c.props.onFocus&&c.props.onFocus()},c.$1=function(){c.setState({hasFocus:!1}),c.props.onBlur&&c.props.onBlur()},c.$4=function(a){a&&(c.props.onAddEntryAttempt&&c.props.onAddEntryAttempt(a)),c.setState({queryString:""}),c.refs.typeahead.clearActiveEntries()},c.$2=function(a){c.setState({queryString:a.target.value}),c.props.onInputChange&&c.props.onInputChange(a.target.value)},c.clearTypeahead=function(){c.setState({queryString:""})},c.focusTypeahead=function(){c.refs.typeahead.focusInput()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,["size"]);c=b("joinClasses")("_5w0y"+(this.state.hasFocus?" _x28":"")+(c==="large"?" _14j8":"")+(c==="xlarge"?" _14j9":""),this.props.className);return b("React").createElement(b("AbstractTypeahead.react"),babelHelpers["extends"]({},a,{autoHighlight:!0,className:c,queryString:this.state.queryString,ref:"typeahead",selectedEntry:null,shouldShowIDInTitle:this.props.shouldShowIDInTitle,showEntriesOnFocus:!0,onBlur:this.$1,onChange:this.$2,onFocus:this.$3,onSelectAttempt:this.$4}))};return c}(b("React").Component);c.propTypes={className:a.string,excludedEntries:a.object.isRequired,shouldShowIDInTitle:a.bool,placeholder:a.string,width:a.number,onAddEntryAttempt:a.func};e.exports=c}),null);
__d("AdsFIGBasicTypeaheadEntriesView.react",["cx","React","TooltipData","TypeaheadViewItem"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){return b("React").createElement(h,{entry:a,highlighted:a===d.props.highlightedEntry,key:a.getUniqueID(),shouldShowIDInTitle:d.props.shouldShowIDInTitle,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,onSelect:d.props.onSelect})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.entries;if(a&&a.length){a=a.map(this.$1,this);return b("React").createElement("ul",{className:"_5w1d",id:this.props.controlleeID,role:"listbox"},a)}return b("React").createElement("ul",{className:"_5w1e"})};return c}(b("React").Component);c.propTypes={entries:a.array.isRequired,highlightedEntry:a.object,shouldShowIDInTitle:a.bool,onHighlight:a.func,onRenderHighlight:a.func,onSelect:a.func.isRequired};var h=b("React").createClass({displayName:"EntryRowView",mixins:[b("TypeaheadViewItem").Mixin],propTypes:babelHelpers["extends"]({},b("TypeaheadViewItem").propTypes,{"data-testid":a.string,shouldShowIDInTitle:a.bool}),render:function(){var a="_5w1f"+(this.props.highlighted?" _5w1g":""),c=this.props.entry.getTitle()+" ("+this.props.entry.getUniqueID()+") ";c=this.props.shouldShowIDInTitle?b("React").createElement("span",b("TooltipData").propsFor(c),c):b("React").createElement("span",null,this.props.entry.getTitle());return b("React").createElement("li",{"aria-selected":this.props.highlighted,className:a,"data-testid":this.props.entry.getUniqueID(),id:this.props.entry.getUniqueID(),role:"option",onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter},c,this._renderSubtitle())},_renderSubtitle:function(){var a=this.props.entry.getSubtitle();return a?b("React").createElement("span",{className:"_14y5"},a):null},_onMouseDown:function(a){this.props.onSelect(this.props.entry,a)},_onMouseEnter:function(){this.props.onHighlight&&this.props.onHighlight(this.props.entry)}});e.exports=c}),null);
__d("AdsSearchBrowseTokenizerHeader.react",["cx","fbt","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(!a.isMixedValue)return null;var c=a.tokenizerHeader!=null?a.tokenizerHeader:h._("Plusieurs valeurs"),d=a.label!=null?a.label:h._("Supprimer tout");return b("React").createElement("div",{className:"_1rny"},c,a.onClick&&b("React").createElement(b("Link.react"),{className:"_1ro0",onClick:a.onClick},d))}e.exports=a}),null);
__d("AdsFIGBasicBrowseTokenizer.react",["cx","AdsBasicBrowseTokenizerMixin","AdsFIGBasicTypeahead.react","AdsFIGBasicTypeaheadEntriesView.react","AdsSBTokenizerModeButtons.react","AdsSearchBrowseTokenizerHeader.react","AdsSearchBrowseTokenizerList.react","AdsStaticSearchSource","React","emptyFunction","joinClasses","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={ViewRenderer:b("AdsFIGBasicTypeaheadEntriesView.react"),maxEntries:50,useLayer:!0},i=b("keyMirror")({DEFAULT:null,SUGGESTIONS:null,BROWSE:null});a=b("React").createClass({displayName:"AdsFIGBasicBrowseTokenizer",mixins:[b("AdsBasicBrowseTokenizerMixin")],getDefaultProps:function(){return{numBulkSpecs:1,searchData:[]}},getInitialState:function(){return{tokenizerMode:this.props.dataSort?i.SUGGESTIONS:i.DEFAULT,isActive:!1,searchSource:this._createSearchSource(i.DEFAULT,this.props.searchData,this.props.entries,b("emptyFunction"))}},UNSAFE_componentWillReceiveProps:function(a){var b=this;(this.props.searchData!==a.searchData||this.props.dataSort!==a.dataSort)&&this.setState(function(c){return{searchSource:b._createSearchSource(c.tokenizerMode,a.searchData,b.props.entries,a.dataSort)}})},render:function(){var a=this;return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_5w0x"+(this.state.isActive&&this.state.tokenizerMode===i.BROWSE?" _eko":"")+(this.state.isActive&&this.state.tokenizerMode===i.SUGGESTIONS?" _ekm":""))},b("React").createElement(b("AdsSearchBrowseTokenizerHeader.react"),{isMixedValue:this.props.isMixedValue,label:this.props.headerActionLabel,tokenizerHeader:this.props.tokenizerHeader,onClick:this.props.onHeaderActionClick||this._onRemoveAllEntries}),b("React").createElement(b("AdsSearchBrowseTokenizerList.react"),{entries:this._getEntries(),isFlat:!0,isMixedValue:this.props.isMixedValue,newEntriesSet:{},numBulkSpecs:this.props.numBulkSpecs,onRemoveEntry:this._onRemoveEntryAttemptAndSetSearchSource}),b("React").createElement("div",{className:"_5g-g"},b("React").createElement(b("AdsFIGBasicTypeahead.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5w0y"),excludedEntries:this._getExcludedEntries(),id:this.props.typeaheadComponentID,presenter:h,ref:"typeahead",searchSource:this.state.searchSource,onAddEntryAttempt:this._onAddEntryAttemptAndSetSearchSource,onRemoveEntryAttempt:this._onRemoveEntryAttemptAndSetSearchSource,onTypeaheadVisibilityChanged:function(b){return a.setState({isActive:b})}})),this.props.dataSort&&b("React").createElement(b("AdsSBTokenizerModeButtons.react"),{suggestionButtonEnabled:!0,uniqueID:this.props.tokenizerModeButtonsID,onBrowseButtonMouseDown:function(){return a._updateSearchSource(i.BROWSE)},onSuggestionsButtonMouseDown:function(){return a._updateSearchSource(i.SUGGESTIONS)}})))},_setSearchSource:function(){var a=this;this.props.shouldHideSelectedEntries&&this.setState(function(b){return{searchSource:a._createSearchSource(b.tokenizerMode,a.props.searchData,a._getEntries(),a.props.dataSort)}})},_onAddEntryAttemptAndSetSearchSource:function(a){this._onAddEntryAttempt(a),this._setSearchSource()},_onRemoveEntryAttemptAndSetSearchSource:function(a){this._onRemoveEntryAttempt(a),this._setSearchSource()},_createSearchSource:function(a,c,d,e){if(this.props.shouldHideSelectedEntries&&d!=null){var f=d.map(function(a){return a.getAuxiliaryData()&&a.getAuxiliaryData().key});c=c.filter(function(a){return!f.includes(a.auxiliaryData&&a.auxiliaryData.key)})}return a===i.DEFAULT?new(b("AdsStaticSearchSource"))(c):new(b("AdsStaticSearchSource"))(c,{getAllForEmptyQuery:!0,sortEntries:a===i.SUGGESTIONS&&e})},_onRemoveAllEntries:function(){var a=this;this.props.entries&&this.props.entries.map(function(b){return a._onRemoveEntryAttempt(b)});this._setSearchSource();this.props.onEntriesChange([])},_updateSearchSource:function(a){var b=this;this.setState({tokenizerMode:a,searchSource:this._createSearchSource(a,this.props.searchData,this.props.entries,this.props.dataSort)});this.refs.typeahead.clearTypeahead();setTimeout(function(){return b.refs.typeahead.focusTypeahead()},100)}});e.exports=a}),null);