if (self.CavalryLogger) { CavalryLogger.start_js(["ydxc6"]); }

__d("FBRTCParticipantCallState",[],(function(a,b,c,d,e,f){e.exports={UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12}}),null);
__d("MessengerEmojiConfig",[],(function(a,b,c,d,e,f){e.exports={emoji_colors:[0,127995,127996,127997,127998,127999]}}),null);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports={boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}}}),null);
__d("MessengerView",[],(function(a,b,c,d,e,f){e.exports={DETAIL:{COMPOSE:"detail/compose",THREAD:"detail/thread",PAYTHREAD:"detail/paythread",PAYFRIENDPICKER:"detail/payfriendpicker"},MASTER:{PAYMENT:"master/payment",PEOPLE:"master/people",RECENT:"master/recent",SUPPORT:"master/support",SEARCH:"master/search"}}}),null);
__d("MNCommercePageSetting",[],(function(a,b,c,d,e,f){e.exports={COMMERCE_FAQ_ENABLED:"COMMERCE_FAQ_ENABLED",IN_MESSENGER_SHOPPING_ENABLED:"IN_MESSENGER_SHOPPING_ENABLED",COMMERCE_NUX_ENABLED:"COMMERCE_NUX_ENABLED",NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED:"NULL_STATE_CTA_BUTTON_ALWAYS_ENABLED",STRUCTURED_MENU_ENABLED:"STRUCTURED_MENU_ENABLED",USER_CONTROL_TOPIC_MANAGE_ENABLED:"USER_CONTROL_TOPIC_MANAGE_ENABLED",COMPOSER_INPUT_DISABLED:"COMPOSER_INPUT_DISABLED"}}),null);
__d("AdsBoostedComponentCommonV2ChangeAdproObjectiveActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponentCommon.CHANGE_ADPRO_OBJECTIVE"}}),null);
__d("AdsBoostedComponentInstagramV2LoadConnectedInstagramAccountDataDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponentInstagram.LOAD_CONNECTED_INSTAGRAM_ACCOUNT_DATA"}}),null);
__d("AdsLomoGetTicketsCTAUpdateEventSelectionDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"LomoGetTicketsCTA.UPDATE_EVENT_SELECTION"}}),null);
__d("XAdsLWICreativeValidationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads_lwi/creative_validation/",{ad_account_id:{type:"FBID",required:!0},creative_spec:{type:"String",required:!0},instagram_actor_id:{type:"FBID"},objective:{type:"Enum",enumType:0},page_type:{type:"Enum",required:!0,enumType:1}})}),null);
__d("AdsLWICreativeValidationDataLoader",["Promise","AsyncRequest","FBLogger","XAdsLWICreativeValidationController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={validateCreative:function(a){var c=b("XAdsLWICreativeValidationController").getURIBuilder().setFBID("ad_account_id",a.adAccountID).setString("creative_spec",JSON.stringify(a.creativeSpec)).setFBID("instagram_actor_id",a.instagramActorID).setEnum("page_type",a.pageType).getRequest(new(b("AsyncRequest"))());return new(b("Promise"))(function(a,b){c.setPayloadHandler(function(b){return a(b)}).setErrorHandler(function(a){return b(a)}).send()}).then(function(a){return a.validationException},function(a){b("FBLogger")("boosted_component").catching(a.toError()).mustfix("Unable to validate creative");return null})}};e.exports=a}),null);
__d("AdsLWILoadCreativeValidationExceptionDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_LWI.LOAD_CREATIVE_VALIDATION_EXCEPTION");e.exports=a}),null);
__d("AdsLWICreativeValidationExceptionProviderPlugin",["AdsLWICreativeValidationDataLoader","AdsLWILoadCreativeValidationExceptionDataAction","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){a(function(a){var c=a;b.keys.forEach(function(b){var d=a.get(b);c=c.set(b,d.loading())});return c})}function h(a,b){a(function(a){var c=a;b.validationExceptions.forEach(function(a,b){c=c.set(b,a)});return c})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){g(a,{keys:c});var d=new Map();c.forEach(function(a){d.set(a,b("AdsLWICreativeValidationDataLoader").validateCreative(a))});b("promiseDone")(b("promiseLoadObjects")(d),function(c){h(a,{validationExceptions:c}),b("AdsLWILoadCreativeValidationExceptionDataAction").dispatch({},{line:"79",module:"AdsLWICreativeValidationExceptionProviderPlugin.js"})})})}};e.exports=a}),null);
__d("AdsLWICreativeValidationExceptionProvider",["Laminar","AdsLWICreativeValidationExceptionProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLWICreativeValidationExceptionProviderPlugin"),"AdsLWICreativeValidationExceptionProviderPlugin")}),null);
__d("AdsLWIFetchBoostedPostCreativeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_LWI.FETCH_BOOSTED_POST_CREATIVE_DATA"}}),null);
__d("AdsLWILoadBoostedPostCreativeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_LWI.LOAD_BOOSTED_POST_CREATIVE_DATA"}}),null);
__d("AdsLWIMessengerWelcomeMessageRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({messengerIcebreakers:void 0,messengerIcebreakersEnabled:void 0,messengerGreeting:void 0,messengerWelcomeMessageEnabled:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLWIMessengerWelcomeMessagesProviderPlugin",["AdsLWICommonStoreState","AdsLWIMessengerWelcomeMessageRecord","immutable"],(function(a,b,c,d,e,f){"use strict";a="AdsLWIMessenger";c={initialState:new(b("AdsLWICommonStoreState"))({storeName:a,emptyRecord:new(b("AdsLWIMessengerWelcomeMessageRecord"))({messengerIcebreakers:b("immutable").List(),messengerIcebreakersEnabled:!1,messengerGreeting:"",messengerWelcomeMessageEnabled:!1})})};e.exports=c}),null);
__d("AdsLWIMessengerWelcomeMessagesProvider",["Laminar","AdsLWIMessengerWelcomeMessagesProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsLWIMessengerWelcomeMessagesProviderPlugin"),"AdsLWIMessengerWelcomeMessagesProviderPlugin")}),null);
__d("AdsLWIToggleAutomaticPlacementsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_LWI.TOGGLE_AUTOMATIC_PLACEMENTS"}}),null);
__d("AdsLWITogglePublisherPlatformActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_LWI.TOGGLE_PUBLISHER_PLATFORM"}}),null);
__d("AdsLWIUpdateCallToActionLinkActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLWICreative.UPDATE_CALL_TO_ACTION_LINK"}}),null);
__d("BoostedComponentCreativeV2AddWhatsappNumberFailActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.ADD_WHATSAPP_NUMBER_FAIL"}}),null);
__d("BoostedComponentCreativeV2AddWhatsappNumberSubmitActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.ADD_WHATSAPP_NUMBER_SUBMIT"}}),null);
__d("BoostedComponentCreativeV2AddWhatsappNumberSuccessActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.ADD_WHATSAPP_NUMBER_SUCCESS"}}),null);
__d("BoostedComponentCreativeV2ClearWhatsappVerificationStatusActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.CLEAR_WHATSAPP_VERIFICATION_STATUS"}}),null);
__d("BoostedComponentCreativeV2CloseWhatsappLinkSuccessBannerActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.CLOSE_WHATSAPP_LINK_SUCCESS_BANNER"}}),null);
__d("BoostedComponentCreativeV2ToggleWhatsappNumberReadEditModeActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.TOGGLE_WHATSAPP_NUMBER_READ_EDIT_MODE"}}),null);
__d("BoostedComponentCreativeV2ValidateWhatsappVerificationCodeFailActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.VALIDATE_WHATSAPP_VERIFICATION_CODE_FAIL"}}),null);
__d("BoostedComponentCreativeV2ValidateWhatsappVerificationCodeSubmitActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.VALIDATE_WHATSAPP_VERIFICATION_CODE_SUBMIT"}}),null);
__d("BoostedComponentCreativeV2ValidateWhatsappVerificationCodeSuccessActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"BoostedComponenCreative.VALIDATE_WHATSAPP_VERIFICATION_CODE_SUCCESS"}}),null);
__d("AdsLWICommonStoreCreateSuccessActionHandlerBase",["AdsBoostedComponentCommonV2CreateSuccessWithBoostIdDataActionFlux","AdsLWICommonStoreStateKeyRecord","adsLWICommonGenExtraDataWithKeyRecord"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsLWICommonGenExtraDataWithKeyRecord")();c={type:b("AdsBoostedComponentCommonV2CreateSuccessWithBoostIdDataActionFlux").actionType,genExtraData:a,mutate:function(a,c,d){d=d&&d.key;if(d){a=new(b("AdsLWICommonStoreStateKeyRecord"))({boostID:a.oldBoostID,pageID:d.pageID,product:d.product,targetID:d.targetID});return c.copyData(d,a)}return c}};e.exports=c}),null);
__d("BoostedComponentCallToActionField",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APP_NAME:"component_flow_app_name",CATEGORY:"call_to_action_category",CTA_DATA:"call_to_action_data",CTA_TYPE:"call_to_action_type"})}),null);
__d("PostAttachmentTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT_ONLY:1,SINGLE_PHOTO:2,MULTI_PHOTO:3,SINGLE_SHARE:4,SINGLE_VIDEO:5,OFFER:6,MULTIMEDIA:7,PRODUCT_ITEM:8,DOC:9,QUESTION:10,PHOTO_SET:11,FILE:12,LEARNING_MODULE:13,NOTE:14,JOB_OPENING:15,CANVAS_POST:16,LEARNING_QUIZ:17,LIFE_EVENT:18,MULTI_SHARES:19,UNKNOWN:1e3})}),null);
__d("AdsLWIBoostedPostCreativeStoreDataUtils",["AdsCallToActionTypes","AdsMessengerConstants","AdsWhatsAppFeatureGating","ApiAdCreativeFields","ApiCallToActionFields","ApiObjectStorySpecLinkFields","BoostedComponentCallToActionField","CallToActionAppDestination","CallToActionTypes","CallToActionValueFields","PostAttachmentTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){return b.set("default_creative_spec_for_ad_preview",a)}function h(a,c){__p&&__p();var d=c.getCreativeSpecForAdPreview();if(!d)return c;var e=c.getPostTypeEligibleForCTA();d;if(e===b("PostAttachmentTypes").MULTI_PHOTO)e=d.setIn([b("ApiAdCreativeFields").CALL_TO_ACTION],a);else{var f=c.getObjectStorySpecDataType();e=d.setIn([b("ApiAdCreativeFields").OBJECT_STORY_SPEC,f,b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION],a)}return g(e,c)}function a(a){__p&&__p();var c=a.getAdsCallToActionOptionsSpecs();if(!c)return a;c=c.get(b("AdsCallToActionTypes").TYPES.MESSAGE_PAGE.name);if(!c)return a;if(a.getCallToActionType()===b("CallToActionTypes").WHATSAPP_MESSAGE&&b("AdsWhatsAppFeatureGating").canUseWhatsAppCTAMessagesObjectiveLWI())return a;var d=a.getPostTypeEligibleForCTA();(d===b("PostAttachmentTypes").SINGLE_VIDEO||d===b("PostAttachmentTypes").SINGLE_PHOTO)&&(c=c.setIn([b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").LINK],b("AdsMessengerConstants").EMPTY_MESSENGER_LINK));return h(c,a)}function c(a){var c=a.getAdsCallToActionOptionsSpecs();if(!c)return a;c=c.get(b("AdsCallToActionTypes").TYPES.SHOP_NOW.name);return!c?a:h(c,a)}function d(a){__p&&__p();var c=a.getIsEligibleForInstantWorkflowCTA(),d=a.getInstantWorkflowOptionsSpecs();if(c&&!!d){c=d.has(b("AdsCallToActionTypes").TYPES.BOOK_TRAVEL.name)||d.has(b("AdsCallToActionTypes").TYPES.REQUEST_TIME.name);if(c){c=d.get(b("AdsCallToActionTypes").TYPES.BOOK_TRAVEL.name)||d.get(b("AdsCallToActionTypes").TYPES.REQUEST_TIME.name);d=c.get(b("BoostedComponentCallToActionField").CTA_DATA);return!d?a:h(d,a)}}c=a.getAdsCallToActionOptionsSpecs();if(!c)return a;d=c.get(b("AdsCallToActionTypes").TYPES.BOOK_TRAVEL.name);return!d?a:a.setCallToActionInCreativeSpec(d)}function f(a){a=a.getCallToActionValue();if(!a)return!1;a=a.get(b("CallToActionValueFields").APP_DESTINATION,null);return!!a&&a===b("CallToActionAppDestination").MESSENGER}function i(a){__p&&__p();var c=a.getCallToActionType(),d=a.getCallToAction();if(!d||!c)return a;var e=a.getAdsCallToActionOptionsSpecs();if(!e)return a;e=e.get(c);if(!e)return a;c=d.set(b("ApiCallToActionFields").VALUE,e.get("value"));return h(c,a)}e.exports={setCreativeSpecForAdPreview:g,setCallToActionInCreativeSpecForMessageObjective:a,setCallToActionInCreativeSpecForPurcahseObjective:c,setCallToActionInCreativeSpecForGetBookingsObjective:d,hasMessengerAsAppDestination:f,resetCallToActionValue:i}}),null);
__d("AdsLWIBoostedPostCreativeStoreUpdateAdproObjectiveActionHandler",["AdproObjectiveType","AdsBoostedComponentCommonV2ChangeAdproObjectiveActionFlux","AdsLWIBoostedPostCreativeStoreDataUtils","AdsLWIUseLegacyDefaultKeyActionHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIBoostedPostCreativeStoreDataUtils").hasMessengerAsAppDestination,h=b("AdsLWIBoostedPostCreativeStoreDataUtils").resetCallToActionValue,i=b("AdsLWIBoostedPostCreativeStoreDataUtils").setCallToActionInCreativeSpecForMessageObjective,j=b("AdsLWIBoostedPostCreativeStoreDataUtils").setCallToActionInCreativeSpecForPurcahseObjective;a=babelHelpers["extends"]({},b("AdsLWIUseLegacyDefaultKeyActionHandler"),{type:b("AdsBoostedComponentCommonV2ChangeAdproObjectiveActionFlux").actionType,mutate:function(a,c,d){__p&&__p();d=d&&d.key;if(!d)return c;var e=c.getDataByKey(d);a=a.objective;a!==b("AdproObjectiveType").MESSAGES&&g(e)&&(e=h(e));switch(a){case b("AdproObjectiveType").MESSAGES:if(e.getIsEligibleForAdsCTA()){e=i(e);return c.setDataByKey(d,e)}break;case b("AdproObjectiveType").WEBSITE_CONVERSIONS:if(e.getIsEligibleForAdsCTA()){e=j(e);return c.setDataByKey(d,e)}break;default:break}return c.setDataByKey(d,e)}});e.exports=a}),null);
__d("AdsLWIBoostedPostCreativeStoreUpdateObjectiveActionHandler",["AdsBoostedComponentObjectiveV2UpdateObjectiveDataActionFlux","AdsLWIBoostedPostCreativeStoreDataUtils","AdsLWIUseLegacyDefaultKeyActionHandler","BoostedComponentObjective"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIBoostedPostCreativeStoreDataUtils").hasMessengerAsAppDestination,h=b("AdsLWIBoostedPostCreativeStoreDataUtils").resetCallToActionValue,i=b("AdsLWIBoostedPostCreativeStoreDataUtils").setCallToActionInCreativeSpecForGetBookingsObjective,j=b("AdsLWIBoostedPostCreativeStoreDataUtils").setCallToActionInCreativeSpecForMessageObjective;a=babelHelpers["extends"]({},b("AdsLWIUseLegacyDefaultKeyActionHandler"),{type:b("AdsBoostedComponentObjectiveV2UpdateObjectiveDataActionFlux").actionType,mutate:function(a,c,d){__p&&__p();d=d&&d.key;if(!d)return c;var e=c.getDataByKey(d);a=a.objective;a!==b("BoostedComponentObjective").SEND_MESSAGE&&g(e)&&(e=h(e));switch(a){case b("BoostedComponentObjective").SEND_MESSAGE:if(e.getIsEligibleForAdsCTA()){e=j(e);return c.setDataByKey(d,e)}break;case b("BoostedComponentObjective").GET_BOOKINGS:if(e.getIsEligibleForCTA()){e=i(e);return c.setDataByKey(d,e)}break;default:break}return c.setDataByKey(d,e)}});e.exports=a}),null);
__d("AdsLWIBoostedPostCreativeStoreActionHandlers",["AdsLWIBoostedPostCreativeStoreUpdateGetTicketsCTAActionHandler","AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberSubmitActionHandler","AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberSuccessActionHandler","AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberFailActionHandler","AdsLWIBoostedPostCreativeStoreValidateWhatsAppVerificationCodeSuccessActionHandler","AdsLWIBoostedPostCreativeStoreUpdateAdproObjectiveActionHandler","AdsLWIBoostedPostCreativeStoreUpdateObjectiveActionHandler"],(function(a,b,c,d,e,f){"use strict";e.exports=[b("AdsLWIBoostedPostCreativeStoreUpdateGetTicketsCTAActionHandler"),b("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberSubmitActionHandler"),b("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberSuccessActionHandler"),b("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberFailActionHandler"),b("AdsLWIBoostedPostCreativeStoreValidateWhatsAppVerificationCodeSuccessActionHandler"),b("AdsLWIBoostedPostCreativeStoreUpdateAdproObjectiveActionHandler"),b("AdsLWIBoostedPostCreativeStoreUpdateObjectiveActionHandler")]}),null);
__d("BoostedComponentWhatsAppValidationUtils",["AdsWhatsAppStrings","PhoneCodes","WhatsAppNumberVerificationResult"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsWhatsAppStrings").getInvalidPhoneNumberErrorMessage;function a(a){var b=a!=null?a.replace(/[-+()\s]/g,""):0;return a==null||isNaN(b)?g():null}function c(a,c){c=c.replace(/[-+()\s]/g,"");return"+"+b("PhoneCodes")[a].phone_code+c}function d(a){return a===b("WhatsAppNumberVerificationResult").VERIFICATION_CODE_SEND_SUCCESS||a===b("WhatsAppNumberVerificationResult").VERIFICATION_CODE_NOT_SENT||a===b("WhatsAppNumberVerificationResult").VERIFICATION_CODE_EXPIRED||a===b("WhatsAppNumberVerificationResult").VERIFICATION_CODE_TOO_FAST||a===b("WhatsAppNumberVerificationResult").INVALID_VERIFICATION_CODE||a===b("WhatsAppNumberVerificationResult").VERIFICATION_CODE_SENT_AGAIN}e.exports={getInvalidPhoneNumberError:a,getFormattedPhoneNumber:c,shouldShowVerificationDialog:d}}),null);
__d("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberActionHandler",["AdsLWIUseLegacyDefaultKeyActionHandler","BoostedComponentWhatsAppValidationUtils","WhatsAppNumberVerificationResult","adsLWIBoostedPostCreativeStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BoostedComponentWhatsAppValidationUtils").shouldShowVerificationDialog;a=babelHelpers["extends"]({},b("AdsLWIUseLegacyDefaultKeyActionHandler"),{type:"",mutate:function(a,c,d){__p&&__p();d=d&&d.key;if(!d)return c;var e=b("adsLWIBoostedPostCreativeStoreDataSelector")(),f=e.get("whatsapp_cta_specs");if(!f)return c;else{var h=a.verificationStatus,i=a.errorMessage,j=a.waiveBusinessNumberRequirement;f=f.withMutations(function(a){return a.set("isVerifyingWhatsAppNumberOnServer",!1).set("verificationDialogShown",g(h)).set("verificationStatus",h).set("errorMessage",i).set("showSendWhatsAppBusinessDownloadLinkDialog",!j&&(h===b("WhatsAppNumberVerificationResult").INVALID_WHATSAPP_NUMBER||h===b("WhatsAppNumberVerificationResult").INVALID_WHATSAPP_BUSINESS_NUMBER))});e=e.set("whatsapp_cta_specs",f);return c.setDataByKey(d,e)}}});e.exports=a}),null);
__d("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberFailActionHandler",["AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberActionHandler","BoostedComponentCreativeV2AddWhatsappNumberFailActionFlux"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberActionHandler"),{type:b("BoostedComponentCreativeV2AddWhatsappNumberFailActionFlux").actionType});e.exports=a}),null);
__d("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberSubmitActionHandler",["AdsLWIUseLegacyDefaultKeyActionHandler","BoostedComponentCreativeV2AddWhatsappNumberSubmitActionFlux","adsLWIBoostedPostCreativeStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=babelHelpers["extends"]({},b("AdsLWIUseLegacyDefaultKeyActionHandler"),{type:b("BoostedComponentCreativeV2AddWhatsappNumberSubmitActionFlux").actionType,mutate:function(a,c,d){d=d&&d.key;if(!d)return c;var e=b("adsLWIBoostedPostCreativeStoreDataSelector")(),f=e.get("whatsapp_cta_specs");if(!f||a.isCodeResendRequest)return c;else{e=e.setIn(["whatsapp_cta_specs","isVerifyingWhatsAppNumberOnServer"],!0);return c.setDataByKey(d,e)}}});e.exports=a}),null);
__d("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberSuccessActionHandler",["AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberActionHandler","BoostedComponentCreativeV2AddWhatsappNumberSuccessActionFlux"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("AdsLWIBoostedPostCreativeStoreAddWhatsAppNumberActionHandler"),{type:b("BoostedComponentCreativeV2AddWhatsappNumberSuccessActionFlux").actionType});e.exports=a}),null);
__d("AdsLWIBoostedPostCreativeStoreUpdateGetTicketsCTAActionHandler",["AdsCallToActionTypes","AdsLomoGetTicketsCTAUpdateEventSelectionDataActionFlux","AdsLWIUseLegacyDefaultKeyActionHandler","ApiAdCreativeFields","ApiCallToActionFields","ApiObjectStorySpecLinkFields","CallToActionValueFields","adsLWIBoostedPostCreativeStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=babelHelpers["extends"]({},b("AdsLWIUseLegacyDefaultKeyActionHandler"),{type:b("AdsLomoGetTicketsCTAUpdateEventSelectionDataActionFlux").actionType,mutate:function(a,c,d){__p&&__p();d=d&&d.key;if(!d)return c;var e=b("adsLWIBoostedPostCreativeStoreDataSelector")(),f=a.eventID,g=a.ticketLink;a=e.getCallToAction();var h=e.getCreativeSpecForAdPreview(),i=e.getObjectStorySpecDataType();if(f==null||f===""||g==null||g===""||!a||!h||e.getCallToActionType()!==b("AdsCallToActionTypes").TYPES.BUY_TICKETS.name)return c;var j=a.withMutations(function(a){return a.setIn([b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").EVENT_ID],f).setIn([b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").LINK],g)});e=e.withMutations(function(a){return a.setIn(["ads_cta_options_specs",b("AdsCallToActionTypes").TYPES.BUY_TICKETS.name,b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").EVENT_ID],f).setIn(["ads_cta_options_specs",b("AdsCallToActionTypes").TYPES.BUY_TICKETS.name,b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").LINK],g).setIn(["default_creative_spec_for_ad_preview",b("ApiAdCreativeFields").OBJECT_STORY_SPEC,i,b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION],j)});return c.setDataByKey(d,e)}});e.exports=a}),null);
__d("BoostedComponentWhatsAppCTADataType",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({isReadOnlyMode:!1,isValidatingVerificationCode:!1,isVerifyingWhatsAppNumberOnServer:!1,showSendWhatsAppBusinessDownloadLinkDialog:!1,showSuccessBanner:!1,verificationStatus:null,verificationDialogShown:!1,verifiedNumber:null,verifiedNumberType:null,errorMessage:null}));e.exports=a}),null);
__d("AdsLWIBoostedPostCreativeStoreValidateWhatsAppVerificationCodeSuccessActionHandler",["AdsCallToActionTypes","AdsLWIUseLegacyDefaultKeyActionHandler","ApiCallToActionFields","BoostedComponentCreativeV2ValidateWhatsappVerificationCodeSuccessActionFlux","BoostedComponentWhatsAppCTADataType","BoostedComponentWhatsAppValidationUtils","CallToActionValueFields","adsLWIBoostedPostCreativeStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BoostedComponentWhatsAppValidationUtils").shouldShowVerificationDialog;a=babelHelpers["extends"]({},b("AdsLWIUseLegacyDefaultKeyActionHandler"),{type:b("BoostedComponentCreativeV2ValidateWhatsappVerificationCodeSuccessActionFlux").actionType,mutate:function(a,c,d){__p&&__p();d=d&&d.key;if(!d)return c;var e=b("adsLWIBoostedPostCreativeStoreDataSelector")(),f=e.get("whatsapp_cta_specs");if(!f)return c;var h=a.verificationStatus;f=a.whatsAppNumber;var i=a.errorMessage,j=e.getCallToAction(),k=e.getCreativeSpecForAdPreview();if(!j||!k||e.getCallToActionType()!==b("AdsCallToActionTypes").TYPES.WHATSAPP_MESSAGE.name)return c;var l=f.replace("+",""),m=j.setIn([b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").WHATSAPP_NUMBER],l);e=e.withMutations(function(c){c.set("whatsapp_cta_specs",new(b("BoostedComponentWhatsAppCTADataType"))({isReadOnlyMode:!0,isValidatingVerificationCode:!1,isVerifyingWhatsAppNumberOnServer:!1,showSuccessBanner:!0,verificationDialogShown:g(h),verificationStatus:h,verifiedNumber:l,verifiedNumberType:a.whatsAppNumberType,errorMessage:i})).setIn(["ads_cta_options_specs",b("AdsCallToActionTypes").TYPES.WHATSAPP_MESSAGE.name,b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").WHATSAPP_NUMBER],l).setCallToActionInCreativeSpec(m)});return c.setDataByKey(d,e)}});e.exports=a}),null);
__d("BoostedComponentShareAndBoostElementType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_ATTACHMENT:"share_attachment",SHARE_OWNER_NAME:"share_owner_name",SHARE_TYPE:"share_type"})}),null);
__d("BoostedPostCreativeStoreData",["AdsCallToActionTypes","ApiAdCreativeFields","ApiAdCreativeStorySpecFields","ApiCallToActionFields","ApiObjectStorySpecLinkFields","BoostedComponentBaseStoreData","BoostedComponentCreativeCategory","BoostedComponentShareAndBoostElementType","CallToActionValueFields","FBLogger","PostAttachmentTypes","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="www.example.com",h="tel:+16505434800";a={adgroupID:null,ads_cta_options_specs:b("immutable").Map(),default_creative_spec:b("immutable").Map(),default_creative_spec_for_ad_preview:null,display_phone_number_cache:b("immutable").Map(),instagram_actor_id:null,instagram_validation_exception:null,instant_workflow_cta_options_specs:null,is_page_messaging_disabled:void 0,is_validating_message_page_cta:!1,placements:[],post_type_eligible_for_cta:null,share_and_boost_spec:null,video_detailes:null,ctaLink:null,whatsapp_cta_specs:null,audienceNetworkPlacementEligible:!1,instagramPlacementEligible:!1,instagramPlacementRemoved:!1};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getCreativeSpec=function(){return this.default_creative_spec};d.setCreativeSpec=function(a){return this.set("default_creative_spec",a)};d.setCreativeSpecField=function(a,b){var c=this.getCreativeSpec();c=c.set(a,b);return this.setCreativeSpec(c).set("adgroupID",null)};d.setAuthorizationCategory=function(a){var c=this.getCreativeSpecForAdPreview();c=c&&c.setIn([b("ApiAdCreativeFields").AUTHORIZATION_CATEGORY],a);return this.setCreativeSpecForAdPreview(c).setCreativeSpecField(b("ApiAdCreativeFields").AUTHORIZATION_CATEGORY,a)};d.getAuthorizationCategory=function(){return this.getCreativeSpec().get(b("ApiAdCreativeFields").AUTHORIZATION_CATEGORY)};d.getCreativeSpecForAdPreview=function(){return this.default_creative_spec_for_ad_preview};d.setCreativeSpecForAdPreview=function(a){return this.set("default_creative_spec_for_ad_preview",a)};d.setCreativeSpecForAdPreviewField=function(a,b){var c=this.getCreativeSpecForAdPreview();c=c&&c.set(a,b);return this.setCreativeSpecForAdPreview(c)};d.getValidatedCreativeSpecForAdPreview=function(){__p&&__p();var a=this.getPostTypeEligibleForCTA(),c=this.getCreativeSpecForAdPreview(),d=this.getCallToAction();if(!c||!d||!a)return c;var e=d.get(b("ApiCallToActionFields").TYPE);if(!e)return c;d=d.get(b("ApiCallToActionFields").VALUE)?d.get(b("ApiCallToActionFields").VALUE):b("immutable").Map();if(this.getPostTypeEligibleForCTA()===b("PostAttachmentTypes").MULTI_PHOTO){c.setIn([b("ApiAdCreativeFields").CALL_TO_ACTION,b("ApiCallToActionFields").TYPE],e);c.setIn([b("ApiAdCreativeFields").CALL_TO_ACTION,b("ApiCallToActionFields").VALUE],d);return c}switch(e){case b("AdsCallToActionTypes").TYPES.BOOK_TRAVEL.name:case b("AdsCallToActionTypes").TYPES.LEARN_MORE.name:case b("AdsCallToActionTypes").TYPES.SHOP_NOW.name:case b("AdsCallToActionTypes").TYPES.SIGN_UP.name:if(a===b("PostAttachmentTypes").SINGLE_SHARE)return c;d=this.$BoostedPostCreativeStoreData1(d,a);break;case b("AdsCallToActionTypes").TYPES.CALL_NOW.name:d=this.$BoostedPostCreativeStoreData2(d);break;default:break}e=this.getObjectStorySpecDataType();return c.setIn([b("ApiAdCreativeFields").OBJECT_STORY_SPEC,e,b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION,b("ApiCallToActionFields").VALUE],d)};d.$BoostedPostCreativeStoreData1=function(a,c){var d=a.get(b("CallToActionValueFields").LINK);(!d||d.length===0)&&(a=a.set(b("CallToActionValueFields").LINK,g),c===b("PostAttachmentTypes").SINGLE_VIDEO&&(a=a.set(b("CallToActionValueFields").CAPTION,g)));return a};d.$BoostedPostCreativeStoreData2=function(a){return a.set(b("CallToActionValueFields").LINK,h)};d.getIsUnpublishedSlideshow=function(){return!!(this.video_detailes&&this.video_detailes.get("is_unpublished_slideshow"))};d.getCreativeCategory=function(){var a=this.getCreativeSpecForAdPreview();if(!a)return null;a=a.getIn([b("ApiAdCreativeFields").OBJECT_STORY_SPEC,b("ApiAdCreativeStorySpecFields").VIDEO_DATA]);return a?b("BoostedComponentCreativeCategory").VIDEO:b("BoostedComponentCreativeCategory").IMAGE};d.getInstagramActorID=function(){return this.instagram_actor_id};d.setInstagramActorID=function(a){return this.set("instagram_actor_id",a)};d.getInstagramValidationExceptionMessage=function(){return this.instagram_validation_exception};d.getAdsCallToActionOptionsSpecs=function(){return this.ads_cta_options_specs};d.getInstantWorkflowOptionsSpecs=function(){return this.instant_workflow_cta_options_specs};d.getObjectStorySpecDataType=function(){switch(this.getPostTypeEligibleForCTA()){case b("PostAttachmentTypes").SINGLE_SHARE:return b("ApiAdCreativeStorySpecFields").LINK_DATA;case b("PostAttachmentTypes").SINGLE_VIDEO:return b("ApiAdCreativeStorySpecFields").VIDEO_DATA;case b("PostAttachmentTypes").SINGLE_PHOTO:return b("ApiAdCreativeStorySpecFields").PHOTO_DATA;default:b("FBLogger")("boosted_component").warn("Invalid Post type eligible for adding action buttons");return null}};d.getCallToActionType=function(){var a=this.getCallToAction();return a?a.get(b("ApiCallToActionFields").TYPE):null};d.getCallToActionValue=function(){var a=this.getCallToAction();return a?a.get(b("ApiCallToActionFields").VALUE):null};d.getCallToAction=function(){var a=this.getCreativeSpecForAdPreview();if(!a)return null;if(this.getPostTypeEligibleForCTA()===b("PostAttachmentTypes").MULTI_PHOTO)return a.getIn([b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION],null);var c=this.getObjectStorySpecDataType();return a.getIn([b("ApiAdCreativeFields").OBJECT_STORY_SPEC,c,b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION],null)};d.setCallToActionInCreativeSpec=function(a){__p&&__p();var c=this.getCreativeSpecForAdPreview();if(!c)return this;var d;if(this.getPostTypeEligibleForCTA()===b("PostAttachmentTypes").MULTI_PHOTO)d=c.setIn([b("ApiAdCreativeFields").CALL_TO_ACTION],a);else{var e=this.getObjectStorySpecDataType();d=c.setIn([b("ApiAdCreativeFields").OBJECT_STORY_SPEC,e,b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION],a)}return this.setCreativeSpecForAdPreview(d)};d.setWelcomeMessageInCreativeSpec=function(a){var c=this.getCreativeSpecForAdPreview();if(!c)return this;var d=this.getObjectStorySpecDataType();c=c.setIn([b("ApiAdCreativeFields").OBJECT_STORY_SPEC,d,b("ApiObjectStorySpecLinkFields").PAGE_WELCOME_MESSAGE],a);return this.setCreativeSpecForAdPreview(c)};d.setInstagramActorInCreativeSpec=function(a){var c=this.getCreativeSpec();return!c?this:this.setCreativeSpecField(b("ApiAdCreativeFields").INSTAGRAM_ACTOR_ID,a)};d.setInstagramActorInCreativeSpecForAdPreview=function(a){var c=this.getCreativeSpecForAdPreview();return!c?this:this.setCreativeSpecForAdPreviewField(b("ApiAdCreativeFields").INSTAGRAM_ACTOR_ID,a)};d.getCTALink=function(){return this.ctaLink};d.setCTALink=function(a){return this.set("ctaLink",a)};d.getIsPageMessagingDisabled=function(){return this.is_page_messaging_disabled};d.setIsPageMessagingDisabled=function(a){return this.set("is_page_messaging_disabled",a)};d.getIsValidatingMessagePageCTA=function(){return this.is_validating_message_page_cta};d.setIsValidatingMessagePageCTA=function(a){return this.set("is_validating_message_page_cta",a)};d.getPostTypeEligibleForCTA=function(){return this.post_type_eligible_for_cta};d.getIsEligibleForCTA=function(){return this.getIsEligibleForAdsCTA()||this.getIsEligibleForInstantWorkflowCTA()};d.getIsEligibleForAdsCTA=function(){if(!this.getPostTypeEligibleForCTA())return!1;switch(this.getPostTypeEligibleForCTA()){case b("PostAttachmentTypes").SINGLE_SHARE:case b("PostAttachmentTypes").SINGLE_VIDEO:case b("PostAttachmentTypes").SINGLE_PHOTO:case b("PostAttachmentTypes").MULTI_PHOTO:return!0;default:b("FBLogger")("boosted_component").warn("Invalid Post type eligible for adding action buttons");return!1}};d.getIsEligibleForInstantWorkflowCTA=function(){var a=this.getInstantWorkflowOptionsSpecs();return!!(this.getPostTypeEligibleForCTA()&&a&&!a.isEmpty())};d.getDisplayPhoneNumberCache=function(){return this.display_phone_number_cache};d.getShareAttachment=function(){return this.share_and_boost_spec&&this.share_and_boost_spec.get(b("BoostedComponentShareAndBoostElementType").SHARE_ATTACHMENT)};d.getShareOwnerName=function(){return this.share_and_boost_spec&&this.share_and_boost_spec.get(b("BoostedComponentShareAndBoostElementType").SHARE_OWNER_NAME)};d.getShareType=function(){return this.share_and_boost_spec&&this.share_and_boost_spec.get(b("BoostedComponentShareAndBoostElementType").SHARE_TYPE)};return c}(b("BoostedComponentBaseStoreData")(a));e.exports=c}),null);
__d("adsLWIBoostedPostCreativeStoreDataSelector",["AdsStoreUtils","BoostedPostCreativeStoreData","BoostedPostCreativeStoreV2","adsLWICreateLegacyKeyedStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsStoreUtils").toSelector(b("BoostedPostCreativeStoreV2"));c=b("adsLWICreateLegacyKeyedStoreDataSelector")(a,function(a){return new(b("BoostedPostCreativeStoreData"))(a)});e.exports=c}),null);
__d("AdsWhatsAppUIEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CTW_LWI_WHATSAPP_CTA_ADDED:"ctw_lwi_whatsapp_cta_added",CTW_LWI_COUNTRY_CODE_CHANGE:"ctw_lwi_country_code_change",CTW_LWI_PHONE_NUMBER_CHANGE:"ctw_lwi_phone_number_change",CTW_LWI_VERIFICATION_CODE_CHANGE:"ctw_lwi_verification_code_change",CTW_LWI_ADD_WHATSAPP_NUMBER_CLICK:"ctw_lwi_add_whatsapp_number_click",CTW_LWI_VALIDATE_WHATSAPP_VERIFICATION_CODE_CLICK:"ctw_lwi_validate_whatsapp_verification_code_click",CTW_LWI_VERIFICATION_DIALOG_CLOSE:"ctw_lwi_verification_dialog_close",CTW_LWI_BUSINESS_DOWNLOAD_DIALOG_CLOSE:"ctw_lwi_business_download_dialog_close",CTW_LWI_SUCCESS_BANNER_CLOSE:"ctw_lwi_success_banner_close"})}),null);
__d("BoostedComponentInstagramActionTypesV2",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({LOAD_CONNECTED_INSTAGRAM_ACCOUNT_DATA:""},"BoostedComponentInstagram");e.exports=a}),null);
__d("BoostedPostCreativeStoreV2",["AdCreativeAuthorizationCategory","AdsBoostedComponentAdAccountV2UpdateAccountDataActionFlux","AdsBoostedComponentAdAccountV2UpdatePoliticalAuthorizationDataActionFlux","AdsBoostedComponentCommonV2CreateSuccessWithBoostIdDataActionFlux","AdsBoostedComponentCommonV2FetchDialogDataDataActionFlux","AdsBoostedComponentCommonV2LoadDialogDataDataActionFlux","AdsCallToActionTypes","AdsDataAtom","AdsLWIFetchBoostedPostCreativeDataActionFlux","AdsLWILoadBoostedPostCreativeDataActionFlux","AdsLWIUpdateCallToActionLinkActionFlux","AdsWhatsAppUIEvents","AdsWhatsAppUtils","ApiCallToActionFields","BoostedComponentAdAccountStoreV2","BoostedComponentAppIDUtils","BoostedComponentCommonActionTypesV2","BoostedComponentCreativeV2ClearWhatsappVerificationStatusActionFlux","BoostedComponentCreativeV2CloseWhatsappLinkSuccessBannerActionFlux","BoostedComponentCreativeV2GetPageMessageSettingFailActionFlux","BoostedComponentCreativeV2GetPageMessageSettingSubmitActionFlux","BoostedComponentCreativeV2GetPageMessageSettingSuccessActionFlux","BoostedComponentCreativeV2PageMessagingEnableRequestFailActionFlux","BoostedComponentCreativeV2PageMessagingEnableRequestSubmitActionFlux","BoostedComponentCreativeV2PageMessagingEnableRequestSuccessActionFlux","BoostedComponentCreativeV2ToggleWhatsappNumberReadEditModeActionFlux","BoostedComponentCreativeV2UpdateCallToActionActionFlux","BoostedComponentCreativeV2ValidateWhatsappVerificationCodeFailActionFlux","BoostedComponentCreativeV2ValidateWhatsappVerificationCodeSubmitActionFlux","BoostedComponentFetchActionTypesV2","BoostedComponentFluxReduceStore","BoostedComponentInstagramActionTypesV2","BoostedComponentStoreState","BoostedComponentV2Utils","BoostedComponentWhatsAppCTADataType","BoostedPostCreativeStoreData","CallToActionValueFields","createObjectBy","filterObject","immutable","isEmpty","AdsLWIBoostedPostCreativeStoreActionHandlers"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BoostedComponentStoreState").BoostedComponentState,h=b("BoostedComponentStoreState").getKey,i=b("BoostedComponentV2Utils").getKeyData,j="BoostedPostCreativeStoreV2",k=b("createObjectBy")(b("AdsLWIBoostedPostCreativeStoreActionHandlers"),function(a){return a.type});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.storeName=j,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return new g({storeName:j})};d.getDataByKey=function(a){return this.getState().getDataByKey(a)};d.reduce=function(a,c){__p&&__p();var d=c.action;c=i(d);var e=c.appID,f=c.boostID;c=c.targetID;if(!e||!b("BoostedComponentAppIDUtils").isBoostedPostFamily(e))return a;f=h(e,c,f);var g=a.getDataByKey(f);switch(d.type){case b("AdsBoostedComponentCommonV2FetchDialogDataDataActionFlux").actionType:case b("AdsLWIFetchBoostedPostCreativeDataActionFlux").actionType:case b("BoostedComponentFetchActionTypesV2").FETCH_ALL_DATA:return g.dataLoaded?a:a.setDataByKey(f,new(b("BoostedPostCreativeStoreData"))());case b("AdsBoostedComponentCommonV2LoadDialogDataDataActionFlux").actionType:case b("AdsLWILoadBoostedPostCreativeDataActionFlux").actionType:case b("BoostedComponentFetchActionTypesV2").LOAD_ALL_DATA:var j=g.getInstagramActorID(),l=d.data,m=l.creative_store_data,n=l.ad_account_store_data;l=l.existing_ad_info_store_data;var o=babelHelpers["extends"]({dataLoaded:!0},b("filterObject")({ads_cta_options_specs:m.ads_cta_options_specs,default_creative_spec:m.default_creative_spec,default_creative_spec_for_ad_preview:m.default_creative_spec_for_ad_preview,instagram_actor_id:m.instagram_actor_id,instagram_validation_exception:m.instagram_validation_exception,instant_workflow_cta_options_specs:m.instant_workflow_cta_options_specs,post_type_eligible_for_cta:m.post_type_eligible_for_cta,share_and_boost_spec:m.share_and_boost_spec,video_detailes:m.video_detailes},function(a,b){return b in m}));j&&(o=babelHelpers["extends"]({},o,{instagram_actor_id:j,default_creative_spec:babelHelpers["extends"]({},o.default_creative_spec,{instagram_actor_id:j}),default_creative_spec_for_ad_preview:babelHelpers["extends"]({},o.default_creative_spec_for_ad_preview,{instagram_actor_id:j})}));g=new(b("BoostedPostCreativeStoreData"))(b("immutable").fromJS(o));g=g.set("whatsapp_cta_specs",new(b("BoostedComponentWhatsAppCTADataType"))({isReadOnlyMode:!0,verifiedNumber:(j=m)!=null?(j=j.page_whatsapp_data)!=null?j.whatsapp_number:j:j,verifiedNumberType:(o=m)!=null?(o=o.page_whatsapp_data)!=null?o.whatsapp_number_type:o:o}));if(d.type===b("AdsLWILoadBoostedPostCreativeDataActionFlux").actionType)return a.setDataByKey(f,g);j=n.selectedAccountInfo;o=n.selectedAccountID;n=n.accounts;var p=!1;j?p=j.authorizedForPoliticalAds:o&&n[o]&&(p=n[o].authorizedForPoliticalAds);l.is_boosted&&l.adgroup_id&&g.getAuthorizationCategory()&&g.getAuthorizationCategory()===b("AdCreativeAuthorizationCategory").POLITICAL?g=g.set("adgroupID",l.adgroup_id):p||(g=g.setAuthorizationCategory(null));return a.mergeDataByKey(f,g);case b("AdsBoostedComponentAdAccountV2UpdateAccountDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("BoostedComponentAdAccountStoreV2").getDispatchToken()]);j=b("BoostedComponentAdAccountStoreV2").getState();!j.getIsAccountAuthorizedForPoliticalAds()?g=g.setAuthorizationCategory(null):g=g.setAuthorizationCategory(b("AdCreativeAuthorizationCategory").POLITICAL);return a.setDataByKey(f,g);case b("BoostedComponentCreativeV2UpdateCallToActionActionFlux").actionType:n=d.callToActionUpdate;g=g.setCallToActionInCreativeSpec(n);if(!n)return a.setDataByKey(f,g);o=n.get(b("ApiCallToActionFields").TYPE);if(o===b("AdsCallToActionTypes").TYPES.WHATSAPP_MESSAGE.name){l=g.get("whatsapp_cta_specs");g=g.set("whatsapp_cta_specs",new(b("BoostedComponentWhatsAppCTADataType"))({isReadOnlyMode:!!n.getIn([b("ApiCallToActionFields").VALUE,b("CallToActionValueFields").WHATSAPP_NUMBER]),verifiedNumber:l!=null?l.verifiedNumber:null,verifiedNumberType:l!=null?l.verifiedNumberType:null}));b("AdsWhatsAppUtils").logWhatsAppExposuresWhenCTAIsClickedOnLWI();b("AdsWhatsAppUtils").logWhatsAppLWIUIEvent(b("AdsWhatsAppUIEvents").CTW_LWI_WHATSAPP_CTA_ADDED)}return a.setDataByKey(f,g);case b("AdsLWIUpdateCallToActionLinkActionFlux").actionType:p=d.link;g=g.setCTALink(p);return a.setDataByKey(f,g);case b("BoostedComponentCreativeV2GetPageMessageSettingSubmitActionFlux").actionType:case b("BoostedComponentCreativeV2PageMessagingEnableRequestSubmitActionFlux").actionType:g=g.setIsValidatingMessagePageCTA(!0);return a.setDataByKey(f,g);case b("BoostedComponentCreativeV2PageMessagingEnableRequestSuccessActionFlux").actionType:case b("BoostedComponentCreativeV2GetPageMessageSettingSuccessActionFlux").actionType:j=d.isMessagingEnabled;g=g.setIsValidatingMessagePageCTA(!1).setIsPageMessagingDisabled(!j);return a.setDataByKey(f,g);case b("BoostedComponentCreativeV2PageMessagingEnableRequestFailActionFlux").actionType:case b("BoostedComponentCreativeV2GetPageMessageSettingFailActionFlux").actionType:g=g.setIsValidatingMessagePageCTA(!1).setIsPageMessagingDisabled(!1);return a.setDataByKey(f,g);case b("BoostedComponentInstagramActionTypesV2").LOAD_CONNECTED_INSTAGRAM_ACCOUNT_DATA:var q=d.data.instagramAccountID;g=g.withMutations(function(a){a.setInstagramActorID(q).setInstagramActorInCreativeSpec(q).setInstagramActorInCreativeSpecForAdPreview(q)});return a.setDataByKey(f,g);case b("AdsBoostedComponentCommonV2CreateSuccessWithBoostIdDataActionFlux").actionType:o=d.data.creative_store_data;n=d.oldBoostID;l=h(e,c,n);a=a.copyData(f,e,c,n);b("isEmpty")(o)||(a=a.mergeDataByKey(l,{post_type_eligible_for_cta:o.post_type_eligible_for_cta}));return a;case b("BoostedComponentCommonActionTypesV2").DELETE_SUCCESS:return a.copyData(f,e,c,d.boostID);case b("BoostedComponentCreativeV2ClearWhatsappVerificationStatusActionFlux").actionType:p=g.get("whatsapp_cta_specs");if(!p)return a;else{p=p.withMutations(function(a){return a.set("verificationStatus",null).set("verificationDialogShown",!1).set("errorMessage",null).set("showSendWhatsAppBusinessDownloadLinkDialog",!1)});g=g.set("whatsapp_cta_specs",p);return a.setDataByKey(f,g)}case b("BoostedComponentCreativeV2ValidateWhatsappVerificationCodeSubmitActionFlux").actionType:j=g.get("whatsapp_cta_specs");if(!j)return a;else{g=g.setIn(["whatsapp_cta_specs","isValidatingVerificationCode"],!0);return a.setDataByKey(f,g)}case b("BoostedComponentCreativeV2ValidateWhatsappVerificationCodeFailActionFlux").actionType:n=g.get("whatsapp_cta_specs");if(!n)return a;else{n=n.withMutations(function(a){return a.set("isValidatingVerificationCode",!1).set("verificationStatus",d.verificationStatus).set("errorMessage",d.errorMessage)});g=g.set("whatsapp_cta_specs",n);return a.setDataByKey(f,g)}case b("BoostedComponentCreativeV2CloseWhatsappLinkSuccessBannerActionFlux").actionType:l=g.get("whatsapp_cta_specs");if(!l)return a;else{g=g.setIn(["whatsapp_cta_specs","showSuccessBanner"],!1);return a.setDataByKey(f,g)}case b("BoostedComponentCreativeV2ToggleWhatsappNumberReadEditModeActionFlux").actionType:o=g.get("whatsapp_cta_specs");if(!o)return a;else{g=g.setIn(["whatsapp_cta_specs","isReadOnlyMode"],d.isReadOnlyMode);return a.setDataByKey(f,g)}case b("AdsBoostedComponentAdAccountV2UpdatePoliticalAuthorizationDataActionFlux").actionType:g=g.setAuthorizationCategory(d.checked?b("AdCreativeAuthorizationCategory").POLITICAL:b("AdCreativeAuthorizationCategory").NONE);return a.setDataByKey(f,g);default:e=k[d.type];if(e){c=e.genExtraData&&e.genExtraData(d,a);return e.mutate(d,a,c)}return a}};return c}(b("BoostedComponentFluxReduceStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLWIDeliveryPlacementUtils",["AdsAPIPublisherPlatform","AdsPageTypes","AdsPlacementPlatformLabelConstant","AdsPreviewApiFormats","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").Map((g={},g[b("AdsPageTypes").DESKTOP_FEED]=b("immutable").Set([b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD]),g[b("AdsPageTypes").MOBILE_FEED]=b("immutable").Set([b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD]),g[b("AdsPageTypes").MOBILE_INSTREAM_VIDEO]=b("immutable").Set([b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE]),g[b("AdsPageTypes").RIGHT_COLUMN]=b("immutable").Set([b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD]),g[b("AdsPageTypes").INSTAGRAM_STREAM]=b("immutable").Set([b("AdsPreviewApiFormats").INSTAGRAM_STANDARD]),g[b("AdsPageTypes").INSTAGRAM_STORY]=b("immutable").Set([b("AdsPreviewApiFormats").INSTAGRAM_STORY]),g[b("AdsPageTypes").MOBILE_EXTERNAL]=b("immutable").Set([b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL,b("AdsPreviewApiFormats").MOBILE_NATIVE]),g[b("AdsPageTypes").MESSENGER_INBOX]=b("immutable").Set([b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA]),g[b("AdsPageTypes").MOBILE_FB_STORY]=b("immutable").Set([b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE]),g[b("AdsPageTypes").MARKETPLACE_MOBILE]=b("immutable").Set([b("AdsPreviewApiFormats").MARKETPLACE_MOBILE]),g));function a(a,c){return a.flatMap(function(a){var d=h.get(a);c&&a===b("AdsPageTypes").MOBILE_EXTERNAL&&(d=d.add(b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO));return d})}var i=b("immutable").Map((g={},g[b("AdsPageTypes").INSTAGRAM_STORY]=b("AdsAPIPublisherPlatform").INSTAGRAM,g[b("AdsPageTypes").INSTAGRAM_STREAM]=b("AdsAPIPublisherPlatform").INSTAGRAM,g[b("AdsPageTypes").MOBILE_EXTERNAL]=b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,g[b("AdsPageTypes").MESSENGER_INBOX]=b("AdsAPIPublisherPlatform").MESSENGER,g[b("AdsPageTypes").MESSENGER]=b("AdsAPIPublisherPlatform").MESSENGER,g[b("AdsPageTypes").MOBILE_FB_STORY]=b("AdsAPIPublisherPlatform").FACEBOOK,g[b("AdsPageTypes").MARKETPLACE_MOBILE]=b("AdsAPIPublisherPlatform").FACEBOOK,g));function c(a){var c=b("immutable").Set([b("AdsAPIPublisherPlatform").FACEBOOK]).asMutable();a.forEach(function(a){a=i.get(a);a&&!c.has(a)&&c.add(a)});return c.asImmutable()}var j=b("immutable").Map((g={},g[b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK]=b("immutable").Set([b("AdsPageTypes").MOBILE_EXTERNAL]),g[b("AdsAPIPublisherPlatform").FACEBOOK]=b("immutable").Set([b("AdsPageTypes").DESKTOP_FEED,b("AdsPageTypes").MOBILE_FEED,b("AdsPageTypes").MOBILE_INSTREAM_VIDEO,b("AdsPageTypes").RIGHT_COLUMN,b("AdsPageTypes").MOBILE_FB_STORY,b("AdsPageTypes").MARKETPLACE_MOBILE]),g[b("AdsAPIPublisherPlatform").MESSENGER]=b("immutable").Set([b("AdsPageTypes").MESSENGER_INBOX]),g[b("AdsAPIPublisherPlatform").INSTAGRAM]=b("immutable").Set([b("AdsPageTypes").INSTAGRAM_STREAM,b("AdsPageTypes").INSTAGRAM_STORY]),g));function d(a){return a.flatMap(function(a){return j.get(a)})}var k=b("immutable").Map((g={},g[b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK]=b("AdsPlacementPlatformLabelConstant").audience_network_positions,g[b("AdsAPIPublisherPlatform").FACEBOOK]=b("AdsPlacementPlatformLabelConstant").facebook_positions,g[b("AdsAPIPublisherPlatform").INSTAGRAM]=b("AdsPlacementPlatformLabelConstant").instagram_positions,g[b("AdsAPIPublisherPlatform").MESSENGER]=b("AdsPlacementPlatformLabelConstant").messenger_positions,g));function f(a){return a.map(function(a){return k.get(a)})}e.exports={getAPIAdFormatsFromPageTypes:a,getPageTypesFromPublisherPlatforms:d,getPublisherPlatformsFromPageTypes:c,getPublisherPlatformLabels:f}}),null);
__d("AdsLWIPlacementsRecord",["AdsAPIPublisherPlatform","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({automaticPlacementsEnabled:!0,dataLoaded:!1,eligiblePageTypes:b("immutable").Set(),eligiblePublisherPlatforms:b("immutable").Set([b("AdsAPIPublisherPlatform").FACEBOOK]),initialSelectedPlatforms:b("immutable").Set([b("AdsAPIPublisherPlatform").FACEBOOK]),selectedPlatforms:b("immutable").Set([b("AdsAPIPublisherPlatform").FACEBOOK])});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLWIDeliveryPlacementsLoadDialogDataActionHandler",["AdsBoostedComponentCommonV2LoadDialogDataDataActionFlux","AdsLWIDeliveryPlacementUtils","AdsLWIPlacementsRecord","adsLWICommonGenExtraDataWithKeyRecord","immutable","isBoostIDBoosted","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIDeliveryPlacementUtils").getPublisherPlatformsFromPageTypes;a=b("adsLWICommonGenExtraDataWithKeyRecord")();c={type:b("AdsBoostedComponentCommonV2LoadDialogDataDataActionFlux").actionType,genExtraData:a,mutate:function(a,c,d){__p&&__p();d=d&&d.key;a=a.data.creative_store_data;if(b("isEmpty")(a)||!d)return c;var e=b("immutable").Set(a.eligible_page_types),f=g(e),h=d.boostID;h=h!=null&&b("isBoostIDBoosted")(h);var i=!0,j=f;h&&(j=g(a.placements),i=f.equals(j));h=new(b("AdsLWIPlacementsRecord"))({automaticPlacementsEnabled:i,dataLoaded:!0,eligiblePageTypes:e,eligiblePublisherPlatforms:f,initialSelectedPlatforms:j,selectedPlatforms:j});return c.setDataByKey(d,h)}};e.exports=c}),null);
__d("AdsLWIDeliveryPlacementsLoadPackagePromotionsDataActionHandler",["AdsLWIDeliveryPlacementUtils","AdsLWIPackageLoadPromotionsActionFlux","AdsLWIPlacementsRecord","BoostedComponentQEs","BoostedComponentQEUtils","adsLWICommonGenExtraDataWithKeyRecord","immutable","isEmpty"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIDeliveryPlacementUtils").getPublisherPlatformsFromPageTypes;a=b("adsLWICommonGenExtraDataWithKeyRecord")();c={type:b("AdsLWIPackageLoadPromotionsActionFlux").actionType,genExtraData:a,mutate:function(a,c,d){__p&&__p();var e=a.promotionsData;return c.withMutations(function(a){__p&&__p();e.forEach(function(c,e){__p&&__p();var f=d&&d.key;c=c.toJS();c=c.creative_store_data;if(b("isEmpty")(c)||f==null)return;f=f.set("promotionID",e);e=b("immutable").Set(c.eligible_page_types);c=g(e);e=new(b("AdsLWIPlacementsRecord"))({automaticPlacementsEnabled:b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").ADS_LWI_AA_AUTOMATIC_PLACEMENTS_UNIVERSE).getParamBool("enable",!1,!0),dataLoaded:!0,eligiblePageTypes:e,eligiblePublisherPlatforms:c,selectedPlatforms:c});a.setDataByKey(f,e)})})}};e.exports=c}),null);
__d("AdsLWIToggleAutomaticPlacementsActionHandler",["AdsLWIDeliveryPlacementUtils","AdsLWIToggleAutomaticPlacementsDataActionFlux","adsLWICommonGenExtraDataWithKeyRecord"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIDeliveryPlacementUtils").getPublisherPlatformsFromPageTypes;a=b("adsLWICommonGenExtraDataWithKeyRecord")();c={type:b("AdsLWIToggleAutomaticPlacementsDataActionFlux").actionType,genExtraData:a,mutate:function(a,b,c){c=c==null?void 0:c.key;if(!c)return b;var d=a.promotionID;d!=null&&(c=c.set("promotionID",d));d=b.getDataByKey(c);var e=g(d.eligiblePageTypes);return b.setDataByKey(c,d.set("automaticPlacementsEnabled",a.checked).set("selectedPlatforms",e))}};e.exports=c}),null);
__d("AdsLWITogglePublisherPlatformActionHandler",["AdsLWITogglePublisherPlatformActionFlux","adsLWICommonGenExtraDataWithKeyRecord","adsLWIDeliveryPlacementsStoreDataByPromotionIDSelector","adsLWIDeliveryPlacementsStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsLWICommonGenExtraDataWithKeyRecord")();c={type:b("AdsLWITogglePublisherPlatformActionFlux").actionType,genExtraData:a,mutate:function(a,c,d){d=d&&d.key;var e=a.promotionID,f=e!=null?b("adsLWIDeliveryPlacementsStoreDataByPromotionIDSelector")()(e):b("adsLWIDeliveryPlacementsStoreDataSelector")();if(!d||!f)return c;e!=null&&(d=d.set("promotionID",e));e=a.publisherPlatform;a=f.selectedPlatforms;a.has(e)?a=a["delete"](e):a=a.add(e);return c.setDataByKey(d,f.set("selectedPlatforms",a))}};e.exports=c}),null);
__d("adsLWIDeliveryPlacementsStoreDataByPromotionIDSelector",["AdsLWICommonStoreStateKeyRecord","AdsLWIDeliveryPlacementsStore","AdsLWIPlacementsRecord","AdsStoreUtils","adsCreateSelector","adsLWICurrentInstanceDataSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),b("AdsStoreUtils").toSelector(b("AdsLWIDeliveryPlacementsStore"))],function(a,c){return function(d){if(!a)return new(b("AdsLWIPlacementsRecord"))();d=new(b("AdsLWICommonStoreStateKeyRecord"))({boostID:a.boostID,pageID:a.pageID,product:a.product,promotionID:d,targetID:null});return c.getDataByKey(d)}},{name:e.id+".selector"});e.exports=a}),null);
__d("adsLWIDeliveryPlacementsStoreDataSelector",["AdsLWIDeliveryPlacementsStore","AdsStoreUtils","adsLWICreateNewKeyedStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsStoreUtils").toSelector(b("AdsLWIDeliveryPlacementsStore"));c=b("adsLWICreateNewKeyedStoreDataSelector")(a);e.exports=c}),null);
__d("AdsLWIDeliveryPlacementsStore",["AdsDataAtom","AdsLWICommonStoreCreateSuccessActionHandlerBase","AdsLWICommonStoreDeleteSuccessActionHandlerBase","AdsLWICommonStoreState","AdsLWIDeliveryPlacementsLoadDialogDataActionHandler","AdsLWIDeliveryPlacementsLoadPackagePromotionsDataActionHandler","AdsLWIPlacementsRecord","AdsLWIToggleAutomaticPlacementsActionHandler","AdsLWITogglePublisherPlatformActionHandler","BoostedComponentFluxReduceStore","createObjectBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("createObjectBy")([b("AdsLWIDeliveryPlacementsLoadDialogDataActionHandler"),b("AdsLWIDeliveryPlacementsLoadPackagePromotionsDataActionHandler"),b("AdsLWIToggleAutomaticPlacementsActionHandler"),b("AdsLWITogglePublisherPlatformActionHandler"),b("AdsLWICommonStoreCreateSuccessActionHandlerBase"),b("AdsLWICommonStoreDeleteSuccessActionHandlerBase")],function(a){return a.type}),h="AdsLWIDeliveryPlacementsStore";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.storeName=h,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return new(b("AdsLWICommonStoreState"))({storeName:h,emptyRecord:new(b("AdsLWIPlacementsRecord"))()})};d.reduce=function(a,b){b=b.action;var c=g[b.type];if(c){var d=c.genExtraData&&c.genExtraData(b,a);return c.mutate(b,a,d)}return a};return c}(b("BoostedComponentFluxReduceStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLWISpinner.react",["CenteredContainer.react","FDSSpinner.react","React"],(function(a,b,c,d,e,f){"use strict";var g=200;function a(a){return a.height===0?null:b("React").createElement(b("CenteredContainer.react"),{horizontal:!0,style:{height:a.height!=null?a.height:g},vertical:!0},b("React").createElement(b("FDSSpinner.react"),null))}e.exports=a}),null);
__d("AdsLWIValidObjectivesForPlacements",["AdproObjectiveType","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Set([b("AdproObjectiveType").APP_INSTALLS,b("AdproObjectiveType").BRAND_AWARENESS,b("AdproObjectiveType").LEAD_GENERATION,b("AdproObjectiveType").LINK_CLICKS,b("AdproObjectiveType").MOBILE_APP_INSTALLS,b("AdproObjectiveType").REACH,b("AdproObjectiveType").VIDEO_VIEWS,b("AdproObjectiveType").WEBSITE_CONVERSIONS]);c=b("immutable").Set([b("AdproObjectiveType").APP_INSTALLS,b("AdproObjectiveType").LINK_CLICKS,b("AdproObjectiveType").REACH,b("AdproObjectiveType").VIDEO_VIEWS,b("AdproObjectiveType").WEBSITE_CONVERSIONS,b("AdproObjectiveType").BRAND_AWARENESS,b("AdproObjectiveType").LEAD_GENERATION]);d=b("immutable").Set([b("AdproObjectiveType").APP_INSTALLS,b("AdproObjectiveType").BRAND_AWARENESS,b("AdproObjectiveType").LINK_CLICKS,b("AdproObjectiveType").MESSAGES,b("AdproObjectiveType").PRODUCT_CATALOG_SALES,b("AdproObjectiveType").REACH,b("AdproObjectiveType").WEBSITE_CONVERSIONS]);f=b("immutable").Set([b("AdproObjectiveType").BRAND_AWARENESS,b("AdproObjectiveType").LINK_CLICKS,b("AdproObjectiveType").MESSAGES,b("AdproObjectiveType").PRODUCT_CATALOG_SALES,b("AdproObjectiveType").REACH,b("AdproObjectiveType").WEBSITE_CONVERSIONS,b("AdproObjectiveType").LEAD_GENERATION,b("AdproObjectiveType").EVENT_RESPONSES,b("AdproObjectiveType").VIDEO_VIEWS,b("AdproObjectiveType").STORE_VISITS]);e.exports={VALID_FB_STORIES_OBJECTIVES:a,VALID_IG_STORIES_OBJECTIVES:c,VALID_MESSENGER_OBJECTIVES:d,VALID_FB_MARKETPLACE_OBJECTIVES:f}}),null);
__d("adsLWISpecsStoreEligibleSelector",["AdsLWISpecsStoreUtils","adsCreateSelector","adsLWICurrentInstanceDataSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLWISpecsStoreUtils").isEligibleForSpecsStore;a=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector")],function(a){return a==null?!1:g(a.product)},{name:e.id+".adsLWISpecsStoreEligibleSelector"});e.exports=a}),null);
__d("adsLWISelectedAccountIDSelector",["adsCreateSelector","adsLWIAdAccountStoreDataSelector","adsLWICurrentSpecsDataSelector","adsLWISpecsStoreEligibleSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsLWIAdAccountStoreDataSelector"),b("adsLWICurrentSpecsDataSelector"),b("adsLWISpecsStoreEligibleSelector")],function(a,b,c){return c?b==null||b.adAccountID==null?a.selectedAccountID:b.adAccountID:a.selectedAccountID},{name:e.id+".adsLWISelectedAccountIDSelector"});e.exports=a}),null);
__d("BoostedComponentAttachmentType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE_VIDEO:"live_video",JOB_OPENING:"job_opening"})}),null);
__d("BoostedComponentContextStoreData",["BoostedComponentAppID","BoostedComponentAttachmentType","BoostedComponentBaseStoreData","BoostedComponentProduct","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={access_token:"",boost_id:"",campaign_additional_settings:null,can_viewer_edit:!1,client_id:"",composer_id:null,is_eligible:!1,is_job_opening:!1,is_unpublished_slideshow:!1,page_connected_instagram_account_id:null,fan_count:0,flow_id:"",page_access_token:"",page_id:"",page_info:b("immutable").Map(),page_uri:"",placement:"",post_info:b("immutable").Map(),source_app_id:b("BoostedComponentAppID").BOOSTED_POST,product:b("BoostedComponentProduct").BOOSTED_POST,target_id:"",upsell_type:null,user_id:"",user_hash:""};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getAppID=function(){return this.source_app_id};d.getAttachmentType=function(){return this.post_info?this.post_info.get("attachment_type"):null};d.getAttachmentsInfo=function(){return this.post_info?this.post_info.get("attachments_info"):null};d.getStoryDomID=function(){return this.post_info?this.post_info.get("story_dom_id"):null};d.getCampaignAdditionalSettings=function(){return this.campaign_additional_settings};d.getNullableInstagramAccountID=function(){return this.page_connected_instagram_account_id};d.getFlowID=function(){return this.flow_id};d.getUserID=function(){return this.user_id};d.getUserHash=function(){return this.user_hash};d.getPageID=function(){return this.page_id};d.getFanCount=function(){return this.fan_count};d.getAccessToken=function(){return this.access_token};d.getPageAccessToken=function(){return this.page_access_token};d.getClientID=function(){return this.client_id};d.getBoostID=function(){return this.boost_id};d.getPostID=function(){return this.post_info?this.post_info.get("id"):null};d.getPostType=function(){return this.post_info?this.post_info.get("type"):null};d.getEventPostInfo=function(){return this.post_info?this.post_info.get("eventInfo"):null};d.getHotnessPercentile=function(){return this.post_info?this.post_info.get("hotness_percentile"):null};d.getCallToActionType=function(){return this.post_info?this.post_info.get("call_to_action_type"):null};d.getPlacement=function(){return this.placement};d.getLocalAwareness=function(){return this.page_info?this.page_info.get("local_awareness"):null};d.getAutomatedAdsPageInfo=function(){return this.page_info?this.page_info.get("automated_ads"):null};d.getBoostedPostPageInfo=function(){return this.page_info?this.page_info.get("boosted_post"):null};d.getFeedContext=function(){return this.post_info?this.post_info.get("feed_context"):null};d.getIsEntPost=function(){return this.post_info?!!this.post_info.get("is_ent_post"):!1};d.getIsUnpublishedSlideshow=function(){return!!this.is_unpublished_slideshow};d.getUpsellType=function(){return this.upsell_type};d.getComposerID=function(){return this.composer_id};d.getCanViewerEdit=function(){return this.can_viewer_edit};d.getPhotoCount=function(){return this.post_info?this.post_info.get("photo_count"):null};d.getIsEligible=function(){return this.is_eligible};d.getPageURI=function(){return this.page_uri};d.getTargetID=function(){return this.target_id};d.getIsJobOpening=function(){return this.is_job_opening};d.isJobPost=function(){return this.getAttachmentType()===b("BoostedComponentAttachmentType").JOB_OPENING};d.isLiveVideo=function(){return this.getAttachmentType()===b("BoostedComponentAttachmentType").LIVE_VIDEO};return c}(b("BoostedComponentBaseStoreData")(a));e.exports=c}),null);
__d("BoostedComponentContextStoreV2",["AdsBoostedComponentCommonV2CreateSuccessWithBoostIdDataActionFlux","AdsBoostedComponentCommonV2FetchButtonDataDataActionFlux","AdsBoostedComponentCommonV2FetchDialogDataDataActionFlux","AdsBoostedComponentCommonV2LoadButtonDataDataActionFlux","AdsBoostedComponentCommonV2LoadInitialDataDataActionFlux","AdsBoostedComponentDialogUiv2AutoOpenDataActionFlux","AdsBoostedComponentDialogUiv2ButtonClickDataActionFlux","AdsBoostedComponentInstagramV2LoadConnectedInstagramAccountDataDataActionFlux","AdsDataAtom","AdsLWIDialogOpenWithInstanceActionFlux","BoostedComponentCommonActionTypesV2","BoostedComponentContainerUtils","BoostedComponentContextStoreData","BoostedComponentDialogUIActionTypesV2","BoostedComponentFetchActionTypesV2","BoostedComponentFluxReduceStore","BoostedComponentStoreState","immutable","BoostedComponentV2Utils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BoostedComponentContainerUtils").isDataLoaded,h=b("BoostedComponentStoreState").BoostedComponentState,i=b("BoostedComponentStoreState").getKey,j=b("BoostedComponentV2Utils").getKeyData,k=b("BoostedComponentV2Utils").randomString,l="BoostedComponentContextStoreV2";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.storeName=l,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return new h({storeName:l})};d.getDataByKey=function(a){return this.getState().getDataByKey(a)};d.getLastUsedKey=function(){return this.getState().getLastUsedKey()};d.reduce=function(a,c){__p&&__p();c=c.action;var d=j(c),e=d.appID,f=d.boostID;d=d.targetID;var h=c.data;if(!e)return a;e=i(e,d,f);d=a.getDataByKey(e);switch(c.type){case b("BoostedComponentFetchActionTypesV2").FETCH_ALL_DATA:case b("AdsBoostedComponentCommonV2FetchButtonDataDataActionFlux").actionType:return a.setDataByKey(e,new(b("BoostedComponentContextStoreData"))());case b("AdsBoostedComponentCommonV2LoadInitialDataDataActionFlux").actionType:if(g([d]))return a;case b("BoostedComponentFetchActionTypesV2").LOAD_ALL_DATA:case b("AdsBoostedComponentCommonV2LoadButtonDataDataActionFlux").actionType:case b("AdsBoostedComponentCommonV2CreateSuccessWithBoostIdDataActionFlux").actionType:case b("BoostedComponentCommonActionTypesV2").DELETE_SUCCESS:case b("BoostedComponentCommonActionTypesV2").EDIT_SUCCESS:case b("BoostedComponentCommonActionTypesV2").PAUSE_SUCCESS:case b("BoostedComponentCommonActionTypesV2").RESUME_SUCCESS:f=h.context_store_data;h=new(b("BoostedComponentContextStoreData"))(b("immutable").fromJS(babelHelpers["extends"]({},f,{dataLoaded:!0})));return a.setDataByKey(e,h);case b("AdsBoostedComponentCommonV2FetchDialogDataDataActionFlux").actionType:return a;case b("AdsBoostedComponentDialogUiv2AutoOpenDataActionFlux").actionType:case b("AdsBoostedComponentDialogUiv2ButtonClickDataActionFlux").actionType:case b("BoostedComponentDialogUIActionTypesV2").CREATE_DIALOG_OPEN:case b("BoostedComponentDialogUIActionTypesV2").EDIT_DIALOG_OPEN:case b("AdsLWIDialogOpenWithInstanceActionFlux").actionType:f=c.placement;h=k(16);d=d.set("flow_id",h);f&&f!==d.getPlacement()&&(d=d.set("placement",f));return a.setDataByKey(e,d);case b("AdsBoostedComponentInstagramV2LoadConnectedInstagramAccountDataDataActionFlux").actionType:h=c.data.instagramAccountID;if(h&&!d.getNullableInstagramAccountID()){d=d.set("page_connected_instagram_account_id",h);return a.setDataByKey(e,d)}return a;default:return a}};return c}(b("BoostedComponentFluxReduceStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsLWIContextStoreDataSelector",["AdsStoreUtils","BoostedComponentContextStoreData","BoostedComponentContextStoreV2","adsLWICreateLegacyKeyedStoreDataSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsStoreUtils").toSelector(b("BoostedComponentContextStoreV2"));c=b("adsLWICreateLegacyKeyedStoreDataSelector")(a,function(a){return new(b("BoostedComponentContextStoreData"))(a)});e.exports=c}),null);
__d("adsLWICtaTypeSelector",["AdsAssetFeedUtils","AdsLWIAdgroupUtils","BoostedComponentProduct","adsCreateSelector","adsLWIBoostedPostCreativeStoreDataSelector","adsLWIContextStoreDataSelector","adsLWICurrentInstanceDataSelector","adsLWISelectedAdgroupSelectors"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIAdgroupUtils").getUnifiedCreativeAPIFieldMapping;a=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;c=b("adsCreateSelector")([a],function(a){if(a.isLoading()||!a.hasValue())return null;a=a.getValueEnforcing();var c=g(a);return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)?a&&c&&c.callToActionType?a.getIn(c.callToActionType).get(0):null:a&&c&&c.callToActionType?a.getIn(c.callToActionType):null},{name:e.id+".adsLWINewCtaTypeSelector"});d=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),b("adsLWIBoostedPostCreativeStoreDataSelector"),b("adsLWIContextStoreDataSelector"),c],function(a,c,d,e){if(!a)return null;d=d.getCallToActionType();return d?d:a.product===b("BoostedComponentProduct").BOOSTED_POST||a.product===b("BoostedComponentProduct").BOOSTED_JOB_POST?c.getCallToActionType():e},{name:e.id+".selector"});e.exports=d}),null);
__d("adsLWICreativeSpecForAdPreviewSelector",["AdsAPIAdgroupCreativeRecord","BoostedComponentProduct","adsCreateSelector","adsLWIBoostedPostCreativeStoreDataSelector","adsLWICurrentInstanceDataSelector","adsLWISelectedAdgroupSelectors","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsLWISelectedAdgroupSelectors").adsLWISelectedAdgroupSelector;c=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),a,b("adsLWIBoostedPostCreativeStoreDataSelector")],function(a,c,d){if(!a)return b("immutable").Map();if(a.product===b("BoostedComponentProduct").BOOSTED_POST||a.product===b("BoostedComponentProduct").BOOSTED_JOB_POST){a=d.getValidatedCreativeSpecForAdPreview()||d.default_creative_spec;return new(b("AdsAPIAdgroupCreativeRecord"))(a.toJS())}return c.hasValue()?c.getValueEnforcing().creative:null},{name:e.id+".selector"});e.exports=c}),null);
__d("adsLWICurrentMessengerWelcomeMessageSelector",["AdsLWIMessengerWelcomeMessagesProvider","adsCreateStoreSelector","adsLWICommonStoreStateKeySelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLWIMessengerWelcomeMessagesProvider").toFluxStore();a=b("adsCreateStoreSelector")([g].concat(b("adsLWICommonStoreStateKeySelector").getStores()),function(){var a=b("adsLWICommonStoreStateKeySelector")();return a&&g.getState().storeDataMap.get(a)},e.id+".selector");e.exports=a}),null);
__d("AdsLWICreativeValidationKeyRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({adAccountID:void 0,creativeSpec:void 0,instagramActorID:void 0,pageType:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("adsLWICreativeValidationExceptionsSelector",["AdsLWICreativeValidationExceptionProvider","AdsLWICreativeValidationKeyRecord","AdsPageTypes","BoostedComponentProduct","BoostedComponentQEs","BoostedComponentQEUtils","LoadObject","adsCreateSelector","adsLWICreativeSpecForAdPreviewSelector","adsLWICurrentInstanceDataSelector","adsLWIDeliveryPlacementsStoreDataSelector","adsLWISelectedAccountIDSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsLWICreativeValidationExceptionProvider").toFluxSelector();var g=b("immutable").Set([b("AdsPageTypes").INSTAGRAM_STORY,b("AdsPageTypes").INSTAGRAM_STREAM,b("AdsPageTypes").MESSENGER_INBOX,b("AdsPageTypes").MOBILE_FB_STORY,b("AdsPageTypes").MARKETPLACE_MOBILE]);c=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),b("adsLWIDeliveryPlacementsStoreDataSelector"),a,b("adsLWICreativeSpecForAdPreviewSelector"),b("adsLWISelectedAccountIDSelector")],function(a,c,d,e,f){return!a||!c?b("immutable").Map():b("immutable").Map(g.intersect(c.eligiblePageTypes).map(function(c){var g=new(b("AdsLWICreativeValidationKeyRecord"))({adAccountID:f,creativeSpec:e||b("immutable").Map(),instagramActorID:null,pageType:c});g=d.get(g);if(c===b("AdsPageTypes").MESSENGER_INBOX&&(g.hasValue()&&g.getValueEnforcing()===null&&!b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").ADS_LWI_MESSENGER_PLACEMENT_WWW_UNIVERSE).getParamBool("enable",!1)))return[c,b("LoadObject").withValue("NOT_IN_TEST_GROUP")];if(c===b("AdsPageTypes").MOBILE_FB_STORY&&(g.hasValue()&&g.getValueEnforcing()===null&&a.product===b("BoostedComponentProduct").BOOSTED_POST&&!b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOSTED_POST_ENABLE_FB_STORY_PLACEMENT_UNIVERSE).getParamBool("enable_fb_story_placement_boost_post",!1)))return[c,b("LoadObject").withValue("NOT_IN_TEST_GROUP")];return c===b("AdsPageTypes").MARKETPLACE_MOBILE&&(g.hasValue()&&g.getValueEnforcing()===null&&!b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOSTED_COMPONENT_MARKETPLACE_PLACEMENT).getParamBool("enable_mp_page_type",!1))?[c,b("LoadObject").withValue("NOT_IN_TEST_GROUP")]:[c,g]}))},{name:e.id+".selector"});e.exports=c}),null);
__d("BoostedPostInstagramUtils",["AdproObjectiveType","AdsDataAtom","AdsSelectorUtils","BoostedComponentAppID","BoostedComponentContextStoreV2","BoostedComponentExistingAdInfoStoreV2","BoostedComponentObjectiveUtils","BoostedComponentQEs","BoostedComponentQEUtils","BoostedPostCreativeStoreV2","adsLWIAdproObjectiveDataSelector","adsLWIAdproObjectiveSelector","adsLWINewAdInfoStoreDataSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BoostedComponentObjectiveUtils").getAdproObjectiveType,h=b("immutable").Set([b("AdproObjectiveType").LINK_CLICKS,b("AdproObjectiveType").VIDEO_VIEWS,b("AdproObjectiveType").REACH,b("AdproObjectiveType").MESSAGES,b("AdproObjectiveType").WEBSITE_CONVERSIONS]);function a(a,c,d){__p&&__p();if(a!==b("BoostedComponentAppID").BOOSTED_POST||!d)return d;b("AdsDataAtom").waitFor([b("BoostedComponentContextStoreV2").getDispatchToken()]);a=b("BoostedComponentContextStoreV2").getDataByKey(c);var e=!!a.get("page_connected_instagram_account_id");if(e)return d;b("AdsDataAtom").waitFor([].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsLWINewAdInfoStoreDataSelector"),b("adsLWIAdproObjectiveDataSelector")]),[b("BoostedComponentExistingAdInfoStoreV2").getDispatchToken(),b("BoostedPostCreativeStoreV2").getDispatchToken()]));e=b("BoostedPostCreativeStoreV2").getDataByKey(c);d=b("adsLWINewAdInfoStoreDataSelector")();c=b("BoostedComponentExistingAdInfoStoreV2").getDataByKey(c);var f=b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOST_POST_TO_BUSINESS_OUTCOME).getParamBool("show_new_objective_list",!1,!0);f=f?b("adsLWIAdproObjectiveSelector")():j(d,c);d=!!e.getCallToActionType()||!!a.getCallToActionType();return i(f,d)}function i(a,c){c=a===b("AdproObjectiveType").POST_ENGAGEMENT&&c;if(h.has(a))return b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOSTED_POST_IG_PBIA_ON_BOOSTED_POST).getParamBool("allow_pbia_on_boosted_post",!1);return c?b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOSTED_POST_IG_PBIA_ON_BOOSTED_POST_WITH_CTA).getParamBool("allow_pbia_on_boosted_post_with_cta",!1):!1}function j(a,b){return b.getIsBoosted()&&!!b.getObjective()?b.getObjective():g(a.getSelectedObjective())}e.exports={isInstagramEligible:a,shouldIncludeIgPlacementInBoostedPost:i}}),null);
__d("adsLWIRestrictedPageTypesSelector",["AdproObjectiveType","AdsCallToActionTypes","AdsLWIValidObjectivesForPlacements","AdsPageTypes","BoostedComponentProduct","BoostedComponentQEs","BoostedComponentQEUtils","BoostedPostInstagramUtils","adsCreateSelector","adsLWIAdproObjectiveSelector","adsLWIContextStoreDataSelector","adsLWICreativeValidationExceptionsSelector","adsLWICtaTypeSelector","adsLWICurrentInstanceDataSelector","adsLWIDeliveryPlacementsStoreDataSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsLWIValidObjectivesForPlacements").VALID_FB_MARKETPLACE_OBJECTIVES,h=b("AdsLWIValidObjectivesForPlacements").VALID_FB_STORIES_OBJECTIVES,i=b("AdsLWIValidObjectivesForPlacements").VALID_IG_STORIES_OBJECTIVES,j=b("AdsLWIValidObjectivesForPlacements").VALID_MESSENGER_OBJECTIVES,k=b("BoostedPostInstagramUtils").shouldIncludeIgPlacementInBoostedPost;a=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),b("adsLWIDeliveryPlacementsStoreDataSelector"),b("adsLWIAdproObjectiveSelector"),b("adsLWICtaTypeSelector"),b("adsLWIContextStoreDataSelector"),b("adsLWICreativeValidationExceptionsSelector")],function(a,c,d,e,f,l){__p&&__p();var m=b("immutable").Set();if(!a||!c)return m;c=c.eligiblePageTypes;if(a.product===b("BoostedComponentProduct").BOOSTED_POST){c.has(b("AdsPageTypes").MOBILE_EXTERNAL)&&d===b("AdproObjectiveType").MESSAGES&&(m=m.add(b("AdsPageTypes").MOBILE_EXTERNAL));c.has(b("AdsPageTypes").MOBILE_EXTERNAL)&&d!==b("AdproObjectiveType").POST_ENGAGEMENT&&d!==b("AdproObjectiveType").VIDEO_VIEWS&&(m=m.union(b("immutable").Set([b("AdsPageTypes").DESKTOP_INSTREAM_VIDEO,b("AdsPageTypes").MOBILE_INSTREAM_VIDEO])));e===b("AdsCallToActionTypes").TYPES.WHATSAPP_MESSAGE.name&&(m=m.add(b("AdsPageTypes").DESKTOP_FEED));e=e!=null&&e!==""&&e!==b("AdsCallToActionTypes").TYPES.NO_BUTTON.name;c.has(b("AdsPageTypes").INSTAGRAM_STREAM)&&((f.page_connected_instagram_account_id==null||f.page_connected_instagram_account_id==="")&&!k(d,e)&&(m=m.add(b("AdsPageTypes").INSTAGRAM_STREAM)))}if(c.has(b("AdsPageTypes").INSTAGRAM_STREAM)){f=l.get(b("AdsPageTypes").INSTAGRAM_STREAM);e=f.hasValue();e&&f.getValueEnforcing()&&(m=m.add(b("AdsPageTypes").INSTAGRAM_STREAM))}if(c.has(b("AdsPageTypes").MESSENGER_INBOX))if(d!=null&&!j.has(d))m=m.add(b("AdsPageTypes").MESSENGER_INBOX);else{e=l.get(b("AdsPageTypes").MESSENGER_INBOX);f=e.hasValue();f&&e.getValueEnforcing()&&(m=m.add(b("AdsPageTypes").MESSENGER_INBOX))}if(c.has(b("AdsPageTypes").INSTAGRAM_STORY))if(d!=null&&!i.has(d))m=m.add(b("AdsPageTypes").INSTAGRAM_STORY);else{f=l.get(b("AdsPageTypes").INSTAGRAM_STORY);e=f.hasValue();e&&f.getValueEnforcing()&&(m=m.add(b("AdsPageTypes").INSTAGRAM_STORY))}if(c.has(b("AdsPageTypes").MARKETPLACE_MOBILE))if(!b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOSTED_COMPONENT_MARKETPLACE_PLACEMENT).getParamBool("enable_mp_page_type",!1,!0))m=m.add(b("AdsPageTypes").MARKETPLACE_MOBILE);else if(d!=null&&!g.has(d))m=m.add(b("AdsPageTypes").MARKETPLACE_MOBILE);else{e=l.get(b("AdsPageTypes").MARKETPLACE_MOBILE);f=e.hasValue();f&&e.getValueEnforcing()&&(m=m.add(b("AdsPageTypes").MARKETPLACE_MOBILE))}(c.has(b("AdsPageTypes").MOBILE_INSTREAM_VIDEO)||c.has(b("AdsPageTypes").DESKTOP_INSTREAM_VIDEO))&&d===b("AdproObjectiveType").MESSAGES&&(m=m.add(b("AdsPageTypes").MOBILE_INSTREAM_VIDEO).add(b("AdsPageTypes").DESKTOP_INSTREAM_VIDEO));if(c.has(b("AdsPageTypes").MOBILE_FB_STORY))if(a.product===b("BoostedComponentProduct").BOOSTED_POST&&!b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOSTED_POST_ENABLE_FB_STORY_PLACEMENT_UNIVERSE).getParamBool("enable_fb_story_placement_boost_post",!1,!0))m=m.add(b("AdsPageTypes").MOBILE_FB_STORY);else if(d!=null&&!h.has(d))m=m.add(b("AdsPageTypes").MOBILE_FB_STORY);else{f=l.get(b("AdsPageTypes").MOBILE_FB_STORY);e=f.hasValue();e&&f.getValueEnforcing()&&(m=m.add(b("AdsPageTypes").MOBILE_FB_STORY))}return m},{name:e.id+".selector"});e.exports=a}),null);
__d("adsLWIFinalPageTypesSelector",["AdsLWIDeliveryPlacementUtils","adsCreateSelector","adsLWICurrentInstanceDataSelector","adsLWIDeliveryPlacementsStoreDataSelector","adsLWIRestrictedPageTypesSelector","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsLWIDeliveryPlacementUtils").getPageTypesFromPublisherPlatforms;a=b("adsCreateSelector")([b("adsLWICurrentInstanceDataSelector"),b("adsLWIDeliveryPlacementsStoreDataSelector"),b("adsLWIRestrictedPageTypesSelector")],function(a,c,d){if(!a||!c)return b("immutable").Set();a=g(c.selectedPlatforms);return c.eligiblePageTypes.intersect(a).subtract(d)},{name:e.id+".selector"});e.exports=a}),null);
__d("adsLWIInstagramOptOutSelector",["AdsAPIPublisherPlatform","AdsPageTypes","adsCreateSelector","adsLWIDeliveryPlacementsStoreDataSelector","adsLWIFinalPageTypesSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsLWIDeliveryPlacementsStoreDataSelector"),b("adsLWIFinalPageTypesSelector")],function(a,c){return!a?!1:!a.selectedPlatforms.has(b("AdsAPIPublisherPlatform").INSTAGRAM)||!(c.has(b("AdsPageTypes").INSTAGRAM_STREAM)||c.has(b("AdsPageTypes").INSTAGRAM_STORY))},{name:e.id+".selector"});e.exports=a}),null);
__d("BoostedComponentAdPreviewActionTypesV2",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ON_PREVIEW_AD_ON_DESKTOP_CLICK:"",ON_PREVIEW_AD_ON_INSTAGRAM_CLICK:"",ON_PREVIEW_AD_ON_MOBILE_CLICK:"",ON_PREVIEW_AD_ON_AUDIENCE_NETWORK_INSTREAM_VIDEO_CLICK:"",ON_PREVIEW_AD_ON_MOBILE_INTERSTITIAL_CLICK:"",ON_PREVIEW_AD_ON_MOBILE_NATIVE_CLICK:"",PREVIEW_AD_LOAD_START:"",PREVIEW_AD_LOAD_SUCCESS:"",PREVIEW_AD_LOAD_FAILURE:"",PREVIEW_AD_ON_DESKTOP_FEED:"",PREVIEW_AD_ON_MOBILE_FEED:"",PREVIEW_AD_ON_RHC:"",PREVIEW_AD_ON_INSTAGRAM:"",PREVIEW_AD_ON_AUDIENCE_NETWORK_INSTREAM_VIDEO:"",PREVIEW_AD_ON_MOBILE_INTERSTITIAL:"",PREVIEW_AD_ON_MOBILE_NATIVE:"",TOGGLE_INSTAGRAM_PLACEMENT:""},"BoostedComponentAdPreview");e.exports=a}),null);
__d("BoostedComponentEmbeddedFlowActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({AUTHENTICATION_CONFIRMED:"",AUTHENTICATION_DENIED:"",PAGE_CREATE_FAIL:"",PAGE_CREATE_SUCCESS:"",PAGE_CREATION_STEP_BACKWARD:"",STEP_BACKWARD:"",STEP_FORWARD:"",INIT_FLOW:"",CHECK_BOOST_ELIGIBILITY:"",CHECK_BOOST_ELIGIBILITY_FAIL:"",CHECK_BOOST_ELIGIBILITY_SUCCESS:""},"BoostedComponentEmbeddedFlow");e.exports=a}),null);
__d("BoostedComponentPromotablePageActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({LOAD_PROMOTABLE_PAGES_SUCCESS:"",LOAD_PROMOTABLE_PAGES_FAIL:"",LOAD_PROMOTABLE_PAGE_ONE_SUCCESS:"",LOAD_PROMOTABLE_PAGE_ONE_FAIL:"",SELECT_PAGE:""},"BoostedComponentPromotablePage");e.exports=a}),null);
__d("BoostedComponentGraphAPI",["BoostedComponentQEs","BoostedComponentQEUtils","GraphAPI"],(function(a,b,c,d,e,f){"use strict";var g=function(){return b("BoostedComponentQEUtils").getQE(b("BoostedComponentQEs").BOOSTED_COMPONENT_ADS_API_V3_2).getParamBool("enabled",!1)?"3.2":"3.0"};a=function(a){return b("GraphAPI")(g(),a)};c=function(){return"v"+g()};e.exports={get:a,getPageletAPIVersion:c}}),null);
__d("EmoticonEmojiList",[],(function(a,b,c,d,e,f){e.exports={names:{":)":"slightsmile",":-)":"slightsmile",":]":"slightsmile","=)":"smile","(:":"slightsmile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":poop:":"poop",":trans:":"transflag",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=p":"tongue","=D":"grin",":-D":"slightgrin",":D":"slightgrin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","8)":"glasses","B-)":"glasses","B)":"glasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry",":\u2019(":"cry",":\u2019-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel",":*":"kiss",":-*":"kiss",";-*":"winkkiss",";*":"winkkiss","<3":"heart","&lt;3":"heart","\u2665":"heart","^_^":"kiki","^~^":"kiki","-_-":"expressionless",":-|":"squint",":|":"squint",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"persevere",">.<":"persevere",'<(")':"penguin",O_O:"flushface",o_o:"flushface","0_0":"flushface",T_T:"crying","T-T":"crying",ToT:"crying","T.T":"crying","-3-":"flushkiss","'-_-":"sweating","\u2019-_-":"sweating","(y)":"like",":like:":"like","(Y)":"like","(n)":"dislike","(N)":"dislike"},emote2emojis:{slightsmile:"1f642",smile:"1f60a",frown:"1f61e",winktongue:"1f61c",poop:"1f4a9",transflag:"1f3f3_200d_26a7",tongue:"1f61b",slightgrin:"1f600",grin:"1f603",gasp:"1f62e",wink:"1f609",glasses:"1f60e",grumpy:"1f620",unsure:"1f615",cry:"1f622",devil:"1f608",angel:"1f607",kiss:"1f617",winkkiss:"1f618",heart:"2764",kiki:"1f60a",expressionless:"1f611",squint:"1f610",upset:"1f620",persevere:"1f623",penguin:"1f427",flushface:"1f633",crying:"1f62d",flushkiss:"1f61a",sweating:"1f613",like:"f0000",dislike:"1f44e"},symbols:{slightsmile:":)",smile:"=)",frown:":(",winktongue:";-P",poop:":poop:",transflag:":trans:",tongue:":P",slightgrin:":D",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",winkkiss:";*",heart:"<3",kiki:"^_^",expressionless:"-_-",squint:":-|",upset:">:o",persevere:">_<",penguin:'<(")',flushface:"O_O",crying:"T_T",flushkiss:"-3-",sweating:"'-_-",like:"(y)",dislike:"(n)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|;P|;\-P|;\-p|;p|:poop:|:trans:|:P|:\-P|:\-p|:p|=P|=p|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\)(?!\))|8\)(?!\))|>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|:\u2019\(|:\u2019\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|:\*|:\-\*|;\*|;\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|:\-\||:\||>:o|>:O|>:\-O|>:\-o|>_<|>\.<|<\(\"\)(?!\))|O_O|o_o|0_0|T_T|T\-T|ToT|T\.T|\-3\-|\'\-_\-|\u2019\-_\-|\(y\)(?!\))|:like:|\(Y\)(?!\))|\(n\)(?!\))|\(N\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/}}),null);
__d("EventReminderDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("EventReminderActions",["EventReminderDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({DELETE_EVENT_REMINDER:null,UPDATE_EVENT_REMINDER:null,CLEAR_ALL_REMINDERS:null});var g={Types:a,updateEventReminder:function(a,c,d,e){b("EventReminderDispatcher").dispatch({type:g.Types.UPDATE_EVENT_REMINDER,threadID:a,event:c,participantsEventStatus:e,eventID:d})},deleteEventReminder:function(a,c){b("EventReminderDispatcher").dispatch({type:g.Types.DELETE_EVENT_REMINDER,threadID:a,eventID:c})},clearAllReminders:function(a){b("EventReminderDispatcher").dispatch({type:g.Types.CLEAR_ALL_REMINDERS,threadID:a})}};e.exports=g}),null);
__d("EventReminderConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({INITIAL:"initial",GOING:"going",WATCHED:"watched",UNWATCHED:"unwatched"});b=Object.freeze({ASSOCIATED_EVENT:"ASSOCIATED_EVENT"});c=Object.freeze({GOING:"GOING",DECLINED:"DECLINED",INVITED:"INVITED"});d=Object.freeze({NO_ERROR:"NO_ERROR",PAST_TIME:"PAST_TIME",AFTER_ONE_YEAR:"AFTER_ONE_YEAR"});e.exports={EventGuestStates:a,EventPlanType:b,GuestStates:c,TimeErrorType:d}}),null);
__d("EventReminderMembersMap",["CurrentUser","EventReminderConstants","MercuryIDs","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("EventReminderConstants").EventGuestStates,h=b("EventReminderConstants").GuestStates;a=function(){__p&&__p();function a(a){this.$1=a,this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=new Map(),this.$6=new Map(),this.$7=new Map()}var c=a.prototype;c.setAllMembers=function(a,c){__p&&__p();if(!a)return;this.$2.set(c,h.INVITED);var d=[],e=[],f=[],g=[];for(var i in a){d.push(b("MercuryIDs").getParticipantIDFromUserID(i));var j=a[i];i===b("CurrentUser").getID()&&this.$2.set(c,j);var k={fbid:i,guestState:j,imageSrc:""};j===h.GOING?e.push(k):j===h.DECLINED?f.push(k):g.push(k)}j=e.concat(f,g);this.$3.set(c,j);this.$4.set(c,e);this.$7.set(c,!1);this.$8(c,d,j)};c.setAllMembersOfAssociatedEvent=function(a,c){__p&&__p();if(!a)return;this.$2.set(c,g.INITIAL);var d=[],e=[],f=[],h=[];a.map(function(a){d.push(b("MercuryIDs").getParticipantIDFromUserID(a.participant_id));var i=a.participant_id.toString();a=a.event_status||g.INITIAL;i===b("CurrentUser").getID()&&this.$2.set(c,a);i={fbid:i,guestState:a,imageSrc:""};a===g.GOING?e.push(i):a===g.WATCHED?f.push(i):h.push(i)},this);a=e.concat(f,h);this.$3.set(c,a);this.$4.set(c,e);this.$5.set(c,f);this.$6.set(c,h);this.$7.set(c,!1);this.$8(c,d,a)};c.clearMembers=function(a){this.$2["delete"](a),this.$3["delete"](a),this.$4["delete"](a),this.$5["delete"](a),this.$6["delete"](a)};c.getAllMembers=function(a){return this.$3.get(a)};c.getGoingMembers=function(a){return this.$4.get(a)};c.getInterestedMembers=function(a){return this.$5.get(a)};c.getSelfGuestState=function(a){return!this.$2.has(a)?h.INVITED:this.$2.get(a)};c.getProfileImagesLoaded=function(a){return!!this.$7.get(a)};c.$8=function(a,c,d){var e=this;b("MessengerParticipants.bs").getBigImageMulti(c,function(c){for(var f=0;f<d.length;f++)d[f].fbid&&(d[f].imageSrc=c[b("MercuryIDs").getParticipantIDFromUserID(d[f].fbid)]);e.$7.set(a,!0);e.$1.__emitChange()})};return a}();e.exports=a}),null);
__d("LightweightEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EVENT:"EVENT",CALL:"CALL",DIRECT_M:"DIRECT_M",M_REMINDER:"M_REMINDER",M_PERSONAL_REMINDER:"M_PERSONAL_REMINDER",SAFETY_LOCATION_SHARE:"SAFETY_LOCATION_SHARE"})}),null);
__d("EventReminderStateStore",["EventReminderActions","EventReminderConstants","EventReminderDispatcher","EventReminderMembersMap","EventRemindersGating","FluxStore","LightweightEventType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("EventReminderConstants").EventPlanType;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("EventReminderDispatcher"))||this;c.$EventReminderStateStore1={};c.$EventReminderStateStore2={};c.$EventReminderStateStore3=new Map();c.$EventReminderStateStore4=new Map();return c}var d=c.prototype;d.getEvent=function(a,b){b=b||a;return this.$EventReminderStateStore1[a]?this.$EventReminderStateStore1[a][b]:void 0};d.getSingleEventByThreadID=function(a){return this.$EventReminderStateStore2[a]};d.getEventsByThreadID=function(a){return this.$EventReminderStateStore1[a]};d.getEventMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);return a&&a.getAllMembers(b)};d.getSelfGuestState=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);return a&&a.getSelfGuestState(b)};d.getNumOfGoingMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);a=a&&a.getGoingMembers(b);return a?a.length:0};d.getNumOfInterestedMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);a=a&&a.getInterestedMembers(b);return a?a.length:0};d.getProfileImagesLoaded=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);return!a?!1:a.getProfileImagesLoaded(b)};d.shouldShowCTA=function(a,b,c){return!1};d.clearEventMembers=function(a,b){b=b||a;a=this.$EventReminderStateStore3.get(a);a&&a.clearMembers(b)};d.getTransformedEvent=function(a){if(a.room_type==="EVENT"){var b=a.event_place&&a.event_place.name,c=a.event_place&&a.event_place.address&&a.event_place.address.single_line_full_address;return{allowRSVP:!0,eventDate:a.start_timestamp,eventName:a.name,eventLocationName:b,eventLocationAddress:c,eventID:a.id.toString(),eventType:g.ASSOCIATED_EVENT,exists:!0}}return{allowRSVP:!!a.track_rsvp,eventDate:a.event_time,eventName:a.title,eventLocationName:a.location_name,eventLocationAddress:a.location_address,eventID:a.oid.toString(),eventType:a.event_type,exists:!0}};d.__onDispatch=function(a){__p&&__p();var c=b("EventReminderActions").Types,d=a.threadID,e=a.eventID||a.threadID;this.$EventReminderStateStore3.get(d)||this.$EventReminderStateStore3.set(d,new(b("EventReminderMembersMap"))(this));var f=this.$EventReminderStateStore3.get(d);this.$EventReminderStateStore1[d]===void 0&&(this.$EventReminderStateStore1[d]={});switch(a.type){case c.UPDATE_EVENT_REMINDER:var g=a.event;this.$EventReminderStateStore1[d][e]=this.getTransformedEvent(g);this.$EventReminderStateStore1[d][e].eventType!==b("LightweightEventType").M_REMINDER&&(this.$EventReminderStateStore2[d]=this.$EventReminderStateStore1[d][e]);this.$EventReminderStateStore1[d][e].allowRSVP&&(g.room_type==="EVENT"?f&&f.setAllMembersOfAssociatedEvent(a.participantsEventStatus,e):f&&f.setAllMembers(g.event_members,e));break;case c.DELETE_EVENT_REMINDER:this.$EventReminderStateStore1[d][e]&&(this.$EventReminderStateStore1[d][e].exists=!1,this.clearEventMembers(d,e));this.$EventReminderStateStore2[d]&&this.$EventReminderStateStore2[d].eventID===e&&(this.$EventReminderStateStore2[d].exists=!1);break;case c.CLEAR_ALL_REMINDERS:delete this.$EventReminderStateStore1[d];delete this.$EventReminderStateStore2[d];break}this.__emitChange()};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("MercuryMessageRenderLocations",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHAT:"chat",MESSENGER:"messenger",PAGES:"pages"});e.exports=a}),null);
__d("MessengerFormattingUtils",["cx","JSResource","MessengerFormattingConfig","Newline.react","React","UnicodeUtils","gkx","lazyLoadComponent","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("MessengerCodeBlock.react").__setRef("MessengerFormattingUtils"));function a(a){return{offset:a[1].length,length:b("UnicodeUtils").strlen(a[2])+2,innerOffset:1,innerText:a[2]}}function c(a){return{offset:a[1].length,length:b("UnicodeUtils").strlen(a[2])+2,innerOffset:1,innerText:a[2].replace(/\s\s+/g," ").trim()}}function d(a){return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(a[1]),innerText:a[2]}}g=b("MessengerFormattingConfig");var i={pattern:new RegExp(g.boldConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.boldConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("b",null,a)},getRangeInMatch:a,recursivelyFormat:!0},j={pattern:new RegExp(g.italicConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.italicConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("i",null,a)},getRangeInMatch:a,recursivelyFormat:!0};a={pattern:new RegExp(g.strikethroughConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.strikethroughConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("s",null,a)},getRangeInMatch:a,recursivelyFormat:!0};c={pattern:new RegExp(g.codeConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("code",{className:b("gkx")("825109")?"_7ilw":""},a)},getRangeInMatch:c,recursivelyFormat:!1};var k=function(a){var c=a.children;a=a.range;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",{className:"_7mv7"},c)},b("React").createElement(h,{range:a},c)),b("React").createElement(b("Newline.react"),null))},l={pattern:new RegExp(g.codeBlockConfig.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockConfig.nonCapturingPattern),formatter:function(a){a=a.children;return b("React").createElement("code",null,a)},getRangeInMatch:d,recursivelyFormat:!1};k={pattern:new RegExp(g.codeBlockV2Config.pattern,"g"),nonCapturingPattern:new RegExp(g.codeBlockV2Config.nonCapturingPattern),formatter:k,getRangeInMatch:function(a){var c=a[3]||"",d=a[4]!==void 0?a[4]:a[5],e=a[1]||"",f=a[2]||"";return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(e)+b("UnicodeUtils").strlen(f),innerText:d,codeBlockLanguage:c}},recursivelyFormat:!1};var m=function(a){a=a.children;return b("React").createElement(b("React").Fragment,null,b("React").createElement("blockquote",{className:"_pye"+(b("gkx")("825109")?" _7ilx":"")},b("React").createElement("div",{className:"_pyf"}),a),b("React").createElement(b("Newline.react"),null))};d={pattern:new RegExp(g.blockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.blockQuoteConfig.nonCapturingPattern,"m"),formatter:m,getRangeInMatch:d,recursivelyFormat:!0};m={pattern:new RegExp(g.multipleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.multipleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:m,getRangeInMatch:function(a){var c=a[0],d=b("UnicodeUtils").strlen(c);a=b("UnicodeUtils").strlen(a[2]);return{offset:0,length:d,innerOffset:a,innerText:b("UnicodeUtils").substring(c,a,d)}},recursivelyFormat:!0,getAdditionalInnerRanges:function(a){return p(a.innerText,[n]).map(function(b){return babelHelpers["extends"]({},b,{offset:b.offset+a.innerOffset,innerOffset:b.innerOffset+a.innerOffset})})}};var n={pattern:new RegExp(g.singleInlineBlockQuoteConfig.pattern,"gm"),nonCapturingPattern:new RegExp(g.singleInlineBlockQuoteConfig.nonCapturingPattern,"m"),formatter:function(a){a=a.children;return a},getRangeInMatch:function(a){return{offset:0,length:b("UnicodeUtils").strlen(a[0]),innerOffset:b("UnicodeUtils").strlen(a[1]),innerText:a[2]}},recursivelyFormat:!0},o=[d,i,j,a,c,m];b("gkx")("844786")?o.push(k):o.push(l);function f(a,b){b===void 0&&(b=o);for(var c=0;c<b.length;c++){var d=b[c].nonCapturingPattern;if(d.test(a))return!0}return!1}function p(a,c){__p&&__p();c===void 0&&(c=o);var d=[];for(var e=0;e<c.length;e++){var f=c[e];f.pattern.lastIndex=0;var g=void 0;while((g=f.pattern.exec(a))!=null){g=b("nullthrows")(g);var h=f.getRangeInMatch(g),i=a.substr(0,g.index+h.offset);i=b("UnicodeUtils").strlen(i);i={offset:i,length:h.length,innerText:h.innerText,innerOffset:i+h.innerOffset,formatter:f.formatter,recursivelyFormat:f.recursivelyFormat,codeBlockLanguage:h.codeBlockLanguage};h=f.getAdditionalInnerRanges?f.getAdditionalInnerRanges(i):[];d.push(i);d=d.concat(h)}}return d}e.exports={defaultFormatConfigs:o,hasMatch:f,getRanges:p,formatConfigs:{bold:i,italic:j,strikethrough:a,blockcode:l,codeblockV2:k,code:c,blockquote:d,multipleInlineBlockquote:m,singleInlineBlockquote:n}}}),null);
__d("MessengerMathUtils",["UnicodeUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2,h=/^(?:\$\$|\\\[)[\s\S]*?\S[\s\S]*?(?:\$\$|\\\])$/,i=/\\\([\s\S]*?\S[\s\S]*?\\\)/g;function a(a){return h.test(a)}function c(a){return a.substring(g,a.length-g)}function d(a){i.lastIndex=0;return i.test(a)}function f(a,c){__p&&__p();c===void 0;c=[];i.lastIndex=0;var d;while((d=i.exec(a))!==null){d=b("nullthrows")(d);var e=a.substring(0,d.index);e=b("UnicodeUtils").strlen(e);c.push({offset:e,length:b("UnicodeUtils").strlen(d[0]),math:!0})}return c}function j(a){var b=a.length,c=0,d=0;for(var e=0;e<b;e++)a[e]==="\\"?a.slice(e,e+6)==="\\begin"?(c+=2,d=Math.max(d,c)):a.slice(e,e+4)==="\\end"?c-=2:e++:a[e]==="{"?(c++,d=Math.max(d,c)):a[e]==="}"&&c--;return d}e.exports={MATH_DELIMITER_LENGTH:g,isMathBlock:a,hasInlineMath:d,getInlineMathRanges:f,getMathBlockInner:c,getMaxBraceDepth:j}}),null);
__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),null);
__d("SkinToneEmoji.bs",["bs_caml_array","EmojiFormat.bs","MessengerEmojiConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case"1f385":case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f442":case"1f443":case"1f446":case"1f447":case"1f448":case"1f449":case"1f44a":case"1f44b":case"1f44c":case"1f44d":case"1f44e":case"1f44f":case"1f450":case"1f466":case"1f467":case"1f468":case"1f469":case"1f46e":case"1f470":case"1f471":case"1f472":case"1f473":case"1f474":case"1f475":case"1f476":case"1f477":case"1f478":case"1f47c":case"1f481":case"1f482":case"1f483":case"1f485":case"1f486":case"1f487":case"1f4aa":case"1f575":case"1f590":case"1f595":case"1f596":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64c":case"1f64d":case"1f64e":case"1f64f":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"1f6c0":case"1f918":case"261d":case"26f9":case"270a":case"270b":case"270c":case"270d":return!0;default:return!1}}function h(a){var c=b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039;if(c)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){var b=h(a)===0;if(b)return a;else return a.slice(0,a.length-1|0)}function k(a){var c=b("MessengerEmojiConfig").emoji_colors;c=c.filter(function(b){return b===a});return c.length!==0}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0;c=c?l(a):l(a.slice(0,a.length-1|0));if(c!==0){c=b===0;if(c)return a.slice(0,a.length-1|0);else return i(a.slice(0,a.length-2|0))}else return a}function a(a,b){__p&&__p();if(b!==0){var c=h(a),d=c===0;d=d?a.slice(0):a.slice(0,a.length-1|0);var e=l(d);if(e!==0)return a;else{e=d.concat([b]);d=c===0;if(d)return e;else return e.concat([c])}}else return a}function c(a){return m(j(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(j(a))))}e=65039;f.emoji_modifier_code=e;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isToneModifier=k;f.getTone=l;f.removeTone=m;f.applyTone=a;f.removeAllModifiers=c;f.hasVariations=d}),null);
__d("MessengerEmojiTransitionMapping.bs",["bs_caml_array","EmojiFormat.bs","SkinToneEmoji.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){switch(a){case"1f3c3":case"1f3c4":case"1f3ca":case"1f3cb":case"1f3cc":case"1f46e":case"1f46f":case"1f471":case"1f473":case"1f477":case"1f481":case"1f482":case"1f486":case"1f487":case"1f575":case"1f645":case"1f646":case"1f647":case"1f64b":case"1f64d":case"1f64e":case"1f6a3":case"1f6b4":case"1f6b5":case"1f6b6":case"26f9":return!0;default:return!1}}function h(a){var c=b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039;if(c)return b("bs_caml_array").caml_array_get(a,a.length-1|0);else return 0}function i(a){if(b("bs_caml_array").caml_array_get(a,a.length-1|0)===65039)return a;else{a=a.slice(0);return a.concat([65039])}}function j(a){var b=h(a)===0;if(b)return a;else return a.slice(0,a.length-1|0)}function k(a){if(a===9792)return!0;else return a===9794}function l(a){a=j(a);if(a.length<=1||!k(b("bs_caml_array").caml_array_get(a,a.length-1|0)))return 0;else return b("bs_caml_array").caml_array_get(a,a.length-1|0)}function m(a){var b=h(a),c=b===0;c=c?l(a):l(a.slice(0,a.length-1|0));if(c!==0){c=b===0;if(c)return a.slice(0,a.length-2|0);else return i(a.slice(0,a.length-3|0))}else return a}function n(a,b){__p&&__p();if(b!==0){var c=h(a),d=c===0;d=d?a.slice(0):a.slice(0,a.length-1|0);var e=l(d);if(e!==0)return a;else{e=d.concat([8205,b]);d=c===0;if(d)return e;else return e.concat([c])}}else return a}function a(a){return n(a,9792)}function c(a){return m(b("SkinToneEmoji.bs").removeTone(a))}function d(a){return g(b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a))))}function e(a){a=b("EmojiFormat.bs").codeArrayToCodeString(m(b("SkinToneEmoji.bs").removeTone(a)));switch(a){case"1f46a":case"1f48f":case"1f491":return!0;default:return!1}}var o=65039,p=9792,q=9794,r=8205;f.emoji_modifier_code=o;f.gender_female=p;f.gender_male=q;f.zero_join=r;f.emoji=g;f.getEmojiModifier=h;f.addEmojiModifier=i;f.removeEmojiModifier=j;f.isGenderModifier=k;f.getGender=l;f.removeGender=m;f.applyGender=n;f.makeFemale=a;f.removeAllModifiers=c;f.hasGender=d;f.isBlacklisted=e}),null);
__d("MessengerHotlikeEmoji.bs",[],(function(a,b,c,d,e,f){"use strict";var g="f0000";function a(a){return a===g}f.hotlike_key=g;f.isMessengerHotlike=a}),null);
__d("Utf16",[],(function(a,b,c,d,e,f){a={decode:function(a){switch(a.length){case 1:return a.charCodeAt(0);case 2:return 65536|(a.charCodeAt(0)-55296)*1024|a.charCodeAt(1)-56320;default:return null}},encode:function(a){if(a<65536)return String.fromCharCode(a);else return String.fromCharCode(55296+(a-65536>>10))+String.fromCharCode(56320+a%1024)}};e.exports=a}),null);
__d("MessengerSupportedEmojiUtils",["cx","EmojiImageURL","EmojiLikeConstants","EmojiRenderer","EmoticonEmojiList","FBEmojiAliases","FBEmojiResource","Image.react","MessengerEmojiTransitionMapping.bs","MessengerHotlikeEmoji.bs","MessengerSupportedEmoji","React","SupportedEmoji3","SupportedFacebookEmoji","Utf16","gkx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/_fe0f/g,i=new RegExp("(\r\n|[ \r\n]|s)");a={getSupportedEmojiKey:function(a){__p&&__p();if(!a)return null;var c=null,d=this.parse(a);if(d.length===1&&d[0].length===a.length){a=d[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(h,"")}if(c){d=b("FBEmojiAliases")[c];d&&(c=d.replace(h,""))}return this.isSupportedEmojiKey(c)?c:null},isSupportedEmoji:function(a){return!!this.getSupportedEmojiKey(a)},isSupportedEmojiKey:function(a){if(!a)return!1;if(!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var c=function(a){var c=b("FBEmojiAliases")[a];return c?c.replace(h,""):a}(a);return!!b("SupportedFacebookEmoji")[c]||!!b("SupportedEmoji3")[c]}return!!b("MessengerSupportedEmoji").emoji[a]},isMessengerSupportedEmojiKey:function(a){return!!(a&&b("MessengerSupportedEmoji").emoji[a])},getSupportedEmojiCodesArray:function(a){__p&&__p();if(!a)return null;var c=this.parse(a);if(c.length===1&&c[0].length===a.length){a=c[0].emoji.map(function(a){return b("Utf16").decode(a)});c=a.map(function(a){return a.toString(16)}).join("_").replace(h,"");if(this.isSupportedEmojiKey(c))return a}return null},getEmojiKeyFromCodes:function(a){a=a.map(function(a){return a.toString(16)}).join("_").replace(h,"");var c=b("FBEmojiAliases")[a];return c?c.replace(h,""):a},getClassSizeMap:function(){var a,c=b("EmojiLikeConstants").size;return a={},a[c.XSMALL]="_2560",a[c.SMALL]="_1ifu",a[c.MEDIUM]="_19_r",a[c.LARGE]="_19_s",a},getEmojiMatchObj:function(a){a=this.parse(a,1);if(a.length!==1)return null;var c=a[0].emoji,d=a[0].emoji.map(function(a){return b("Utf16").decode(a)});b("MessengerEmojiTransitionMapping.bs").hasGender(d)&&!b("MessengerEmojiTransitionMapping.bs").getGender(d)&&(d=b("MessengerEmojiTransitionMapping.bs").makeFemale(d));d=d.map(function(a){return a.toString(16)}).join("_").replace(h,"");return{emoji_key:d,emoji_str:c.join(""),is_supported:this.isSupportedEmojiKey(d),offset:a[0].offset,length:a[0].length}},getNewEmojiData:function(a,c){__p&&__p();if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[c];c=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return c==null?null:{emoji:b("React").createElement(b("Image.react"),{className:d,src:c}),emoji_key:a,url:c}},getHotLikeEmojiDataTransition:function(a,c){__p&&__p();if(!a)return null;a=this.getSupportedEmojiKey(a,!0);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);var e=c===b("EmojiLikeConstants").size.MEDIUM?b("EmojiLikeConstants").size.LARGE:c;b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[e];e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return e==null?null:{emoji:b("React").createElement(b("Image.react"),{className:d,src:e}),emoji_key:a,url:e}},getHotLikeEmojiData:function(a,c){__p&&__p();if(!a)return null;a=this.getSupportedEmojiKey(a);if(!a)return null;var d=this.getClassSizeMap();c=this.transferSize(c);var e=c===b("EmojiLikeConstants").size.MEDIUM?b("EmojiLikeConstants").size.LARGE:c;b("EmojiLikeConstants").sizeMap[c]||(c=b("EmojiLikeConstants").size.XSMALL);d=b("joinClasses")(d[c],"_1ift");c=b("EmojiLikeConstants").sizeMap[e];e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)?b("EmojiImageURL").getMessengerURL(a,c):new(b("FBEmojiResource"))(a).getImageURL(c);return e==null?null:{emoji:b("React").createElement(b("Image.react"),{className:d,src:e}),emoji_key:a,url:e}},getEmojiOnlyContents:function(a){__p&&__p();a=a||"";var c=[];while(a.length>0&&a.trim().length>0){var d=i.exec(a),e="";while(d&&d.length&&d.index===0)e+=d[0],a=a.replace(i,""),d=i.exec(a);e.length>0&&c.push({text:e});d=b("EmoticonEmojiList").noncapturingRegexp.exec(a);if(d&&d.index===0){e=b("EmoticonEmojiList").names[d[1]];e=b("EmoticonEmojiList").emote2emojis[e];c.push({emojiKey:e,text:d[1]});a=a.replace(d[1],"")}else{d=this.getEmojiMatchObj(a);if(d&&d.is_supported)c.push({emojiKey:d.emoji_key,text:d.emoji_str}),a=a.replace(d.emoji_str,"");else return null}}return c},getUrl:function(a,c){a=a.replace(h,"");c=this.transferSize(c);if(b("gkx")("678639")&&!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(a)){var d=b("FBEmojiAliases")[a];d&&(a=d.replace(h,""));return!this.isSupportedEmojiKey(a)?null:new(b("FBEmojiResource"))(a).getImageURL(b("EmojiLikeConstants").sizeMap[c])}return!b("MessengerSupportedEmoji").emoji[a]?null:b("EmojiImageURL").getMessengerURL(a,b("EmojiLikeConstants").sizeMap[c])},containsEmoji:function(a){return this.parse(a,1).length===1},parse:function(a,c){return b("EmojiRenderer").parse(a,c)},transferSize:function(a){return b("EmojiLikeConstants").sizeMapTransfer[a]||a}};e.exports=a}),null);
__d("P2PTriggersUtils",["P2PGKValues"],(function(a,b,c,d,e,f){var g=/\$((\d{1,3}(,\d{3})*)|\d+)(\.\d{1,2})?(?=\s|\.\s|\,\s|$|\.$|\,$|\?|\!|\")/;a={canSeeTriggers:function(a){return!b("P2PGKValues").P2PEnabled?!1:!0},getMatches:function(a){return a.match(g)}};e.exports=a}),null);
__d("RedditLinkMatcher",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("(^|\\s)(\\/[ru]\\/\\w{1,21})(?:\\b)","i");a=function(a){a=g.exec(a);return a===null?null:{lnk:a[2],idx:a.index+a[1].length}};b=function(a){return g.exec(a)!==null};c={match:a,isMatch:b};e.exports=c}),null);
__d("RedditLinkRanges",["RedditLinkMatcher","UnicodeUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={REDDIT_PREFIX:"https://reddit.com",get:function(a,c){__p&&__p();c===void 0&&(c=0);c=c;var d=a.substr(c),e=b("RedditLinkMatcher").match(d);if(!e)return[];var f=e.lnk;e=e.idx;d=b("UnicodeUtils").strlen(d.substr(0,e));c+=d;e="";switch(f[1].toLowerCase()){case"r":e=this.REDDIT_PREFIX+f;break;case"u":e=this.REDDIT_PREFIX+f;break;default:return[]}d=f.length;f=[{offset:c,length:d,entity:{url:e}}];return f.concat(this.get(a,c+d))}};e.exports=a}),null);
__d("TextWithEntitiesMetadataType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,CONCEPT:1,INTENT:2})}),null);
__d("getURLRanges",["UnicodeUtils","URI","URLScraper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=[],d=0;while(!0){var e=a.substr(d),f=b("URLScraper").match(e);if(!f)break;var g=f;/^[a-z][a-z0-9\-+.]+:\/\//i.test(f)||(g="http://"+f);if(!b("URI").isValidURI(g))break;var h=e.indexOf(f);e=b("UnicodeUtils").strlen(e.substr(0,h));d+=e;h=f.length;c.push({offset:d,length:f.length,entity:{url:g}});d+=h}return c}e.exports=a}),null);
__d("shouldAddMRefParam",["isFacebookURI"],(function(a,b,c,d,e,f){a=function(a){if(!b("isFacebookURI")(a)||a.getFragment())return!1;return/^\/events\//.test(a.getPath())?!0:!1};e.exports=a}),null);
__d("MercuryMessageBody.react",["cx","fbt","BootloadedComponent.react","CurrentUser","DateConsts","EmojiRenderer","EmoticonEmojiList","EmoticonsList","EventRemindersGating","EventReminderStateStore","JSResource","Link.react","LinkRanges","MercuryIDs","MercuryMessageRenderLocations","MessengerContactActions.bs","MessengerFormattingUtils","MessengerMathUtils","MessengerSupportedEmojiUtils","MessengerTextWithEntities.react","P2PTriggersUtils","React","RedditLinkMatcher","RedditLinkRanges","TextWithEntities.react","TextWithEntitiesMetadataType","UnicodeUtils","URI","URLMatcher","emptyFunction","getURLRanges","gkx","ifRequired","requireWeak","shouldAddMRefParam"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LinkRanges").module;b("MessengerContactActions.bs").actions;a=b("React").PropTypes;var j=function(){j=b("emptyFunction"),b("ifRequired")("ChatAppActions",function(a){a.setInitialDisplayDone()})};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.interpolator=function(a,c){__p&&__p();if(c.className)return b("React").createElement("span",{className:c.className},a);if(c.math)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),body:d.$4(a),fallbackBody:a,inline:!0,stripDelimiters:!0,className:"_1e4d _1e4e"});if(c.id){var e={};!b("CurrentUser").isWorkUser()&&!d.props.isFromViewer&&d.props.threadCustomColor&&(e.color=d.props.threadCustomColor);var f=d.props.onContactSelect,g=d.props.threadID?b("MercuryIDs").getThreadFBIDFromThreadID(d.props.threadID)===c.id:!1,h=new(b("URI"))("/ajax/hovercard/user.php").setQueryData({id:c.id}),i=b("gkx")("678279");h=b("React").createElement(b("Link.react"),{className:"_ih-"+(b("CurrentUser").isWorkUser()&&c.id===b("CurrentUser").getID()?" _1zle":""),href:g?"#":c.url,"data-hovercard":i?h:null,style:e,onClick:f&&!g?function(a){d.$3(f,c,a)}:b("emptyFunction")},a);!g&&f&&!i&&(typeof a==="string"&&(c.contactName=a&&a.replace("@","")),h=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerAvatarActions.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:h,avatar:h,contact:c,showSendMessageItem:!0,onAction:d.props.onContactSelect}));return h}if(c.formatter){e=c.formatter;g=c.recursivelyFormat?d.renderBody(c.innerText,!0,c.innerOffset):c.innerText;return b("React").createElement(e,{range:c},g)}if(c.entity&&c.entity.url){i=new(b("URI"))(c.entity.url.replace(/#+$/,""));b("shouldAddMRefParam")(i)&&i.addQueryData({__mref:"mb"});h=i.toString();if(b("URI").isValidURI(h))return b("React").createElement(b("Link.react"),{href:{url:h,shimhash:c.entity.shimhash},s:c.entity.s,target:"_blank"},a);else return a}if(!c.entity&&c.id===void 0){e=typeof c.type==="number"?c.type:b("TextWithEntitiesMetadataType")[c.type];switch(e){case b("TextWithEntitiesMetadataType").NONE:return b("React").createElement("span",{className:"_2y9",title:JSON.stringify(c.data)},a);case b("TextWithEntitiesMetadataType").CONCEPT:return d.renderConceptMetadata(a,c.data);case b("TextWithEntitiesMetadataType").INTENT:return d.renderIntentMetadata(a,c.data);default:return a}}return a};d.state=d.parseMessageBody(c);return d}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){(this.props.body!==a.body||this.props.metaRanges!==a.metaRanges||this.props.ranges!==a.ranges)&&this.setState(this.parseMessageBody(a))};d.parseMessageBody=function(a){__p&&__p();var c=(a.body||"").replace(/\s+$/,""),d=this.$1(a.metaRanges||[]);d={normalizedBody:c,isEncrypted:!1,isMathBlock:!1,isRichText:!1,ranges:[],filteredMetaRanges:d};if(c.length===0)return d;if(c.startsWith("?OTR")){d.isEncrypted=!0;return d}if(b("MessengerMathUtils").isMathBlock(c)){d.isMathBlock=!0;return d}var e=a.ranges,f=a.metaRanges;f=e&&e.length||f&&f.length||b("EmoticonsList").noncapturingRegexp.test(c)||b("EmojiRenderer").containsEmoji(c)||b("URLMatcher").match(c)||i&&i.hasMatch(c)||b("RedditLinkMatcher").isMatch(c)||this.$2(c,a)||b("MessengerSupportedEmojiUtils").containsEmoji(c)||b("EmoticonEmojiList").noncapturingRegexp.test(c)||b("MessengerFormattingUtils").hasMatch(c)||b("MessengerMathUtils").hasInlineMath(c);if(!f)return d;d.isRichText=!0;e&&e.length===1&&e[0].className==="__in"&&(e=b("getURLRanges")(c).concat(e));e=e||[];e.forEach(function(a){if(a.id){var d=c.substring(0,a.offset);a.offset=b("UnicodeUtils").strlen(d)}});e=e.concat(b("getURLRanges")(c));i&&(e=e.concat(i.get(c)));e=e.concat(b("RedditLinkRanges").get(c));e=e.concat(b("MessengerFormattingUtils").getRanges(c));e=e.concat(b("MessengerMathUtils").getInlineMathRanges(c));d.ranges=e.filter(function(a){return a!=void 0});return d};d.hasFormatting=function(){return this.state.isRichText||this.state.isMathBlock||this.state.isEncrypted};d.$3=function(a,b,c){c.preventDefault()};d.$4=function(a){if(this.props.isFromViewer)return"\\color{#fff}{"+b("MessengerMathUtils").getMathBlockInner(a)+"}";else return b("MessengerMathUtils").getMathBlockInner(a)};d.renderConceptMetadata=function(a,b){if(!b)return a;return b.intent_name||b.name?this.renderIntentMetadata(a,b):a};d.renderIntentMetadata=function(a,c){__p&&__p();if(!c)return a;var d=c.intent_name||c.name;switch(d){case"request_time":return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ServicesVerticalRequestTimeTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});case"timestamp":if(this.$5(c.value)&&b("EventRemindersGating").shouldShowTriggerWords)if(this.props.renderLocation===b("MercuryMessageRenderLocations").CHAT)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});else if(this.props.renderLocation===b("MercuryMessageRenderLocations").MESSENGER)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerEventPlanTriggers.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null,a),data:c,text:a,threadID:this.props.threadID});return a;default:return a}};d.renderIntentCTA=function(a){__p&&__p();if(a){var c=a.intent_name||a.name;switch(c){case"create_event":b("requireWeak")("EventReminderActionsLogger",function(a){a.logTriggerOnTriggerCTA()});c=this.props.threadID;var d=c&&this.$5(a.timestamp)&&b("EventReminderStateStore").shouldShowCTA(c,a.confidence);if(!d)return null;if(this.props.renderLocation===b("MercuryMessageRenderLocations").CHAT)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ChatEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null),data:a,threadID:c});else if(this.props.renderLocation===b("MercuryMessageRenderLocations").MESSENGER)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerEventPlanCTA.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("span",null),data:a,threadID:c})}}return null};d.renderCTAs=function(a){var c=null;if(a.length>0){a=a[0]||{};var d=typeof a.type==="number"?a.type:b("TextWithEntitiesMetadataType")[a.type];switch(d){case b("TextWithEntitiesMetadataType").CONCEPT:case b("TextWithEntitiesMetadataType").INTENT:c=this.renderIntentCTA(a.data);break}}return c};d.renderBody=function(a,c,d){__p&&__p();c===void 0&&(c=!1);d===void 0&&(d=0);var e=this.state,f=e.isRichText,g=e.ranges;e=e.filteredMetaRanges;var h=b("UnicodeUtils").strlen(a);if(!f)return b("React").createElement("span",{className:this.props.className},a);c&&(g=g.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+h}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}),e=e.filter(function(a){return a.offset>=d&&a.offset+a.length<=d+h}).map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-d})}));f={className:this.props.className,interpolator:this.interpolator,metaRanges:e,ranges:g,renderEmoji:!0,renderEmoticons:!0,text:a};if(this.$2(a)){e=b("React").createElement(b("TextWithEntities.react"),f);return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadPlaceholder:e,bootloadLoader:b("JSResource")("TextWithEntitiesAndP2P.react").__setRef("MercuryMessageBody.react")},f,{getMessengerEmote:this.$6,isSupportedEmoji:this.$7,threadID:this.props.threadID}))}g=b("React").createElement(b("MessengerTextWithEntities.react"),f);if(c)return g;a=this.renderCTAs(this.props.metaRanges||[]);return!a?g:b("React").createElement("span",null,g,a)};d.render=function(){__p&&__p();var a=this.state,c=a.normalizedBody,d=a.isEncrypted;a=a.isMathBlock;if(c.length===0)return null;j();if(this.props.plainText)return b("React").createElement("span",null,c);else if(d)return b("React").createElement("span",{className:"_89h"},h._("[message chiffr\u00e9]"));else if(a)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("MessengerMath.react").__setRef("MercuryMessageBody.react"),bootloadPlaceholder:b("React").createElement("div",null,c),body:this.$4(c),fallbackBody:c,stripDelimiters:!0,className:"_1e4d"});else return this.renderBody(c)};d.$7=function(a){return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)};d.$6=function(a){a=b("EmoticonEmojiList").emote2emojis[a];return b("MessengerSupportedEmojiUtils").isSupportedEmojiKey(a)?a:null};d.$5=function(a){a=new Date(a*b("DateConsts").MS_PER_SEC);var c=new Date(Date.now()+5*b("DateConsts").MS_PER_MIN),d=new Date(new Date().setFullYear(new Date().getFullYear()+1));return a>c&&a<d};d.$1=function(a){var b=a.filter(function(a){return a.data&&(a.data.intent_name==="create_event"||a.data.name==="create_event")});return b.length!==0?b:a};d.$2=function(a,c){c===void 0&&(c=this.props);return!!(c.threadID&&b("P2PTriggersUtils").canSeeTriggers(c.threadID)&&b("P2PTriggersUtils").getMatches(a))};return c}(b("React").PureComponent);c.propTypes={body:a.string,customLike:a.object,isFromViewer:a.bool,metaRanges:a.array,ranges:a.array,threadCustomColor:a.string,threadID:a.string,onContactSelect:a.func,renderLocation:a.oneOf([b("MercuryMessageRenderLocations").CHAT,b("MercuryMessageRenderLocations").MESSENGER,b("MercuryMessageRenderLocations").PAGES])};e.exports=c}),null);
__d("MercuryErrorInfo",["fbt","MercuryErrorType","MessengerMessage.bs"],(function(a,b,c,d,e,f,g){var h={getMessage:function(a){var b="";h.isConnectionError(a)?(b=g._("Ce message n\u2019a pas \u00e9t\u00e9 envoy\u00e9.").toString(),h.isTransient(a)&&(b=g._("{message} V\u00e9rifiez votre connexion Internet et cliquez pour r\u00e9essayer.",[g._param("message",b)]).toString())):(a&&a.description?b=a.description:b=g._("Le message n\u2019a pas pu \u00eatre envoy\u00e9.").toString(),h.isTransient(a)&&(b=g._("{message} Cliquez pour renvoyer.",[g._param("message",b)]).toString()));return b},isConnectionError:function(a){return a&&a.type==b("MercuryErrorType").TRANSPORT?a.code===1001||a.code===1004||a.code===1006:!1},isTransient:function(a){return a&&a.is_transient},isPermanent:function(a){return a?!this.isTransient(a):!1},hasErrorStatus:function(a){return b("MessengerMessage.bs").hasError(a)}};e.exports=h}),null);
__d("MercurySendMessageFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"})}),null);
__d("MercuryMessageObject",["BanzaiODS","MercuryActionStatus","MercuryActionType","MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercuryMessageSourceTags","MercurySendMessageFields","MercurySingletonProvider","MercurySourceType","MessengerObjectAssociationType","MessengerState.bs","RepliedToMessageStatusForGraphQL","SiteData"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();a.getForFBID=function(a){return i.getForFBID(a)};a.get=function(){return i.get()};function a(a){this.$1=a}var c=a.prototype;c.constructHotLikeObject=function(a,c,d,e,f){c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={body:a,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructPhotoMessageObject=function(a,c,d,e,f){c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={replied_to_message:a?{message:a,status:b("RepliedToMessageStatusForGraphQL").VALID}:void 0,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructTextMessageObject=function(a,c,d,e,f,h,i,j,k){h=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,h,i);i=f.params&&f.type;var l=c.length>0;a={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",replied_to_message:d?{message:d,status:b("RepliedToMessageStatusForGraphQL").VALID}:void 0,has_attachment:i||l,raw_attachments:l?c:void 0,shareable_attachment:i?{share_params:f.params.get("data"),share_type:f.type}:void 0,profile_ranges:e,profile_xmd:e,html_body:!1,attachments:[],specific_to_list:[],creator_info:void 0,tags:j||[],signatureID:k,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},h,a)};c.constructUserGeneratedMessageObject=function(a,c,d,e,f,h){c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:!1,html_body:!1,attachments:[],specific_to_list:e||[],creator_info:f,tags:h||[]};return babelHelpers["extends"]({},c,d)};c.constructStickerMessageObject=function(a,c,d,e,f){c=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,c,d);d={has_attachment:!0,html_body:!1,attachments:[],sticker_id:a,specific_to_list:[],tags:e||[],signatureID:f,ui_push_phase:b("SiteData").push_phase};return babelHelpers["extends"]({},c,d)};c.constructAttachmentMessageObject=function(a,c){a=g(this.$1,b("MercuryActionType").USER_GENERATED_MESSAGE,a,c);c={attachments:[],specific_to_list:[]};return babelHelpers["extends"]({},a,c)};c.constructLogMessageObject=function(a,c,d,e){a=g(this.$1,b("MercuryActionType").LOG_MESSAGE,a,c);c={log_message_type:d,log_message_data:e,ephemeral_ttl_mode:e&&e.untypedData&&e.untypedData.ttl};return babelHelpers["extends"]({},a,c)};c.constructCTAConfirmationMessageObject=function(a,b,c,d,e,f){a=this.constructUserGeneratedMessageObject(a,b,c,null,null,e);b=d?{quick_replies:d,ignore_for_webhook:!1}:{ignore_for_webhook:!0};f&&(b.postback_data=JSON.stringify(f));return babelHelpers["extends"]({},a,{platform_xmd:JSON.stringify(b)})};c.normalizeNewMessage=function(a){__p&&__p();a.status===void 0&&(a.status=b("MercuryActionStatus").UNSENT);a.offline_threading_id=a.offline_threading_id||b("MercuryLocalIDs").generateOfflineThreadingID(a.timestamp);a.offline_threading_id||b("BanzaiODS").bumpEntityKey("chat.web","invalid_otid_generated");a.message_id=a.message_id||a.offline_threading_id;var c=b("MercuryIDs").getParticipantIDFromUserID(this.$1);a.specific_to_list=a.specific_to_list||[];a.specific_to_list.length&&a.specific_to_list.indexOf(c)===-1&&a.specific_to_list.push(c);var d=!1;if(!a.thread_id)a.thread_id="root:"+a.offline_threading_id;else{var e,f=b("MessengerState.bs").getThreadMetaNow(this.$1,a.thread_id);f&&f.ephemeral_ttl_mode!==null&&a.ephemeral_ttl_mode===void 0&&(a.ephemeral_ttl_mode=f.ephemeral_ttl_mode);((e=f)!=null?(e=e.associated_object)!=null?e.name:e:e)&&((e=f)!=null?e.object_association_type:e)===b("MessengerObjectAssociationType").GENERAL_CHAT&&(d=!0)}if(!d)if(a.specific_to_list.length==1)a.thread_id="user:"+this.$1;else if(a.specific_to_list.length==2){f=a.specific_to_list[0]==c?a.specific_to_list[1]:a.specific_to_list[0];a.thread_id=b("MercuryIDs").getThreadIDFromParticipantID(f)}if(!a.specific_to_list.length){e=b("MercuryIDs").tokenize(a.thread_id);d=e.type;f=e.value;d=="user"&&(a.specific_to_list=["fbid:"+f,c])}a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]||(a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]=0)};c.normalizeResendMessage=function(a){a.status=b("MercuryActionStatus").RESENDING,a.timestamp=Date.now(),a[b("MercurySendMessageFields").MANUAL_RETRY_CNT]+=1};c.normalizeAddAttachmentPlaceholder=function(a,c,d){d.preview_attachments.length>0&&(a.has_attachment=!0,a.preview_attachments=d.preview_attachments),a.client_state=b("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER,a.status=b("MercuryActionStatus").RESENDING,a.upload_id=c};return a}();function g(a,c,d,e){var f=h(d)?[b("MercuryMessageSourceTags").CHAT]:[],g=Date.now();c={action_type:c,thread_id:e,author:b("MercuryIDs").getParticipantIDFromUserID(a),author_email:null,timestamp:g,is_unread:!1,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_spoof_warning:!1,source:d,source_tags:f};return c}function h(a){switch(a){case b("MercurySourceType").CHAT_WEB:case b("MercurySourceType").CHAT_JABBER:case b("MercurySourceType").CHAT_IPHONE:case b("MercurySourceType").CHAT_MEEBO:case b("MercurySourceType").CHAT_ORCA:case b("MercurySourceType").CHAT_TEST:case b("MercurySourceType").CHAT:return!0;default:return!1}}var i=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MercuryMessageActions",["AsyncRequest","Bootloader","MercuryActionType","MercuryDispatcher","MercuryMessageObject","MercuryPayloadSource","MercuryServerRequests","MercurySingletonMixin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a,this.$2=b("MercuryMessageObject").getForFBID(this.$1),this.__serverRequests=b("MercuryServerRequests").getForFBID(this.$1),this.__dispatcher=b("MercuryDispatcher").getForFBID(this.$1)}var c=a.prototype;c.send=function(a,c,d){this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),b("MercuryPayloadSource").CLIENT_SEND_MESSAGE)),this.__serverRequests.sendNewMessage(a,d),c!=null&&c(a.thread_id)};c.resend=function(a,b){a=babelHelpers["extends"]({},a);this.$2.normalizeResendMessage(a);this.send(a,void 0,b)};c.addAttachmentPlaceholder=function(a,c,d){this.$2.normalizeAddAttachmentPlaceholder(a,c,d),this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};c.cancelAttachmentPlaceholder=function(a,c){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:c,action_type:b("MercuryActionType").CANCEL_ATTACHMENT_PLACEHOLDER},b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};c.confirmAttachmentPlaceholder=function(a,c){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:c,action_type:b("MercuryActionType").CONFIRM_ATTACHMENT_PLACEHOLDER},b("MercuryPayloadSource").CLIENT_SEND_MESSAGE))};c["delete"]=function(a,c,d){this.__dispatcher.handleUpdate(this.$3(a,c,b("MercuryActionType").DELETE_MESSAGES,d||b("MercuryPayloadSource").CLIENT_DELETE_MESSAGES))};c.changeSaveStatus=function(a,c,d){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({thread_id:a.thread_id,messageId:a.message_id,tags_to_add:c?["message:save"]:[],tags_to_delete:c?[]:["message:save"],action_type:b("MercuryActionType").MUTATE_TAGS},d||b("MercuryPayloadSource").CLIENT_CHANGE_SAVED_MESSAGE_STATUS)),b("Bootloader").loadModules(["XMessengerDotComSaveController","SavedStateActions","CollectionsDisplaySurface","CollectionCurationMechanisms","WorkChatSavedMessagesTypedLogger","SavedMessagesEvent"],function(d,e,f,g,h,i){new(b("AsyncRequest"))().setURI(d.getURIBuilder().getURI()).setData({action:c?e.SAVE:e.UNSAVE,surface:f.MESSENGER_DOT_COM_MESSAGE,mechanism:g.RIGHT_CLICK,message_id:a.message_id}).setHandler(function(){new h().setEvent(c?i.SAVE:i.UNSAVE).setThreadID(a.thread_id).setMessageID(a.message_id).log()}).send()},"MercuryMessageActions")};c.__constructClientSingleMessagePayload=function(a,b){return{actions:[a],from_client:!0,payload_source:b}};c.$4=function(a,b){return{actions:[a],from_client:!1,payload_source:b}};c.$3=function(a,b,c,d){return{actions:[{action_type:c,thread_id:a,message_ids:b}],from_client:!0,payload_source:d}};return a}();c=Object.assign(a,b("MercurySingletonMixin"),{_instances:{}});e.exports=c}),null);
__d("MercuryMessageError.react",["cx","CurrentUser","Link.react","MercuryErrorInfo","MercuryMessageActions","React","ServerHTML.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.messageResend=function(a){a.stopPropagation();a=d.props.message;a=a.error_data;b("MercuryErrorInfo").isTransient(a)&&b("MercuryMessageActions").getForFBID(d.props.authorFBID).resend(d.props.message)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.message,c=a.error_data;return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,{href:"#",className:b("joinClasses")(this.props.className,this.$1(a)),tabIndex:b("MercuryErrorInfo").isTransient(c)?0:null,onClick:this.messageResend}),b("React").createElement("i",{className:"_2fs1"}),b("React").createElement(b("ServerHTML.react"),{className:"_61ag",blob:this.$2(a)}))};d.$1=function(a){if(b("MercuryErrorInfo").hasErrorStatus(a))return"_2fs2 _2fs3"+(b("MercuryErrorInfo").isTransient(a.error_data)?" _2fs4":"")+(b("MercuryErrorInfo").isPermanent(a.error_data)?" _2fs5":"");else return"_2fs6 _2fs2"};d.$2=function(a){var c="",d=a.error_data;if(b("MercuryErrorInfo").hasErrorStatus(a)){a=b("MercuryErrorInfo").getMessage(d);a&&(c=a)}return c};return c}(b("React").Component);c.propTypes={authorFBID:a.string,message:a.object.isRequired};c.defaultProps={authorFBID:b("CurrentUser").getID()};e.exports=c}),null);
__d("MercuryAudioPlayer",["Arbiter","DOM","Event","Flash"],(function(a,b,c,d,e,f){__p&&__p();var g=200;function h(){var a=b("DOM").create("audio"),c=!1;try{a.canPlayType&&(a.canPlayType("video/mp4;").replace(/^no$/,"")&&(c=!0))}finally{return c}}function i(){return b("Flash").isAvailable()}var j=function(){this.interval=null,this.arbiterInstance=null,this.audio=b("DOM").create("audio"),b("Event").listen(this.audio,"playing",function(){this.informAttachment("playing",this.audio.currentTime),this.interval=setInterval(function(){this.informAttachment("playing",this.audio.currentTime)}.bind(this),g)}.bind(this)),b("Event").listen(this.audio,"ended",function(){clearInterval(this.interval),this.informAttachment("finished")}.bind(this))};Object.assign(j.prototype,{setAudio:function(a,b){this.audio.setAttribute("src",a),this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.audio.play(),this.informAttachment("played")},resume:function(){this.audio.play(),this.informAttachment("played")},pause:function(){this.audio.pause(),clearInterval(this.interval),this.informAttachment("paused")},getType:function(){return"html5"}});var k=function(){this.src=null;this.arbiterInstance=null;var a=b("DOM").create("div");document.body.appendChild(a);this.swf=b("Flash").embed("/swf/cigars/SoundStreamPlayer.swf",a,null,{});this.interval=null;b("Arbiter").subscribe("soundstream/finished",function(){clearInterval(this.interval),this.informAttachment("finished")}.bind(this))};Object.assign(k.prototype,{setAudio:function(a,b){this.src=a,this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.swf.playSound(this.src),this.interval=setInterval(function(){var a=this.swf.getCurrentTime();this.informAttachment("playing",a)}.bind(this),g),this.informAttachment("played")},resume:function(){this.swf.resume(),this.informAttachment("played")},pause:function(){clearInterval(this.interval),this.swf.pause(),this.informAttachment("paused")},getType:function(){return"flash"}});function l(){if(h())return new j();else if(i())return new k();return!1}var m=null,n=null,o=0;function a(a,b){this.src=a;this.arbiterInstance=b;this.audio_id=++o;m!==null||(m=l());if(!m)return!1}Object.assign(a.prototype,{getType:function(){if(!m)return!1;else return m.getType()},play:function(a){a&&n==this.audio_id?m.resume():(this.pause(),n=this.audio_id,m.setAudio(this.src,this.arbiterInstance),m.play())},pause:function(){m.pause()}});e.exports=a}),null);
__d("messengerCustomColorUtils",["ChatConfig"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c||{};b("ChatConfig").getBool("chat_tab_has_gradients")||(c.backgroundColor=a);return c}e.exports={customBubbleStyle:a}}),null);
__d("MercuryAttachmentAudioClip.react",["cssVar","cx","fbt","Arbiter","ArbiterMixin","CurrentUser","JSLogger","LeftRight.react","Link.react","MercuryAudioPlayer","MercuryShareAttachmentRenderLocations","React","SubscriptionsHandler","WorkModeConfig","joinClasses","messengerCustomColorUtils","shield"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;var j="MercuryAttachmentAudioClip/play",k="progress-bar",l=b("JSLogger").create("mercury_audio_clip");c=b("React").createClass({displayName:"AudioClip",mixins:[b("ArbiterMixin")],propTypes:{customColor:a.string,duration:a.number,isChat:a.bool,isFromViewer:a.bool,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),onAttachmentLoad:a.func,rootClassName:a.string,showHelp:a.bool,src:a.string.isRequired,width:a.number},getInitialState:function(){this.logged=!1;return{time:0,playing:!1,started:!1,duration:this.props.duration,audioPlayer:new(b("MercuryAudioPlayer"))(this.props.src,this)}},componentDidMount:function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad(),this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(this.subscribe("playing",this.updateTime),this.subscribe("played",b("shield")(this.setState,this,{playing:!0,started:!0})),this.subscribe("paused",b("shield")(this.setState,this,{playing:!1})),this.subscribe("finished",b("shield")(this.setState,this,{playing:!1,started:!1,time:this.props.duration})),b("Arbiter").subscribe(j,function(a,b){this.props.src!=b&&this.setState({time:0})}.bind(this)))},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},updateTime:function(a,b){this.setState({time:b})},play:function(){this.state.playing?this.state.audioPlayer.pause():(this.state.audioPlayer.play(this.state.started),b("Arbiter").inform(j,this.props.src),this.logged||(this.logged=!0,l.log("play",{uid:b("CurrentUser").getID(),duration:this.props.duration})))},_formatSeconds:function(a){if(a){a=Math.round(a);var b=a%60;b<10&&(b="0"+b);a=Math.floor(a/60);return a+":"+b}else return null},_renderPlayer:function(a,c,d){var e=this.props.isFromViewer,f=this.props.isChat,g=b("WorkModeConfig").is_work_user,h=d===k,j=f&&e&&!h,l=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER;g=g?"#373e4c":"#4080ff";g=d||g;a={width:a};j&&(a.backgroundColor=g);j=d&&d!==k&&!f?{color:d}:{};g={};h&&(g["aria-disabled"]=!0);return b("React").createElement(b("Link.react"),babelHelpers["extends"]({"aria-label":i._("Message vocal"),className:"_1miz _2e-1"+(l?"":" _3_om")+(e&&f?" _3e5f":""),role:"button",style:a,onClick:this.play},g),b("React").createElement("span",{className:"_1mi- _2e-2"},b("React").createElement("i",{className:"_1mi_ _2e-3"})),b("React").createElement("span",{style:j,className:"_1mj0 _2e-4 _3oh-"},c),b("React").createElement("div",{className:"_1mj1 _2e-5"}))},render:function(){__p&&__p();var a=this.state.time,c=this.state.playing,d=this._formatSeconds(this.state.duration),e=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,f=this.props.width||170;if(e){var g=this.props.duration;g>10?f=240:g>5?f=200:g>2?f=160:f=120}g=null;var h=Math.ceil(a*(f+2)/this.state.duration);e&&(h=Math.ceil(a*(f+24)/this.state.duration));if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var j=this._renderPlayer(f,d,this.props.customColor);f=this._renderPlayer(f,d,k);c="_1mj2 _2e-6"+(c&&a!==0?" _1mj3":"")+(c&&a===0?" _4g4x":"");g=b("React").createElement("div",{className:c},j,b("React").createElement("div",{className:"_1mj4 _2e-7",style:{width:h}},f))}else g=b("React").createElement("div",{className:"_1mj2"},b("React").createElement("div",{className:"_1miz"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("a",{className:"_1mj5",href:this.props.src},b("React").createElement("span",{className:"_3qi6"},b("React").createElement("i",{className:"_1mj6"})),b("React").createElement("span",{className:"_1mj7"},i._("Message vocal")),b("React").createElement("span",{className:"_1mj8"},d)),b("React").createElement("a",{href:this.props.src,className:"_1mj9"},b("React").createElement("i",{className:"_1mja"})))));return b("React").createElement("div",{className:b("joinClasses")("_1mjb"+(e?" _454y":""),this.props.rootClassName)},g)}});e.exports=c}),null);
__d("UFICreatorInfo.react",["cx","fbt","HelpLink.react","Image.react","React","URI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a,c=this.getCreatorLink();switch(this.props.labelType){case"commented":a=h._("Comment\u00e9 par {creator}",[h._param("creator",c)]);break;case"edited_comment":a=h._("Modifi\u00e9 par {creator}",[h._param("creator",c)]);break;case"sent_message":a=h._("Envoy\u00e9 par {creator}",[h._param("creator",c)]);break;case"page_admin_note":a=h._("Article cr\u00e9\u00e9 par {creator}",[h._param("creator",c)]);break;default:return b("React").createElement("span",null)}return b("React").createElement("span",null,a,b("React").createElement(b("HelpLink.react"),{tooltip:this.getHelpText()}))};d.getCreatorLink=function(){switch(this.props.creatorType){case"application":case"gray_account":case"indirect_admin":return b("React").createElement("a",{className:"uiLinkSubtle","data-hover":"tooltip","data-tooltip-content":this.getTooltipText()},this.props.creatorName);case"business_admin":return b("React").createElement("a",{className:"uiLinkSubtle",href:this.props.profileURI},this.props.creatorName);case"direct_admin":return this.getProfileLinkWithHovercard();case"former_admin":return b("React").createElement("span",{className:"uiLinkSubtle"},b("React").createElement(b("Image.react"),{src:"/images/privacy/cant-see.png",width:9,height:9,className:"_3-8_"}),this.getProfileLinkWithHovercard());default:return b("React").createElement("span",{className:"uiLinkSubtle"},this.props.creatorName)}};d.getTooltipText=function(){switch(this.props.creatorType){case"application":return this.getApplicationText();case"gray_account":return this.getGrayAccountText();case"indirect_admin":return this.getIndirectAdminText()}return null};d.getProfileLinkWithHovercard=function(){if(!this.props.profileURI)return b("React").createElement("span",null,this.props.creatorName);var a=new(b("URI"))("/ajax/hovercard/user.php").setQueryData({id:this.props.creatorID}).addQueryData({type:"page_admin",extragetparams:JSON.stringify({directed_target_id:this.props.pageID})});return b("React").createElement("a",{className:"uiLinkSubtle","data-hovercard":a,href:this.props.profileURI},this.props.creatorName)};d.getApplicationText=function(){switch(this.props.labelType){case"commented":return h._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui utilise {application}.",[h._param("application",this.props.creatorName)]);case"edited_comment":return h._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui utilise {application}.",[h._param("application",this.props.creatorName)]);case"sent_message":return h._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {application}.",[h._param("application",this.props.creatorName)]);case"page_admin_note":return h._("Article cr\u00e9\u00e9 par quelqu\u2019un utilisant {application}.",[h._param("application",this.props.creatorName)])}return null};d.getIndirectAdminText=function(){switch(this.props.labelType){case"commented":return h._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un de {page}.",[h._param("page",this.props.creatorName)]);case"edited_comment":return h._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un de {page}.",[h._param("page",this.props.creatorName)]);case"sent_message":return h._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un depuis {page}.",[h._param("page",this.props.creatorName)]);case"page_admin_note":return h._("Article cr\u00e9\u00e9 par quelqu\u2019un de {page}.",[h._param("page",this.props.creatorName)])}return null};d.getGrayAccountText=function(){switch(this.props.labelType){case"commented":return h._("Ceci a \u00e9t\u00e9 comment\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook.");case"edited_comment":return h._("Ceci a \u00e9t\u00e9 modifi\u00e9 par quelqu\u2019un qui n\u2019a pas de compte personnel Facebook.");case"sent_message":return h._("Ceci a \u00e9t\u00e9 envoy\u00e9 par quelqu\u2019un qui ne poss\u00e8de pas de compte Facebook.");case"page_admin_note":return h._("Article cr\u00e9\u00e9 par quelqu\u2019un qui n\u2019a pas de compte Facebook personnel.")}return null};d.getHelpText=function(){switch(this.props.labelType){case"commented":return h._("Seuls les gestionnaires de cette Page peuvent voir qui a publi\u00e9 un commentaire");case"edited_comment":return h._("Seuls les gestionnaires de cette Page peuvent voir qui a modifi\u00e9 un commentaire");case"sent_message":return h._("Seuls ceux qui administrent cette Page peuvent voir qui a envoy\u00e9 un message");case"page_admin_note":return h._("Seules les personnes qui administrent cette Page peuvent voir la personne qui a cr\u00e9\u00e9 une note")}return null};return c}(b("React").Component);c.propTypes={creatorID:a.string.isRequired,creatorType:a.string.isRequired,creatorName:a.string.isRequired,labelType:a.string.isRequired,pageID:a.string.isRequired,profileURI:a.string};e.exports=c}),null);
__d("PagesMessengerCreatorInfo.react",["cx","React","UFICreatorInfo.react","XUIGrayText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIGrayText.react"),{className:"_ajk"+(this.props.isNote?" _45l2":""),display:"inline",shade:"light",size:"meta1"},b("React").createElement(b("UFICreatorInfo.react"),{creatorID:this.props.creator_info.creatorID,creatorType:this.props.creator_info.creatorType,creatorName:this.props.creator_info.creatorName,labelType:this.props.creator_info.labelType,pageID:this.props.creator_info.pageID,profileURI:this.props.creator_info.profileURI}))};return c}(b("React").Component);c.propTypes={creator_info:a.shape({creatorID:a.string.isRequired,creatorName:a.string.isRequired,creatorType:a.string.isRequired,labelType:a.string.isRequired,pageID:a.string.isRequired,profileURI:a.string}).isRequired};e.exports=c}),null);
__d("PhotoResizeMath",[],(function(a,b,c,d,e,f){a={getScaledPhotoDimensions:function(a,b,c,d,e){var f=a/b,g=c/d;if(c&&d&&e==="stretch")return{width:c,height:d};if(!c&&d||e==="contain"!==f>=g)return{width:d*f,height:d};return c?{width:c,height:c/f}:{width:a,height:b}}};e.exports=a}),null);
__d("PixelzFocus",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={search:function(a,b){__p&&__p();var c=0,d=a.length-1;while(c<=d){var e=c+Math.floor((d-c)/2),f=a[e];if(f>b)d=e-1;else if(f<b)c=e+1;else return e}return Math.min(c,d)},forceSpecificPoint:function(a,b,c){var d=1e-9;d=g.search(a,b-c-d)+1;b=g.search(a,b+c);return a.slice(d,b+1)},findBiggestSets:function(a,b){var c=[],d=-1;for(var e=0;e<a.length;++e){var f=a[e],h=e;f=g.search(a,f+b);var i=f-h;i>d&&(c=[]);i>=d&&(d=i,c.push({low:h,high:f}))}return c},getBestSet:function(a,b,c){var d=-1,e=null;for(var f=0;f<b.length;++f){var g=b[f],h=a[g.low],i=a[g.high],j=h+(i-h)/2;h=Math.min(h-(j-c),j+c-i);h>d&&(d=h,e=g)}return e},getFocusFromSet:function(a,b){var c=a[b.low];a=a[b.high];return c+(a-c)/2},clampFocus:function(a,b){var c=b/2;b=1-b/2;if(a<c)return c;return a>b?b:a},convertFromCenterToCSS:function(a,b){return Math.abs(1-b)<1e-5?0:(a-b/2)/(1-b)},convertFromCSSToCenter:function(a,b){return a*(1-b)+b/2},getVisible:function(a,b){return a<b?a/b:b/a},getHidden:function(a,b){return 1-g.getVisible(a,b)},focusHorizontally:function(a,b){return a<b},convertVectorFromCenterToCSS:function(a,b,c){var d=g.focusHorizontally(b,c),e;d?e=a.x/100:e=a.x/100;a=g.convertFromCenterToCSS(e,g.getVisible(b,c));if(d)return{x:a,y:0};else return{x:0,y:a}},getCropRect:function(a,b,c){var d=g.focusHorizontally(b,c);b=g.getVisible(b,c);if(d){c=(1-b)*a.x;return{left:c,top:0,width:b,height:1}}else{d=(1-b)*a.y;return{left:0,top:d,width:1,height:b}}}};e.exports=g}),null);
__d("loadImage",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c=new Image();c.onload=function(){b(c.width,c.height,c)};c.src=a}a.loadImagePromise=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onerror=c;d.onload=function(){return b(d)};d.src=a})};e.exports=a}),null);
__d("Pixelz.react",["cx","PhotoResizeMath","PixelzFocus","React","joinClasses","loadImage"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"Pixelz",propTypes:{width:a.number,height:a.number,resizeMode:a.oneOf(["contain","cover","stretch"]),alt:a.string,letterbox:a.bool,borderRadius:a.number,insetBorderColor:a.string,animated:a.bool,upscale:a.bool,cropRect:function(a,b,c){a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected a rectangle with values normalized between 0 and 1.";if(a.left<0||a.top<0||a.width<0||a.height<0||a.left+a.width>1||a.top+a.height>1)return new Error(b)},focus:function(a,b,c){__p&&__p();a=a[b];b="Invalid prop `"+b+"` supplied to `"+c+"`, expected either a {x, y, type} vector where type is `css` or `center` or an array of {x, y} vectors. All the vectors have with values normalized between 0 and 1.";if(Array.isArray(a)){for(var c=0;c<a.length;++c)if(!(a[c].x>=0&&a[c].x<=1)||!(a[c].y>=0&&a[c].y<=1))return new Error(b)}else{a.type||(a.type="css");if(!(a.x>=0&&a.x<=1)||!(a.y>=0&&a.y<=1)||!["center","css"].includes(a.type))return new Error(b)}}},getDefaultProps:function(){return{resizeMode:"cover",alt:"",letterbox:!0,upscale:!0,cropRect:{width:1,height:1,top:0,left:0},focus:{x:.5,y:.5,type:"css"}}},getInitialState:function(){return{srcDimensions:{}}},getSrcDimensions:function(){var a=this.props.src,c=this.state.srcDimensions[a];if(c)return c;b("loadImage")(a,function(b,c){var d={};d[a]={width:b,height:c};this.isMounted()&&this.setState({srcDimensions:d})}.bind(this));return null},getCropSrcDimensions:function(){var a=this.getSrcDimensions();return{width:a.width*this.props.cropRect.width,height:a.height*this.props.cropRect.height}},getUpscaleCropDimensions:function(){var a=this.getCropSrcDimensions();return b("PhotoResizeMath").getScaledPhotoDimensions(a.width,a.height,this.props.width,this.props.height,this.props.resizeMode)},getCropDimensions:function(){var a=this.getUpscaleCropDimensions(),b=this.getCropSrcDimensions();return!this.props.upscale?{width:Math.min(a.width,b.width),height:Math.min(a.height,b.height)}:a},getCropAspectRatio:function(){var a=this.getCropDimensions();return a.width/a.height},getContainerDimensions:function(){return this.props.letterbox&&this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getCropDimensions()},getContainerAspectRatio:function(){var a=this.getContainerDimensions();return a.width/a.height},getContainerPosition:function(){return{left:0,top:0}},getFocus:function(){__p&&__p();var a=this.props.focus;if(!Array.isArray(a)&&a.type==="css")return{x:a.x,y:a.y};var c=this.getContainerAspectRatio(),d=this.getCropAspectRatio(),e=b("PixelzFocus").getVisible(c,d),f=b("PixelzFocus").focusHorizontally(c,d);if(!Array.isArray(a))c=b("PixelzFocus").convertFromCenterToCSS(f?a.x:a.y,e);else{d=a.map(function(a){return f?a.x:a.y});d.sort();a=b("PixelzFocus").findBiggestSets(d,e);a=b("PixelzFocus").getBestSet(d,a,e);c=b("PixelzFocus").getFocusFromSet(d,a)}return{x:f?c:.5,y:f?.5:c}},getCropPosition:function(){var a=this.getCropDimensions(),b=this.getContainerDimensions(),c=this.getFocus();return{left:c.x*(b.width-a.width),top:c.y*(b.height-a.height)}},getScaleDimensions:function(){var a=this.getCropDimensions();return{width:a.width/this.props.cropRect.width,height:a.height/this.props.cropRect.height}},getScalePosition:function(){var a=this.getScaleDimensions();return{left:-a.width*this.props.cropRect.left,top:-a.height*this.props.cropRect.top}},getClipCropRectangle:function(){var a=this.getContainerDimensions(),b=this.getCropDimensions(),c=this.getContainerPosition(),d=this.getCropPosition(),e=Math.max(c.left,d.left),f=Math.max(c.top,d.top),g=Math.min(c.top+a.height,d.top+b.height);c=Math.min(c.left+a.width,d.left+b.width);return{left:e,top:f,width:c-e,height:g-f}},getClipCropPosition:function(){var a=this.getClipCropRectangle();return{left:a.left,top:a.top}},getClipCropDimensions:function(){var a=this.getClipCropRectangle();return{width:a.width,height:a.height}},getClipScalePosition:function(){var a=this.getScalePosition(),b=this.getClipCropPosition(),c=this.getCropPosition();return{left:a.left+(c.left-b.left),top:a.top+(c.top-b.top)}},getClipScaleDimensions:function(){return this.getScaleDimensions()},areDimensionsEqual:function(a,b){return a.width===b.width&&a.height===b.height},shouldAddAllNodesAndStyles:function(){return this.props.animated},hasCrop:function(){if(this.shouldAddAllNodesAndStyles())return!0;var a=this.getContainerDimensions(),b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)||this.areDimensionsEqual(b,c)?!1:!0},hasContainer:function(){if(this.shouldAddAllNodesAndStyles()||this.hasInsetBorder())return!0;var a=this.getContainerDimensions(),b=this.getClipScaleDimensions();return this.areDimensionsEqual(a,b)?!1:!0},hasInsetBorder:function(){return this.shouldAddAllNodesAndStyles()||this.props.insetBorderColor},applyPositionStyle:function(a,b){(this.shouldAddAllNodesAndStyles()||b.left)&&(a.left=Math.round(b.left)),(this.shouldAddAllNodesAndStyles()||b.top)&&(a.top=Math.round(b.top))},applyDimensionsStyle:function(a,b){a.width=Math.round(b.width),a.height=Math.round(b.height)},applyBorderRadiusStyle:function(a){(this.shouldAddAllNodesAndStyles()||this.props.borderRadius)&&(a.borderRadius=this.props.borderRadius||0)},getScaleStyle:function(){var a={},b=this.getClipCropDimensions(),c=this.getClipScaleDimensions();this.shouldAddAllNodesAndStyles()||!this.areDimensionsEqual(b,c)?this.applyPositionStyle(a,this.getClipScalePosition()):this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipScaleDimensions());this.applyBorderRadiusStyle(a);return a},getCropStyle:function(){var a={};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getInsetBorderStyle:function(){var a={borderColor:this.props.insetBorderColor||"transparent"};this.applyPositionStyle(a,this.getClipCropPosition());this.applyDimensionsStyle(a,this.getClipCropDimensions());this.applyBorderRadiusStyle(a);return a},getContainerStyle:function(){var a={};this.applyDimensionsStyle(a,this.getContainerDimensions());this.applyBorderRadiusStyle(a);return a},getScale:function(){var a=this.getScaleStyle(),c=a.width,d=a.height;a=babelHelpers["extends"]({},a);delete a.width;delete a.height;return b("React").createElement("img",babelHelpers["extends"]({},this.props,{alt:this.props.alt,className:b("joinClasses")(this.props.className,"_56wb"+(this.shouldAddAllNodesAndStyles()?" _56t5":"")),src:this.props.src,style:babelHelpers["extends"]({},this.props.style||{},a),width:c,height:d}))},getCrop:function(){var a=this.getScale();return!this.hasCrop()?a:b("React").createElement("div",{className:"_56ma"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getCropStyle()},a)},getInsetBorder:function(){return!this.hasInsetBorder()?null:b("React").createElement("div",{className:"_56lv"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),style:this.getInsetBorderStyle()})},getContainer:function(){var a=this.getCrop();if(!this.hasContainer())return a;var c=this.getInsetBorder();return b("React").createElement("div",{className:"_56jj"+(this.shouldAddAllNodesAndStyles()?" _56t5":""),"data-skipchecker":null,style:this.getContainerStyle()},a,c)},render:function(){var a=this.getSrcDimensions();return!a?b("React").createElement("span",{"data-skipchecker":null}):this.getContainer()}});e.exports=c}),null);
__d("FBRTCAvailability",["ChannelConstants","PresenceStatus"],(function(a,b,c,d,e,f){"use strict";a={isCallable:function(a){a=b("PresenceStatus").getCapabilities(a);var c=b("ChannelConstants").CAPABILITY_VOIP_INTEROP;return!!(a&c)}};e.exports=a}),null);
__d("CollabCallTriggerType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INTERN_SEARCH_MEETING_ROOM_UNIT:"intern_search_meeting_room_unit",MEETING_ROOM_MAP_DIALOG:"meeting_room_map_dialog",MEETING_ROOM_PAGE_PROFILE:"meeting_room_page_profile",QUICK_DIAL:"quickdial"})}),null);
__d("RTCWebUserActionsDebugTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsDebugLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCallType=function(a){this.$1.call_type=a;return this};c.setCheckpoint=function(a){this.$1.checkpoint=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceName=function(a){this.$1.conference_name=a;return this};c.setConferenceState=function(a){this.$1.conference_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};c.setIsCaller=function(a){this.$1.is_caller=a;return this};c.setMediaType=function(a){this.$1.media_type=a;return this};c.setPage=function(a){this.$1.page=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTCWebUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RTCWebUserActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCallType=function(a){this.$1.call_type=a;return this};c.setCheckpoint=function(a){this.$1.checkpoint=a;return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceName=function(a){this.$1.conference_name=a;return this};c.setConferenceState=function(a){this.$1.conference_state=a;return this};c.setDeviceID=function(a){this.$1.device_id=a;return this};c.setErrorDomain=function(a){this.$1.error_domain=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventTimeElapsed=function(a){this.$1.event_time_elapsed=a;return this};c.setIsCaller=function(a){this.$1.is_caller=a;return this};c.setMediaType=function(a){this.$1.media_type=a;return this};c.setPage=function(a){this.$1.page=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={call_id:!0,call_type:!0,checkpoint:!0,client_time:!0,component:!0,conference_name:!0,conference_state:!0,device_id:!0,error_domain:!0,error_type:!0,event:!0,event_time_elapsed:!0,is_caller:!0,media_type:!0,page:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("RTWebLoggingCallType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({P2P:"p2p",MW:"mw",ESCALATED:"escalated"})}),null);
__d("RTWebLoggingComponent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUDIO_CALL:"audio_button",VIDEO_CALL:"video_button",START_CALL:"start_call_button",END_CALL:"end_call_button",JOIN_CALL:"join_call_button",CANCEL:"cancel_button",CALL_BACK:"call_back",CALL_AGAIN:"call_again",CHAT_PANEL_MESSAGE:"chat_panel_message",REDIAL:"redial",SCREENSHARING:"screensharing",SCREENSHARING_POP_OUT:"screensharing_pop_out_button",TOGGLE_VIDEO:"toggle_video",TOGGLE_AUDIO:"toggle_audio",TOGGLE_CHAT:"toggle_chat",TOGGLE_FILTERS:"toggle_filters",SCROLL_FILTERS:"scroll_filters",VIDEO_FILTER_OPTION:"video_filter_option",ADD_PARTICIPANT:"add_participant",FULLSCREEN:"fullscreen",FULLSCREEN_ENABLE:"fullscreen_enable",FULLSCREEN_DISABLE:"fullscreen_disable",CLOSE_WINDOW:"close_window",ACCEPT:"accept_button",DECLINE:"decline_button",NOT_NOW:"rating_not_now",SELF_VIEW:"self_view",SELF_VIEW_MINIMIZE:"self_view_minimize",SELF_VIEW_UNMINIMIZE:"self_view_unminimize",PARTICIPANT_ROW_SELECT:"participant_row_select",PARTICIPANT_ROW_UNSELECT:"participant_row_unselect",STAR_RATING:"star_rating",SUBMIT_FEEDBACK:"submit_feedback",SETTINGS:"settings",CLOSE_DIALOG:"close_dialog",INCOMING_RING_TONE:"incoming_ring_tone",FREE_CALL:"free_call",VIDEO_ESCALATE:"video_escalate",VIDEO_ESCALATE_ACCEPT:"video_escalate_accept",VIDEO_ESCALATE_DECLINE:"video_escalate_decline",RECENT_CALLS:"recent_calls",MESSAGE:"message",SAVE:"save_button",WINDOW_RESIZE:"window_resize",POOR_NETWORK_TOOLTIP:"poor_network_tooltip",VIDEO_LAYOUT_SWITCH:"video_layout_switch"})}),null);
__d("RTWebLoggingEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TAP:"tap",IMPRESSION:"impression",ERROR:"error",RING_TONE_PLAYED:"ring_tone_played",CHECKPOINT:"checkpoint"})}),null);
__d("RTWebLoggingMediaType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({VIDEO:"video",AUDIO:"audio",ESCALATED:"escalated"})}),null);
__d("RTWebLoggingPage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FACEBOOK:"facebook",MOBILE_WEB:"mweb",WORKPLACE:"workplace"})}),null);
__d("RTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RTCWebUserActionsDebugTypedLogger","RTCWebUserActionsTypedLogger","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingEvent","RTWebLoggingMediaType","RTWebLoggingPage","RTWebLoggingSharedInstance","immutable","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map;a=function(){__p&&__p();function a(){this.$2=g(),this.$3=new Set(),this.$4=new Set(),this.$5=b("RTWebLoggingSharedInstance").getInstance().getDeviceID(),this.$6=this.$7(),this.clearCache()}var c=a.prototype;c.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};c.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").IMPRESSION},a))};c.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};c.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};c.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").TAP},a))};c.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").ERROR},a))};c.startTimer=function(a){var c=b("performanceNow")();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:c})};c.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};c.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({eventName:b("RTWebLoggingEvent").CHECKPOINT},a))};c.$10=function(a){return a===null||a===void 0};c.logEvent=function(a){__p&&__p();var b=this.$1;b.callID=this.$10(a.callID)?b.callID:a.callID;b.callType=a.callType||b.callType;b.conferenceState=a.conferenceState||b.conferenceState;b.conferenceName=this.$10(a.conferenceName)?b.conferenceName:a.conferenceName;b.isCaller=a.isCaller==null?b.isCaller:a.isCaller;b.mediaType=a.mediaType||b.mediaType;this.$11(a,b);b=this.$12(a,b);this.$8(a.eventName,b)};c.$12=function(a,c){var d=new(b("RTCWebUserActionsTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).log();return d.getData()};c.$11=function(a,c){var d=new(b("RTCWebUserActionsDebugTypedLogger"))();d.setCallType(c.callType).setDeviceID(this.$5).setClientTime(Date.now()).setErrorDomain(a.errorDomain).setErrorType(a.errorType).setComponent(a.component).setConferenceState(c.conferenceState).setEvent(a.eventName).setMediaType(c.mediaType).setPage(this.$6).setCallID(c.callID).setConferenceName(c.conferenceName).setSurface(a.surface).setCheckpoint(a.checkpoint).setEventTimeElapsed(a.timeElapsed).setIsCaller(c.isCaller).log();return d.getData()};c.getCallType=function(a,c){c===void 0&&(c=!1);if(a===null||a===void 0)return null;if(a)return b("RTWebLoggingCallType").MW;else if(c)return b("RTWebLoggingCallType").ESCALATED;else return b("RTWebLoggingCallType").P2P};c.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?b("RTWebLoggingComponent").AUDIO_CALL:b("RTWebLoggingComponent").VIDEO_CALL};c.getMediaType=function(a,c){c===void 0&&(c=!1);if(c)return b("RTWebLoggingMediaType").ESCALATED;else if(a)return b("RTWebLoggingMediaType").AUDIO;else return b("RTWebLoggingMediaType").VIDEO};c.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};c.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};c.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};c.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};c.$7=function(){__p&&__p();if(b("FBRTCSupport").isMobileDevice())return b("RTWebLoggingPage").MOBILE_WEB;else if(b("CurrentUser").isWorkUser())return b("RTWebLoggingPage").WORKPLACE;var a=window.location.hostname;if(a.search("facebook")!==-1)return b("RTWebLoggingPage").FACEBOOK;else if(a.search("messenger")!==-1)return b("RTWebLoggingPage").MESSENGER_DOT_COM;return a};c.$9=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt(b("performanceNow")()-c,10)}return null};c.$8=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};return a}();e.exports=new a()}),null);
__d("assignMediaStream",[],(function(a,b,c,d,e,f){"use strict";var g=window.URL||window.webkitURL,h="srcObject"in window.HTMLMediaElement.prototype,i="mozSrcObject"in window.HTMLMediaElement.prototype;function a(a,b){h?a.srcObject=b:i?a.mozSrcObject=b:(typeof a.src==="string"&&g.revokeObjectURL(a.src),a.src=b!=null?g.createObjectURL(b):"")}e.exports=a}),null);
__d("FBRTCUtils",["AsyncRequest","CollabCallTriggerType","FBIDCheck","FBRTCConfig","RTCConfig","RTWebUserActionLogger","assignMediaStream","emptyFunction","randomInt"],(function(a,b,c,d,e,f){__p&&__p();var g=6e3,h="setSinkId"in window.HTMLMediaElement.prototype;a={attachMediaStream:function(a,c){if(a==null)return;b("assignMediaStream")(a,c);if(c){c=a.play();c!==void 0&&c["catch"](function(a){b("RTWebUserActionLogger").logError({errorDomain:"autoplay was prevented",errorType:a.toString()})})}},aboutEqual:function(a,b){return a-b<.01&&b-a<.01},sendServerRequest:function(a,c,d,e,f,h){c===void 0&&(c=b("emptyFunction"));d===void 0&&(d=b("emptyFunction"));e===void 0&&(e=!1);f===void 0&&(f=g);h===void 0&&(h={});a=new(b("AsyncRequest"))().setURI(a).setData(h).setAllowCrossPageTransition(!0).setHandler(c).setErrorHandler(d).setTimeoutHandler(f,function(){d()});e&&a.setOption("asynchronous_DEPRECATED",!1);a.send()},supportsSetSink:function(){return h},isPeerVCEndpoint:function(a){var c=b("FBRTCConfig").isVCEndpointCall();return c!==void 0?c:!!a&&!b("FBIDCheck").isUser_deprecated(a)&&b("RTCConfig").CollabVCEndpointsVideoCallGK},isCollabTrigger:function(a){return a===b("CollabCallTriggerType").QUICK_DIAL||a===b("CollabCallTriggerType").MEETING_ROOM_PAGE_PROFILE}};e.exports=a}),null);
__d("FBRTCCallUIWrapper",["regeneratorRuntime","Bootloader","CurrentUser","FBRTCUtils","RTWebExperiments","UserAgent","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=null,h={openGroupCallUI:function(a,c,d,e,f,h,i){return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:g=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallUI(a,c,d,e,f,h,g,i)},"FBRTCCallUIWrapper");case 2:case"end":return j.stop()}},null,this)},openGroupCallURI:function(a,c,d,e,f,h,i,j,k){return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:g=this._openWindow("Group Call"),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openGroupCallURI({conferenceName:a,callID:c,hasVideo:d,initializeVideo:e,serverInfoData:i,trigger:j,callSummary:k,callWindow:g,multiwayWwwTier:h,multiwayCoreTier:f})},"FBRTCCallUIWrapper");case 2:case"end":return l.stop()}},null,this)},openAsCaller:function(a,c,d,e){!g&&window.rtcCallChildWindow&&(g=window.rtcCallChildWindow,window.rtcCallChildWindow=null);if(this._shouldFocusCallWindow(a)){g&&g.focus();return}this._shouldCloseCallWindow()&&(g&&g.close());g=this._openWindow("Video Call",{isP2P:!0,isVCCall:b("FBRTCUtils").isPeerVCEndpoint(a)||b("FBRTCUtils").isCollabTrigger(d)});b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCaller(a,c,d,e,g)},"FBRTCCallUIWrapper")},openAsCallee:function(a,c,d,e,f){g=this._openWindow("Video Call",{isP2P:!0,isVCCall:b("FBRTCUtils").isPeerVCEndpoint(a)}),b("Bootloader").loadModules(["FBRTCCallUI"],function(b){b.openAsCallee(a,c,d,e,g,f)},"FBRTCCallUIWrapper")},_shouldFocusCallWindow:function(a){return!!g&&!g.closed&&g.rtcCallInProgessWith===a},_shouldCloseCallWindow:function(){return!!g&&!g.closed&&!g.rtcCallInProgessWith},_openWindow:function(a,c){__p&&__p();c=c===void 0?{isP2P:!1,isVCCall:!1}:c;var d=c.isP2P;d=d===void 0?!1:d;c=c.isVCCall;c=c===void 0?!1:c;d=this._windowPosition({isP2P:d,isVCCall:c});c=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no",d.height,d.width,d.top,d.left].join(",");this._isSparkBrowser()&&(c="");b("gkx")("859726")&&b("Bootloader").loadModules(["RTWebUserActionLogger"],function(a){a.logCheckpoint({checkpoint:"rtc_www_new_tab"})},"FBRTCCallUIWrapper");d=b("gkx")("859726")?window.open("","_blank"):window.open("",a,c);window.callWindow=d;return d},_windowDimension:function(a){__p&&__p();var c=a.isP2P;a=a.isVCCall;var d=960,e=540;if(screen&&screen.width>1280){var f=!1,g=!1;c&&(f=b("RTWebExperiments").forceSmallWindow(a,b("CurrentUser").isWorkUser()));!c&&!f&&(g=b("RTWebExperiments").fixedHeightGridView(a,b("CurrentUser").isWorkUser()));g?(d=b("RTWebExperiments").fixedHeightGridViewOuterWindowWidth(),e=b("RTWebExperiments").fixedHeightGridViewOuterWindowHeight()):f||(d=1280,e=720)}return{height:e,width:d}},_windowPosition:function(a){__p&&__p();var b=a.isP2P;b=b===void 0?!1:b;a=a.isVCCall;a=a===void 0?!1:a;var c,d,e,f;b=h._windowDimension({isP2P:b,isVCCall:a});a=b.height;b=b.width;window.innerWidth!==void 0?(d=window.innerWidth,c=window.innerHeight):(d=screen.width,c=screen.height);window.screenLeft!==void 0?(e=window.screenLeft,f=window.screenTop):(e=window.screenX,f=window.screenY);d=Math.floor(d/2-b/2+e);e=Math.floor(c/2-a/2+f);return{height:"height="+a.toString(),width:"width="+b.toString(),top:"top="+e.toString(),left:"left="+d.toString()}},_isSparkBrowser:function(){return b("UserAgent").isBrowser("Chrome < 34")&&b("UserAgent").isBrowser("Chrome > 33")}};e.exports=h}),null);
__d("RTWebLoggingSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_CONTROLS:"call_controls",CHAT_PANEL:"chat_panel",CHAT_TAB:"chat_tab",MESSENGER_HEADER:"messenger_header",INCOMING_DIALOG:"incoming_call_dialog",CALL_HEADER:"call_header",GROUP_CALL_ADD_MEMBERS_DIALOG:"group_call_add_members_dialog",GROUP_CALL_PARTICIPANT_PICKER_DIALOG:"group_call_participant_picker_dialog",CALL_CONTAINER:"call_container",TIMELINE_TOP_SECTION:"timeline_top_section",DROPDOWN_CALL_MENU:"dropdown_call_menu",THREAD_LIST:"thread_list",DESKTOP_NOTIFICATION:"desktop_notification",AUDIO_FALLBACK_DIALOG:"audio_fallback_dialog",STAR_RATING_SURFACE:"star_rating_surface",MISSED_CALL_DIALOG:"missed_call_dialog",UNSUPPORTED_BROWSER_DIALOG:"unsupported_browser_dialog",ADMIN_MESSAGE:"admin_message",WORK_HOVERCARD:"work_hovercard",MESSENGER_BUBBLE:"messenger_bubble",CHAT_SIDEBAR:"chat_sidebar",SETTING_DIALOG:"setting_dialog",SCREENSHARING_POP_OUT:"screensharing_pop_out"})}),null);
__d("RTWebCallTriggerMapping",["RTWebLoggingComponent","RTWebLoggingSurface","deepFreezeValue"],(function(a,b,c,d,e,f){"use strict";a={chat_sidebar:{surface:b("RTWebLoggingSurface").CHAT_SIDEBAR,component:b("RTWebLoggingComponent").RECENT_CALLS},chattab_audio_button:{surface:b("RTWebLoggingSurface").CHAT_TAB,component:b("RTWebLoggingComponent").AUDIO_CALL},chattab_video_button:{surface:b("RTWebLoggingSurface").CHAT_TAB,component:b("RTWebLoggingComponent").VIDEO_CALL},messenger_bubble_free_call:{surface:b("RTWebLoggingSurface").MESSENGER_BUBBLE,component:b("RTWebLoggingComponent").FREE_CALL},messenger_dot_com_missed_call_dialog:{surface:b("RTWebLoggingSurface").MISSED_CALL_DIALOG,component:b("RTWebLoggingComponent").START_CALL},messenger_dot_com_video_call:{surface:b("RTWebLoggingSurface").MESSENGER_HEADER,component:b("RTWebLoggingComponent").VIDEO_CALL},messenger_dot_com_audio_call:{surface:b("RTWebLoggingSurface").MESSENGER_HEADER,component:b("RTWebLoggingComponent").AUDIO_CALL},timeline:{surface:b("RTWebLoggingSurface").DROPDOWN_CALL_MENU,component:b("RTWebLoggingComponent").START_CALL},messenger_dot_com_work_hovercard:{surface:b("RTWebLoggingSurface").WORK_HOVERCARD,component:b("RTWebLoggingComponent").START_CALL},admin_message:{surface:b("RTWebLoggingSurface").ADMIN_MESSAGE,component:b("RTWebLoggingComponent").START_CALL},return_call:{surface:b("RTWebLoggingSurface").MISSED_CALL_DIALOG,component:b("RTWebLoggingComponent").START_CALL},popup_start_call_button:{surface:b("RTWebLoggingSurface").CALL_CONTAINER,component:b("RTWebLoggingComponent").START_CALL},redial_button:{surface:b("RTWebLoggingSurface").CALL_CONTAINER,component:b("RTWebLoggingComponent").REDIAL}};b("deepFreezeValue")(a);e.exports=a}),null);
__d("generateRTCCallID",["randomInt"],(function(a,b,c,d,e,f){"use strict";function a(){return b("randomInt")(0,4294967294)+1}e.exports=a}),null);
__d("FBRTCCore",["invariant","Bootloader","FBLogger","FBRTCAvailability","FBRTCCallUIWrapper","FBRTCSupport","RTWebCallTriggerMapping","RTWebLoggingCallType","RTWebUserActionLogger","generateRTCCallID","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=!1;a={startOutgoingCall:function(a,c,d,e){__p&&__p();e===void 0&&(e=!1);/\D/.test(a)&&g(0,2478);var f=b("generateRTCCallID")(),i=b("RTWebCallTriggerMapping")[c];(i===null||i===void 0)&&b("FBLogger")("rtweb").mustfix("Unexpected or unknown call trigger: %s",c);b("RTWebUserActionLogger").logPreCallClick(babelHelpers["extends"]({},i,{callID:f.toString(),mediaType:b("RTWebUserActionLogger").getMediaType(d),callType:b("RTWebLoggingCallType").P2P}));if(h)return;h=!0;b("setTimeout")(function(){h=!1},1e3);e&&!b("FBRTCSupport").isCollabSupported()?b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage","CollabMessengerLogger"],function(b,c){b.showForUnsupportedCollabCall(),c.logBrowserNotSupported({peerID:a})},"FBRTCCore"):!b("FBRTCSupport").isWebrtcSupported()?b("Bootloader").loadModules(["FBRTCUnsupportedBrowserMessage"],function(a){a.showForOutgoingCall(),b("RTWebUserActionLogger").logError({callID:f.toString(),callType:b("RTWebLoggingCallType").P2P,mediaType:b("RTWebUserActionLogger").getMediaType(d),errorDomain:"unsupported browser"})},"FBRTCCore"):b("FBRTCCallUIWrapper").openAsCaller(a,f,c,d)},startGroupCall:function(a){__p&&__p();var c=a.conferenceName,d=a.hasVideo,e=a.serverInfoData,f=a.trigger;a=a.usersToRing;a=a===void 0?[]:a;if(h)return;h=!0;b("setTimeout")(function(){h=!1},1e3);if(!b("FBRTCSupport").isGroupCallWebtrcSupported()){b("Bootloader").loadModules(["MessengerRTCUnsupportedBrowserDialogController"],function(a){b("RTWebUserActionLogger").logError({callType:b("RTWebLoggingCallType").MW,conferenceName:c,mediaType:b("RTWebUserActionLogger").getMediaType(!d),errorDomain:"unsupported browser"}),a.render({hasVideo:d,isGroupCall:!0})},"FBRTCCore");return}b("FBRTCCallUIWrapper").openGroupCallUI(c,b("generateRTCCallID")(),a,d,d,f,e)},isAvailableForWebrtcCalling:function(a){return b("FBRTCAvailability").isCallable(a)}};e.exports=a}),null);
__d("RTWebStrings",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={busy:g._("Occup\u00e9(e)"),callAgain:g._("Rappeler"),callEnded:g._("Appel termin\u00e9"),callFailed:g._("\u00c9chec de l\u2019appel"),callInterrupted:g._("Appel interrompu"),cannotConnect:g._("Impossible de connecter l\u2019appel"),chatLinksLeftVideoChat:g._("Vous avez quitt\u00e9 la discussion vid\u00e9o de groupe"),clientEncryptionError:g._("Erreur de chiffrement client"),close:g._("Fermer"),connected:g._("Connect\u00e9"),connecting:g._("Connexion..."),connectionDropped:g._("Connexion interrompue"),connectionLost:g._("Connexion perdue"),contacting:g._("Mise en relation..."),copiedVideoChatLink:g._("Copi\u00e9"),copyVideoChatLink:g._("Copier le lien vers la discussion vid\u00e9o"),disconnected:g._("D\u00e9connect\u00e9"),dismiss:g._("Fermer"),hangingUp:g._("D\u00e9marrage..."),inactive:g._("Appel inactif"),inAnotherCall:g._("D\u00e9j\u00e0 en ligne"),incomingVideoChat:g._("Discussion vid\u00e9o entrante"),invalidStreamConfiguration:g._("Trop de clients connect\u00e9s au salon"),noAnswer:g._("Pas de r\u00e9ponse"),notNow:g._("Plus tard"),participantLimitReached:g._("Limite des participants atteinte"),pleaseWait:g._("Veuillez patienter..."),profilePictureAlt:g._("Photo de profil"),reconnecting:g._("Reconnexion..."),redial:g._("Recomposer le num\u00e9ro"),ringing:g._("\u00c7a sonne..."),switchToWiFi:g._("Passez en Wi-Fi pour appeler"),unreachable:g._("Injoignable"),userVideoOff:function(a){return g._("La cam\u00e9ra de {name} est d\u00e9sactiv\u00e9e",[g._param("name",a)])},viewerVideoOff:g._("Ta cam\u00e9ra est d\u00e9sactiv\u00e9e"),waitingForOthers:g._("En attente d\u2019autres personnes\u2026")};e.exports=a}),null);
__d("FBRTCCallabilityActions",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CALLABILITY_FETCHED:null,CALLABILITY_FETCH_ERROR:null});a=function(){function a(a){this.$1=a}var b=a.prototype;b.callabilityFetched=function(a,b){this.$1.dispatch({type:g.CALLABILITY_FETCHED,userID:a,callability:b})};b.callabilityFetchError=function(a){this.$1.dispatch({type:g.CALLABILITY_FETCH_ERROR,userID:a})};return a}();a.Types=g;e.exports=a}),null);
__d("XRTCCallabilityController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rtc/callability/",{user_id:{type:"FBID",required:!0}})}),null);
__d("FBRTCCallabilityDataManager",["AsyncRequest","FBRTCCallabilityActions","TimeSlice","XRTCCallabilityController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=new(b("FBRTCCallabilityActions"))(a)}var c=a.prototype;c.fetchCallability=function(a){var c=this;b("TimeSlice").guard(function(){var d=b("XRTCCallabilityController").getURIBuilder().setFBID("user_id",a).getURI(),e=c.$2.bind(c,a),f=c.$3.bind(c,a);new(b("AsyncRequest"))().setURI(d).setHandler(e).setErrorHandler(f).setAllowCrossPageTransition(!0).send()},"Chat Tab RTC Callability Check",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};c.$2=function(a,b){this.$1.callabilityFetched(a,b.payload)};c.$3=function(a,b){this.$1.callabilityFetchError(a)};return a}();e.exports=a}),null);
__d("RTCUserRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({FBID:"UNDEFINED",isGuestUser:!1,isMessengerUser:!1,isPartiesUser:!1,lastConnectedAt:0,participantState:null,profilePictureUrl:null,profileUrl:null,roomLocation:null,screenStreams:b("immutable").Set(),streams:b("immutable").Set(),userName:"",userShortName:"",vanity:""});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("RTCUser",["FBRTCConstants","FBRTCParticipantCallState","RTCUserRecord","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("FBRTCConstants").MediaContentTypes;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.clone=function(){return new c(this.toObject())};d.setParticipantState=function(a){return(!this.participantState||this.participantState.state!==b("FBRTCParticipantCallState").CONNECTED)&&a.state===b("FBRTCParticipantCallState").CONNECTED?this.set("participantState",a).set("lastConnectedAt",Date.now()):!this.participantState||this.participantState.state!==a.state?this.set("participantState",a):this};d.getParticipantState=function(){return this.participantState&&this.participantState.state};d.hasAudio=function(){return this.getAllStreamAudioTracks().some(function(a){return a.length>0})};d.hasVideo=function(){return this.streams.some(function(a){return a.getVideoTracks().length>0})};d.hasLiveVideoTracks=function(){return this.streams.some(function(a){return a.getVideoTracks().some(function(a){return a.readyState==="live"})})};d.isAudioMuted=function(){var a=this;return!this.hasAudio()?!0:this.getAllStreamAudioTracks().every(function(b){return a.areAllTracksMuted(b)})};d.isVideoMuted=function(){var a=this;return!this.hasVideo()?!0:this.streams.every(function(b){return a.areAllTracksMuted(b.getVideoTracks())})};d.areAllTracksMuted=function(a){return!a.some(function(a){return a.enabled})};d.hasFunctioningVideoTrack=function(){return!this.hasVideo()?!1:this.streams.every(function(a){return a.getVideoTracks().some(function(a){return a.enabled&&!a.muted})})};d.toggleMuteAudio=function(a){var b=this;this.getAllStreamAudioTracks().forEach(function(a){return b.$RTCUser1(a)});return this.clone()};d.toggleMuteVideo=function(a){var b=this;this.streams.forEach(function(c){b.$RTCUser1(c.getVideoTracks(),a)});return this.clone()};d.stopVideo=function(){var a=this;this.streams.forEach(function(b){b.getVideoTracks().forEach(function(c){a.$RTCUser1(b.getVideoTracks(),!0),c.readyState!=="ended"&&(c.onended&&c.onended(),c.stop())})});return this.clone()};d.getAllStreamAudioTracks=function(){return this.streams.concat(this.screenStreams).map(function(a){return a.getAudioTracks()})};d.hasStream=function(){return!this.streams.isEmpty()};d.addStream=function(a){return this.set("streams",this.streams.add(b("nullthrows")(a)))};d.removeStream=function(a){return this.set("streams",this.streams["delete"](a))};d.getStream=function(){return this.hasStream()?this.streams.first():null};d.getActiveStream=function(){return this.hasStream()?this.streams.find(function(a){return"active"in a&&a.active}):null};d.replaceStream=function(a,b){return!this.streams.contains(a)?this:this.set("streams",this.streams["delete"](a).add(b))};d.removeAllStreams=function(){return this.set("streams",b("immutable").Set())};d.getScreenStream=function(){return this.screenStreams&&this.hasScreenStream()?this.screenStreams.first():null};d.hasScreenStream=function(){return!this.screenStreams.isEmpty()};d.addScreenStream=function(a){return this.set("screenStreams",this.screenStreams.add(a))};d.removeScreenStream=function(a){return this.set("screenStreams",this.screenStreams["delete"](a))};d.removeAllScreenStreams=function(){return this.set("screenStreams",b("immutable").Set())};d.replaceScreenStream=function(a,b){if(!this.screenStreams.contains(a))return this;return a===b?this:this.set("screenStreams",this.screenStreams.add(b)["delete"](a))};d.setRoomLocation=function(a){return this.set("roomLocation",a)};d.getRoomLocation=function(){return this.roomLocation};d.$RTCUser1=function(a,b){var c=b!=null?!b:this.areAllTracksMuted(a);a.forEach(function(a){return a.enabled=c})};d.getMediaTypeForTracks=function(){var a=new Map(),b=this.getScreenStream();b&&b.getVideoTracks().forEach(function(b){return a.set(b.id,g.SCREEN)});return a};return c}(b("RTCUserRecord"));e.exports=a}),null);
__d("RTCCallTitle.react",["MercuryIDs","MercuryParticipantListRenderer","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c=a.displayViewerName,d=a.viewer,e=a.participants;a=a.className;var f=b("MercuryIDs").getParticipantIDFromUserID(d);d=Object.keys(e.toJS());d.length>1&&(d=d.filter(function(a){return a!==f||c}));d=d.map(function(a){return e.get(a)});d=new(b("MercuryParticipantListRenderer"))().setUseShortName(!1).setUseAndSeparator(!1).renderParticipantList(d);return b("React").createElement("span",{className:a},d)};e.exports=a}),null);
__d("RTCCallabilityStore",["fbt","Cache","FBRTCCallabilityActions","FBRTCCallabilityDataManager","FluxStore","MercuryThreadInfo"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=.5,i=5;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$RTCCallabilityStore2=new(b("FBRTCCallabilityDataManager"))(c);d.$RTCCallabilityStore1=new(b("Cache"))();return d}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();var c=a.type;switch(c){case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCHED:c=a.userID;var d=a.callability;this.$RTCCallabilityStore1.set(c,{callable:d.is_callable,isBlocked:d.is_blocked},null,d.is_callable?i:h);this.__emitChange();break;case b("FBRTCCallabilityActions").Types.CALLABILITY_FETCH_ERROR:this.$RTCCallabilityStore1.set(a.userID,{callable:!1,isBlocked:!1},null,h);this.__emitChange();break}};d.isCallable=function(a,b){b=b?b.message_count>0&&b.folder==="inbox":!1;a=this.fetchUserFromCache(a);return a&&a.callable||b};d.isBlocked=function(a,c){c=c?b("MercuryThreadInfo").canReply(c):!0;a=this.fetchUserFromCache(a);return a&&a.isBlocked||!c};d.fetchUserFromCache=function(a){this.$RTCCallabilityStore1.has(a)||(this.$RTCCallabilityStore2.fetchCallability(a),this.$RTCCallabilityStore1.set(a,{callable:!1,isBlocked:!1},null,h));return this.$RTCCallabilityStore1.get(a)};d.callButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("D\u00e9marrez une discussion vid\u00e9o avec {shortname}",[g._param("shortname",b)]):g._("{shortname} est actuellement indisponible pour un appel vid\u00e9o",[g._param("shortname",b)])};d.voiceCallButtonTooltip=function(a,b,c,d){c===void 0&&(c=!0);return!this.isBlocked(a,d)&&(c||this.isCallable(a))?g._("Commencer un appel vocal avec {shortname}",[g._param("shortname",b)]):g._("{shortname} est actuellement indisponible pour un appel vocal",[g._param("shortname",b)])};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_game.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_game",type:"Application",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_group",type:"MessageThread",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},a,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:5)",args:[{kind:"Literal",name:"first",value:5}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},a,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null}]};e.exports=a}),null);
__d("MessengerGraphQLTypeaheadAdapter_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerGraphQLTypeaheadAdapter_user",type:"User",metadata:null,argumentDefinitions:[],selections:[a,b,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[b]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}}();e.exports=a}),null);
__d("MessengerGraphQLTypeaheadViewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"queryString",type:"String!",defaultValue:null},{kind:"LocalArgument",name:"canViewerSendMoneyFilter",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"localEntryIDs",type:"[ID]",defaultValue:null},{kind:"LocalArgument",name:"maxThreadResults",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"shouldQueryGroups",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryPages",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryThreadName",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantIDs",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryParticipantNames",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryVCEndpoint",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryInternalBot",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldQueryRoomsAudience",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"shouldSkipQueryUsers",type:"Boolean",defaultValue:!1},{kind:"LocalArgument",name:"forGroup",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"threadFBID",type:"ID",defaultValue:0}],b=[{kind:"Variable",name:"query",variableName:"queryString"}],c=[{kind:"Variable",name:"id",variableName:"threadFBID"}],d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"Literal",name:"first",value:20},f={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},i=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}],j={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",plural:!1,selections:i},k={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},m={kind:"Literal",name:"first",value:10},n=[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"InlineFragment",type:"User",selections:[g,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},h,{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},j,{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null},d]},k,l,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null},d]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[g,d]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[m],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}],o={kind:"Literal",name:"first",value:5};j={kind:"InlineFragment",type:"Page",selections:[g,j,k,l,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]};k=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,j]}]}];var p={kind:"Variable",name:"last",variableName:"maxThreadResults"};i=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},g,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:5)",args:[o],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,g,{kind:"InlineFragment",type:"User",selections:[l,h]}]},d]}]}]},d]}]}];return{kind:"Request",fragment:{kind:"Fragment",name:"MessengerGraphQLTypeaheadViewQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_profiles",args:null}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_groups",args:null}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[{kind:"FragmentSpread",name:"MessengerTypeaheadResultView_roomAudience",args:null}]}]}]},operation:{kind:"Operation",name:"MessengerGraphQLTypeaheadViewQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"profiles",name:"entities_named",storageKey:null,args:b,concreteType:"SearchableEntitiesQuery",plural:!1,selections:[d,{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter"},e,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0},{kind:"Literal",name:"of_type",value:["user"]}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:n}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[o,{kind:"Variable",name:"for_group",variableName:"forGroup"},{kind:"Literal",name:"include_games",value:!0},{kind:"Literal",name:"messenger_commerce",value:!0}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,d,j,{kind:"InlineFragment",type:"Application",selections:[g,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]}]}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[e,{kind:"Literal",name:"vc_endpoint",value:!0}],concreteType:"SearchableResultsConnection",plural:!1,selections:k}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[e,{kind:"Literal",name:"internal_bot",value:!0}],concreteType:"SearchableResultsConnection",plural:!1,selections:k}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryGroups",selections:[{kind:"LinkedField",alias:"groups",name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[p,{kind:"Variable",name:"with_thread_name",variableName:"queryString"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:i}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[p,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:i}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[p,{kind:"Literal",name:"with_group",value:!0},{kind:"Variable",name:"with_participants",variableName:"queryString"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:i}]}]},{kind:"LinkedHandle",alias:"groups",name:"viewer",args:null,handle:"viewer",key:"",filters:null}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"roomAudience",name:"message_thread",storageKey:null,args:c,concreteType:"MessageThread",plural:!1,selections:[d,{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[m,{kind:"Variable",name:"named",variableName:"queryString"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:n}]}]}]}]}]},params:{operationKind:"query",name:"MessengerGraphQLTypeaheadViewQuery",id:"2016956765068614",text:null,metadata:{}}}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_groups.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"last",variableName:"maxThreadResults"},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};b=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"ViewerMessageThreadsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessageThread",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"thread_key",storageKey:null,args:null,concreteType:"MessageThreadKey",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"thread_fbid",args:null,storageKey:null}]},b,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_group_thread",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"other_participants",storageKey:"other_participants(first:5)",args:[{kind:"Literal",name:"first",value:5}],concreteType:"MessagingParticipantsOfThreadConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"MessagingParticipantsOfThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"MessagingParticipant",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"messaging_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null}]}]}]}]}]}]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_groups",type:"Viewer",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"maxThreadResults",type:"Int"},{kind:"RootArgument",name:"shouldQueryThreadName",type:"Boolean!"},{kind:"RootArgument",name:"localEntryIDs",type:"[ID]"},{kind:"RootArgument",name:"shouldQueryParticipantIDs",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryParticipantNames",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryThreadName",selections:[{kind:"LinkedField",alias:"threads_matching_name",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_thread_name",variableName:"queryString"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantIDs",selections:[{kind:"LinkedField",alias:"threads_matching_participant_ids",name:"message_threads",storageKey:null,args:[a,{kind:"Variable",name:"with_participant_ids",variableName:"localEntryIDs"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryParticipantNames",selections:[{kind:"LinkedField",alias:"threads_matching_participant_names",name:"message_threads",storageKey:null,args:[a,{kind:"Literal",name:"with_group",value:!0},{kind:"Variable",name:"with_participants",variableName:"queryString"}],concreteType:"ViewerMessageThreadsConnection",plural:!1,selections:b}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_profiles.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:20},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},d={kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},e={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},g={kind:"InlineFragment",type:"Page",selections:[b,c,d,e,f,{kind:"ScalarField",alias:null,name:"can_viewer_add_to_group_chat",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_message",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},h=[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g]}]}];return{kind:"Fragment",name:"MessengerTypeaheadResultView_profiles",type:"SearchableEntitiesQuery",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"canViewerSendMoneyFilter",type:"Boolean"},{kind:"RootArgument",name:"shouldSkipQueryUsers",type:"Boolean!"},{kind:"RootArgument",name:"forGroup",type:"Boolean"},{kind:"RootArgument",name:"shouldQueryPages",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryVCEndpoint",type:"Boolean!"},{kind:"RootArgument",name:"shouldQueryInternalBot",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!1,condition:"shouldSkipQueryUsers",selections:[{kind:"LinkedField",alias:"user_results",name:"search_results",storageKey:null,args:[{kind:"Variable",name:"can_viewer_send_money",variableName:"canViewerSendMoneyFilter"},a,{kind:"Literal",name:"include_messenger_only_results_for_web_messenger",value:!0},{kind:"Literal",name:"of_type",value:["user"]}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[b,c,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},d,{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},e,f,{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[{kind:"Literal",name:"first",value:10}],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryPages",selections:[{kind:"LinkedField",alias:"page_results",name:"search_results",storageKey:null,args:[{kind:"Literal",name:"first",value:5},{kind:"Variable",name:"for_group",variableName:"forGroup"},{kind:"Literal",name:"include_games",value:!0},{kind:"Literal",name:"messenger_commerce",value:!0}],concreteType:"SearchableResultsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"SearchableResultsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,{kind:"InlineFragment",type:"Application",selections:[b,c,{kind:"LinkedField",alias:null,name:"instant_game_info",storageKey:null,args:null,concreteType:"GamesInstantPlayStyleInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"icon_uri",args:null,storageKey:null}]}]}]}]}]}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryVCEndpoint",selections:[{kind:"LinkedField",alias:"vc_results",name:"search_results",storageKey:"search_results(first:20,vc_endpoint:true)",args:[a,{kind:"Literal",name:"vc_endpoint",value:!0}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]},{kind:"Condition",passingValue:!0,condition:"shouldQueryInternalBot",selections:[{kind:"LinkedField",alias:"internal_bot_results",name:"search_results",storageKey:"search_results(first:20,internal_bot:true)",args:[a,{kind:"Literal",name:"internal_bot",value:!0}],concreteType:"SearchableResultsConnection",plural:!1,selections:h}]}]}}();e.exports=a}),null);
__d("MessengerTypeaheadResultView_roomAudience.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"first",value:10},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"MessengerTypeaheadResultView_roomAudience",type:"MessageThread",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"queryString",type:"String"},{kind:"RootArgument",name:"shouldQueryRoomsAudience",type:"Boolean!"}],selections:[{kind:"Condition",passingValue:!0,condition:"shouldQueryRoomsAudience",selections:[{kind:"LinkedField",alias:"user_results",name:"messaging_audience_list",storageKey:null,args:[a,{kind:"Variable",name:"named",variableName:"queryString"}],concreteType:"AllAudienceListOfMessageThreadConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AllAudienceListOfMessageThreadEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"User",selections:[b,c,{kind:"ScalarField",alias:null,name:"is_memorialized",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_friend",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_viewer_coworker",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(height:32,width:32)",args:[{kind:"Literal",name:"height",value:32},{kind:"Literal",name:"width",value:32}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"messenger_contact",storageKey:null,args:null,concreteType:"Contact",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_on_viewer_contact_list",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_messenger_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_work_user",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"viewer_affinity",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"scim_company_user",storageKey:null,args:null,concreteType:"ScimCompanyUser",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"company_title",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"work_info",storageKey:null,args:null,concreteType:"WorkUserInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"work_community",storageKey:null,args:null,concreteType:"Group",plural:!1,selections:[c]}]},{kind:"LinkedField",alias:"members",name:"aloha_proxy_user_owners",storageKey:"aloha_proxy_user_owners(first:10)",args:[a],concreteType:"AlohaProxyUserToAlohaProxyUserOwnersConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"AlohaProxyUserToAlohaProxyUserOwnersEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,{kind:"ScalarField",alias:"name",name:"aloha_user_name",args:null,storageKey:null}]}]}]}]}]}]}]}]}]}}();e.exports=a}),null);
__d("IgnoreMessagesTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,platform:!0,thread_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerMessageActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerMessageActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setContainermodule=function(a){this.$1.containermodule=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setErrorText=function(a){this.$1.error_text=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setMessageType=function(a){this.$1.message_type=a;return this};c.setMid=function(a){this.$1.mid=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setOfflineThreadid=function(a){this.$1.offline_threadid=a;return this};c.setPreviousReaction=function(a){this.$1.previous_reaction=a;return this};c.setReaction=function(a){this.$1.reaction=a;return this};c.setRecipientID=function(a){this.$1.recipient_id=a;return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setThreadid=function(a){this.$1.threadid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action:!0,appid:!0,appversion:!0,clienttime:!0,containermodule:!0,country:!0,entry_point:!0,error_text:!0,group_size:!0,message_type:!0,mid:!0,name:!0,offline_threadid:!0,previous_reaction:!0,reaction:!0,recipient_id:!0,thread_type:!0,threadid:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerProfileLinkTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setDomain=function(a){this.$1.domain=a;return this};c.setLinkLocation=function(a){this.$1.link_location=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action:!0,domain:!0,link_location:!0,target_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerWebViewReactionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEmojiGroup=function(a){this.$1.emoji_group=a;return this};c.setEmojiGroupCount=function(a){this.$1.emoji_group_count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMid=function(a){this.$1.mid=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={emoji_group:!0,emoji_group_count:!0,event:!0,mid:!0,sender_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("PagesAutomationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:PagesAutomationLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesAutomationLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesAutomationLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPageID=function(a){this.$1.page_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={event:!0,page_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MessengerColors",["ChatConfig"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){__p&&__p();var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}e.exports={makeRadialGradient:a,makeLinearGradient:b}}),null);
__d("RepliedToMessageContent.react",["ix","cx","fbt","Bootloader","CurrentUser","FantaTabActions","FBLogger","Image.react","LineClamp.react","MercuryAttachmentType","MessengerTextWithEntities.react","React","RepliedToMessageStatusForGraphQL","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$4=function(){d.$5();if(d.props.repliedToMessageData.status!==b("RepliedToMessageStatusForGraphQL").VALID)return;var a=d.props.threadID;d.props.isMessengerUI?d.props.scrollToRepliedMessage&&d.props.scrollToRepliedMessage(d.props.repliedToMessageData.message.message_id):a!==null&&a!==void 0&&b("FantaTabActions").jumpToMessage(a,d.props.repliedToMessageData.message.message_id)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.isFromViewer,d=a.isMessengerUI;a=a.repliedToMessageData;var e=a.status===b("RepliedToMessageStatusForGraphQL").VALID;if(e&&!a.message){b("FBLogger")("message_replies").mustfix("invalid message reply: Status is Valid but replied_to_message is missing");return null}e=e?a.message.body:this.$1(a);var f=null;!e&&a.message.attachments&&(f=this.$2(a.message.attachments,c,d),e=this.$3(a.message.attachments));c=b("React").createElement(b("LineClamp.react"),{className:"_4k7e",lines:2,lineHeight:d?16:13,fitHeightToShorterText:!0},b("React").createElement(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:e}));if(!this.props.replyInOneBubble)return b("React").createElement("div",{className:(!!f&&d?"_6e7n":"")+(!!f&&!d?" _6e6m":"")},c,f);a=b("React").createElement("blockquote",{className:"_pye"+(!!f&&d?" _6e7n":"")+(!!f&&!d?" _6e6m":"")},b("React").createElement("div",{className:"_pyf"}),c,f);return!this.props.isLinkified?a:b("React").createElement("a",{className:"_6e6n",href:"#",onClick:this.$4},a)};d.$1=function(a){switch(a.status){case b("RepliedToMessageStatusForGraphQL").DELETED:return b("CurrentUser").isWorkUser()?i._("Ce message a \u00e9t\u00e9 supprim\u00e9").toString():i._("Message supprim\u00e9").toString();case b("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE:default:return i._("Le message est indisponible temporairement").toString()}};d.$2=function(a,c,d){d=d?"_6e6o":"_6e6y";if(a.length===1&&a[0].attach_type)switch(a[0].attach_type){case b("MercuryAttachmentType").PHOTO:case b("MercuryAttachmentType").STICKER:case b("MercuryAttachmentType").THIRDPARTYSTICKER:case b("MercuryAttachmentType").ANIMATED_IMAGE:return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("602383")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("544881")}):b("React").createElement(b("Image.react"),{className:d,src:g("596859")});case b("MercuryAttachmentType").VIDEO:return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("602399")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("504242")}):b("React").createElement(b("Image.react"),{className:d,src:g("596875")});default:return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("562396")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("555222")}):b("React").createElement(b("Image.react"),{className:d,src:g("596853")})}else if(a.length>1)return!this.props.replyInOneBubble?b("React").createElement(b("Image.react"),{className:d,src:g("602390")}):c===!0?b("React").createElement(b("Image.react"),{className:d,src:g("504171")}):b("React").createElement(b("Image.react"),{className:d,src:g("596866")});else return null};d.$3=function(a){__p&&__p();var c=a.length;if(c===1&&a[0].attach_type)switch(a[0].attach_type){case b("MercuryAttachmentType").PHOTO:return i._("Photo").toString();case b("MercuryAttachmentType").VIDEO:return i._("Vid\u00e9o").toString();case b("MercuryAttachmentType").STICKER:case b("MercuryAttachmentType").THIRDPARTYSTICKER:return i._("Sticker").toString();case b("MercuryAttachmentType").ANIMATED_IMAGE:return i._("GIF").toString();default:return i._("Pi\u00e8ce jointe").toString()}else if(c>1)return i._({"*":"{number of attachments} pi\u00e8ces jointes","_1":"{number of attachments} pi\u00e8ce jointe"},[i._param("number of attachments",c),i._plural(c)]).toString();else return null};d.$5=function(){b("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,c){a=new a();a.setEvent(c.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(b("CurrentUser").isWorkUser()).log()},"RepliedToMessageContent.react")};return c}(b("React").Component);e.exports=a}),null);
__d("CssBackgroundImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","CssBackgroundImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){var h={className:b("bs_js_null_undefined").fromOption(a),imageURI:b("bs_js_null_undefined").fromOption(c),backgroundPosition:b("bs_js_null_undefined").fromOption(d),height:b("bs_js_null_undefined").fromOption(e),width:b("bs_js_null_undefined").fromOption(f),style:b("bs_js_null_undefined").fromOption(g)},i=b("CssBackgroundImage.react");return function(a){return b("ReasonReact.bs").wrapJsForReason(i,h,a)}}f.make=a}),null);
__d("MessengerSharedPhotoReact.bs",["cx","fbt","bs_curry","React","LinkReact.bs","ReasonReact.bs","bs_js_primitive","CssBackgroundImageReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MessengerSharedPhotoReact"),j={height:"100%"};function a(a,c,d,e,f,g){return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){var g=function(a){a.preventDefault();return b("bs_curry")._1(d,c)},i=h._("photo");if(e!==void 0){var k=e,l=f?b("React").createElement("div",{className:"_3603 _64ks"}):null;return b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,i,a,void 0,void 0,void 0,void 0,void 0,k,void 0,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("CssBackgroundImageReact.bs").make(a,k,"center",void 0,void 0,b("bs_js_primitive").some(j))([l]))]))}else return b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,i,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,g,void 0,void 0,"button",void 0,void 0,void 0,void 0,void 0,[]))},i[9],i[10],i[11],i[12]]}f.component=i;f.style100pct=j;f.make=a}),null);
__d("MessengerSharedPhotoReact.re",["bs_curry","MessengerSharedPhotoReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerSharedPhotoReact.bs").component,function(a){return b("bs_curry")._6(b("MessengerSharedPhotoReact.bs").make,a.className,a.fbid,a.onClick,a.uri,a.isSpherical,a.children)});f.component=a;f["default"]=a}),null);
__d("PhotoRendererProjection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PERSPECTIVE:"perspective",STEREOGRAPHIC:"stereographic",CYLINDRICAL:"cylindrical",EQUIRECTANGULAR:"equirectangular"})}),null);
__d("PhotosphereMetadata",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";a=b("ImmutableRecordWithV4Types").Record;c=a({CroppedAreaImageHeightPixels:0,CroppedAreaImageWidthPixels:0,CroppedAreaLeftPixels:0,CroppedAreaTopPixels:0,FullPanoHeightPixels:0,FullPanoWidthPixels:0,InitialViewHeadingDegrees:0,InitialViewPitchDegrees:0,InitialViewRollDegrees:0,InitialViewVerticalFOVDegrees:0,PoseHeadingDegrees:0,PosePitchDegrees:0,PoseRollDegrees:0,PreProcessCropLeftPixels:0,PreProcessCropRightPixels:0,ProjectionType:"equirectangular",RendererProjectionType:"equirectangular"});e.exports={makePhotosphereMetadata:c}}),null);
__d("SphericalPhotoPartialLimits",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null});e.exports={getPartialLimits:function(a){__p&&__p();var b=Number(a.croppedAreaImageHeightPixels)||0,c=Number(a.croppedAreaImageWidthPixels)||0,d=Number(a.croppedAreaLeftPixels)||0,e=Number(a.croppedAreaTopPixels)||0,f=Number(a.fullPanoHeightPixels)||0;a=Number(a.fullPanoWidthPixels)||0;var h,i,j,k;if(c!==0&&c!==a&&c+d<=a){c=360*c/a;j=180*(1-2*d/a);k=c-j}b!==0&&b!==f&&b+e<=f&&(e!==0&&(h=90*(1-2*e/f)),e+b!==f&&(i=180*(e+b-f/2)/f));return g({partialTopDegrees:h,partialBottomDegrees:i,partialLeftDegrees:j,partialRightDegrees:k})},normalizePhotoRendererViewWithPartialLimits:function(a,b){__p&&__p();var c=b.partialLeftDegrees,d=b.partialRightDegrees,e=b.partialTopDegrees;b=b.partialBottomDegrees;if(c||c===0){c=-1*c;a.yaw<c&&(a.yaw=c)}if(d||d===0){c=d;a.yaw>c&&(a.yaw=c)}d=e||e===0;c=b||b===0;e=e||0;b=-1*(b||0);d&&(a.pitch>e&&(a.pitch=e));c&&(a.pitch<b&&(a.pitch=b));d&&c&&(e<0&&e<b?a.pitch=b:b>0&&e<b&&(a.pitch=e));return a},normalizeViewWithPartialLimits:function(a,b){__p&&__p();var c=b.partialLeftDegrees,d=b.partialRightDegrees,e=b.partialTopDegrees;b=b.partialBottomDegrees;if(c){c=-1*(c-a.fov/2);a.yaw<c&&(a.yaw=c)}if(d){c=d-a.fov/2;a.yaw>c&&(a.yaw=c)}if(e){d=e-a.fov/2;a.pitch>d&&(a.pitch=d)}if(b){c=-1*(b-a.fov/2);a.pitch<c&&(a.pitch=c)}return a},makePartialLimits:g}}),null);
__d("SphericalPhotoUtils",["PhotoRendererProjection","PhotosphereMetadata","SphericalPhotoPartialLimits"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("PhotoRendererProjection").PERSPECTIVE,h=b("PhotosphereMetadata").makePhotosphereMetadata,i=b("SphericalPhotoPartialLimits").makePartialLimits,j={getMetadataFromGraphQLResult:function(a){return{CroppedAreaImageHeightPixels:a.cropped_area_image_height_pixels!=null?a.cropped_area_image_height_pixels.toString():null,CroppedAreaImageWidthPixels:a.cropped_area_image_width_pixels!=null?a.cropped_area_image_width_pixels.toString():null,CroppedAreaLeftPixels:a.cropped_area_left_pixels!=null?a.cropped_area_left_pixels.toString():null,CroppedAreaTopPixels:a.cropped_area_top_pixels!=null?a.cropped_area_top_pixels.toString():null,FullPanoHeightPixels:a.full_pano_height_pixels!=null?a.full_pano_height_pixels.toString():null,FullPanoWidthPixels:a.full_pano_width_pixels!=null?a.full_pano_width_pixels.toString():null,InitialViewHeadingDegrees:a.initial_view_heading_degrees!=null?a.initial_view_heading_degrees.toString():null,InitialViewPitchDegrees:a.initial_view_pitch_degrees!=null?a.initial_view_pitch_degrees.toString():null,InitialViewRollDegrees:a.initial_view_roll_degrees!=null?a.initial_view_roll_degrees.toString():null,InitialViewVerticalFOVDegrees:a.initial_view_vertical_fov_degrees!=null?a.initial_view_vertical_fov_degrees.toString():null,PoseHeadingDegrees:a.pose_heading_degrees!=null?a.pose_heading_degrees.toString():null,PosePitchDegrees:a.pose_pitch_degrees!=null?a.pose_pitch_degrees.toString():null,PoseRollDegrees:a.pose_roll_degrees!=null?a.pose_roll_degrees.toString():null,PreProcessCropLeftPixels:null,PreProcessCropRightPixels:null,ProjectionType:a.projection_type,RendererProjectionType:g}},calculatePartialLimits:function(a){__p&&__p();var b=a.FullPanoHeightPixels,c=a.FullPanoWidthPixels,d=a.CroppedAreaImageWidthPixels,e=a.CroppedAreaImageHeightPixels,f=a.CroppedAreaLeftPixels;a=a.CroppedAreaTopPixels;b=j.parseNumber(b);c=j.parseNumber(c);d=j.parseNumber(d);e=j.parseNumber(e);f=j.parseNumber(f);a=j.parseNumber(a);var g,h,k,l;if(d!==0&&d!==c){d=360*d/c;d<350&&(g=180*(1-2*f/c),h=d-g)}e!==0&&e!==b&&(a!==0&&(k=90*(1-2*a/b)),a+e!==b&&(l=180*(a+e-b/2)/b));f=null;c=null;d=null;a=null;k&&k<87.5&&(c=k);l&&l<87.5&&(f=l);g&&(d=g);h&&(a=h);return i({partialTopDegrees:c,partialBottomDegrees:f,partialLeftDegrees:d,partialRightDegrees:a})},parseNumber:function(a){return a?Number(a):0},getThumbnailsFromPhotoEncodings:function(a){a=a.find(function(a){return a.projection_type===g});var b=null,c=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;b=a[0]?a[0].uri:null;c=a[1]?a[1].uri:null}return{smallThumbnail:b,largeThumbnail:c}},photosphereMetadataStringToNumber:function(a){var b={};Object.keys(a).forEach(function(c){switch(c){case"ProjectionType":b.ProjectionType=a.ProjectionType;break;case"RendererProjectionType":b.RendererProjectionType=a.RendererProjectionType;break;default:b[c]=parseInt(a[c],10)}});return h(b)}};e.exports=j}),null);
__d("ChatPhotoViewFooterHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerSharedPhotoReact.re").component,i=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings;a=b("React").PropTypes;var j=200,k=74,l=140,m=30;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={currentPhoto:"",prevScrollLeft:0,scrollLeft:0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.width&&this.props.updateNumberInOneBatch(this.$2(this.props.width)),this.$1=new(b("Animation"))(this.refs.childContainer).to("scrollLeft",0).duration(j).go()};d.UNSAFE_componentWillReceiveProps=function(a){if(a.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==a.sharedPhotos.length){var b=a.width?(a.width-k)/2-l:0,c=a.sharedPhotos.findIndex(function(b){return b.node.id===a.photoID});this.setState({currentPhoto:a.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:c*k-b})}a.width!=this.props.width&&this.props.updateNumberInOneBatch(this.$2(a.width))};d.componentDidUpdate=function(){this.$1&&this.$1.from("scrollLeft",this.state.prevScrollLeft).to("scrollLeft",this.state.scrollLeft).duration(j).go()};d.componentWillUnmount=function(){this.$1&&this.$1.stop()};d.shouldComponentUpdate=function(a,b){return a.photoID!=this.state.currentPhoto||a.sharedPhotos.length!==this.props.sharedPhotos.length?!0:!1};d.render=function(){__p&&__p();var a=this,c=this.props.sharedPhotos;c=c.map(function(c){var d,e=c.node.photo_encodings?c.node.photo_encodings.length!==0:!1;d=(d=c)!=null?(d=d.node)!=null?(d=d.image1)!=null?d.uri:d:d:d;if(e){var f=i(c.node.photo_encodings);f=f.smallThumbnail;d=f||d}return!d?null:b("React").createElement("div",{className:"_1oyb",key:c.node.legacy_attachment_id},b("React").createElement(h,{className:"_1oyc"+(a.state.currentPhoto!==c.node.id?" _1oyd":""),fbid:c.node.legacy_attachment_id,onClick:a.props.onScroll,uri:d,isSpherical:e}))});return b("React").createElement("div",{className:"_1oye"},b("React").createElement("div",{className:"_1oyf",ref:"childContainer"},b("React").createElement("div",{className:"_1oyh",ref:"scrollable"},c)))};d.$2=function(a){return a?Math.ceil((a-l*2)/k):m};return c}(b("React").Component);c.propTypes={onScroll:a.func,photoID:a.string,sharedPhotos:a.array,updateNumberInOneBatch:a.func,width:a.number};e.exports=c}),null);
__d("XForwardingNUXSeenController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/forwarding_nux_seen/",{})}),null);
__d("MessagingForwardingButtonNUX.react",["AsyncRequest","ChatConfig","React","XForwardingNUXSeenController","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showNUX:!b("ChatConfig").get("seen_forwarding_nux")},d.$1=function(){if(!d.state.showNUX)return;b("ChatConfig").set("seen_forwarding_nux",!0);new(b("AsyncRequest"))(b("XForwardingNUXSeenController").getURIBuilder().getURI()).send();d.setState({showNUX:!1})},d.close=function(){d.$1()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,onCloseButtonClick:this.$1,position:"left",width:"auto",shown:this.state.showNUX},this.props.children)};return c}(b("React").Component);c.propTypes={contextRef:a.func.isRequired};e.exports=c}),null);
__d("MessengerPhotoViewCloseLinkReact.bs",["cx","fbt","React","TooltipLink.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.onClick;var c=b("React").createElement("span",void 0,h._("Appuyez sur \u00c9chap pour fermer"));return b("React").createElement(b("TooltipLink.react"),{children:b("React").createElement("div",{className:"_387s"}),className:"_51ok _50-m _51an",onClick:a,tooltip:c})}c=a;f.make=c}),null);
__d("MessengerPhotoViewCloseLinkReact.re",["MessengerPhotoViewCloseLinkReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerPhotoViewCloseLinkReact.bs").make;f.make=a}),null);
__d("SpotlightViewerBottomBarLink",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.className||"_4_8j _4_8k";return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,{className:a}),this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("ChatPhotoViewHeader.react",["cx","fbt","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink","WorkModeConfig"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerPhotoViewCloseLinkReact.re").make;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.$2(),c.props.showForwardDialog&&c.props.showForwardDialog()},c.$4=function(){c.$2(),c.props.showShareDialog&&c.props.showShareDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_51an _50-m _3h_t _5l-3",role:"banner"},this.$1(),b("React").createElement(i,{onClick:this.props.onClose}))};d.$2=function(){this.refs.forwardNUX&&this.refs.forwardNUX.close()};d.$1=function(){var a=this,c,d,e;this.props.disableForward||(c=b("React").createElement(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",onClick:this.$3,ref:"forwardButton"},b("React").createElement("div",{className:"_3h_v _3h_w"}),h._("Transf\u00e9rer")),d=b("React").createElement(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX"},h._("Envoyer cette image \u00e0 d\u2019autres personnes dans des messages s\u00e9par\u00e9s.")));this.props.enableShareToFB&&(e=b("React").createElement("div",{className:"_3h_u",onClick:this.$4,ref:"shareButton",role:"button",tabIndex:"0"},b("React").createElement("div",{className:"_3tth _3h_w"}),this.$5()));return b("React").createElement("div",{key:"buttonsContainer",ref:"buttons"},b("React").createElement(b("SpotlightViewerBottomBarLink"),{className:"_3h_u",rel:"async",ajaxify:this.props.url,ref:"downloadButton"},b("React").createElement("div",{className:"_3h_x _3h_w"}),h._("T\u00e9l\u00e9charger")),c,d,e,b("React").createElement("div",{className:"_3h_u",onClick:this.props.openInfo,ref:"moreInfo",role:"link",tabIndex:"0"},b("React").createElement("div",{className:"_3h_y _3h_w"}),h._("Infos")))};d.$5=function(){if(b("WorkModeConfig").is_work_user)return h._("Partager sur Workplace");else return h._("Partager sur Facebook")};return c}(b("React").PureComponent);c.propTypes={disableForward:a.bool,enableShareToFB:a.bool,onClose:a.func,openInfo:a.func,showForwardDialog:a.func,showShareDialog:a.func,url:a.object};e.exports=c}),null);
__d("ChatSpeakingSticker.react",["React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("ReactDOM").findDOMNode(d.refs.stickerVideo);a.play()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{onClick:this.$1,role:"presentation"},b("React").createElement("video",{height:this.props.videoSize.height,ref:"stickerVideo",width:this.props.videoSize.width},b("React").createElement("source",{src:this.props.videoURI})))};return c}(b("React").PureComponent);c.propTypes={videoURI:a.string.isRequired,videoSize:a.shape({height:a.number,width:a.number}).isRequired};e.exports=c}),null);
__d("MercuryTypingAnimation_DEPRECATED.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_4a0v _1x3z",this.props.className)},b("React").createElement("div",{className:"_4b0g"},b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ChatTypingIndicator.react",["cx","fbt","Image.react","MercuryIDs","MercuryTypingAnimation_DEPRECATED.react","MessengerParticipants.bs","MessengerPersonas.bs","QE2Logger","React","ReactComponentWithPureRenderMixin"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ChatTypingIndicator",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{setBubbleRef:a.func,isOnline:a.bool,userID:a.string,showName:a.bool},componentDidMount:function(){b("QE2Logger").logExposureForUser("messenger_growth_tombstone")},render:function(){var a,c=this.getPersona();this.props.userID&&(a=b("MessengerParticipants.bs").getNow(this.props.userID));return!a&&!c?null:b("React").createElement("div",{className:"_4tdt"},i(a,c),this._renderBubble())},getPersona:function(){var a=this.props.userID;return!a?null:b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(a))},_renderBubble:function(){var a=this.props,c=a.setBubbleRef;a=a.showName;return b("React").createElement("div",{className:"_4tdv"},b("React").createElement("div",{className:"_5wd4 _1nc7 _2cnu"+(a?" _5ysy":"")},b("React").createElement("div",{className:"_5wd9 _n4o"},b("React").createElement("div",{className:"_5w1r _5wdf _3_om"},b("React").createElement(b("MercuryTypingAnimation_DEPRECATED.react"),{className:"_5x7x",ref:c})))))}});function i(a,c){var d=c?c.name:a?a.name:null;c=c?c.profile_picture_url:a?a.image_src:null;a=a?a.href:null;d=h._("{name}",[h._param("name",d)]);return b("React").createElement("div",{className:"_31o4 _3njy"},b("React").createElement("a",{"aria-label":d,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":d,"data-tooltip-position":"left",href:a||"#",ref:"link"},b("React").createElement(b("Image.react"),{src:c,ref:"image"})))}e.exports=c}),null);
__d("MessengerTypingUtils.bs",["bs_belt_Map","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return b("bs_belt_Map").keysToArray(b("bs_js_primitive").valFromOption(a));else return[]}f.getTypingUserIDs=a}),null);
__d("ChatTypingIndicators.react",["cx","fbt","ChatConfig","ChatTypingIndicator.react","CurrentUser","DOM","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerPersonas.bs","MessengerState.bs","MessengerTypingUtils.bs","React","ReactDOM","TooltipData","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.bubbleRefs={},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.shouldComponentUpdate=function(a){return a.threadID!==this.props.threadID||a.viewer!==this.props.viewer||a.rootClassName!==this.props.rootClassName||a.typingUserIDs!==this.props.typingUserIDs};d.componentDidUpdate=function(){__p&&__p();var a=this,c=b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs);c.length>0?this.props.indicatorsDidShow():this.props.indicatorsDidHide();b("MessengerParticipants.bs").getMulti(c,function(d){a.$1&&c.forEach(function(c){var e=d[c],f=a.bubbleRefs[c];if(f&&e){c=b("MessengerPersonas.bs").getNow(b("MercuryIDs").getUserIDFromParticipantID(c));c=c?c.name:e.short_name;b("TooltipData").set(b("ReactDOM").findDOMNode(f),a.renderTooltip(c),"above","left")}})})};d.$2=function(){var a=this,c=b("MercuryIDs").isGroupChat(this.props.threadID);return b("React").createElement("div",{className:this.props.rootClassName},b("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs).sort().map(function(b){return a.$3(b,!!c)}))};d.render=function(){if(!b("MercuryIDs").isValid(this.props.threadID))return null;var a=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),this.props.threadID);if(a&&!a.is_subscribed)return null;a=b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;if(!a&&b("ChatConfig").getBool("chat_tab_has_gradients"))return b("React").createElement("div",{className:"_4gd0"},this.$2());else return this.$2()};d.$3=function(a,c){var d=this,e=this.props.indicatorClass;return b("React").createElement(e,{key:a,setBubbleRef:function(b){d.bubbleRefs[a]=b},showName:c,userID:a})};d.renderTooltip=function(a){var c=b("DOM").create("span");b("ReactDOM").render(b("React").createElement("span",null,h._("{name} est en train d\u2019\u00e9crire...",[h._param("name",a)])),c);return c};return c}(b("React").Component);a.defaultProps={indicatorClass:b("ChatTypingIndicator.react"),indicatorsDidShow:b("emptyFunction"),indicatorsDidHide:b("emptyFunction")};e.exports=a}),null);
__d("FantaPageGreetingLoader.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React","getPageIDFromThreadID"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.thread;a=a.threadID;if(c!=null){c=((c=c)!=null?c.is_canonical_neo_user:c)||!1;if(c)return null}else return null;return b("getPageIDFromThreadID")(a)?b("React").createElement("div",{className:"_7bl4"},b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MercuryPagesGreetingContainer.react").__setRef("FantaPageGreetingLoader.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{threadID:a})})):null};e.exports=a}),null);
__d("WorkBotLandingPageHelper",["MessagingGenericAdminTextType","MessengerMessageArray.bs","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("immutable").List;function a(a){__p&&__p();var c;if(b("MessengerMessageArray.bs").size(a)===0)return!0;if(b("MessengerMessageArray.bs").size(a)>1)return!1;a=b("MessengerMessageArray.bs").last(a);c=(c=a)!=null?(c=c.log_message_data)!=null?c.message_type:c:c;if(c===b("MessagingGenericAdminTextType").WORK_BOT_INSTALLED){a=(c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.show_landing_page:c:c:c;return a===!0}return!1}function c(a){__p&&__p();var c;if(a.size===0)return!0;if(a.size>1)return!1;a=a.last();c=(c=a)!=null?(c=c.log_message_data)!=null?c.message_type:c:c;if(c===b("MessagingGenericAdminTextType").WORK_BOT_INSTALLED){a=(c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.show_landing_page:c:c:c;return a===!0}return!1}e.exports={shouldShowBotLandingPage:c,shouldShowBotLandingPageArray:a}}),null);
__d("MessengerStateProcessor",["CurrentUser","MercuryAPIArgsSource","MercuryIDs","MercuryParticipantTypes","MercuryThreadIDMap","MercuryVanityIDMap.bs","MessengerParticipants.bs","MessengerState.bs","MessengerURIConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={preprocess:function(a){__p&&__p();var c=a.activeThreadID;if(c){var d=b("MercuryIDs").getUserIDFromThreadID(c),e=d&&b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(d));if(e&&e.type!==b("MercuryParticipantTypes").EVENT)a.threadKey=e.vanity||d;else if(d&&!e){e=b("MercuryIDs").getParticipantIDFromUserID(d);a.threadKey=b("MercuryVanityIDMap.bs").hasID(e)?b("MercuryVanityIDMap.bs").getVanity(e):d}else{e=b("MercuryThreadIDMap").get();d=e.getServerIDFromClientIDNow(c);a.threadKey=d||b("MercuryIDs").tokenize(c).value}}delete a.activeThreadID;return a},postprocess:function(a){var c=b("MercuryThreadIDMap").get(),d=g(a.threadKey),e;e=b("MercuryIDs").isValid(d)?d:c.getClientIDFromServerIDNow(d);if(!e){d=b("MessengerParticipants.bs").getIDFromVanityOrFBID(d);d&&(e=b("MercuryIDs").getThreadIDFromParticipantID(d))}e&&(a.activeThreadID=e,a.serverThreadID=c.getServerIDFromClientIDNow(e));delete a.threadKey;return a},supportInboxPostprocess:function(a){a.threadKey&&(a.activeThreadID=b("MercuryIDs").getThreadIDFromSupportInboxItemID(a.threadKey));delete a.threadKey;return a}};function g(a){return!a?null:a.startsWith(b("MessengerURIConstants").GROUP_PREFIX)?a.substr(b("MessengerURIConstants").GROUP_PREFIX.length):a}e.exports=a}),null);
__d("MessengerURISerializer",["CurrentEnvironment","MercuryFilters.bs","MercuryIDs","MessagingTag","MessengerStateProcessor","MessengerURIConstants","MessengerView","URI","WWWBase","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="/?$",h=function(a,c){a.setPath(b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX+c:c)},i=function(a,c){var d=a.getPath();b("CurrentEnvironment").facebookdotcom&&!d.startsWith(b("MessengerURIConstants").FACEBOOK_PREFIX)&&(c=b("MessengerURIConstants").FACEBOOK_PREFIX+c);a.setPath(a.getPath()+c)};a={serialize:function(a){__p&&__p();var c=new(b("URI"))(b("WWWBase").uri);a=b("MessengerStateProcessor").preprocess(a);switch(a.masterView){case b("MessengerView").MASTER.PAYMENT:h(c,b("MessengerURIConstants").PAYMENT_PATH);break;case b("MessengerView").MASTER.PEOPLE:h(c,b("MessengerURIConstants").PEOPLE_PATH);break;case b("MessengerView").MASTER.SUPPORT:h(c,b("MessengerURIConstants").SUPPORT_PATH);break}switch(a.folder){case b("MessagingTag").OTHER:h(c,b("MessengerURIConstants").FILTERED_REQUESTS_PATH);break;case b("MessagingTag").ACTION_ARCHIVED:h(c,b("MessengerURIConstants").ARCHIVED_PATH);break;case b("MessagingTag").PENDING:h(c,b("MessengerURIConstants").MESSAGE_REQUESTS_PATH);break}a.detailView===b("MessengerView").DETAIL.PAYTHREAD?(i(c,b("MessengerURIConstants").PAYMENT_PAY_PATH),a.threadKey&&c.addQueryData("id",a.threadKey)):a.detailView===b("MessengerView").DETAIL.PAYFRIENDPICKER?i(c,b("MessengerURIConstants").PAYMENT_PAY_PATH):a.detailView===b("MessengerView").DETAIL.COMPOSE?i(c,b("MessengerURIConstants").COMPOSE_SUBPATH):a.threadKey?a.masterView===b("MessengerView").MASTER.PAYMENT?(h(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):i(c,b("MessengerURIConstants").THREAD_PREFIX+a.threadKey):a.masterView===b("MessengerView").MASTER.PAYMENT?(h(c,""),delete a.extraQueryParams.id,delete a.extraQueryParams.a,delete a.extraQueryParams.m):i(c,"");a.extraQueryParams&&c.addQueryData(a.extraQueryParams);b("MercuryFilters.bs").isSupportedFilter(a.filter)&&c.addQueryData({filter:a.filter});if(a.query!=null){var d;c.addQueryData((d={},d[a.masterView===b("MessengerView").MASTER.SEARCH?"qa":"q"]=a.query,d))}a.threadIDs&&c.addQueryData({threadIDs:JSON.stringify(a.threadIDs)});a.mid&&c.addQueryData({mid:a.mid});return c},getNonMessengerState:function(){return{notMessenger:!0,filter:b("MercuryFilters.bs").all,folder:b("MessagingTag").INBOX,masterView:b("MessengerView").MASTER.RECENT}},deserialize:function(a){__p&&__p();var c={},d=a.getPath();if(b("CurrentEnvironment").facebookdotcom&&!d.startsWith(b("MessengerURIConstants").FACEBOOK_PREFIX))return this.getNonMessengerState();d=d.replace(b("MessengerURIConstants").FACEBOOK_PREFIX,"");var e;a=a.getQueryData();var f=a.filter,h=a.mid,i=a.q,k=a.qa,l=a.threadIDs;a=babelHelpers.objectWithoutPropertiesLoose(a,["filter","mid","q","qa","threadIDs"]);if(l)try{e=JSON.parse(l)}catch(a){}e?c.threadIDs=e.filter(function(a){return b("MercuryIDs").isValidThreadID(a)}):c.threadIDs=null;d.match("^"+b("MessengerURIConstants").PEOPLE_PATH)?c.masterView=b("MessengerView").MASTER.PEOPLE:d.match("^"+b("MessengerURIConstants").SUPPORT_PATH)?c.masterView=b("MessengerView").MASTER.SUPPORT:d.match("^"+b("MessengerURIConstants").PAYMENT_PATH)?c.masterView=b("MessengerView").MASTER.PAYMENT:k?c.masterView=b("MessengerView").MASTER.SEARCH:c.masterView=b("MessengerView").MASTER.RECENT;d.match("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH)?c.folder=b("MessagingTag").OTHER:d.match("^"+b("MessengerURIConstants").ARCHIVED_PATH)?c.folder=b("MessagingTag").ACTION_ARCHIVED:d.match("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH)?c.folder=b("MessagingTag").PENDING:c.folder=b("MessagingTag").INBOX;if(d.match(b("MessengerURIConstants").COMPOSE_SUBPATH+g))c.detailView=b("MessengerView").DETAIL.COMPOSE;else if(d.match("^"+b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))a&&a.id?(c.threadKey=a.id,c.detailView=b("MessengerView").DETAIL.PAYTHREAD):c.detailView=b("MessengerView").DETAIL.PAYFRIENDPICKER;else{l=j(d);l&&(c.threadKey=l,c.detailView=b("MessengerView").DETAIL.THREAD)}b("MercuryFilters.bs").isSupportedFilter(f)?c.filter=f:c.filter=b("MercuryFilters.bs").all;c.mid=h;c.query=k||i;c.extraQueryParams=a;return c.masterView===b("MessengerView").MASTER.SUPPORT?b("MessengerStateProcessor").supportInboxPostprocess(c):b("MessengerStateProcessor").postprocess(c)}};function j(a){a=a.match(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)"+g);return a&&decodeURIComponent(a[1])}e.exports=a}),null);
__d("WorkGalahadDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(b("ExplicitRegistrationDispatcher"));e.exports=new a({strict:!0})}),null);
__d("WorkGalahadChatChannelActions",["WorkGalahadDispatcher"],(function(a,b,c,d,e,f){"use strict";function a(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_folder",folder:a})}function c(a){b("WorkGalahadDispatcher").dispatch({type:"galahad/chat_change_filter",filter:a})}e.exports={changeFolder:a,changeFilter:c}}),null);
__d("MessengerActions",["invariant","Bootloader","EventProfiler","LogHistory","MercuryIDs","MercuryTypeaheadConstants","MessengerDispatcher","MessengerThreadFetchLoggerUtil","MessengerURISerializer","MessengerView","URI","WorkGalahadChatChannelActions","WorkGalahadSettings","goURI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("keyMirror")({CANCEL_FILE_UPLOAD:null,EMPTY_FILES:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,REMOVE_SHARE_PREVIEW:null,PREPARE_FILES_FOR_SEND:null,REPLACE_STATE:null,SELECT_THREAD:null,UPDATE_MDOT_ME:null,UPDATE_THREAD_TAG:null,UPLOAD_FILE_FAILED:null,UPLOADED_FILE:null}),i=b("LogHistory").getInstance("messenger_actions"),j={Types:h,changeDetailView:function(a){l(function(b){return b.detailView!==a?{detailView:a}:null})},changeMasterView:function(a){l(function(c){if(c.masterView!==a){var d={masterView:a};c.masterView===b("MessengerView").MASTER.SEARCH&&(d.query=void 0,b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){a&&a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_WITH_BACK_BUTTON)},"MessengerActions"));return d}return null})},selectThread:function(a,c){__p&&__p();if(c===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE){!a&&g(0,5146);c=b("MercuryIDs").getUserIDFromThreadID(a);!c&&g(0,5147);var d=new(b("URI"))(),e=d.getQualifiedURI().getSubdomain();d.setDomain("facebook.com").setSubdomain(e).setPath("/"+c).setProtocol("https");window.open(d,"_blank");return}b("EventProfiler").tagCurrentActiveInteractionsAs("MessengerThreadSwitch");b("MessengerDispatcher").dispatch({type:h.SELECT_THREAD,threadID:a});l(function(c){if(c.activeThreadID===a)return null;var d={query:c.query,activeThreadID:a,detailView:b("MessengerView").DETAIL.THREAD,mid:null};a&&(b("MessengerThreadFetchLoggerUtil").markerStart(a),c.query!==void 0&&c.masterView!==b("MessengerView").MASTER.SEARCH&&(d.query=void 0,b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger","MessengerContentSearchFunnelLoggerConstants"],function(a,b){if(!a&&!b)return;a.endFunnel(b.FUNNEL_LOGGER_TAGS.END_BY_CHANGING_THREADS)},"MessengerActions")));return d})},changeState:function(a){b("MessengerDispatcher").dispatch({type:h.REPLACE_STATE,nextState:a})},changeMDotMeReferral:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:j.Types.UPDATE_MDOT_ME,refCode:a,refThreadID:c})},changeThreadTag:function(a,c){a===void 0&&(a=null),c===void 0&&(c=null),b("MessengerDispatcher").dispatch({type:j.Types.UPDATE_THREAD_TAG,messagingTags:a,threadID:c})},changeFolder:function(a){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFolder(a):l(function(b){return b.folder!==a?{folder:a}:null})},changeFilter:function(a){b("WorkGalahadSettings").isGalahadEnabled?b("WorkGalahadChatChannelActions").changeFilter(a):l(function(b){return b.filter!==a?{filter:a}:null})},changeQuery:function(a){l(function(b){return b.query!==a?{query:a}:null})},changeQueryAll:function(a){l(function(c){return c.queryAll!==a?{query:a,masterView:b("MessengerView").MASTER.SEARCH}:null})},searchForMessagesInAThread:function(a,c){var d={query:c,serverThreadID:a,activeThreadID:a,masterView:b("MessengerView").MASTER.SEARCH};l(function(a){return d})},changeMid:function(a){l(function(b){return b.mid!==a?{mid:a}:null})},changeID:function(a){l(function(b){return b.extraQueryParams.id!==a?{extraQueryParams:babelHelpers["extends"]({},b.extraQueryParams,{id:a})}:null})},prepareFilesForSend:function(a,c,d){i.debug("Add files from "+d,a);if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.PREPARE_FILES_FOR_SEND,threadID:a,files:c})},uploadedFile:function(a,c,d){if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.UPLOADED_FILE,threadID:a,uploadID:c,payload:d})},cancelFileUpload:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.CANCEL_FILE_UPLOAD,threadID:a,uploadID:c})},uploadFileFailed:function(a,c){if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.UPLOAD_FILE_FAILED,threadID:a,uploadID:c})},cleanFiles:function(a){i.debug("clean files",a);if(!a)return;b("MessengerDispatcher").dispatch({type:j.Types.EMPTY_FILES,threadID:a})},loadingPreview:function(a,c){b("MessengerDispatcher").dispatch({type:j.Types.LINK_PREVIEW,threadID:a,match:c})},loadingShareData:function(a){b("MessengerDispatcher").dispatch({type:j.Types.LOADING_SHARE_DATA,threadID:a})},loadedShareData:function(a,c){b("MessengerDispatcher").dispatch({type:j.Types.LOADED_SHARE_DATA,threadID:a,attachmentData:c})},removeSharePreview:function(a){b("MessengerDispatcher").dispatch({type:j.Types.REMOVE_SHARE_PREVIEW,threadID:a})}};function k(a,b){return a.detailView==null}function l(a){var c=b("MessengerURISerializer").deserialize(new(b("URI"))(window.location.href));a=a(c);var d=k(c,a);a&&b("goURI")(b("MessengerURISerializer").serialize(Object.assign(c,a)),!1,d)}e.exports=j}),null);
__d("EmojiSticker.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad()};d.render=function(){var a=this.props.emojiImage?this.props.emojiImage:b("React").createElement(b("Image.react"),{src:this.props.sourceURI});return b("React").createElement("div",{"aria-label":this.props.emoji,className:b("joinClasses")(this.props.className,"_383m"),tabIndex:"0"},a)};return c}(b("React").Component);c.propTypes={emoji:a.string,emojiImage:a.any,onAttachmentLoad:a.func,sourceURI:a.string.isRequired};e.exports=c}),null);
__d("MercuryShareAttachmentReactShape",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=a.shape({share_id:a.string,description:a.string,media:a.shape({image:a.string,image_size:a.shape({height:a.number,width:a.number}),duration:a.number,playable:a.bool,source:a.string}),source:a.string,style_list:a.arrayOf(a.string),subattachments:a.array,target:a.object,title:a.string,properties:a.object,uri:a.string,action_links:a.array,messaging_attribution:a.shape({attribution_type:a.string,attribution_id:a.string,name:a.string,icon_url:a.string}),messenger_ctas:a.arrayOf(a.shape({id:a.string,page_id:a.string,action_title:a.string,action_url:a.string,action_open_type:a.number,is_high_confidence:a.bool,is_mutable_by_server:a.bool,user_confirmation:a.bool,native_url:a.string,is_disabled:a.bool,nested_ctas:a.array,webview_metadata:a.object}))}).isRequired;e.exports=c}),null);
__d("MercuryAnimatedShareSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("Vous avez envoy\u00e9 un GIF."):h._("{sender name} a envoy\u00e9 un GIF.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("81849")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryCrisisListingShareSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("span",null,this.props.isViewerSender?g._("Vous avez partag\u00e9 une publication."):g._("{sender_name} a partag\u00e9 une publication.",[g._param("sender_name",this.props.senderName)]))};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryFallbackShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("Vous avez envoy\u00e9 un lien."):a=h._("{sender name} en envoy\u00e9 un lien.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("86988")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryFormProgressShareAttachmentSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a;return(a=this.props)!=null?(a=a.attachment)!=null?(a=a.target)!=null?a.progress:a:a:a};d.render=function(){var a=this.$1(),c=null;a===null?c=g._("Un formulaire a \u00e9t\u00e9 envoy\u00e9"):this.props.isViewerSender?a===100?c=g._("{sender name} a envoy\u00e9 un formulaire.",[g._param("sender name",this.props.senderName)]):c=g._("Vous avez envoy\u00e9 un formulaire."):a===100?c=g._("Vous avez envoy\u00e9 un formulaire."):c=g._("{sender name} a envoy\u00e9 un formulaire.",[g._param("sender name",this.props.senderName)]);return b("React").createElement("span",null,c)};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryFundraiserShareSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("Vous avez partag\u00e9 une collecte de fonds"):h._("{sender name} a partag\u00e9 une collecte de fonds",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("40052")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryInstantGameShareSnippet.react",["cx","fbt","React","StoryAttachmentStyle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.isViewerSender?h._("Vous avez partag\u00e9 un jeu."):h._("{sender name} a partag\u00e9 un jeu avec vous.",[h._param("sender name",this.props.senderName)]),d=this.props.attachment;a=(a=d)!=null?(a=a.style_list)!=null?a[0]:a:a;if(a===b("StoryAttachmentStyle").INSTANT_GAMES_CUSTOM_UPDATE){d=(a=d)!=null?a.title:a;d&&(c=d)}return b("React").createElement("span",{className:"uiIconText _3l6h"},c)};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryLeadFormShareAttachmentSnippet.react",["ix","cx","fbt","Image.react","MercuryShareAttachmentReactShape","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=this.props.senderName||((a=this.props)!=null?(a=a.attachment)!=null?(a=a.target)!=null?(a=a.page)!=null?a.name:a:a:a:a);a=this.props.isViewerSender?i._("Vous avez envoy\u00e9 un formulaire."):i._("{sender name} vous a envoy\u00e9 un formulaire.",[i._param("sender name",a)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:g("404223")}),a)};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryLeadFormUserInfoShareAttachmentSnippet.react",["ix","cx","fbt","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?i._("Vous avez envoy\u00e9 un formulaire."):i._("{sender name} a envoy\u00e9 votre formulaire.",[i._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:g("404223")}),a)};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryMBirthdayReminderShareAttachmentSnippet.react",["MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment.title.split(" ")[0];return b("React").createElement("span",null,"Wish "+a+" a happy birthday.")};return c}(b("React").Component);c.propTypes={attachment:a.object};e.exports=c}),null);
__d("MercuryMessageLiveLocationShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("Vous avez envoy\u00e9 une position actuelle."):a=h._("{sender name} a envoy\u00e9 une position actuelle.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("87068")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryMessageLocationShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;this.props.isViewerSender?a=h._("Vous avez envoy\u00e9 une position."):a=h._("{sender name} a envoy\u00e9 une position.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("87068")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryMessengerInviteShareAttachmentSnippet.react",["cx","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("span",{className:"_3l6h"},this.props.attachment.title)};return c}(b("React").Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("MercuryMontageDirectShareSnippet.react",["cx","fbt","React","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;if(!b("gkx")("676919"))return null;a=(a=this.props)!=null?(a=a.attachment)!=null?(a=a.media)!=null?a.source:a:a:a;var c=null;this.props.isViewerSender?c=a?h._("Vous avez envoy\u00e9 une vid\u00e9o."):h._("Vous avez envoy\u00e9 une photo."):c=a?h._("{sender name} a envoy\u00e9 une vid\u00e9o.",[h._param("sender name",this.props.senderName)]):h._("{sender name} a envoy\u00e9 une photo.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},c)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object]),attachment:a.object};e.exports=c}),null);
__d("MercuryMusicIntegrationAttachmentSnippet.react",["fbt","MercuryFallbackShareAttachmentSnippet.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.attachment.target;if(!c)return b("React").createElement(b("MercuryFallbackShareAttachmentSnippet.react"),this.props);var d=c.title;c=c.app_name;this.props.isViewerSender?a=g._("Vous avez partag\u00e9 \u00ab\u00a0{music title}\u00a0\u00bb \u00e0 partir de {music servvice}.",[g._param("music title",d),g._param("music servvice",c)]):a=g._("{sender name} a partag\u00e9 \u00ab\u00a0{music title}\u00a0\u00bb \u00e0 partir de {music servvice}.",[g._param("sender name",this.props.senderName),g._param("music title",d),g._param("music servvice",c)]);return b("React").createElement("span",null,a)};return c}(b("React").PureComponent);c.propTypes={attachment:a.object,isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryPaymentPlatformSnippet.react",["cx","ix","Image.react","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a;a=(a=this.props)!=null?(a=a.attachment)!=null?(a=a.target)!=null?(a=a.payment_snippet)!=null?a.text:a:a:a:a;return!a?null:b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:h("86988")}),a)};return c}(b("React").Component);c.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isSenderViewer:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryPhotoShareSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("Vous avez envoy\u00e9 une photo."):h._("{sender name} a envoy\u00e9 une photo.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("81849")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryPromotionShareAttachmentSnippet.react",["cx","fbt","ix","Image.react","React","StoryAttachmentStyle"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a,c=this.props.attachment,d=c&&c.target,e=null;a=(a=c)!=null?(a=a.style_list)!=null?a[0]:a:a;this.props.isViewerSender?e=h._("Vous avez envoy\u00e9 une pi\u00e8ce jointe."):e=h._("{sender name} a envoy\u00e9 une pi\u00e8ce jointe.",[h._param("sender name",this.props.senderName)]);a===b("StoryAttachmentStyle").INSTANT_GAMES_LEADERBOARD_UPDATE&&(e=c.title);a=d&&d.message||e;return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("86988")}),a)};return c}(b("React").Component);c.propTypes={senderName:a.oneOfType([a.string,a.object]),attachment:a.object,isViewerSender:a.bool};e.exports=c}),null);
__d("MercurySaleGroupProductItemShareSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("Vous avez envoy\u00e9 un article \u00e0 vendre."):h._("{sender name} a envoy\u00e9 un article \u00e0 vendre.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("86988")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryVideoShareSnippet.react",["cx","fbt","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?h._("Vous avez envoy\u00e9 une vid\u00e9o."):h._("{sender name} a envoy\u00e9 une vid\u00e9o.",[h._param("sender name",this.props.senderName)]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("82423")}),a)};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("MercuryWECAttachmentSnippet.react",["cx","fbt","ix","Image.react","MercuryAttachmentType","MercuryShareAttachmentReactShape","React","idx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(this.props.attachment.subattachments.length===0||this.props.attachment.subattachments[0].target===null||this.props.attachment.subattachments[0].target===void 0)return null;var a=this.props.attachment.subattachments[0].target.attach_type;if(a==b("MercuryAttachmentType").PHOTO){a=this.props.isViewerSender?h._({"*":"Vous avez envoy\u00e9 {number} photos.","_1":"Vous avez envoy\u00e9 1 photo."},[h._plural(this.props.attachment.subattachments.length,"number",this.props.attachment.subattachments.length===1?"a":this.props.attachment.subattachments.length.toString())]):h._({"*":"{sender name} a envoy\u00e9 {number} photos.","_1":"{sender name} a envoy\u00e9 1 photo."},[h._param("sender name",this.props.senderName),h._plural(this.props.attachment.subattachments.length,"number",this.props.attachment.subattachments.length===1?"a":this.props.attachment.subattachments.length.toString())]);return b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:i("81849")}),a)}return null};return c}(b("React").Component);c.propTypes={isViewerSender:a.bool,senderName:a.oneOfType([a.string,a.object]),attachment:b("MercuryShareAttachmentReactShape")};e.exports=c}),null);
__d("MessengerLightweightActionSnippet.react",["cx","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("span",{className:"_3l6h"},this.props.attachment.title)};return c}(b("React").PureComponent);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("MessengerMomentsAppSnippet.react",["cx","ix","Image.react","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment;return!a||!a.target?null:b("React").createElement("span",{className:"uiIconText _3l6h"},b("React").createElement(b("Image.react"),{src:h("86988")}),a.target.snippet)};return c}(b("React").Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.isViewerSender?g._("Vous avez envoy\u00e9 une demande de contact."):g._("{sender name} a envoy\u00e9 une demande de contact.",[g._param("sender name",this.props.senderName)]);return b("React").createElement("span",null,a)};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});e.exports=a}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={renderText:function(a,b){return a?g._("Vous avez envoy\u00e9 un message de Saint-Valentin."):g._("{name} a envoy\u00e9 un message de Saint-Valentin.",[g._param("name",b)])}};e.exports=a}),null);
__d("MessengerLightweightActionUtils",["MercuryAttachmentType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return!!(a&&a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.target&&a.share.target.lwa_type)}function a(a){a=a==null?void 0:a.attachments;return!!(a&&a.length===1&&g(a[0]))}function c(a){return a.attachments[0].share.title}function d(a){return a[0].share.title}e.exports={isLWAMessage:a,isLWAAttachment:g,getCollapsedLWAText:c,getLWASnippetText:d}}),null);
__d("P2PSnippetStringUtils",["fbt","P2PPaymentRequestStatus","P2PTransferStatus"],(function(a,b,c,d,e,f,g){__p&&__p();a={getRequestCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Votre demande de {payment request amount} de {receiver's name} a \u00e9t\u00e9 annul\u00e9e.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("La demande de {requester's name} de {payment request amount} a \u00e9t\u00e9 annul\u00e9e.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("La demande de {payment request amount} de {requester's name} \u00e0 {receiver's name} a \u00e9t\u00e9 annul\u00e9e.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])},getRequestDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver's name} a refus\u00e9 votre demande de {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("Vous avez refus\u00e9 le demande de {payment request amount} de {requester's name}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} a refus\u00e9 la demande de {payment request amount} de {sender's name}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])},getRequestSentSnippet:function(a,b,c,d,e){if(a)return g._("Vous avez demand\u00e9 {amount} \u00e0 {requestee name}",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} vous a demand\u00e9 {amount}.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} a demand\u00e9 {amount} \u00e0 {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])},getRequestSnippetByStatus:function(a,c,d,e,f,g){a=a||b("P2PPaymentRequestStatus").INITED;c=[c,d,e,f,g];switch(a){case b("P2PPaymentRequestStatus").DECLINED:return this.getRequestDeclinedSnippet.apply(this,c);case b("P2PPaymentRequestStatus").TRANSFER_FAILED:case b("P2PPaymentRequestStatus").CANCELED:return this.getRequestCanceledSnippet.apply(this,c)}return this.getRequestSentSnippet.apply(this,c)},getTransferCanceledSnippet:function(a,b,c,d,e){if(a)return g._("Votre paiement de {amount} \u00e0 {receiver_name} a \u00e9t\u00e9 annul\u00e9.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("Le paiement de {amount} de {sender name} a \u00e9t\u00e9 annul\u00e9.",[g._param("sender name",c),g._param("amount",e)]);else return g._("Le paiement de {amount} de {sender_name} \u00e0 {receiver_name} a \u00e9t\u00e9 annul\u00e9.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])},getTransferDeclinedSnippet:function(a,b,c,d,e){if(a)return g._("{receiver_name} n\u2019a pas accept\u00e9 votre paiement de {amount}.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("Vous avez refus\u00e9 le paiement de {amount} de {sender name}.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} n\u2019a pas accept\u00e9 le paiement de {amount} de {sender_name}.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])},getTransferSentSnippet:function(a,b,c,d,e){if(a)return g._("Vous avez envoy\u00e9 {amount} \u00e0 {receiver name}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} vous a envoy\u00e9 {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} a envoy\u00e9 {amount} \u00e0 {receiver name}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])},getTransferSnippetByStatus:function(a,c,d,e,f,g){c=[c,d,e,f,g];d=a||b("P2PTransferStatus").PENDING_SENDER_INITED;switch(d){case b("P2PTransferStatus").CANCELED_DECLINED:return this.getTransferDeclinedSnippet.apply(this,c);case b("P2PTransferStatus").CANCELED_SENDER_RISK:case b("P2PTransferStatus").CANCELED_RECIPIENT_RISK:case b("P2PTransferStatus").CANCELED_SYSTEM_FAIL:case b("P2PTransferStatus").CANCELED_EXPIRED:case b("P2PTransferStatus").CANCELED_SAME_CARD:return this.getTransferCanceledSnippet.apply(this,c)}return this.getTransferSentSnippet.apply(this,c)}};e.exports=a}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAttachmentType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants","StoryAttachmentStyle","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={getAttachmentSnippetType:function(a){__p&&__p();if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){__p&&__p();switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("Vous avez envoy\u00e9 une vid\u00e9o."):g._("{sender name} a envoy\u00e9 une vid\u00e9o.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("Vous avez envoy\u00e9 un message vocal."):g._("{name} a envoy\u00e9 un message vocal.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("Vous avez envoy\u00e9 un sticker."):g._("{name} a envoy\u00e9 un sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("Vous avez envoy\u00e9 une position."):g._("{sender name} a envoy\u00e9 une position.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("Vous avez envoy\u00e9 une position actuelle."):g._("{sender name} a envoy\u00e9 une position actuelle.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){if(!b("gkx")("676919"))return c?g._("Vous avez envoy\u00e9 un lien."):g._("{sender name} en envoy\u00e9 un lien.",[g._param("sender name",d)]);a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("Vous avez envoy\u00e9 une vid\u00e9o."):g._("Vous avez envoy\u00e9 une photo."):a?g._("Voir la vid\u00e9o \u00e9ph\u00e9m\u00e8re de {sender name}.",[g._param("sender name",d)]):g._("Voir la photo \u00e9ph\u00e9m\u00e8re de {sender name}.",[g._param("sender name",d)])}return e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0])?b("MessengerLightweightActionUtils").getLWASnippetText(e):c?g._("Vous avez envoy\u00e9 un lien."):g._("{sender name} en envoy\u00e9 un lien.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("Vous avez envoy\u00e9 une pi\u00e8ce jointe."):g._("{sender name} a envoy\u00e9 une pi\u00e8ce jointe.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("Vous avez envoy\u00e9 une pi\u00e8ce jointe."):g._("{sender name} a envoy\u00e9 une pi\u00e8ce jointe.",[g._param("sender name",d)]);default:return""}},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").VIDEO},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").BUSINESS_MESSAGE_ITEMS)},_hasSticker:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").STICKER},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MESSAGE_LOCATION)},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MESSAGE_LIVE_LOCATION)},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").MONTAGE_DIRECT)},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").ORION)},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,b("StoryAttachmentStyle").ORION_REQUEST)},_hasSingleShareAttachmentOfStyle:function(a,c){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").SHARE&&a[0].share.style_list.indexOf(c)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").SHARE},_hasError:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").ERROR},_hasGift:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").GIFT},_hasFile:function(a){return a.length===1&&a[0].attach_type===b("MercuryAttachmentType").FILE},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type===b("MercuryAttachmentType").PHOTO})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("Vous avez envoy\u00e9 une photo.");else return g._("{name} a envoy\u00e9 une photo.",[g._param("name",b)]);else if(a)return g._({"*":"Vous avez envoy\u00e9 {num_photos} photos.","4":"Vous avez envoy\u00e9 {num_photos} photo."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} a envoy\u00e9 {num_photos} photos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("Vous avez envoy\u00e9 un GIF.");else return g._("{name} a envoy\u00e9 un GIF.",[g._param("name",b)]);else if(a)return g._("Vous avez envoy\u00e9 {num_animated_images} GIF.",[g._param("num_animated_images",c.length)]);else return g._("{name} a envoy\u00e9 {num_animated_images} GIF.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} a envoy\u00e9 une pi\u00e8ce jointe.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("P2PMercuryAttachmentSnippetRendererBase.react",["cx","ix","Image.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("span",{className:"uiIconText _3l6h _3_io"},b("React").createElement(b("Image.react"),{height:12,src:h("94348"),width:12}),this.props.text)};return c}(b("React").Component);c.propTypes={text:a.node};e.exports=c}),null);
__d("P2PMercuryAttachmentSnippet.react",["CurrentUser","MercuryAttachmentSnippetRenderer","P2PMercuryAttachmentSnippetRendererBase.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryAttachmentSnippetRenderer").renderP2PPaymentSnippetText(b("CurrentUser").getID()===this.props.sender.id,this.props.sender.name,this.props.amountWithSymbol,this.props.status,b("CurrentUser").getID()===this.props.receiver.id,this.props.receiver.name);return b("React").createElement(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a})};return c}(b("React").Component);c.propTypes={amountWithSymbol:a.string,receiver:a.object,sender:a.object,status:a.number};c.defaultProps={sender:{},receiver:{}};e.exports=c}),null);
__d("P2PMercuryShareAttachmentSnippet.react",["MercuryShareAttachmentReactShape","P2PMercuryAttachmentSnippet.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment?this.props.attachment.target:{};return b("React").createElement(b("P2PMercuryAttachmentSnippet.react"),a)};return c}(b("React").Component);a.propTypes={attachment:b("MercuryShareAttachmentReactShape")};e.exports=a}),null);
__d("P2PPaymentRequestMercuryAttachmentSnippet.react",["CurrentUser","MercuryAttachmentSnippetRenderer","P2PMercuryAttachmentSnippetRendererBase.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("MercuryAttachmentSnippetRenderer").renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===this.props.requester.id,this.props.requester.name,this.props.formattedAmount,this.props.status,b("CurrentUser").getID()===this.props.requestee.id,this.props.requestee.name);return b("React").createElement(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a})};return c}(b("React").Component);c.propTypes={formattedAmount:a.string.isRequired,requestee:a.object.isRequired,requester:a.object.isRequired,status:a.number.isRequired};e.exports=c}),null);
__d("P2PPaymentRequestMercuryShareAttachmentSnippet.react",["P2PMercuryAttachmentSnippetRendererBase.react","P2PPaymentRequestMercuryAttachmentSnippet.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment,c=a.target;return!c?b("React").createElement(b("P2PMercuryAttachmentSnippetRendererBase.react"),{text:a.title}):b("React").createElement(b("P2PPaymentRequestMercuryAttachmentSnippet.react"),{formattedAmount:c.amountWithSymbol,requestee:c.requestee,requester:c.requester,status:c.currentStatus})};return c}(b("React").Component);e.exports=a}),null);
__d("ServicesAppointmentAvailabilityAttachmentSnippet.react",["fbt","MercuryShareAttachmentReactShape","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("span",null,a.isViewerSender?g._("Vous avez partag\u00e9 vos disponibilit\u00e9s."):g._("{page-name} a partag\u00e9 ses disponibilit\u00e9s.",[g._param("page-name",a.senderName)]))}e.exports=a}),null);
__d("ServicesGenericAdminTextAttachmentSnippet.react",["React"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("React").createElement("span",null)};e.exports=a}),null);
__d("MercuryShareStyleMap",["cx","CurrentUser","JSResource","MercuryShareAttachmentRenderLocations","StoryAttachmentStyle","emptyFunction","gkx","MercuryFallbackShareAttachmentSnippet.react","P2PMercuryShareAttachmentSnippet.react","P2PPaymentRequestMercuryShareAttachmentSnippet.react","MercuryPhotoShareSnippet.react","NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react","MercuryInstantGameShareSnippet.react","MercuryPromotionShareAttachmentSnippet.react","MessengerMomentsAppSnippet.react","MercuryVideoShareSnippet.react","MercuryMessageLocationShareAttachmentSnippet.react","MercuryMessageLiveLocationShareAttachmentSnippet.react","MercuryAnimatedShareSnippet.react","MercurySaleGroupProductItemShareSnippet.react","MercuryPaymentPlatformSnippet.react","MercuryMusicIntegrationAttachmentSnippet.react","MercuryFundraiserShareSnippet.react","MercuryCrisisListingShareSnippet.react","MercuryMessengerInviteShareAttachmentSnippet.react","ServicesAppointmentAvailabilityAttachmentSnippet.react","MessengerLightweightActionSnippet.react","MercuryLeadFormShareAttachmentSnippet.react","MercuryLeadFormUserInfoShareAttachmentSnippet.react","MercuryWECAttachmentSnippet.react","MercuryMBirthdayReminderShareAttachmentSnippet.react","MercuryFormProgressShareAttachmentSnippet.react","ServicesGenericAdminTextAttachmentSnippet.react","MercuryMontageDirectShareSnippet.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map();h.set(b("StoryAttachmentStyle").FALLBACK,{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});b("CurrentUser").isWorkUser()?h.set(b("StoryAttachmentStyle").EVENT,{componentName:"MercuryWorkEventShareAttachment.react",componentLoader:b("JSResource")("MercuryWorkEventShareAttachment.react").__setRef("MercuryShareStyleMap")}):h.set(b("StoryAttachmentStyle").EVENT,{componentName:"MercuryEventShareAttachment.react",componentLoader:b("JSResource")("MercuryEventShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});a={componentName:"P2PMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("P2PMercuryShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])};h.set(b("StoryAttachmentStyle").EVENT_TICKET_ORDER,{componentName:"MercuryEventTicketShareAttachment.react",componentLoader:b("JSResource")("MercuryEventTicketShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _640_"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").EVENT_TICKET_REQUEST,{componentName:"MercuryEventTicketRequestAttachment.react",componentLoader:b("JSResource")("MercuryEventTicketRequestAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _6aka"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").EVENT_ATTENDANCE_CONFIRMATION,{componentName:"MercuryEventAttendanceConfirmationAttachment.react",componentLoader:b("JSResource")("MercuryEventAttendanceConfirmationAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _7jp4"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").ORION,a);if(b("gkx")("678645")){c={componentName:"P2PServerDrivenMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PServerDrivenMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])};h.set(b("StoryAttachmentStyle").PAYMENT_BUBBLE_VIEW,c);h.set(b("StoryAttachmentStyle").P2P_SERVER_BUBBLE,c)}h.set(b("StoryAttachmentStyle").ORION_REQUEST,{componentName:"P2PPaymentRequestMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("P2PPaymentRequestMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("P2PPaymentRequestMercuryShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3-50"]])});h.set(b("StoryAttachmentStyle").INSIGHTS_CHART,{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").RETAIL_RECEIPT,{componentName:"MNCommerceReceiptMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceReceiptMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set(b("StoryAttachmentStyle").NEO_DRAW_AND_GUESS_GAME_REQUEST,{componentName:"NeoDrawAndGuessRequestMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoDrawAndGuessRequestMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _4p_r _5i_d"]])});h.set(b("StoryAttachmentStyle").NEO_INVITATION,{componentName:"NeoInvitationMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoInvitationMercuryShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").PARENT_APPROVED_PLAIN_TEXT_BOT_MESSAGE,{componentName:"ParentApprovedPlainTextBotMessageMercuryShareAttachment.react",componentLoader:b("JSResource")("ParentApprovedPlainTextBotMessageMercuryShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").NEO_KID_INITIATE_FRIENDING,{componentName:"NeoKidInitiateFriendingMercuryShareAttachment.react",componentLoader:b("JSResource")("NeoKidInitiateFriendingMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("NeoKidInitiateFriendingMercuryShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").RETAIL_CANCELLATION,{componentName:"MNCommerceCancelationMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceCancelationMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set(b("StoryAttachmentStyle").RETAIL_SHIPMENT,{componentName:"MNCommerceRetailShipmentShareAttachment.react",componentLoader:b("JSResource")("MNCommerceRetailShipmentShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set(b("StoryAttachmentStyle").RETAIL_SHIPMENT_TRACKING_EVENT,{componentName:"MNCommerceShipmentTrackingEventShareAttachment.react",componentLoader:b("JSResource")("MNCommerceShipmentTrackingEventShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set(b("StoryAttachmentStyle").RETAIL_NOW_IN_STOCK,{componentName:"MNCommerceProductSubscriptionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceProductSubscriptionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set(b("StoryAttachmentStyle").RETAIL_PROMOTION,{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});b("gkx")("678262")&&(h.set(b("StoryAttachmentStyle").INSTANT_GAMES_SHARE_MESSAGE,{componentName:"MessengerGamesShareAttachment.react",componentLoader:b("JSResource")("MessengerGamesShareContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}),h.set(b("StoryAttachmentStyle").INSTANT_GAMES_SHARE_SCORE_MESSAGE,{componentName:"MessengerGamesScoreShareContainer.react",componentLoader:b("JSResource")("MessengerGamesScoreShareContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}),h.set(b("StoryAttachmentStyle").INSTANT_GAMES_CUSTOM_UPDATE,{componentName:"MessengerGamesScoreShareContainer.react",componentLoader:b("JSResource")("MessengerGamesScoreShareContainer.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4niv _205d _28rg"]])}));h.set(b("StoryAttachmentStyle").MOBILE_GAME_THREAD_SHARE,{componentName:"MessengerMobileGameThreadShareMessage.react",componentLoader:b("JSResource")("MessengerMobileGameThreadShareMessage.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryInstantGameShareSnippet.react")}});h.set(b("StoryAttachmentStyle").RETAIL_ITEM,{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});h.set(b("StoryAttachmentStyle").BUSINESS_MESSAGE_ITEMS,{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _28rg"]])});h.set(b("StoryAttachmentStyle").MESSENGER_PLATFORM_MEDIA_ATTACHMENT,{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg _4jj7"]])});h.set(b("StoryAttachmentStyle").H_SCROLL,{componentName:"MNCommerceHScrollMessageAttachment.react",componentLoader:b("JSResource")("MNCommerceHScrollMessageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8ka"]])});h.set(b("StoryAttachmentStyle").MESSENGER_PLATFORM_COMPACT_ITEM,{componentName:"MessengerPlatformVerticalListItemAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListItemAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set(b("StoryAttachmentStyle").MESSENGER_PLATFORM_COVER_ITEM,{componentName:"MessengerPlatformVerticalListItemAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListItemAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set(b("StoryAttachmentStyle").MESSENGER_PLATFORM_BUTTON_LIST,{componentName:"MNCommercePromotionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommercePromotionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _28rg"]])});h.set(b("StoryAttachmentStyle").VERTICAL_ATTACHMENT_LIST,{componentName:"MessengerPlatformVerticalListAttachment.react",componentLoader:b("JSResource")("MessengerPlatformVerticalListAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_205d _5i_d _28rg"]])});h.set(b("StoryAttachmentStyle").RIDE_ORDERED,{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").RIDE_RECEIPT,{componentName:"MercuryFallbackShareAttachment.react",componentLoader:b("JSResource")("MercuryFallbackShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").AIRLINE_UPDATE,{componentName:"MNAirlineUpdateMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineUpdateMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set(b("StoryAttachmentStyle").AIRLINE_ITINERARY,{componentName:"MNAirlineItineraryMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineItineraryMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set(b("StoryAttachmentStyle").AIRLINE_CHECKIN_REMINDER,{componentName:"MNAirlineCheckInMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineCheckInMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});h.set(b("StoryAttachmentStyle").AIRLINE_BOARDING_PASS,{componentName:"MNAirlineBoardingPassMercuryAttachment.react",componentLoader:b("JSResource")("MNAirlineBoardingPassMercuryAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d _8kb"]])});b("gkx")("678646")&&h.set(b("StoryAttachmentStyle").RETAIL_AGENT_ITEM_SUGGESTION,{componentName:"MNCommerceAgentItemSuggestionMercuryShareAttachment.react",componentLoader:b("JSResource")("MNCommerceAgentItemSuggestionMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});d={componentName:"MessengerMomentsAppShareAttachment.react",componentLoader:b("JSResource")("MessengerMomentsAppShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MessengerMomentsAppSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])};h.set(b("StoryAttachmentStyle").MOMENTS_APP_INVITATION,d);h.set(b("StoryAttachmentStyle").MOMENTS_APP_PHOTO_REQUEST,d);h.set(b("StoryAttachmentStyle").GENIE_MESSAGE,{componentName:"GenieMessageShareAttachment.react",componentLoader:b("JSResource")("GenieMessageShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_2wrf"]]),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").MOVIE_BOT_MOVIE_LIST,{componentName:"MovieBotMovieListShareAttachment.react",componentLoader:b("JSResource")("MovieBotMovieListShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").MOVIE_BOT_MOVIE_SHOWTIME_LIST,{componentName:"MovieBotMovieShowtimeListShareAttachment.react",componentLoader:b("JSResource")("MovieBotMovieShowtimeListShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").SHARE_LARGE_IMAGE,{componentName:"MercuryShareLargeImageAttachment.react",componentLoader:b("JSResource")("MercuryShareLargeImageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").IMAGE_SHARE,{componentName:"MercuryImageShareAttachment.react",componentLoader:b("JSResource")("MercuryImageShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPhotoShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});b("CurrentUser").isWorkUser()?h.set(b("StoryAttachmentStyle").VIDEO,{componentName:"MercuryStoryShareAttachment.react",componentLoader:b("JSResource")("MercuryStoryShareAttachment.react").__setRef("MercuryShareStyleMap")}):h.set(b("StoryAttachmentStyle").VIDEO,{componentName:"MercuryVideoShareAttachment.react",componentLoader:b("JSResource")("MercuryVideoShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryVideoShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3duc"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").MESSAGE_LOCATION,{componentName:"MercuryMessageLocationShareAttachment.react",componentLoader:b("JSResource")("MercuryMessageLocationShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMessageLocationShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").MESSAGE_LIVE_LOCATION,{componentName:"MercuryMessageLiveLocationShareAttachment.react",componentLoader:b("JSResource")("MercuryMessageLiveLocationShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMessageLiveLocationShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").ANIMATED_IMAGE_SHARE,{componentName:"MercuryAnimatedShareAttachment.react",componentLoader:b("JSResource")("MercuryAnimatedShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryAnimatedShareSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsFalse});h.set(b("StoryAttachmentStyle").GROUP_SELL_PRODUCT_ITEM,{componentName:"MercurySaleGroupProductItemShareAttachment.react",componentLoader:b("JSResource")("MercurySaleGroupProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercurySaleGroupProductItemShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").COMMERCE_PRODUCT_ITEM,{componentName:"MercuryCommerceProductItemShareAttachment.react",componentLoader:b("JSResource")("MercuryCommerceProductItemShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFallbackShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").PAYMENT_PLATFORM,{componentName:"MercuryPaymentPlatformShareAttachment.react",componentLoader:b("JSResource")("MercuryPaymentPlatformShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPaymentPlatformSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").FINANCIAL_BILL_PAYMENT_REQUEST,{componentName:"MNBillPaymentRequestMercuryShareAttachment.react",componentLoader:b("JSResource")("MNBillPaymentRequestMercuryShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _205d"]])});h.set(b("StoryAttachmentStyle").MUSIC_AGGREGATION,{componentName:"MercuryMusicAttachment.react",componentLoader:b("JSResource")("MercuryMusicAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMusicIntegrationAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _4p_r"]])});h.set(b("StoryAttachmentStyle").VIDEO_SHARE_YOUTUBE,{componentName:"MercuryVideoShareYoutubeAttachment.react",componentLoader:b("JSResource")("MercuryVideoShareYoutubeAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").RTC_CALL_LOG,{componentName:"MercuryRTCShareAttachment.react",componentLoader:b("JSResource")("MercuryRTCShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").FUNDRAISER_PERSON_FOR_PERSON,{componentName:"MercuryFundraiserAttachment.react",componentLoader:b("JSResource")("MercuryFundraiserAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFundraiserShareSnippet.react")}});h.set(b("StoryAttachmentStyle").FUNDRAISER_PERSON_TO_CHARITY,{componentName:"MercuryFundraiserAttachment.react",componentLoader:b("JSResource")("MercuryFundraiserAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFundraiserShareSnippet.react")}});h.set(b("StoryAttachmentStyle").CRISIS_LISTING,{componentName:"MercuryCrisisListingAttachment.react",componentLoader:b("JSResource")("MercuryCrisisListingAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryCrisisListingShareSnippet.react")}});h.set(b("StoryAttachmentStyle").MESSENGER_TEAM_BOT_SHARE,{componentName:"MessengerTeamBotShareAttachment.react",componentLoader:b("JSResource")("MessengerTeamBotShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").MESSENGER_INVITE,{componentName:"MercuryMessengerInviteShareAttachment.react",componentLoader:b("JSResource")("MercuryMessengerInviteShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3thf"]]),getSnippetComponent:function(){return b("MercuryMessengerInviteShareAttachmentSnippet.react")},unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").HIGH_SCHOOL_COMMUNITY_INVITE,{componentName:"MercuryHighSchoolCommunityInviteAttachment.react",componentLoader:b("JSResource")("MercuryHighSchoolCommunityInviteAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3y64"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").PAGES_PLATFORM_BOOKING_MESSAGE,{componentName:"PagesPlatformBookingMessageAttachment.react",componentLoader:b("JSResource")("PagesPlatformBookingMessageAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _3fk6"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").SERVICES_APPOINTMENT_AVAILABILITY,{componentName:"ServicesAppointmentAvailabilityAttachment.react",componentLoader:b("JSResource")("ServicesAppointmentAvailabilityAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("ServicesAppointmentAvailabilityAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _1ocb"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").FRIEND_REQUEST,{componentName:"MercuryMessengerFriendRequestAttachment.react",componentLoader:b("JSResource")("MercuryMessengerFriendRequestAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").CULTURAL_MOMENT_HOLIDAY_CARD,{componentName:"MercuryCulturalMomentHolidayCardAttachment.react",componentLoader:b("JSResource")("MercuryCulturalMomentHolidayCardAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_3duc"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").PAGES_PLATFORM_LEAD_GEN,{componentName:"PagesPlatformLeadGenMercuryShareAttachmentContainer.react",componentLoader:b("JSResource")("PagesPlatformLeadGenMercuryShareAttachmentContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_b4_"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").LIGHTWEIGHT_ACTION,{componentName:"MessengerLightweightActionAttachment.react",componentLoader:b("JSResource")("MessengerLightweightActionAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MessengerLightweightActionSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").JOB_SEARCH_JOB_APPLICATION,{componentName:"JobApplicationMessageBubbleWrapperContainer.react",componentLoader:b("JSResource")("JobApplicationMessageBubbleWrapperContainer.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _1zrz"]]),unwrapInStory:b("emptyFunction").thatReturnsTrue});h.set(b("StoryAttachmentStyle").EVENT_REMINDER,{componentName:"MercuryLightweightEventShareAttachment.react",componentLoader:b("JSResource")("MercuryLightweightEventShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _1z7j"]])});h.set(b("StoryAttachmentStyle").PAGE_MESSENGER_ATTACHMENT,{componentName:"PageMessengerShareAttachment.react",componentLoader:b("JSResource")("PageMessengerShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").LEAD_FORM,{componentName:"MercuryLeadFormShareAttachment.react",componentLoader:b("JSResource")("MercuryLeadFormShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryLeadFormShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").LEAD_FORM_USER_INFO,{componentName:"MercuryLeadFormUserInfoShareAttachment.react",componentLoader:b("JSResource")("MercuryLeadFormUserInfoShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryLeadFormUserInfoShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").ICE_BREAKER,{componentName:"MercuryIceBreakerMessageShareAttachment.react",componentLoader:b("JSResource")("MercuryIceBreakerMessageShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").WEC_MESSAGE,{componentName:"MercuryWECMessageAttachment.react",componentLoader:b("JSResource")("MercuryWECMessageAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryWECAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").M_BIRTHDAY_REMINDER,{componentName:"MercuryMBirthdayReminderShareAttachment.react",componentLoader:b("JSResource")("MercuryMBirthdayReminderShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMBirthdayReminderShareAttachmentSnippet.react")}});h.set(b("StoryAttachmentStyle").PERSONAL_REMINDER,{componentName:"MercuryMPersonalReminderShareAttachment.react",componentLoader:b("JSResource")("MercuryMPersonalReminderShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").PERSONAL_REMINDER_LIST,{componentName:"MercuryMPersonalRemindersListShareAttachment.react",componentLoader:b("JSResource")("MercuryMPersonalRemindersListShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").ARTICLE_MESSAGE,{componentName:"MercuryArticleMessageShareAttachment.react",componentLoader:b("JSResource")("MercuryArticleMessageShareAttachment.react").__setRef("MercuryShareStyleMap"),cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").MESSENGER_FORM_PROGRESS_ATTACHMENT,{componentName:"MercuryFormProgressShareAttachment.react",componentLoader:b("JSResource")("MercuryFormProgressShareAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryFormProgressShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d"]])});h.set(b("StoryAttachmentStyle").SERVICES_GENERIC_ADMIN_TEXT,{componentName:"ServicesGenericAdminTextAttachment.react",componentLoader:b("JSResource")("ServicesGenericAdminTextAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("ServicesGenericAdminTextAttachmentSnippet.react")}});b("CurrentUser").isWorkUser()&&h.set(b("StoryAttachmentStyle").ATTACHED_STORY,{componentName:"MercuryStoryShareAttachment.react",componentLoader:b("JSResource")("MercuryStoryShareAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&h.set(b("StoryAttachmentStyle").AVATAR,{componentName:"MercuryAvatarShareAttachment.react",componentLoader:b("JSResource")("MercuryAvatarShareAttachment.react").__setRef("MercuryShareStyleMap")});b("CurrentUser").isWorkUser()&&h.set(b("StoryAttachmentStyle").UNAVAILABLE,{componentName:"MercuryUnavailableShareAttachment.react",componentLoader:b("JSResource")("MercuryUnavailableShareAttachment.react").__setRef("MercuryShareStyleMap")});b("gkx")("676919")&&h.set(b("StoryAttachmentStyle").MONTAGE_DIRECT,{componentName:"MontageDirectAttachment.react",componentLoader:b("JSResource")("MontageDirectAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryMontageDirectShareSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_1ti9"]])});h.set(b("StoryAttachmentStyle").MENTORSHIP_CURRICULUM_STEP,{componentName:"MentorshipCurriculumStepShareAttachment.react",componentLoader:b("JSResource")("MentorshipCurriculumStepShareAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").MENTORSHIP_DISCUSSION_TOPIC_SET,{componentName:"MentorshipDiscussionTopicSetAttachment.react",componentLoader:b("JSResource")("MentorshipDiscussionTopicSetAttachment.react").__setRef("MercuryShareStyleMap")});h.set(b("StoryAttachmentStyle").MENTORSHIP_H_SCROLL,{componentName:"MentorshipHScrollAttachment.react",componentLoader:b("JSResource")("MentorshipHScrollAttachment.react").__setRef("MercuryShareStyleMap"),getSnippetComponent:function(){return b("MercuryPromotionShareAttachmentSnippet.react")},cx:new Map([[b("MercuryShareAttachmentRenderLocations").MESSENGER,"_5i_d _7qm8 _7qmd"]])});f={getStyleFactory:function(a){__p&&__p();if(!a||!a.style_list)return null;if(a.style_list[0]===b("StoryAttachmentStyle").ATTACHED_STORY){var c=a.subattachments,d=c&&c.length?c[0].style_list:[],e=d.length?this._getStyleMapEntry(d):null,f=c[0];if(Array.isArray(d)&&d.find(function(a){return a===b("StoryAttachmentStyle").VIDEO})){d={video_title:a.title,description:a.description,source:a.source};f=Object.assign({},c[0],d)}if(e&&e.unwrapInStory&&e.unwrapInStory())return{attachment:f,factory:e}}c=this._getStyleMapEntry(a.style_list);return!c?null:{attachment:a,factory:c}},_getStyleMapEntry:function(a){for(var b=0;b<a.length;b++){var c=h.get(a[b]);if(c)return c}return null}};e.exports=f}),null);
__d("MessengerErrorBoundary.react",["cx","fbt","ChatReliabilityInstrumentation","ErrorBoundary.react","LogHistory","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("LogHistory").getInstance("messenger_error_boundary"),j=function(a){return h._({"conversation list":"Impossible d\u2019afficher la liste des conversations.","conversation":"Impossible d\u2019afficher la conversation.","composer":"Impossible d\u2019afficher l\u2019\u00e9diteur.","conversation information":"Impossible d\u2019afficher les informations de la conversation.","attachment":"Impossible d\u2019afficher la pi\u00e8ce jointe.","pinned conversation list":"Impossible d\u2019afficher la liste des conversations \u00e9pingl\u00e9es."},[h._enum(a,{"conversation list":"conversation list",conversation:"conversation",composer:"composer","conversation information":"conversation information",attachment:"attachment","pinned conversation list":"pinned conversation list"})])},k=function(a,c){return function(){return b("React").createElement("div",{className:b("joinClasses")("_5jpt",c)},a)}};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){var e="React error in "+c+" got "+a.message;i.error(e,JSON.stringify(a));b("ChatReliabilityInstrumentation").logERROR(e);d.props.onHandleError&&d.props.onHandleError(a,c)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props,c=a.className,d=a.component;a=babelHelpers.objectWithoutPropertiesLoose(a,["className","component"]);return b("React").createElement(b("ErrorBoundary.react"),babelHelpers["extends"]({},a,{fallbackComponent:k(j(d),c),onHandleError:this.$1,bigRedBox:!0}))};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryShareAttachment.react",["cx","BootloadedComponent.react","DOM","Event","FlexLayout.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareStyleMap","MessengerErrorBoundary.react","React","ReactDOM","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$3=function(a){d.$1(a),b("DOM").scry(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d)),"img").forEach(function(a){var c=b("Event").listen(a,"load",function(){d.$1(a.height),c.remove()})})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.$2=function(a,c){this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER&&!this.props.isSubattachment&&(c=b("joinClasses")("_52mr _2poz _ui9","_4skb",c));return b("React").createElement("div",{className:c},a,this.props.afterDecorators!=null&&this.props.afterDecorators.length>1?b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_7moe"},this.props.afterDecorators):this.props.afterDecorators)};d.render=function(){var a=b("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(!a)return null;var c=a.attachment;a=a.factory;return this.$2(b("React").createElement(b("MessengerErrorBoundary.react"),babelHelpers["extends"]({},this.props,{component:"attachment"}),b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},this.props,{attachment:c,bootloadLoader:a.componentLoader,bootloadPlaceholder:b("React").createElement("div",null),key:(c=this)!=null?(c=c.props)!=null?(c=c.attachment)!=null?c.share_id:c:c:c,module:a.componentName,onComponentLoad:this.$3}))),a.cx&&a.cx.get(this.props.location))};d.$1=function(a){this.props.onComponentLoaded(a)};return c}(b("React").Component);c.propTypes={attachment:b("MercuryShareAttachmentReactShape"),isFromViewer:a.bool,isPageMessage:a.bool,isSponsored:a.bool,isSubattachment:a.bool,isVisible:a.bool,location:a.oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),messageID:a.string,onComponentLoaded:a.func.isRequired,onSelect:a.func,pageID:a.string,threadID:a.string.isRequired,afterDecorators:a.array,timestamp:a.number,author:a.string};c.defaultProps={onComponentLoaded:b("emptyFunction")};e.exports=c}),null);
__d("MessengerErrorAttachment.react",["cx","fbt","CurrentUser","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment.error_msg||h._("Impossible de charger la pi\u00e8ce jointe.");return b("React").createElement("div",{className:"_1o12 _52mr"},b("React").createElement("div",{className:"_1o13"},a,this.$1()))};d.$1=function(){return!this.props.attachment.error_msg&&b("CurrentUser").isEmployee()&&b("CurrentUser").hasWorkUser()&&!b("CurrentUser").isWorkUser()?b("React").createElement("div",null,h._("Elle \u00e9tait probablement destin\u00e9e \u00e0 votre compte \u0040workplace.")):null};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerFileAttachment.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("Link.react"),{className:"_4pcn _2uf4",target:"_blank",href:this.props.attachment.url},b("React").createElement("div",{className:"_2uf5"}),this.props.attachment.name)};return c}(b("React").PureComponent);c.propTypes={attachment:a.object.isRequired};e.exports=c}),null);
__d("MessengerFromViewerUtils",["CurrentUser","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.author===b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID())}e.exports={isFromViewer:a}}),null);
__d("MessengerDotComAndInboxM4Check.bs",["gkx","CurrentUser","MessengerEnvironment"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("686397")&&!b("CurrentUser").isWorkUser()&&b("MessengerEnvironment").messengerui;f.yes=a}),null);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser","MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(){if(b("CurrentUser").isWorkUser())return"#373e4c";else if(b("MessengerDotComAndInboxM4Check.bs").yes)return"#0099ff";else return"#0084ff"}function a(a){a=a.solid_color;if(a==null)return h(0);else return a}f.defaultColor=h;f.customColorOrBlue=a}),null);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","React","gkx","uniqueID","ReactDOMRe.bs","MessengerColors","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){if(b("gkx")("834752")&&b("MessengerDotComAndInboxM4Check.bs").yes)return b("React").createElement("svg",{className:"_7oal",height:"36px",width:"36px",viewBox:"0 0 36 36"},b("React").createElement("path",{id:"Fill-17",d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a}));else return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("path",{id:"Fill-17",d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a}))}var h=b("uniqueID")();function c(a){a=b("ReactDOMRe.bs").Style[1](b("ReactDOMRe.bs").Style[1](b("ReactDOMRe.bs").Style[1](b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(0)),"backgroundAttachment","fixed"),"height","95%"),"width","95%");return b("React").createElement(b("React").Fragment,void 0,b("React").createElement("svg",{style:{height:"100%",position:"absolute",width:"100%"},viewBox:"0 0 36 36"},b("React").createElement("mask",{id:h},b("React").createElement("rect",{height:"100%",width:"100%",fill:"white",x:"0",y:"0"}),b("React").createElement("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:"black"})),b("React").createElement("rect",{height:"100%",width:"100%",fill:"white",mask:"url(#"+(String(h)+")")})),b("React").createElement("div",{style:a}))}f.make=a;f.uniqueId=h;f.makeWithGradient=c}),null);
__d("MessengerHotLikePreviewEvents",["mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";a={START:"start",STOP:"stop",STOP_EMOJI:"stop_emoji",POP:"pop",REMOVE:"remove",FINISH_ANIMATION:"finish_animation",FINISH_EMOJI_ANIMATION:"finish_emoji_animation"};b("mixInEventEmitter")(a,{start:!0,stop:!0,stop_emoji:!0,pop:!0,remove:"remove",finish_animation:"finish_animation",finish_emoji_animation:"finish_emoji_animation"});e.exports=a}),null);
__d("MessengerHotLikeSVGReact.bs",["cx","fbt","cssVar","React","uniqueID","bs_belt_Option","CurrentUser","ReasonReact.bs","joinClasses","MessengerEnvironment"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReasonReact.bs").reducerComponent("MessengerHotLikeSVGReact"),k="transparent",l=h._("Pouce vers le haut");function a(a,c,d){return[j[0],j[1],j[2],j[3],j[4],j[5],j[6],j[7],function(d){var e,f=0;!(c==null)&&c!==""?e=c:f=1;f===1&&(e=b("CurrentUser").isWorkUser()?"#373e4c":b("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");return b("React").createElement("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(a,""),"_1i1j")},b("React").createElement("svg",{"aria-labelledby":d[1][0],role:"img",height:"100%",width:"100%",version:"1.1",viewBox:"0 0 256 256",x:"0px",y:"0px"},b("React").createElement("title",{id:d[1][0]},l),b("React").createElement("g",void 0,b("React").createElement("g",void 0,b("React").createElement("polyline",{fill:k,points:"256,0 258,256 2,258 "}),b("React").createElement("path",{d:"M254,147.1c0-12.7-4.4-16.4-9-20.1c2.6-4.2,5.1-10.2,5.1-18c0-15.8-12.3-25.7-32-25.7h-52c-0.5,0-1-0.5-0.9-1\n                 c1.4-8.6,3-24,3-31.7c0-16.7-4-37.5-19.3-45.7c-4.5-2.4-8.3-3.7-14.1-3.7c-8.8,0-14.6,3.6-16.7,5.9c-1.3,1.4-1.9,3.3-1.8,5.2\n                 l1.3,34.6c0.2,2.8-0.3,5.4-1.6,7.7l-24,47.8c-1.7,3.5-4.2,6.6-7.6,8.5c-3.5,2-6.5,5.9-6.5,9.5v94.8C78,230,94,238,112.3,238h86.1\n                 c13.5,0,22.4-4.5,27.2-13.5c4.4-8.2,3.2-15.8,1.4-21.5c7.4-2.3,14.8-8,16.9-18.3c1.3-6.6-0.7-12.1-2.9-16.2\n                 C247.5,165,254,159.8,254,147.1z",fill:e,stroke:k,strokeLinecap:"round",strokeWidth:"5%"}),b("React").createElement("path",{d:"M56.2,100H13.8C7.3,100,2,105.3,2,111.8v128.5c0,6.5,5.3,11.8,11.8,11.8h42.4c6.5,0,11.8-5.3,11.8-11.8V111.8\n                 C68,105.3,62.7,100,56.2,100z",fill:e})))))},function(){return[b("uniqueID")()]},j[10],function(a,b){return 0},j[12]]}f.component=j;f.cTRANSPARENT=k;f.label=l;f.make=a}),null);
__d("MessengerHotLikeSVGReact.re",["bs_curry","MessengerHotLikeSVGReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerHotLikeSVGReact.bs").component,function(a){return b("bs_curry")._3(b("MessengerHotLikeSVGReact.bs").make,a.className,a.color,a.children)});f.component=a;f["default"]=a}),null);
__d("StickerAssetType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE:"BestEffortImage",SPRITE:"SpriteImage",PADDED_SPRITE:"PaddedSpriteImage"})}),null);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerAssetType","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={SizeTimes:{small:1e3,medium:2e3,large:3e3},getStickerIDForTime:function(a){var c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<this.SizeTimes.small:c=b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<this.SizeTimes.medium:c=b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<this.SizeTimes.large:c=b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return c},getEmojiSizeForTime:function(a){var c=b("EmojiLikeConstants").size.SMALL;a<this.SizeTimes.small?c=b("EmojiLikeConstants").size.SMALL:a<this.SizeTimes.medium?c=b("EmojiLikeConstants").size.MEDIUM:a<this.SizeTimes.large&&(c=b("EmojiLikeConstants").size.LARGE);return c},getMetadataForHotLike:function(a){__p&&__p();var c;switch(a){case b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:c=120;break;case b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:c=84;break;case b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:c=35;break;case b("EmojiLikeConstants").size.LARGE:c=64;break;case b("EmojiLikeConstants").size.MEDIUM:c=64;break;case b("EmojiLikeConstants").size.SMALL:c=32;break}return c?{height:c,width:c}:void 0},getPreviewURI:function(){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString()},getURIWithID:function(a){return b("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString()},getCustomEmojiFromThread:function(a){return a&&a.custom_like_icon}};e.exports=a}),null);
__d("MessengerHotLikePreview.react",["cx","Animation","ChatConfig","EmojiLikeConstants","HotLikeSound","MercuryShareAttachmentRenderLocations","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikePreviewEvents","MessengerHotLikeSVGReact.re","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","React","ReactDOM","StickerConstants","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerHotLikeSVGReact.re").component;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){d.$6=new(b("Animation"))(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))),(!b("ChatConfig").getBool("chat_tab_has_gradients")||d.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(d.$7(-2,2,150,1e3),d.$7(-4,4,100,1e3),d.$7(-10,10,75,1e3)),d.$6.go()},d.$2=function(a,c){__p&&__p();var e=c?b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION:b("MessengerHotLikePreviewEvents").FINISH_ANIMATION;if(d.$8)return;d.$8=!0;c=Date.now()-d.props.since;var f=null;d.props.customLike&&(f=b("MessengerHotLikeUtils").getEmojiSizeForTime(c));var g=b("MessengerHotLikeUtils").getStickerIDForTime(c);b("HotLikeSound").snap(g);c=b("MessengerHotLikeUtils").getMetadataForHotLike(f||g);d.$6.stop();var h=30,i=-10;(g===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||b("ChatConfig").getBool("chat_tab_has_gradients"))&&(h=0,i=0);d.$4.stop().to("width",c.width*1.2).to("height",c.height*1.2).to("rotateZ",h).duration(100).checkpoint().to("width",c.width*.9).to("height",c.height*.9).to("rotateZ",i).duration(100).checkpoint().to("width",c.width).to("height",c.height).to("rotateZ",0).duration(100).ondone(function(){d.props.forGameChat||b("MessengerHotLikePreviewEvents").emit(e,a,g,f)}).go()},d.$3=function(a){b("HotLikeSound").pop(),d.$4.stop().to("width",0).to("height",0).duration(100).ondone(function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").REMOVE,a)}).go()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP,this.$2),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").STOP_EMOJI,this.$2),b("MessengerHotLikePreviewEvents").addListener(b("MessengerHotLikePreviewEvents").POP,this.$3)),b("HotLikeSound").start(),this.$4=new(b("Animation"))(b("ReactDOM").findDOMNode(this)).to("width",80).to("height",80).duration(3e3).go(),this.$5()};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){if(this.props.customLike){var a=this.props.customLike,c=b("MessengerSupportedEmojiUtils").getNewEmojiData(a.emoji,b("EmojiLikeConstants").size.LARGE);c=c?c.url:this.props.customLike.large;a.uri&&(c=a.uri);return b("React").createElement("div",{className:"_4a9g _383m",style:{backgroundImage:"url("+c+")"}})}a=b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient(this.props.thread):b("React").createElement(h,{color:this.props.customColor});return b("React").createElement("div",{className:"_4a9g _576q"},a)};d.$7=function(a,b,c,d){d=Math.floor(d/c);var e;for(var f=0;f<d;f++)e=f%2?a:b,this.$6.to("rotateZ",e).duration(c).checkpoint()};return c}(b("React").Component);c.propTypes={customLike:a.object,forGameChat:a.bool,since:a.number};e.exports=c}),null);
__d("ChatSpeakingStickerReact.bs",["ReasonReact.bs","ChatSpeakingSticker.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatSpeakingSticker.react"),{videoURI:a,videoSize:c},d)}f.make=a}),null);
__d("MercuryAttachmentPayload.bs",["bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c!==void 0?b("bs_js_primitive").valFromOption(c):null;return{app_attribution:null,attach_type:a,blurred_image_uri:null,deduplication_key:null,description:null,icon_type:null,key:c,large_preview_height:null,large_preview_width:null,large_preview_url:null,media:null,metadata:null,message_file_fbid:null,name:null,photo_encodings:null,preview_height:null,preview_uploading:null,preview_url:null,preview_width:null,rel:null,share:null,source:null,target:null,thumbnail_url:null,upload_id:null,uri:null,url:d,video_title:null}}f.create=a}),null);
__d("MessagesViewerSetID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"})}),null);
__d("PhotoStoreCore",[],(function(a,b,c,d,e,f){__p&&__p();var g={actions:{UPDATE:"update"},_photoCache:{},_postCreateCallbacks:{},getPhotoCache:function(a){if(!this._photoCache[a])throw new Error("Photo cache requested for unknown set ID");return this._photoCache[a]},hasBeenCreated:function(a){return!!this._photoCache[a]},clearSetCache:function(a){delete this._photoCache[a],delete this._postCreateCallbacks[a]},getByIndex:function(a,b,c){this.getPhotoCache(a).getItemAtIndex(b,c)},getByIndexImmediate:function(a,b){return this._photoCache[a]?this._photoCache[a].getItemAtIndexImmediate(b):void 0},getItemsInAvailableRange:function(a){var b=this.getAvailableRange(a),c=[];for(var d=b.offset;d<b.length;d++)c.push(this.getByIndexImmediate(a,d));return c},getItemsAfterIndex:function(a,b,c,d){b=this.getCursorByIndexImmediate(a,b);this.fetchForward(a,b,c,d)},getAllByIDImmediate:function(a){var b=this,c=Object.keys(this._photoCache);return c.map(function(c){return b.getByIndexImmediate(c,b.getIndexForID(c,a))}).filter(function(a){return!!a})},getIndexForID:function(a,b){return this._photoCache[a]?this._photoCache[a].getIndexForID(b):void 0},getEndIndex:function(a){a=this.getAvailableRange(a);return a.offset+a.length-1},getCursorByIndexImmediate:function(a,b){b=this.getByIndexImmediate(a,b);return b?this._photoCache[a].getCursorForID(b.id):void 0},hasNextPage:function(a){var b=this.getCursorByIndexImmediate(a,this.getEndIndex(a));return this.getPhotoCache(a).hasNextPage(b)},getAvailableRange:function(a){return this.getPhotoCache(a).getAvailableRange()},hasLooped:function(a){return this.getPhotoCache(a).hasLooped()},fetchForward:function(a,b,c,d){this.getPhotoCache(a).getItemsAfterCursor(b,c,d)},fetchBackward:function(a,b,c,d){this.getPhotoCache(a).getItemsBeforeCursor(b,c,d)},executePostCreate:function(a,b){this._photoCache[a]?b&&b():this._postCreateCallbacks[a]=b},runPostCreateCallback:function(a){var b=this._postCreateCallbacks[a];b&&(b(),delete this._postCreateCallbacks[a])},setPreFetchCallback:function(a,b){this.getPhotoCache(a).setPreFetchCallback(b)},updateData:function(a){var b=a.set_id;!this._photoCache[b]?(this._photoCache[b]=new a.cache_class(a),this.runPostCreateCallback(b)):a.query_metadata.action==g.actions.UPDATE?this._photoCache[b].updateData(a):this._photoCache[b].addData(a)},updateFeedbackData:function(a){var b=Object.keys(a);b.forEach(function(b){return g.getAllByIDImmediate(b).forEach(function(c){c.feedback=a[b].feedback})})},reset:function(){var a=this;Object.keys(this._photoCache).forEach(function(b){return a.clearSetCache(b)})}};e.exports=g}),null);
__d("PhotoStore",["Arbiter","PhotoStoreCore"],(function(a,b,c,d,e,f){b("Arbiter").subscribe("update-photos",function(a,c){b("PhotoStoreCore").updateData(c)}),e.exports=b("PhotoStoreCore")}),null);
__d("MessagesViewer",["AsyncRequest","DOM","MessagesViewerSetID","PhotoStore","React","ReactDOM","ge"],(function(a,b,c,d,e,f){__p&&__p();a={renderSpotlight:function(a,c,d,e){var f=a.setID;f||(f=b("MessagesViewerSetID").MESSAGES);g(b("React").createElement(d,{actorid:a.actorid,dimensions:[a.dimensions],disablepaging:a.disablePaging,disableForward:a.disableForward,forwardDialogComponent:e,open:!0,photoid:a.fbid,reverse:!1,rootClassName:a.rootClassName,setid:f,snapToPhoto:a.snapToPhoto,thumbsrc:a.src}));if(!b("PhotoStore").hasBeenCreated(f)&&a.endpoint){d=new(b("AsyncRequest"))(a.endpoint);c&&d.setRelativeTo(c);d.send()}},renderVideo:function(a){g(a)}};function g(a){var c=b("ge")("messages_viewer");c||(c=b("DOM").create("div",{id:"messages_viewer"}),document.body.appendChild(c));b("ReactDOM").render(a,c,function(){this.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(c)})})}e.exports=a}),null);
__d("MessengerAttachmentViewer",["Bootloader","MessagesViewer","React","Run","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={renderVideo:function(a){b("Bootloader").loadModules(["MessagingVideoViewer.react","MessengerForwardAttachmentDialogReact.bs"],function(c,d){d=d.jsComponent;b("MessagesViewer").renderVideo(b("React").createElement(c,babelHelpers["extends"]({},a,{forwardDialogComponent:d})))},"MessengerAttachmentViewer")},bootstrapWithConfig:function(a,c){b("Bootloader").loadModules(["SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],function(d,e){e=e.jsComponent;b("MessagesViewer").renderSpotlight(a,c,d,e)},"MessengerAttachmentViewer")},preload:function(){b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],b("emptyFunction"),"MessengerAttachmentViewer")})}};e.exports=a}),null);
__d("PhotoProjection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EQUIRECTANGULAR:"equirectangular",CUBESTRIP:"cubestrip",CYLINDRICAL:"cylindrical",TILED_CUBEMAP:"tiled_cubemap",PERSPECTIVE:"perspective",TRANSVERSE_CYLINDRICAL:"transverse-cylindrical"})}),null);
__d("SphericalPhotoViewerInMessengerThreadBootloaded.react",["cx","BootloadedComponent.react","CssBackgroundImage.react","JSResource","PhotoProjection","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("PhotoProjection").PERSPECTIVE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();if(this.props.photoEncodings&&this.props.thumbnail){var a=this.props.photoEncodings.find(function(a){return a.projection_type===h}),c=null,d=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;c=a[0]?a[0].uri:null;d=a[1]?a[1].uri:null}if(this.props.useRenderer&&this.props.width&&this.props.height&&this.props.fbid){a=d||c||this.props.thumbnail;return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoViewerInMessengerThreadWrapper.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),height:this.props.height,width:this.props.width,fbid:this.props.fbid,thumbnail:a,photoEncodings:this.props.photoEncodings,isVisible:this.props.isVisible,onClickHandler:this.props.onClickHandler})}else{a=c||d||this.props.thumbnail;return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SphericalPhotoMessengerThumbnail.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:b("React").createElement(b("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),photoEncodings:this.props.photoEncodings,thumbnail:a})}}return null};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerSphericalPhotoReact.bs",["Utils.bs","ReasonReact.bs","bs_js_null_undefined","SphericalPhotoViewerInMessengerThreadBootloaded.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("SphericalPhotoViewerInMessengerThreadBootloaded.react"),{height:b("bs_js_null_undefined").fromOption(a),width:b("bs_js_null_undefined").fromOption(c),fbid:b("bs_js_null_undefined").fromOption(d),thumbnail:b("bs_js_null_undefined").fromOption(e),photoEncodings:b("bs_js_null_undefined").fromOption(f),isVisible:b("Utils.bs").optionBoolToBool(g),onClickHandler:h,useRenderer:i},j)}f.make=a}),null);
__d("MessengerSpinnerReact.bs",["cx","ix","fbt","Image.bs","ReasonReact.bs","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=h("86853"),k=h("86857"),l=h("86854"),m=b("ReasonReact.bs").statelessComponent("MessengerSpinnerReact");function n(a,c,d,e){__p&&__p();var f=a!==void 0?a:"",g=c!==void 0?c:"blue",h=d!==void 0?d:24,n=function(){var a=h===24;if(a){a=g==="blue";if(a)return j;else return k}else return l};return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],function(){return b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(f,"_3u55 _3qh2"),void 0,i._("Chargement..."),!0,n(0),h,void 0,h,void 0,[]))},m[9],m[10],m[11],m[12]]}a=b("ReasonReact.bs").wrapReasonForJs(m,function(a){var b=a.className,c=a.color;a=a.size;return n(b==null?"":b,c==null?"blue":c,a==null?24:a,[])});c=32;d=24;f.large_size=c;f.medium_size=d;f.blue_src=j;f.grey_src=k;f.large_blue_src=l;f.component=m;f.make=n;f.jsComponent=a}),null);
__d("MessengerPhotoReact.bs",["cx","fbt","bs_curry","Image.bs","React","Utils.bs","cssURL","Link.react","ReasonReact.bs","joinClasses","bs_js_primitive","bs_caml_primitive","MessengerSurfaceType.bs","MercuryAttachmentType","MessengerSpinnerReact.bs","bs_caml_builtin_exceptions","MessengerSurfaceContext.bs","MessengerSphericalPhotoReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,c){__p&&__p();var d=a.metadata;if(d==null)return null;else if(a.attach_type===b("MercuryAttachmentType").VIDEO){var e=c&&!(d.large_preview==null);if(e)return d.large_preview;else return d.inbox_preview}else if(c)return a.large_preview_url;else return a.preview_url}function j(a){if(a==null)return[null,null];else return[a.width,a.height]}function k(a){__p&&__p();var c=window.screen.width>1800;if(b("Utils.bs").isTruthy(a.preview_uploading)){var d=function(b,c){var a=!(b==null);if(a)return b;else return c},e=c&&!(a.large_preview_url==null);if(e)return[d(a.large_preview_width,480),d(a.large_preview_height,480),a.large_preview_url,c];else return[d(a.preview_width,280),d(a.preview_height,280),a.preview_url,c]}else{e=i(a,c);d=!(e==null);var f=a.metadata;if(d&&!(f==null)){d=c&&!(f.large_size==null);d=d?f.large_size:f.inbox_size;f=j(d);return[f[0],f[1],e,c]}else d=1;if(d===1)if(a.preview_url==null){f=a.media;if(f==null)return void 0;else{e=!(f.playable==null)&&!(f.animated_image==null);if(e){d=j(f.animated_image_size);return[d[0],d[1],f.animated_image,c]}else{e=j(f.image_size);return[e[0],e[1],f.image,c]}}}else{d=c&&!(a.large_preview_url==null);if(d)return[a.large_preview_width,a.large_preview_height,a.large_preview_url,c];else return[a.preview_width,a.preview_height,a.preview_url,c]}}}function l(a){__p&&__p();var c=function(a){return""+(String(a)+"")};if(b("Utils.bs").isTruthy(a.preview_uploading)){var d=!(a.preview_url==null);return c(d?0:280)}else{var e=function(a){var b=a[1];a=a[0];if(!(a==null)&&!(b==null))return[a,b]};d=function(a){if(a!==void 0){a=a;return e([a[0],a[1]])}};var f=!(a.media==null);f=f?d(k(a)):e([a.preview_width,a.preview_height]);if(f!==void 0){d=f;return c(b("bs_caml_primitive").caml_float_min(d[1]*b("bs_caml_primitive").caml_float_min(1,450/d[0]),450))}else return void 0}}function m(a){__p&&__p();var c=a.metadata,d=a.isAnimated,e=a.className,f=a.attachment;a=a.isSingle;var g=b("React").useContext(b("MessengerSurfaceContext.bs").context);b("Utils.bs").isTruthy(f.preview_uploading);var h=c[2];if(h==null||!a)return null;else{a=c[3];c=a?window.screen.height*.7:window.screen.height*.65;a=f.preview_url;a=a==null?!1:a.includes("/wec/");g=g===b("MessengerSurfaceType.bs").workQuickchat;g=g?"160px":"100%";c={maxHeight:""+(String(c)+""),maxWidth:g,width:"100%"};var i=f.preview_width;f=f.preview_height;g=!(i==null)&&!(f==null)?{maxWidth:g,paddingTop:(f/i*100).toString()+"%",width:i.toString()+"px"}:c;return b("React").createElement("div",{style:g},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(e,(d?"":"_5pf5")+(a?"":" _7oob")+(a?" _7pdu":"")),"",void 0,void 0,h,void 0,void 0,void 0,b("bs_js_primitive").some(c),[])))}}var n=b("ReasonReact.bs").statelessComponent("MessengerPhoto");function a(a,c,d,e,f,g,i){__p&&__p();var j=a!==void 0?a:"";return[n[0],n[1],n[2],n[3],function(){if(f!==void 0)return b("bs_curry")._1(f,0);else return 0},n[5],n[6],n[7],function(){__p&&__p();var a=k(c);if(a!==void 0){a=a;var f=c.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE,n=!(c.app_attribution==null),o=c.photo_encodings;o=o==null?!1:o.length!==0;var p=(!f||!d)&&!o;if(p){p=a[2];p=p==null?void 0:b("cssURL")(p);var q=d?l(c):void 0;p=[p,q]}else p=[void 0,void 0];q={};var r=p[0];r!==void 0&&(q.backgroundImage=b("bs_js_primitive").valFromOption(r));r=p[1];r!==void 0&&(q.minHeight=b("bs_js_primitive").valFromOption(r));p=q;r=b("Utils.bs").isTruthy(c.preview_uploading);q=r?b("React").createElement("span",{className:"_7atr"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerSpinnerReact.bs").make(void 0,void 0,void 0,[]))):null;r=f?b("MercuryAttachmentType").ANIMATED_IMAGE:void 0;var s=function(){if(g!==void 0)return b("bs_curry")._1(g,c);else return 0},t=function(a){a.preventDefault();return s(0)};if(o){var u=a[2],v=c.metadata,w;if(v==null)w=void 0;else{v=v.fbid;w=v==null?void 0:b("bs_js_primitive").some(v)}v=c.photo_encodings;w=b("ReasonReact.bs").element(void 0,void 0,b("MessengerSphericalPhotoReact.bs").make(400,400,w,u==null?void 0:b("bs_js_primitive").some(u),v==null?void 0:b("bs_js_primitive").some(v),e,s,d,[]))}else w=b("React").createElement(m,{metadata:a,isAnimated:d&&f,className:(n?"_mxz":"")+(d&&!n?" _52mr":"")+(d&&!n?" _1byr":""),attachment:c,isSingle:d});u={"aria-label":h._("Ouvrir la photo"),className:"_4tsl",children:i};v=b("bs_js_primitive").nullable_to_opt(a[2]);v!==void 0&&(u.href=b("bs_js_primitive").valFromOption(v));return b("React").cloneElement(b("React").createElement("div",{className:b("joinClasses")(j,"_4tsk"+(n?" _mxz":"")+(d&&!n?" _52mr":"")+(d&&!n?" _1byr":"")+(b("Utils.bs").isTruthy(c.preview_uploading)&&a[2]==null?" _3etv":"")+(o&&!d?" _3603":"")),role:"presentation",style:p,onClick:t}),{"data-testid":r},b("React").createElement("div",{className:o&&!d?"_64ks":""}),b("React").createElement(b("Link.react"),u),w,q)}else return null},n[9],n[10],n[11],n[12]]}c=280;d=480;e=1800;g=450;var o=m;f.preview_thumbnail_size=c;f.preview_large_size=d;f.large_window_width=e;f.max_photo_width=g;f.getSrcFromAttachment=i;f.sizeToWidthHeight=j;f.extractPreviewMetadata=k;f.getMinHeightForAttachment=l;f.getImageFromMetadata=o;f.component=n;f.make=a}),null);
__d("MessengerFluxReduceDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!1})}),null);
__d("MessengerSharedMediaActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CURRENT_LOADED:null,DELETE_PHOTOS:null,LATEST_LOADED:null,LOAD_CURRENT:null,LOAD_MORE_LATEST:null,LOAD_MORE_PREVIOUS:null,PREVIOUS_LOADED:null}),h="MessengerSharedMedia";a={Types:g,Namespace:h,currentLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.CURRENT_LOADED,namespace:h,data:a})},deletePhotos:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.DELETE_PHOTOS,namespace:h,threadFBID:a,photoFBIDs:c})},loadCurrent:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_CURRENT,namespace:h,threadFBID:a,photoID:c})},loadMorePrevious:function(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_PREVIOUS,namespace:h,threadFBID:a,afterCursor:c,first:d})},loadMoreLatest:function(a,c,d){b("MessengerFluxReduceDispatcher").dispatch({type:g.LOAD_MORE_LATEST,namespace:h,threadFBID:a,beforeCursor:c,last:d})},previousLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.PREVIOUS_LOADED,namespace:h,data:a})},latestLoaded:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:g.LATEST_LOADED,namespace:h,data:a})}};e.exports=a}),null);
__d("MessengerThreadSharedMediaAfterWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1668947383157276"};b.getQueryID=function(){return"515216185516880"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaBeforeWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1712143858865110"};b.getQueryID=function(){return"1694317194012102"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadSharedMediaFindWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1933185426727404"};b.getQueryID=function(){return"237087923629184"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSharedMediaReducer",["MessengerSharedMediaActions","MessengerThreadSharedMediaHelper"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerSharedMediaActions").Types;function a(a,c){__p&&__p();switch(c.type){case g.LOAD_CURRENT:var d=a.get("sharedMedia").get(c.threadFBID);if(d){d=d.edges.find(function(a){return a.node.legacy_attachment_id===c.photoID});if(d)return a}d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.curr)return a;d=l(a,c.threadFBID,"curr",!0);b("MessengerThreadSharedMediaHelper").search(c.threadFBID,c.photoID,function(a){return b("MessengerSharedMediaActions").currentLoaded(a)});return d}return a}function c(a,c){__p&&__p();switch(c.type){case g.LOAD_MORE_PREVIOUS:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.prev)return a;d=l(a,c.threadFBID,"prev",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMorePrevious(c.threadFBID,c.afterCursor,c.first,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});return d}return a}function d(a,c){__p&&__p();switch(c.type){case g.LOAD_MORE_LATEST:var d=a.get("isLoading").get(c.threadFBID);if(!!d&&d.latest)return a;d=l(a,c.threadFBID,"latest",!0);if(d===null)return a;b("MessengerThreadSharedMediaHelper").loadMoreLatest(c.threadFBID,c.beforeCursor,c.last,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)});return d}return a}function f(a,c){__p&&__p();var d;switch(c.type){case g.CURRENT_LOADED:c=c.data;var e=Object.keys(c)[0];c=(c=c[e])!=null?c.message_shared_media:c;d=(d=c)!=null?(d=d.edges)!=null?d.length:d:d;var f=l(a,e,"curr",!1);if(d!==0&&c){d=k(a.get("sharedMedia").get(e),c,0);d=a.get("sharedMedia").set(e,d);f=f.set("sharedMedia",d);d=c.edges[0];b("MessengerThreadSharedMediaHelper").loadMorePrevious(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").previousLoaded(a)});b("MessengerThreadSharedMediaHelper").loadMoreLatest(e,d.cursor,10,function(a){return b("MessengerSharedMediaActions").latestLoaded(a)})}return f}return a}function h(a,b){__p&&__p();switch(b.type){case g.PREVIOUS_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"prev",!1);b=k(a.get("sharedMedia").get(c),b,1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function i(a,b){__p&&__p();switch(b.type){case g.LATEST_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var d=l(a,c,"latest",!1);b=k(a.get("sharedMedia").get(c),b,-1);c=a.get("sharedMedia").set(c,b);d=d.set("sharedMedia",c);return d}return a}function j(a,b){__p&&__p();switch(b.type){case g.DELETE_PHOTOS:var c=b.threadFBID;b=b.photoFBIDs;var d=a.get("sharedMedia").get(c);if(!d||!d.edges)break;var e=new Set(b.map(function(a){return a.toString()}));d.edges=d.edges.filter(function(a){return!e.has(a.node.legacy_attachment_id)});b=a.get("sharedMedia").set(c,d);c=a.set("sharedMedia",b);return c}return a}function k(a,b,c){__p&&__p();var d={};d.count=b.count;if(c===1&&a){var e=a.edges;d.has_previous_page=a.has_previous_page;d.has_next_page=b.page_info.has_next_page;b.edges.length>0?d.edges=e.concat(b.edges):d.edges=e}else if(c===-1&&a){e=a.edges;d.has_previous_page=b.page_info.has_previous_page;d.has_next_page=a.has_next_page;b.edges.length>0?d.edges=b.edges.concat(e):d.edges=e}else d.has_previous_page=b.page_info.has_previous_page,d.has_next_page=b.page_info.has_next_page,b.edges.length>0&&(d.edges=b.edges);return d}function l(a,b,c,d){var e=a.get("isLoading").get(b);e===void 0?(e={},e[c]=d):e[c]=d;c=a.set("isLoading",a.get("isLoading").set(b,e));return c}f={currentLoaded:f,deletePhotos:j,latestLoaded:i,loadCurrent:a,loadMoreLatest:d,loadMorePrevious:c,previousLoaded:h};e.exports=f}),null);
__d("MessengerSharedMediaState",["immutable"],(function(a,b,c,d,e,f){"use strict";a={sharedMedia:b("immutable").Map({}),isLoading:b("immutable").Map({})};c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(a));e.exports=c}),null);
__d("MessengerSharedMediaStore",["FluxReduceStore","MessengerFluxReduceDispatcher","MessengerSharedMediaActions","MessengerSharedMediaReducer","MessengerSharedMediaState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.keys(b("MessengerSharedMediaReducer"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("MessengerSharedMediaState"))()};d.reduce=function(a,c){if(c.namespace!==b("MessengerSharedMediaActions").Namespace)return a;g.forEach(function(d){a=b("MessengerSharedMediaReducer")[d](a,c)});return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("MessengerSharedPhotosAlbumViewPhotoReact.bs",["bs_curry","React","cssURL","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("ReasonReact.bs").statelessComponent("MessengerSharedPhotosAlbumViewPhotoReact");function a(a,c,d,e,f){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){return b("React").createElement("a",{className:a,style:{backgroundImage:b("cssURL")(e)},href:"#",onClick:function(){return b("bs_curry")._1(d,c)}},f)},g[9],g[10],g[11],g[12]]}f.component=g;f.make=a}),null);
__d("MessengerSharedPhotosAlbumViewVScrollReact.bs",["cx","bs_array","bs_curry","React","bs_string","ReactDOM","Animation","bs_caml_array","ReasonReact.bs","bs_js_primitive","bs_caml_builtin_exceptions","MessengerSharedMediaActions","MessengerSharedPhotosAlbumViewPhotoReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var c=a[1],d=c.length;if(d<48){b("MessengerSharedMediaActions").loadMorePrevious(a[0],b("bs_caml_array").caml_array_get(c,c.length-1|0).cursor,48);return 0}else return 0}function i(a){if(a!==void 0){a=b("bs_js_primitive").valFromOption(a);return(a.scrollTop+a.clientHeight|0)>=(a.scrollHeight-20|0)}else throw b("bs_caml_builtin_exceptions").not_found}function j(a){if(a!==void 0)return b("bs_js_primitive").valFromOption(a).scrollTop<=20;else throw b("bs_caml_builtin_exceptions").not_found}function k(a){if(a!==void 0)return b("bs_js_primitive").valFromOption(a).clientHeight;else throw b("bs_caml_builtin_exceptions").not_found}function l(a,c){if(a!==void 0){new(b("Animation"))(b("bs_js_primitive").valFromOption(a)).to("scrollTop",c).duration(200).go();return 0}else return 0}function m(a){var c=a[2][0];if(c!==void 0)return l(a[1][0],b("ReactDOM").findDOMNode(b("bs_js_primitive").valFromOption(c)).offsetTop-70|0);else return 0}function n(a,c){__p&&__p();a=c[2];var d=a[3],e=a[1],f=a[0];c=c[1];var g=e.length;if(i(c[1][0]))if(g<a[2]&&!d.prev){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").caml_array_get(e,e.length-1|0).cursor,48);return 0}else return 0;else if(j(c[1][0])&&!d.latest){b("MessengerSharedMediaActions").loadMoreLatest(f,b("bs_caml_array").caml_array_get(e,0).cursor,48);return 0}else return 0}function o(a){__p&&__p();var c=a[1],d=c[1][0];if(d!==void 0){var e=b("bs_curry")._1(a[0],n);b("bs_js_primitive").valFromOption(d).addEventListener("scroll",e);b("bs_curry")._1(a[4],function(){var a=c[1][0];if(a!==void 0)return b("bs_js_primitive").valFromOption(a).removeEventListener("scroll",e);else return 0})}h(a[2]);d=function(){__p&&__p();if(k(c[3][0])>0){m(c);var a=c[0][0];if(a!==void 0){clearInterval(b("bs_js_primitive").valFromOption(a));c[0][0]=void 0;return 0}else return 0}else return 0};c[0][0]=b("bs_js_primitive").some(setInterval(d,200));return 0}function p(a){a=a[1][0][0];if(a!==void 0){clearInterval(b("bs_js_primitive").valFromOption(a));return 0}else return 0}var q=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerSharedPhotosAlbumViewVScrollReact");function r(a,c){c[1][1][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function s(a,c){c[1][3][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function t(a,c){c[1][2][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function u(a,c,d,e,f,g,h){__p&&__p();var i=function(a){__p&&__p();return b("bs_array").map(function(d){__p&&__p();d=d.node;var e=d.photo_encodings;e=e==null?!1:e.length!==0;var f=d.photo_encodings,h,i=0;if(e&&!(f==null)){f=f.find(function(a){return a.projection_type==="perspective"});if(f!==void 0)if(f.thumbnails.length!==0){f=f.thumbnails;h=b("bs_caml_array").caml_array_get(f,0).uri}else{f=d.image1;h=f==null?void 0:f.uri}else{f=d.image1;h=f==null?void 0:f.uri}}else i=1;if(i===1){f=d.image1;h=f==null?void 0:f.uri}if(h!==void 0){i=d.legacy_attachment_id===g;return b("ReasonReact.bs").element(d.legacy_attachment_id,i?b("bs_curry")._1(a[0],t):void 0,b("MessengerSharedPhotosAlbumViewPhotoReact.bs").make("_3bly"+(e?" _3603":""),d.legacy_attachment_id,c,h,[b("React").createElement("div",{key:b("bs_string").concat("_",[d.legacy_attachment_id,["spherical_gradient",0]]),className:e?"_64ks":""})]))}else return null},d)};return[q[0],q[1],q[2],q[3],o,q[5],p,q[7],function(a){return b("React").createElement("div",{ref:b("bs_curry")._1(a[0],r),className:"_3xo8",onScroll:b("bs_curry")._1(a[0],n)},b("React").createElement("div",{ref:b("bs_curry")._1(a[0],s),className:"_3xoa"},i(a)))},function(){return[[void 0],[void 0],[void 0],[void 0]]},[e,d,f,a],function(a,b){return 0},q[12]]}a=b("ReasonReact.bs").wrapReasonForJs(q,function(a){return u(a.isLoading,a.onClick,a.sharedPhotos,a.threadID,a.totalCount,a.viewedPhoto,[])});c=200;d=48;e=6;g=20;var v=70;f.animationDuration=c;f.imagesToLoad=d;f.photosPerRow=e;f.scrollToEdgeTolerance=g;f.headerHeight=v;f.graduallyLoadPhotos=h;f.isScrolledToBottom=i;f.isScrolledToTop=j;f.getScrollHeight=k;f.scrollTo=l;f.autoScrollWhenLoaded=m;f.handleScroll=n;f.didMount=o;f.willUnmount=p;f.component=q;f.setRefChildContainer=r;f.setRefScrollable=s;f.setRefChild=t;f.make=u;f.jsComponent=a}),null);
__d("MessengerSharedPhotosAlbumView.react",["cx","fbt","MessengerPhotoViewCloseLinkReact.re","MessengerSharedPhotosAlbumViewVScrollReact.bs","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerPhotoViewCloseLinkReact.re").make,j=b("MessengerSharedPhotosAlbumViewVScrollReact.bs").jsComponent;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.props.onClick(c.props.viewedPhoto)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_3bl- _5l-3",ref:"window"},this.$1(),b("React").createElement(j,{isLoading:this.props.isLoading,onClick:this.props.onClick,sharedPhotos:this.props.sharedPhotos,threadID:this.props.threadID,totalCount:this.props.totalCount,viewedPhoto:this.props.viewedPhoto}))};d.$1=function(){return b("React").createElement("div",{className:"_3bm0 _5l-3",ref:"header"},b("React").createElement(b("ShimButton.react"),{className:"_3bm2",onClick:this.$2},b("React").createElement("div",{className:"_3bm3"}),h._("Retour \u00e0 la photo")),b("React").createElement("div",{className:"_3bm4"},h._("Photos partag\u00e9es")),b("React").createElement(i,{onClick:this.props.onCloseSharedPhotos}))};return c}(b("React").Component);c.propTypes={onClick:a.func.isRequired,onCloseSharedPhotos:a.func.isRequired,sharedPhotos:a.arrayOf(a.object).isRequired,totalCount:a.number.isRequired,viewedPhoto:a.string.isRequired,threadID:a.string.isRequired,isLoading:a.object.isRequired};e.exports=c}),null);
__d("MessengerSharedPhotosAlbumViewContainer.react",["FluxContainer","MessengerSharedMediaStore","MessengerSharedPhotosAlbumView.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={edges:[],count:0,isLoading:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia;return{edges:d.get(c.threadID).edges,count:d.get(c.threadID).count,isLoading:a.isLoading.get(c.threadID)}};var d=c.prototype;d.render=function(){return this.state.edges.length===0?null:b("React").createElement(b("MessengerSharedPhotosAlbumView.react"),{onClick:this.props.onClick,onCloseSharedPhotos:this.props.onCloseSharedPhotos,sharedPhotos:this.state.edges,totalCount:this.state.count,viewedPhoto:this.props.viewedPhoto,threadID:this.props.threadID,isLoading:this.state.isLoading})};return c}(b("React").PureComponent);c.propTypes={onClick:a.func.isRequired,onCloseSharedPhotos:a.func.isRequired,viewedPhoto:a.string.isRequired,threadID:a.string};e.exports=b("FluxContainer").create(c,{withProps:!0})}),null);
__d("MessageShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMAGE:"image",PLATFORM_SHARE_CTA:"platform_share_CTA"})}),null);
__d("JsConvert.bs",["bs_curry","bs_js_primitive","expectationViolation","bs_caml_builtin_exceptions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){},h=function(a){},i=function(a){},j=function(a){},k=function(a){},l=function(a){};function a(a){return a}function c(a){if(a==null)return void 0;else return b("bs_js_primitive").some(a)}function d(a){return a}function e(a){if(a==null)return void 0;else return b("bs_js_primitive").some(a)}function m(a){return a}function n(a){if(a==null)return void 0;else return a}function o(a,c){c=b("bs_curry")._1(c,a);if(c)return c[0];else throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bad enum conversion."]}function p(a,c){if(a==null)return void 0;else{c=b("bs_curry")._1(c,a);if(c)return b("bs_js_primitive").some(c[0]);else throw[b("bs_caml_builtin_exceptions").invalid_argument,"Bad enum conversion."]}}f.warnIfNotJsString=g;f.warnIfNotJsStringAndNotNullUndefined=h;f.warnIfNotJsInt=i;f.warnIfNotJsIntAndNotNullUndefined=j;f.warnIfNotJsBool=k;f.warnIfNotJsBoolAndNotNullUndefined=l;f.toString=a;f.toOptString=c;f.toInt=d;f.toOptInt=e;f.toBool=m;f.toOptBool=n;f.toEnum=o;f.toOptEnum=p}),null);
__d("MessengerButtonReact.bs",["cx","bs_curry","React","JsConvert.bs","LinkReact.bs","ReasonReact.bs","joinClasses","bs_js_primitive","bs_js_null_undefined"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c,d){if(a){d.preventDefault();return 0}else if(c!==void 0)return b("bs_curry")._1(c,d);else return 0}var i=b("ReasonReact.bs").statelessComponent("MessengerButtonReact");function j(a){if(a!==void 0)return{color:a}}function k(a,c,d,e,f){c="_3quh _30yy"+(c===0?" _2t_":"")+(c===1?" _2u0":"")+(c===2?" _17u4":"")+(f===1?" _3ay_":"")+(d?" _4zab":"")+(e?" _fy2":"");if(a!==void 0)return b("joinClasses")(c,a);else return c}function l(a,c,d,e,f,g,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v=g!==void 0?g:!1;u=n!==void 0?n:!1;g=q!==void 0?q:0;var w=s!==void 0?s:"",x=function(a){return h(v,f,a)},y=k(l,p,v,u,g),z=j(m);return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();if(r!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,a,y,void 0,void 0,void 0,void 0,void 0,r,void 0,x,void 0,void 0,c,void 0,z,d,e,void 0,o));else{var f=b("joinClasses")("_30vt",w),g={className:y,onClick:x};a!==void 0&&(g["aria-label"]=b("bs_js_primitive").valFromOption(a));c!==void 0&&(g.role=b("bs_js_primitive").valFromOption(c));z!==void 0&&(g.style=b("bs_js_primitive").valFromOption(z));d!==void 0&&(g.tabIndex=b("bs_js_primitive").valFromOption(d));e!==void 0&&(g.target=b("bs_js_primitive").valFromOption(e));g=b("React").createElement("button",g,o);g=b("React").cloneElement(g,{"data-testid":b("bs_js_null_undefined").fromOption(t)});return b("React").createElement("span",{className:f},g)}},i[9],i[10],i[11],i[12]]}function m(a){switch(a){case"danger":return[1];case"default":return[0];default:return 0}}function n(a){switch(a){case"faded":return[2];case"primary":return[0];case"secondary":return[1];default:return 0}}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return l(b("bs_js_primitive").nullable_to_opt(a.ariaLabel),b("JsConvert.bs").toOptString(a.role),b("JsConvert.bs").toOptInt(a.tabIndex),b("JsConvert.bs").toOptString(a.target),b("bs_js_primitive").nullable_to_opt(a.onClick),b("JsConvert.bs").toOptBool(a.disabled),b("JsConvert.bs").toOptString(a.className),b("JsConvert.bs").toOptString(a.color),b("JsConvert.bs").toOptBool(a.customColor),a.label,b("JsConvert.bs").toEnum(a.type,n),b("JsConvert.bs").toOptEnum(a.use,m),b("JsConvert.bs").toOptString(a.href),b("JsConvert.bs").toOptString(a.wrapperClassName),b("JsConvert.bs").toOptString(a.dataTestID),a.children)});f.handleLinkClick=h;f.component=i;f.elementStyle=j;f.interactionElementClassName=k;f.make=l;f.useFromString=m;f.typeFromString=n;f.jsComponent=a}),null);
__d("InstantGameContextType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({THREAD:"THREAD",GROUP:"GROUP",STORY:"STORY",SOLO:"SOLO",LINK:"LINK",MATCH:"MATCH"})}),null);
__d("MNPlatformAttributionTags",[],(function(a,b,c,d,e,f){e.exports={ATTRIBUTION_TAGS_PREFIX:"bnp:trigger:",CUSTOMER_CHAT_PLUGIN:"customer_chat_plugin",MESSENGERDOTCOM:"messengerdotcom",MESSENGER_WEB:"messenger_web",MESSENGER_WEB_SEARCH:"messenger_web_search",M_DOT_ME:"m_dot_me"}}),null);
__d("MessengerStore",["MessengerDispatcher","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=b("MessengerDispatcher").register(this.__onDispatch.bind(this))}var c=a.prototype;c.getDispatchToken=function(){return this.$1};c.emitChange=function(){this.emit("change")};c.destroy=function(){b("MessengerDispatcher").unregister(this.$1)};return a}();b("mixInEventEmitter")(a,{change:!0});e.exports=a}),null);
__d("MessengerAttributionTagsStore",["MessengerActions","MessengerStore"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$MessengerAttributionTagsStore1={messagingTags:null,threadID:null};return b}var d=c.prototype;d.getState=function(){return this.$MessengerAttributionTagsStore1};d.__onDispatch=function(a){switch(a.type){case b("MessengerActions").Types.UPDATE_THREAD_TAG:this.$MessengerAttributionTagsStore1.messagingTags=a.messagingTags;this.$MessengerAttributionTagsStore1.threadID=a.threadID;this.emitChange();break;case b("MessengerActions").Types.SELECT_THREAD:this.$MessengerAttributionTagsStore1.messagingTags=null;this.$MessengerAttributionTagsStore1.threadID=null;this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerDiscoveryLoggingEnums",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRYPOINT_PREFIX:"entrypoint:"})}),null);
__d("MessengerDiscoveryEntryPointsLoggingHelper",["MessengerDiscoveryEntryPoint","MessengerDiscoveryLoggingEnums"],(function(a,b,c,d,e,f){"use strict";a={getEntryPointsLoggingTagStr:function(a){if(a.length==0||Object.values(b("MessengerDiscoveryEntryPoint")).indexOf(a[0])==-1)throw new Error("Please use enums in MessengerDiscoveryEntryPoints class");return b("MessengerDiscoveryLoggingEnums").ENTRYPOINT_PREFIX+a.join(":")}};e.exports=a}),null);
__d("MNPlatformTagsDataManager",["MessagingSourceEnum","MessengerActions","MessengerAttributionTagsStore","MessengerDiscoveryEntryPoint","MessengerDiscoveryEntryPointsLoggingHelper","MNPlatformAttributionTags"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={getTags:function(a){__p&&__p();a===void 0&&(a=null);var c=null,d=null;switch(a){case b("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK:c=b("MNPlatformAttributionTags").M_DOT_ME;break;case b("MessagingSourceEnum").MESSENGER_WEB:c=b("MNPlatformAttributionTags").MESSENGER_WEB;break;case b("MessagingSourceEnum").MESSENGER_WEB_SEARCH:c=b("MNPlatformAttributionTags").MESSENGER_WEB_SEARCH;d=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr([b("MessengerDiscoveryEntryPoint").MESSENGERDOTCOM_WEB_SEARCH]);break;case b("MessagingSourceEnum").CUSTOMER_CHAT_PLUGIN:c=b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN;break;case b("MessagingSourceEnum").PAGE_PLUGIN_MESSAGE:c=b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr([b("MessengerDiscoveryEntryPoint").MESSENGERDOTCOM_PAGES_PLUGIN]);break;default:c="";break}a=[c];d!==null&&a.push(d);return a},updateThreadTabAfterSelectThread:function(a,c){a===void 0&&(a=null);c===void 0&&(c=null);a=this.getTags(a);b("MessengerActions").changeThreadTag(a,c)},hasThreadTags:function(a){var c=b("MessengerAttributionTagsStore").getState();return!!(c.messagingTags&&a&&c.threadID&&c.threadID.toString()===a)},getThreadTags:function(){var a=b("MessengerAttributionTagsStore").getState();return a.messagingTags}}}),null);
__d("MessengerContentSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({BROWSE_MESSAGE_IN_THREAD:"browse_message_in_thread",CHANGE_QUERY:"change_query",END_CONTENT_SEARCH:"end_content_search",INITIATE_CONTENT_SEARCH:"initiate_content_search",LOAD_MORE_THREADS:"load_more_threads",NUM_BROWSE_ACTIONS_WITHIN_THREAD:"num_browse_actions_within_thread",SELECT_THREAD:"select_thread",THREAD_IMPRESSIONS:"thread_impressions",LOAD_MESSAGE_IN_THREAD:"load_message_in_thread",BROWSE_CONTEXT:"browse_context"});b=Object.freeze({SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH:"search_from_integrated_message_search",SEARCH_WITHIN_THREAD:"search_within_thread",SEARCH_ALL_THREADS:"search_all_threads"});c=Object.freeze(babelHelpers["extends"]({},b,{END_WITH_DONE_BUTTON:"end_with_done_button",END_WITH_X_BUTTON:"end_with_x_button",END_WITH_BACK_BUTTON:"end_with_back_button",END_BY_CHANGING_THREADS:"end_by_changing_threads"}));e.exports={FUNNEL_NAME:"WWW_MESSENGER_CONTENT_SEARCH_FUNNEL",FUNNEL_LOGGER_EVENTS:a,FUNNEL_LOGGER_TAGS:c,ENTRY_SURFACES:b}}),null);
__d("MessengerGraphQLTypeaheadAdapter",["fbt","MercuryIDs","MercuryParticipantTypes","MercuryTypeaheadConstants","RelayModern","SearchableEntry","WorkForeignEntityType","qex","MessengerGraphQLTypeaheadAdapter_user.graphql","MessengerGraphQLTypeaheadAdapter_page.graphql","MessengerGraphQLTypeaheadAdapter_group.graphql","MessengerGraphQLTypeaheadAdapter_game.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("RelayModern").graphql;var h=Boolean(b("qex")._("876602")),i=Boolean(b("qex")._("876603"));function j(a){return b("MercuryIDs").isValid(a)?a:b("MercuryIDs").getParticipantIDFromUserID(a)}function k(a){var b=a.scim_company_user&&a.scim_company_user.company_title;a=a.is_viewer_coworker?null:a.work_info&&a.work_info.work_community&&a.work_info.work_community.name;if(a&&b)return a+" \u2022 "+b;else if(a)return a;else if(b)return b;return null}function l(a,b){var c=null;a.members&&a.members.edges&&a.members.edges.length>0?c=a.members.edges.map(function(a){return a.node.name}).join(", "):a.is_work_user?c=k(a):b&&a.is_viewer_friend===!1&&(c=b);return c}var m={convertProfileToEntry:function(a,c){var d;if(!a||!a.id||!a.name)return null;var e=b("MercuryParticipantTypes").NON_FRIEND;d=a.is_viewer_coworker||((d=a.work_foreign_entity_info)!=null?d.type:d)===b("WorkForeignEntityType").NOT_FOREIGN;a.is_work_user&&d?e=b("MercuryParticipantTypes").FB4C:(a.is_viewer_friend||a.messenger_contact.is_on_viewer_contact_list||d&&a.viewer_affinity>0)&&(e=b("MercuryParticipantTypes").FRIEND);d=l(a,c);return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:e,subtitle:d,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMemorializedUser:a.is_memorialized,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified&&h,workForeignEntityInfo:a.work_foreign_entity_info,alias:a.username},order:-a.viewer_affinity})},convertPageToEntry:function(a,c){if(!a||!a.id||!a.name)return null;return a.instant_game_info?this.convertGameToEntry(a,c):new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:c,photo:a.profile_picture&&a.profile_picture.uri,uri:a.url,auxiliaryData:{isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,canViewerMessage:a.can_viewer_message,isVerified:a.is_verified&&i,canViewerAddToGroupChat:a.can_viewer_add_to_group_chat},order:0})},convertGameToEntry:function(a,c){return!a||!a.id||!a.name||!a.instant_game_info?null:new(b("SearchableEntry"))({uniqueID:a.id,title:a.name,type:b("MercuryTypeaheadConstants").GAME_TYPE,photo:a.instant_game_info&&a.instant_game_info.icon_uri,uri:a.instant_game_info&&a.instant_game_info.game_uri,order:0})},convertMessageToEntry:function(a){__p&&__p();if(a==null||a.thread_id==null||a.message_thread==null||a.message_thread.thread==null||a.matched_message==null||a.matched_message.message==null)return null;var c=a.thread_id,d="message:"+c,e=a.message_thread.thread,f=a.matched_message.message,k=a.matched_message,l=f.snippet;a=Number(a.message_thread.approx_count);var n=g._("{number of messages} messages correspondants",[g._param("number of messages",a)]);n=a>1?n:l;l=f.timestamp;typeof l==="number"&&a===1?l*=1e3:l=void 0;a=a==1?(f=k)!=null?(f=f.search_result_context)!=null?f.match_ranges:f:f:null;k={matchRanges:a,timestamp:l,thread_id:c,messageResultType:"1on1Conversation"};f="";a=null;if(e.image!==void 0){e.thread_name&&(f=e.thread_name);e.image&&(a=e.image.uri);if(e.all_participants&&e.all_participants.nodes&&e.all_participants.count){if(f==""){l=e.all_participants.count;var o=e.all_participants.nodes.map(function(a){return a.messaging_actor.name}).filter(Boolean);f=m.getParticipantsText(!0,o,l)}o=e.all_participants.nodes.map(function(a){a=j(a.messaging_actor.id);return{id:a}});k=babelHelpers["extends"]({},k,{messageResultType:"groupConversation",participantsToRender:o,thread:{thread_id:c,image_src:a,participants:o.map(function(a){return a.id})}})}}else if(e.all_participants&&e.all_participants.nodes[0]&&e.all_participants.nodes[0].messaging_actor){l=e.all_participants.nodes[0].messaging_actor;l.name&&(f=l.name);l.profile_picture&&(a=l.profile_picture.uri);typeof l.is_memorialized==="boolean"&&(k.isMemorializedUser=l.is_memorialized);typeof l.is_messenger_user==="boolean"&&(k.isMessengerUser=l.is_messenger_user);typeof l.is_work_user==="boolean"&&(k.isWorkUser=l.is_work_user);typeof l.is_verified==="boolean"&&(l.__typename==="User"?k.isVerified=l.is_verified&&h:l.__typename==="Page"?k.isVerified=l.is_verified&&i:k.isVerified=!1);typeof l.username==="string"&&(k.alias=l.username);l.work_foreign_entity_info&&(k.workForeignEntityInfo=l.work_foreign_entity_info)}return new(b("SearchableEntry"))({uniqueID:d,title:f,subtitle:n,type:b("MercuryTypeaheadConstants").MESSAGE_TYPE,photo:a,uri:null,order:0,auxiliaryData:k})},convertGroupToEntry:function(a,c){__p&&__p();if(!a||!a.thread_key||!a.is_group_thread)return null;var d=a.thread_key.thread_fbid;if(!d)return null;var e=a.image&&a.image.uri,f=a.other_participants.edges.map(function(a){return a.node.messaging_actor.name});f=m.getParticipantsText(!1,f,a.other_participants.count);var g=a.name,h=null;!g?g=f:h=f;if(!g)return null;f={};f.thread={thread_id:d,other_user_fbid:null,image_src:e,participants:a.other_participants.edges.map(function(a){return j(a.node.messaging_actor.id)})};f.participantsToRender=a.other_participants.edges.map(function(a){return{id:j(a.node.messaging_actor.id),is_messenger_user:a.node.messaging_actor.is_messenger_user,is_coworker:a.node.messaging_actor.is_viewer_coworker}});return new(b("SearchableEntry"))({uniqueID:d,order:c,photo:e,title:g,subtitle:h,type:b("MercuryParticipantTypes").THREAD,auxiliaryData:f})},getValidatedMatchesRanges:function(a,b){__p&&__p();if(!Array.isArray(a))return[];a=[].concat(a).filter(function(a){var c=a.length;a=a.offset;if(typeof c!=="number"||typeof a!=="number")return;return c>0&&a>=0&&a+c<=b.length}).sort(function(a,b){return a.offset-b.offset});var c=[];a.forEach(function(a,b){if(b!=0){b=c[c.length-1];b=b.offset+b.length;if(a.offset<b)return}c.push(a)});return c},getParticipantsText:function(a,b,c,d){__p&&__p();d===void 0&&(d=3);if(a===null||c==null)return b.join(", ");var e=1;a||(c+=e);var f=b.length<=d;a=a&&b.length===c;if(f&&a)return b.slice(0,-1).join(", ");f=b.slice(0,d);a=c-e-f.length;return a<1?f.join(", "):g._("{name of the first n participants} et {number of other participants} autres participants",[g._param("name of the first n participants",f.join(", ")),g._param("number of other participants",a)])},userFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_user.graphql")},pageFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_page.graphql")},groupFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_group.graphql")},gameFragment:function(){return b("MessengerGraphQLTypeaheadAdapter_game.graphql")}};e.exports=m}),null);
__d("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2339215389425518"};b.getQueryID=function(){return"339708329890231"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerNewGroupParticipantSuggestionLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(a,c){this.entriesPromise=null,this.orderedFriendEntries=null,this.alreadyParticipatingIDs=null,this.shouldRefetch=!1,this.cursor=null,this.threadFBID=a,this.alreadyParticipatingIDs=c,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){__p&&__p();var c=this;if(this.orderedFriendEntries!==null&&!this.shouldRefetch){a(this.orderedFriendEntries);return}if(this.entriesPromise===null||this.shouldRefetch){var d=this.alreadyParticipatingIDs?this.alreadyParticipatingIDs.toArray():null;d=b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getURI({original_participant_ids:d,count:50});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload().data}).then(function(a){var d=a.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(d);c.orderedFriendEntries=d;d=(d=a)!=null?(d=d.viewer)!=null?(d=d.messenger_contextual_ranked_users)!=null?(d=d.page_info)!=null?d.has_next_page:d:d:d:d;d&&(c.cursor=a.viewer.messenger_contextual_ranked_users.page_info.end_cursor)})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.orderedFriendEntries),c.loadMoreFriends(),c.shouldRefetch=!1},b("emptyFunction"))};c.loadMoreFriends=function(){__p&&__p();var a=this;if(this.cursor==null)return;var c=this.cursor;this.cursor=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerNewGroupParticipantSuggestionQueryWebGraphQLQuery").getLegacyURI({cursor:c})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(c){a.callbackManager.addLocalEntries(c.viewer.messenger_contextual_ranked_users.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.participantsSame=function(a){return this.twoIDsListEquals(this.alreadyParticipatingIDs,a)};c.twoIDsListEquals=function(a,b){return a?b.size!==a.size?!1:b.isSuperset(a):b.size==0};c.setRefetchAndRefreshData=function(a){this.shouldRefetch=!0,this.alreadyParticipatingIDs=a};c.isBootstrapped=function(a){return this.orderedFriendEntries!==null&&this.participantsSame(a)};return a}();a=function(){__p&&__p();a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);!d?(d=new g(a,b),this.threadFBIDToCacheMap.set(a,d)):d.participantsSame(b)||d.setRefetchAndRefreshData(b);d.onEntriesLoaded(c)};b.search=function(a,b,c,d){var e=this.threadFBIDToCacheMap.get(a);!e?(e=new g(a,b),this.threadFBIDToCacheMap.set(a,e)):e.participantsSame(b)||e.setRefetchAndRefreshData(b);e.search(c,d)};b.isBootstrapped=function(a,b){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped(b):!1};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerPaymentFriendsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1959479940789272"};b.getQueryID=function(){return"2171073576453933"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPaymentFriendsLocalCache",["AsyncRequest","MessengerGraphQLTypeaheadAdapter","MessengerPaymentFriendsQueryWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null;a=null;var j={onEntriesLoaded:function(c){__p&&__p();if(i){c(i);return}if(!h){var d=b("MessengerPaymentFriendsQueryWebGraphQLQuery").getURI({first:50});h=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(c){var d=c.data.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});g.addLocalEntries(d);i=d;a=c.data.viewer.all_friends.page_info.end_cursor})}b("promiseDone")(h,function(){c(i)},b("emptyFunction"))},search:function(a,b){j.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return i!==null}};e.exports=j}),null);
__d("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2046569042080039"};b.getQueryID=function(){return"2118248735074331"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomWithAssocObjectAudienceLocalCacheManager",["AsyncRequest","MercurySingletonProvider","MessengerGraphQLTypeaheadAdapter","MessengerRoomWithAssocObjectAudienceWebGraphQLQuery","SearchSourceCallbackManager","TokenizeUtil","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){__p&&__p();function a(a){this.entriesPromise=null,this.audienceEntries=null,this.threadFBID=a,this.callbackManager=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null})}var c=a.prototype;c.onEntriesLoaded=function(a){__p&&__p();var c=this;if(this.audienceEntries!==null){a(this.audienceEntries,!0);return}if(this.entriesPromise===null){var d=b("MessengerRoomWithAssocObjectAudienceWebGraphQLQuery").getURI({thread_fbid:this.threadFBID,first:30});this.entriesPromise=new(b("AsyncRequest"))(d).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){a=a.data.message_thread.messaging_audience_list.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null});c.callbackManager.addLocalEntries(a);c.audienceEntries=a})}this.entriesPromise&&b("promiseDone")(this.entriesPromise,function(){a(c.audienceEntries,!0)},b("emptyFunction"))};c.search=function(a,b){var c=this;this.onEntriesLoaded(function(){c.callbackManager.search(a,function(c){b(c,a)})})};c.isBootstrapped=function(){return this.audienceEntries!==null};return a}();a=function(){__p&&__p();a.get=function(){return h.get()};function a(){this.threadFBIDToCacheMap=new Map()}var b=a.prototype;b.onEntriesLoaded=function(a,b){var c=this.threadFBIDToCacheMap.get(a);c||(c=new g(a),this.threadFBIDToCacheMap.set(a,c));c.onEntriesLoaded(b)};b.search=function(a,b,c){var d=this.threadFBIDToCacheMap.get(a);d||(d=new g(a),this.threadFBIDToCacheMap.set(a,d));d.search(b,c)};b.isBootstrapped=function(a){if(!a)return!1;a=this.threadFBIDToCacheMap.get(a);return a?a.isBootstrapped():!1};return a}();var h=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("MessengerGroupSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2050376881736435"};b.getQueryID=function(){return"556146568217921"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerMessageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2153607168066350"};b.getQueryID=function(){return"659329457831829"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerPageSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1845120475519439"};b.getQueryID=function(){return"2072470239447453"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerProfileSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2158861907541225"};b.getQueryID=function(){return"1392868714183895"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2387849594621061"};b.getQueryID=function(){return"1614226555345720"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerSearchWebGraphQLFetcherUtils",["MessengerGroupSearchResultsQueryWebGraphQLQuery","MessengerMessageSearchResultsQueryWebGraphQLQuery","MessengerPageSearchResultsQueryWebGraphQLQuery","MessengerProfileSearchResultsQueryWebGraphQLQuery","MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={formSearchRequests:function(a,c,d){__p&&__p();var e={profiles:[],pages:[],rooms:[],messages:[]};a.forEach(function(a){__p&&__p();switch(a){case"users":a=Math.floor(Math.random()*65536);e.profiles.push(new(b("MessengerProfileSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,can_viewer_send_money:d.canViewerSendMoneyFilter,session:a.toString(),exclude_ids:d.localEntryIDs}));break;case"groups":e.profiles.push(new(b("MessengerGroupSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.groupLimit,exclude_ids:d.localEntryIDs}));break;case"messages":e.messages.push(new(b("MessengerMessageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.messageLimit,exclude_ids:[]}));break;case"pages":e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!0,include_games:!0,internal_bot:!1,vc_endpoint:!1}));d.shouldQueryInternalBot===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!0,vc_endpoint:!1}));d.shouldQueryVCEndpoint===!0&&e.pages.push(new(b("MessengerPageSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.pageLimit,messenger_commerce:!1,include_games:!1,internal_bot:!1,vc_endpoint:!0}));break;case"rooms":d.threadFBID!=null&&e.rooms.push(new(b("MessengerRoomAudienceSearchResultsQueryWebGraphQLQuery"))({search_query:c,result_limit:d.userLimit,thread_fbid:d.threadFBID}))}});return e}};e.exports=a}),null);
__d("MessengerSearchWebGraphQLFetcher",["Promise","Bootloader","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerGraphQLTypeaheadAdapter","MessengerPagesSearchSettings","MessengerSearchWebGraphQLFetcherUtils","PromiseUtil","QE2Logger","WebGraphQL","compactArray","gkx","qex"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,h=3,i="messenger_business_search_qe";a=function(){"use strict";__p&&__p();function a(a){this.$1=0,this.$2=0,this.$3=0,this.$4=0,this.$1=0,this.$2=0,this.$4=0,this.$5=a}var c=a.prototype;c.fetchEntries=function(a,c,d,e,f){__p&&__p();var g=this;c=b("MessengerSearchWebGraphQLFetcherUtils").formSearchRequests(c,a,d);var h=c.pages,i=c.profiles,j=c.rooms,k=c.messages;if(h.length>0){this.$6("pages",a);this.$2=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(h))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){return g.$7(b,a,e)},function(b){return g.$8(b,a,f)})()}if(i.length>0){this.$6("users_groups",a);this.$1=0;c=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(i))});b("PromiseUtil").repeatWhileErrorUntil(c,function(b){g.$9(b,a,e)},function(b){return g.$10(b,a,f)})()}if(j.length>0){this.$6("rooms",a);this.$4=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(j))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$11(b,a,e)},function(b){return g.$12(b,a,f)})()}c=b("qex")._("838299");if(k.length>0&&c===!0){this.$6("messages",a);this.$3=0;d=b("PromiseUtil").exponentialBackoff(function(){return b("Promise").all(b("WebGraphQL").execAll(k))});b("PromiseUtil").repeatWhileErrorUntil(d,function(b){g.$13(b,a,e)},function(b){return g.$14(b,a,f)})()}};c.$13=function(a,c,d){__p&&__p();a=a[0];if(this.$5()!==c||a==null||a.entities_named==null||a.entities_named.search_results==null||a.entities_named.search_results.edges==null)return;var e=[];a=a.entities_named.search_results.edges;a.forEach(function(a){a=b("MessengerGraphQLTypeaheadAdapter").convertMessageToEntry(a.node);a&&e.push(a)});d(e,"messages");this.$15("messages",c,e)};c.$11=function(a,c,d){if(this.$5()!==c)return;a=(a=a[0])!=null?(a=a.message_thread)!=null?(a=a.messaging_audience_list)!=null?a.nodes:a:a:a;if(a){a=b("compactArray")(a.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a)}));d(a,"usersGroups");this.$15("rooms",c,a)}};c.$9=function(a,c,d){__p&&__p();if(this.$5()!==c)return;var e=[],f=[],g=!0;b("gkx")("857049")&&(g=!1);for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;j=(j=j)!=null?(j=j.entities_named)!=null?(j=j.search_results)!=null?j.edges:j:j:j;j&&j.length>0&&j[0].node&&(j[0].node.is_group_thread!=null?e=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}):j[0].node.is_messenger_user!=null&&(f=j.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node,g===!0?a.subtext:null)}),f=this.$16(b("compactArray")(f))))}j=b("compactArray")(f.concat(e));d(j,"usersGroups");this.$15("users_groups",c,j)};c.$16=function(a){__p&&__p();var c,d=[],e=[],f=[];c=(c=b("qex")._("839675"))!=null?c:b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX;for(var a=a,h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;if(!j)continue;j.getType()===b("MercuryParticipantTypes").FRIEND&&d.length<c?d.push(j):j.getType()===b("MercuryParticipantTypes").NON_FRIEND&&f.length<g?f.push(j):j.getType()===b("MercuryParticipantTypes").FB4C&&e.length<b("MercuryTypeaheadConstants").COMPOSER_FB4C_MAX&&e.push(j)}return d.concat(e,f)};c.$7=function(a,c,d){__p&&__p();var e=this;if(this.$5()!==c)return;var f=[];for(var a=a,g=Array.isArray(a),h=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=a.length)break;j=a[h++]}else{h=a.next();if(h.done)break;j=h.value}j=j;j=(j=j)!=null?(j=j.entities_named)!=null?(j=j.search_results)!=null?j.edges:j:j:j;j=j?j.map(function(a){a=a.node;return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a,e.$17(a))}):[];f=f.concat(b("compactArray")(b("MessengerPagesSearchSettings").separate_game_count?j:j.slice(0,b("MessengerPagesSearchSettings").page_number)))}b("MessengerPagesSearchSettings").should_log_exposure&&b("QE2Logger").logExposureForUser(i);d(f,"pages");this.$15("pages",c,f)};c.$17=function(a){if(!a||!a.category_type)return b("MercuryParticipantTypes").PAGE;if(a.category_type===b("MercuryTypeaheadConstants").WORKPLACE_BOT_CATEGORY_TYPE)return b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE;else if(a.category_type==="MEETING_ROOM")return b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE;return b("MercuryTypeaheadConstants").PAGE_TYPE};c.$10=function(a,b,c){if(b===this.$5()){if(this.$1<h){this.$1+=1;return!0}c(a,"usersGroups")}return!1};c.$8=function(a,b,c){if(b===this.$5()){if(this.$2<h){this.$2+=1;return!0}c(a,"pages")}return!1};c.$14=function(a,b,c){if(b===this.$5()){if(this.$3<h){this.$3+=1;return!0}c(a,"messages")}return!1};c.$12=function(a,b,c){if(b===this.$5()){if(this.$4<h){this.$4+=1;return!0}c(a,"rooms")}return!1};c.$18=function(a){__p&&__p();var c="";b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLoggerConstants"],function(b){switch(a){case"users_groups":c=b.SOURCES.SERVER_USERS_GROUPS;break;case"pages":c=b.SOURCES.SERVER_PAGES;break;case"rooms":c=b.SOURCES.SERVER_ROOMS;break;default:c=""}},"MessengerSearchWebGraphQLFetcher");return c};c.$6=function(a,c){var d=this;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b,e){e=d.$18(a);b.logSourceStarted(c,e)},"MessengerSearchWebGraphQLFetcher")};c.$15=function(a,c,d){var e=this;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,f){var g=e.$18(a);b.logSourceEnded(c,g,d.length,f.QUERY_PROGRESS.FINISHED,e.$5()===c)},"MessengerSearchWebGraphQLFetcher")};return a}();e.exports=a}),null);
__d("MessengerSpinner.react",["MessengerSpinnerReact.bs"],(function(a,b,c,d,e,f){e.exports=b("MessengerSpinnerReact.bs").jsComponent,e.exports.large_size=b("MessengerSpinnerReact.bs").large_size,e.exports.medium_size=b("MessengerSpinnerReact.bs").medium_size}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1720594534660350"};b.getQueryID=function(){return"1852062858177546"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1978892428852690"};b.getQueryID=function(){return"127838424757019"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerTypeaheadLocalCache",["AsyncRequest","MessengerConfig","MessengerFriendsWebGraphQLQuery","MessengerGraphQLTypeaheadAdapter","SearchSourceCallbackManager","TokenizeUtil","TopMessengerFriendsAndGroupsWebGraphQLQuery","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:null}),h=null,i=null,j=null,k=null;function l(){if(b("MessengerConfig").BootstrapTypeaheadFromBuddylist||!j)return;var a=j;j=null;b("promiseDone")(new(b("AsyncRequest"))(b("MessengerFriendsWebGraphQLQuery").getLegacyURI({cursor:a})).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}),function(a){g.addLocalEntries(a.viewer.all_friends.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)}).filter(function(a){return a!==null}))})}var m={onEntriesLoaded:function(a){if(h!==null&&i!==null){a(h,i,!1);return}k===null&&(k=m.fetchEntriesFromServer());b("promiseDone")(k,function(){a(h,i,!0),l()},function(a){throw a})},fetchEntriesFromServer:function(){var a=b("MessengerConfig").BootstrapTypeaheadFromBuddylist;a=b("TopMessengerFriendsAndGroupsWebGraphQLQuery").getLegacyURI({use_buddylist:a,first:100});a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).exec().then(function(a){return a.getPayload()}).then(function(a){return m.handlePayload(a)});return a},handlePayload:function(a){__p&&__p();var c=b("MessengerConfig").BootstrapTypeaheadFromBuddylist,d=(c?a.viewer.chat_buddylist:a.viewer.all_friends.edges).map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(c?a.represented_profile:a.node)}).filter(function(a){if(a===null)return!1;a=a.getAuxiliaryData();a=a&&a.isMemorializedUser;return!a}),e=a.viewer.message_threads.edges.map(function(a,c){return b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(a.node,c)}).filter(function(a){return a!==null});g.addLocalEntries(d);g.addLocalEntries(e);h=d;i=e;a.viewer.all_friends&&a.viewer.all_friends.page_info&&a.viewer.all_friends.page_info.has_next_page&&(j=a.viewer.all_friends.page_info.end_cursor)},search:function(a,b){m.onEntriesLoaded(function(){g.search(a,function(c){b(c,a)})})},isBootstrapped:function(){return h!==null&&i!==null}};e.exports=m}),null);
__d("MessengerTypeaheadResultRoute",["react-relay-deprecated/classic/query/RelayQL","react-relay-deprecated/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("react-relay-deprecated/classic/route/RelayRoute"));a.routeName="MessengerTypeaheadResultRoute";a.paramDefinition={queryString:{required:!0,type:"String"},canViewerSendMoneyFilter:{required:!1,type:"Boolean"},localEntryIDs:{required:!0,type:"Array"},shouldQueryPages:{required:!0,type:"Boolean"},shouldQueryThreadName:{required:!0,type:"Boolean"},shouldQueryParticipantIDs:{required:!0,type:"Boolean"},shouldQueryParticipantNames:{required:!0,type:"Boolean"},shouldQueryVCEndpoint:{required:!0,type:"Boolean"},shouldQueryInternalBot:{required:!0,type:"Boolean"},shouldQueryRoomsAudience:{required:!0,type:"Boolean"},threadFBID:{required:!1,type:"String"}};a.queries={profiles:function(a,c){var d=c.canViewerSendMoneyFilter,e=c.shouldQueryPages,f=c.shouldQueryVCEndpoint,g=c.shouldQueryInternalBot;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"String!"},name:"query",value:{kind:"CallVariable",callVariableName:"queryString"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay-deprecated/classic/query/RelayQL").__frag(a)]),fieldName:"entities_named",kind:"Query",metadata:{identifyingArgName:"query",identifyingArgType:"String!"},name:"MessengerTypeaheadResultRoute",type:"SearchableEntitiesQuery"}}(a.getFragment("profiles",{canViewerSendMoneyFilter:d,shouldQueryPages:e,shouldQueryVCEndpoint:f,shouldQueryInternalBot:g,shouldQueryRoomsAudience:c}))},groups:function(a,c){var d=c.queryString,e=c.localEntryIDs,f=c.shouldQueryThreadName,g=c.shouldQueryParticipantIDs;c=c.shouldQueryParticipantNames;return function(a){return{children:[].concat.apply([],[b("react-relay-deprecated/classic/query/RelayQL").__frag(a)]),fieldName:"viewer",kind:"Query",metadata:{},name:"MessengerTypeaheadResultRoute",type:"Viewer"}}(a.getFragment("groups",{queryString:d,localEntryIDs:e,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:c}))},roomAudience:function(a,c){var d=c.queryString;c=c.shouldQueryRoomsAudience;return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"threadFBID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},b("react-relay-deprecated/classic/query/RelayQL").__frag(a)]),fieldName:"message_thread",kind:"Query",metadata:{identifyingArgName:"id",identifyingArgType:"ID!"},name:"MessengerTypeaheadResultRoute",type:"MessageThread"}}(a.getFragment("roomAudience",{queryString:d,shouldQueryRoomsAudience:c}))}};e.exports=a}),null);
__d("MessengerContactAdapters",["ImmutableObject","MercuryTypeaheadConstants","immutable"],(function(a,b,c,d,e,f){__p&&__p();a={fromSearchableEntry:function(a){__p&&__p();var c=a.getType(),d={alias:null,isMessengerUser:null,isWorkUser:null,isVerified:null,workForeignEntityInfo:null,participants:null,photo:a.getPhoto(),subtitle:a.getSubtitle(),thread:null,title:a.getTitle(),type:c,uid:a.getUniqueID(),timestamp:null,matchRanges:null};d.photo||(d.photo=null);var e=a.getAuxiliaryData();if(e){c==b("MercuryTypeaheadConstants").MESSAGE_TYPE&&(d.uid=e.thread_id);e.timestamp&&(d.timestamp=e.timestamp);c===b("MercuryTypeaheadConstants").MESSAGE_TYPE&&e.matchRanges!=null&&(d.matchRanges=e.matchRanges);a=c===b("MercuryTypeaheadConstants").MESSAGE_TYPE&&e.messageResultType==="groupConversation";c===b("MercuryTypeaheadConstants").THREAD_TYPE||a?(d.thread=new(b("ImmutableObject"))(e.thread),d.participants=b("immutable").Map().withMutations(function(a){e.participantsToRender.forEach(function(b){a.set(b.id,b)})})):(d.isMessengerUser=e.isMessengerUser,d.isWorkUser=e.isWorkUser,d.isVerified=e.isVerified,d.workForeignEntityInfo=e.workForeignEntityInfo,d.alias=e.alias)}return new(b("ImmutableObject"))(d)},fromMercuryParticipant:function(a){return new(b("ImmutableObject"))({alias:a.alias,uid:a.id,photo:a.image_src,title:a.name,subtitle:a.title?a.title:"",type:a.type,isMessengerUser:a.is_messenger_user,isWorkUser:a.is_work_user,isVerified:a.is_verified,isCoworker:a.is_coworker,href:a.href,timezone:a.timezone,workForeignEntityInfo:a.work_foreign_entity_info})}};e.exports=a}),null);
__d("BadgeReact.bs",["Badge.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("Badge.react"),{size:b("bs_js_null_undefined").fromOption(a),type:b("bs_js_null_undefined").fromOption(c)},d)}f.make=a}),null);
__d("ImageBlockReact.bs",["ReasonReact.bs","ImageBlock.react","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("ImageBlock.react"),{className:b("bs_js_null_undefined").fromOption(a),contentClassName:b("bs_js_null_undefined").fromOption(c),imageClassName:b("bs_js_null_undefined").fromOption(d),spacing:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("MercuryThreadTimestampReact.bs",["React","formatDate","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MercuryThreadTimestampReact");function h(a,c,d,e,f){var h=e!==void 0?e:"";return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){if(a!==void 0){var e=a,f=new Date(e),g=c!==void 0?c:f.toLocaleDateString();f=d!==void 0?d:b("formatDate")(f,"g:ia");return b("React").cloneElement(b("React").createElement("abbr",{className:b("joinClasses")(h,"timestamp"),title:g},f),{"data-utime":e/1e3})}else return b("React").createElement("abbr",void 0)},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").nullable_to_opt(a.time),b("bs_js_primitive").nullable_to_opt(a.title),b("bs_js_primitive").nullable_to_opt(a.text),a.className,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MessengerProfileImageWrapperReact.bs",["cx","cssVar","React","ReactDOMRe.bs","CurrentUser","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","MessagingThreadType","getViewportDimensions","MessengerDotComAndInboxM4Check.bs","LazyWorkMultiCompanyChatTooltipReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MessengerProfileImageWrapperReact");function j(a,c,d,e,f,g,h,j,k,l,m,n){__p&&__p();var o=l!==void 0?l:"",p=function(){__p&&__p();if(c!==void 0)return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon _67in"},b("bs_js_primitive").valFromOption(c)));else{var a;if(d!==void 0||e!==void 0||k!==void 0)a=1;else return null;if(a===1)if(m)if(e!==void 0)if(b("CurrentUser").isWorkUser())return null;else{a=e;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _1zvi":"")+(a?"":" _2poo")}))}else if(k!==void 0)if(b("CurrentUser").isWorkUser()){a=k;var f=j!==void 0?j>45:!1;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("ReasonReact.bs").element(void 0,void 0,b("LazyWorkMultiCompanyChatTooltipReact.bs").make([b("React").createElement("div",{className:(a&&!f?"_4rwy":"")+(a&&f?" _2zb5":"")})])))}else return null;else if(b("CurrentUser").isWorkUser())return null;else{a=d;return b("React").createElement("div",{className:"_4ld_ _2pom"},b("React").createElement("div",{className:"_2pon"+(a?" _2poo":"")+(a?"":" _2pop")}))}else return null}};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();var c=j!==void 0?""+(String(j)+"px"):"auto",d=g!==void 0?g===b("MessagingThreadType").ROOM:!1,e;if(h!==void 0){var i=h;if(i==="")e={};else{var k=b("getViewportDimensions")().width,l=parseInt("700px".replace("px",""),10);k=k<=l;l=k?"above":"left";e=Object.assign({},b("TooltipData").propsFor(i,l))}}else e={};k=d?{background:f!==void 0?f:"#0084ff",height:c,width:c}:{height:c,width:c};i={className:b("joinClasses")("_4ldz",o),style:{height:c,width:c}};a!==void 0&&(i["aria-hidden"]=b("bs_js_primitive").valFromOption(a));return b("React").cloneElement(b("React").createElement("div",i,b("ReactDOMRe.bs").createElementVariadic("div",{className:"_4ld-"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7q1r":"")+(d?" _180i":""),style:k},n),p(0)),e)},i[9],i[10],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){var c=a.className;return j(b("bs_js_primitive").nullable_to_opt(a.ariaHidden),b("bs_js_primitive").nullable_to_opt(a.customBadge),b("bs_js_primitive").nullable_to_opt(a.isMessengerUser),void 0,b("bs_js_primitive").nullable_to_opt(a.threadColor),b("bs_js_primitive").nullable_to_opt(a.threadType),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),b("bs_js_primitive").nullable_to_opt(a.size),a.isMultiCompany,c==null?"":c,a.showBadge,[].concat(a.children))});f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerContactImage.react",["Image.react","MessengerProfileImageWrapperReact.bs","React"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MessengerProfileImageWrapperReact.bs").jsComponent;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:this.props.className},b("React").createElement(g,{isMessengerUser:this.props.isMessengerUser,isPartiesUser:this.props.isPartiesUser,size:this.props.size,customBadge:this.props.customBadge,showBadge:!1},b("React").createElement(b("Image.react"),{alt:"",height:this.props.size,src:this.props.src,width:this.props.size})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerContactImageReact.bs",["Image.bs","React","bs_belt_Option","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined","MessengerContactImage.react","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MessengerContactImageReact");function h(a,c,d,e,f,h,i,j){var k=i!==void 0?i:!1;return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){return b("React").createElement("div",{className:b("bs_belt_Option").getWithDefault(a,"")},b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileImageWrapperReact.bs").make(!0,c,d,e,void 0,void 0,void 0,f,k,void 0,k,[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,h,f,void 0,f,void 0,[]))])))},g[9],g[10],g[11],g[12]]}c=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.customBadge),b("bs_js_primitive").nullable_to_opt(a.isMessengerUser),b("bs_js_primitive").nullable_to_opt(a.isPartiesUser),a.size,b("bs_js_primitive").nullable_to_opt(a.src),b("bs_js_primitive").nullable_to_opt(a.isMultiCompany),[])});function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("MessengerContactImage.react"),{className:b("bs_js_null_undefined").fromOption(a),customBadge:b("bs_js_null_undefined").fromOption(c),isMessengerUser:b("bs_js_null_undefined").fromOption(d),isPartiesUser:b("bs_js_null_undefined").fromOption(e),size:f,src:b("bs_js_null_undefined").fromOption(g),isMultiCompany:b("bs_js_null_undefined").fromOption(h)},i)}d=[a];e=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=e;f.component=g;f.make=h;f.jsComponent=c;f.StraightJSComponent=d}),null);
__d("MessengerLocalTimeReact.bs",["cx","fbt","React","ReasonReact.bs","joinClasses","MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("RMessengerLocalTimeReact");function a(a,c,d){__p&&__p();return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){__p&&__p();if(c!==void 0){var d=c-new Date().getTimezoneOffset()*-60;if(d===0)return null;else{d=new Date(Date.now()+d*1e3);var e=d.getHours();e=e<6||e>22;var f=b("joinClasses")("_10rk",a);return b("React").createElement("span",{className:f},b("React").createElement("span",{className:e?"_2f3x":""},"(",b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTimestampReact.bs").make(d.getTime(),void 0,void 0,void 0,[]))," ",h._("heure locale"),")"))}}else return null},i[9],i[10],i[11],i[12]]}c=22;d=6;f.component=i;f.nightStartHour=c;f.nightEndHour=d;f.make=a}),null);
__d("MessengerTextWithEntitiesReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerTextWithEntities.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerTextWithEntities.react"),{renderEmoji:b("bs_js_null_undefined").fromOption(a),renderEmoticons:b("bs_js_null_undefined").fromOption(c),text:b("bs_js_null_undefined").fromOption(d)},e)}f.make=a}),null);
__d("MercuryParticipantsImage.react",["MessengerParticipants.bs","React","SplitImage.react","areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=!0,c.state={participantImages:[]},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$3(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$3(a)};d.componentWillUnmount=function(){this.$2=!1,this.$1&&this.$1.remove()};d.shouldComponentUpdate=function(a,c){return a.size!==this.props.size||!b("areEqual")(c.participantImages,this.state.participantImages)};d.$4=function(){var a=this.props.participants;return!a||a.length===0?"":a.join("-")};d.render=function(){return this.state.participantImages.length>0?b("React").createElement(b("SplitImage.react"),{border:!0,className:this.props.className||"",halfView:this.props.halfView,srcs:this.state.participantImages,size:Number(this.props.size),key:this.$4()}):null};d.$3=function(a){var c=this;this.$1&&this.$1.remove();!a.participants||!a.participants.length?this.setState({participantImages:[]}):this.$1=b("MessengerParticipants.bs").getOrderedBigImageMulti(a.participants,function(b){a.partiesProfileImages&&(b=b.concat(a.partiesProfileImages)),c.$2&&c.setState({participantImages:b})})};return c}(b("React").Component);e.exports=a}),null);
__d("MercuryThreadImage.react",["cx","ImmutableObject","MercuryIDs","MercuryParticipantsConstants","MercuryParticipantsImage.react","MessagingThreadType","Pixelz.react","React","areEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return a.thread.image_src!==this.props.thread.image_src||!b("areEqual")(a.thread.participants,this.props.thread.participants)||a.size!==this.props.size||a.viewer!==this.props.viewer||a.useBackground!==this.props.useBackground};d.render=function(){__p&&__p();var a=this.props.thread,c=this.props.size||b("MercuryParticipantsConstants").BIG_IMAGE_SIZE,d=a.image_src;if(d)return this.props.useBackground?b("React").createElement("div",{style:{height:c,backgroundImage:"url("+d+")",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:c}}):b("React").createElement(b("Pixelz.react"),{alt:"",height:c,resizeMode:"cover",src:d,width:c});if(a.thread_type===b("MessagingThreadType").ROOM){d={height:c+"px",width:c+"px"};a.solid_color&&(d.background=a.solid_color);return b("React").createElement("span",{className:"_asv _asw",style:d},a.name[0])}d=b("MercuryIDs").isCanonical(a.thread_id);var e=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=[];a.participants&&(a.participants.length===1&&a.participants[0]===e?f=[].concat(a.participants):(f=a.participants.filter(function(a){return a!==e}),d||(f=f.slice(0,3))));return b("React").createElement(b("MercuryParticipantsImage.react"),{className:this.props.className,halfView:this.props.halfView,participants:f,size:c})};return c}(b("React").Component);c.propTypes={halfView:a.bool,thread:a.instanceOf(b("ImmutableObject")).isRequired,viewer:a.string.isRequired,size:a.number,useBackground:a.bool,className:a.string};e.exports=c}),null);
__d("MercuryThreadImageReact.bs",["ReasonReact.bs","bs_js_null_undefined","MercuryThreadImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("MercuryThreadImage.react"),{size:b("bs_js_null_undefined").fromOption(a),thread:c,useBackground:b("bs_js_null_undefined").fromOption(d),viewer:e},f)}f.make=a}),null);
__d("OptionType.bs",["bs_curry","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){if(a!==void 0)if(c!==void 0)return b("bs_curry")._2(d,b("bs_js_primitive").valFromOption(a),b("bs_js_primitive").valFromOption(c));else return!1;else return c===void 0}function c(a,c){if(a!==void 0)if(c!==void 0)return b("bs_js_primitive").valFromOption(a)===b("bs_js_primitive").valFromOption(c);else return!1;else return c===void 0}f.equals=a;f.equalsReference=c}),null);
__d("MessengerThreadImageReact.bs",["cx","React","Utils.bs","MercuryIDs","OptionType.bs","ReasonReact.bs","bs_js_primitive","WorkForeignEntityInfo.bs","MercuryThreadImageReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a,c){__p&&__p();var d=a.other_user_fbid,e=c.size;a=b("MercuryIDs").isCanonical(a.thread_id);if(d==null||!(a&&e!==0))return!1;else{a=b("MercuryIDs").getParticipantIDFromUserID(d);e=c.get(a);if(!(e==null)&&!(e==null))return e.is_messenger_user;else return!1}}var i=b("ReasonReact.bs").statelessComponentWithRetainedProps("MessengerThreadImageReact");function j(a,c,d,e,f,g,j,k,l){__p&&__p();var m=c!==void 0?c:!1,n=d!==void 0?d:!1,o=e!==void 0?e:!1;return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],function(a){var c=a[1][2];a=a[0][2];if(a[0]!==c[0]||a[3]!==c[3]||!b("OptionType.bs").equalsReference(a[4],c[4])||a[5]!==c[5]||a[6]!==c[6]||a[1]!==c[1]||a[2]!==c[2]||a[7]!==c[7])return!0;else return a[8]!==c[8]},function(){var c=!b("WorkForeignEntityInfo.bs").areAllCoworkers(g),d=c?void 0:n?b("bs_js_primitive").some(b("React").createElement("div",{className:"_466z"})):m?b("bs_js_primitive").some(b("React").createElement("div",{className:"_4670"})):void 0,e={};a!==void 0&&(e.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",e,b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileImageWrapperReact.bs").make(void 0,d,h(j,g),void 0,b("bs_js_primitive").nullable_to_opt(j.solid_color),b("bs_js_primitive").nullable_to_opt(j.thread_type),void 0,f,c,void 0,o&&b("MercuryIDs").isCanonical(j.thread_id)||c,[b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadImageReact.bs").make(f,j,!0,k,[]))])))},i[9],[a,m,n,o,f,h(j,g),!b("WorkForeignEntityInfo.bs").areAllCoworkers(g),j,k],i[11],i[12]]}a=b("ReasonReact.bs").wrapReasonForJs(i,function(a){return j(b("bs_js_primitive").nullable_to_opt(a.className),b("Utils.bs").isTruthy(a.isPresenceForWork),b("Utils.bs").isTruthy(a.isDoNotDisturb),b("Utils.bs").isTruthy(a.showBadge),b("bs_js_primitive").nullable_to_opt(a.size),a.participants,a.thread,a.viewer,[])});f.getIsMessengerUser=h;f.component=i;f.make=j;f.jsComponent=a}),null);
__d("MessengerContactListRowReact.bs",["cx","ix","fbt","FBID.bs","bs_block","bs_curry","Image.bs","React","Utils.bs","gkx","bs_caml_obj","BadgeReact.bs","Link.react","MercuryIDs","ReactDOMRe.bs","ReasonReact.bs","TooltipData","joinClasses","bs_js_primitive","MessengerState.bs","PresenceStatus","ImageBlockReact.bs","MercuryTimestamp","bs_js_null_undefined","WorkForeignEntityInfo.bs","AvailableListConstants","MercuryParticipantTypes","MessengerContactActions.bs","MessengerLocalTimeReact.bs","MessengerAdminGroupUtils","MessengerThreadImageReact.bs","MessengerContactImageReact.bs","MercuryThreadTimestampReact.bs","MessengerTextWithEntitiesReact.bs","MessengerGraphQLTypeaheadAdapter","MercuryIgnoredBlockedParticipants.bs","VideoCallWebDriverIDs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a,c){if(a!==void 0)return b("bs_js_primitive").valFromOption(a).contains(c);else return!1}function k(a,c,d){var e=d.thread,f=d.participants,g=d.type===b("MercuryParticipantTypes").THREAD||d.type===b("MercuryParticipantTypes").MESSAGE,h=d.photo,i,j,k;c!==void 0?f==null||!g?i=1:(j=b("bs_js_primitive").valFromOption(c),k=f,i=2):e==null||f==null||!g?i=1:(j=e,k=f,i=2);switch(i){case 1:if(h==null)return b("React").createElement("div",{className:"_5l39"});else{c=!b("WorkForeignEntityInfo.bs").isContactCoworker(d);return b("ReasonReact.bs").element(void 0,void 0,b("MessengerContactImageReact.bs").make("_5l39 _5rmm",void 0,b("bs_js_primitive").nullable_to_opt(d.isMessengerUser),void 0,32,h,c,[]))}case 2:return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadImageReact.bs").make("_5l39",void 0,void 0,void 0,32,k,j,a,[]))}}function l(a){var c=a.type===b("MercuryParticipantTypes").PAGE;a=b("WorkForeignEntityInfo.bs").isContactCoworker(a);if(c&&a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","bot",[]));else return null}function m(a){a=a.isVerified;a=a==null?!1:a;if(a)return b("ReasonReact.bs").element(void 0,void 0,b("BadgeReact.bs").make("medium","verified",[]));else return null}function n(a,c){__p&&__p();var d=[],e=[0];c.forEach(function(c){__p&&__p();var f=c.offset;c=c.offset+c.length|0;if(e[0]<f){var g=a.substring(e[0],f);d.push(g)}g=b("React").createElement("span",{className:"_7u0a"},a.substring(f,c));d.push(g);e[0]=c;return 0});c=a.substring(e[0],a.length);d.push(c);return d}function o(a){return b("React").createElement("div",{className:"_3q34"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEntitiesReact.bs").make(!0,!0,a.title,[])),l(a),m(a))}function p(a){__p&&__p();var c=a.subtitle,d=0;if(c==null||c==="")d=1;else{var e=b("MessengerGraphQLTypeaheadAdapter").getValidatedMatchesRanges(a.matchRanges,c);c=n(c,e);e=b("bs_caml_obj").caml_equal(a.type,b("MercuryParticipantTypes").MESSAGE);var f=a.timestamp;if(e&&!(f==null)){e=f;return b("React").createElement("div",void 0,o(a),b("React").createElement("div",{className:"_5l-3"},b("ReactDOMRe.bs").createElementVariadic("span",{className:"_3q35 _7s4c"},c),b("React").createElement("span",{className:"_7s4d"},"\xb7"),b("ReasonReact.bs").element(void 0,void 0,b("MercuryThreadTimestampReact.bs").make(e,b("MercuryTimestamp").getAbsoluteTimestamp(e),b("MercuryTimestamp").getRelativeTimestamp(e),"_7s4e",[]))))}else f=2;if(f===2)return b("React").createElement("div",void 0,o(a),b("ReactDOMRe.bs").createElementVariadic("div",{className:"_3q35"},c))}if(d===1)return b("React").createElement("div",{className:"_364g"},a.title,b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").nullable_to_opt(a.timezone),[])),l(a),m(a))}function q(a,c,d){__p&&__p();if(b("gkx")("818495")){var e=[!1],f=b("FBID.bs").ofString(a.uid);if(f!==void 0&&d!==void 0){var g=b("bs_js_primitive").valFromOption(d);b("MessengerState.bs").compute(c,function(a){e[0]=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(c,a.blocked_ids,g);return 0})}if(e[0])return b("React").createElement("div",void 0,o(a),b("React").createElement("div",{className:"_3q35"},i._("Blocked")));else return p(a)}else return p(a)}function r(a){var c=a.subtitle,d;if(c==null||c==="")d=1;else return b("React").createElement("div",{className:"_364g"},c,b("React").createElement("span",{className:"_7l-p"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerTextWithEntitiesReact.bs").make(!0,!0,a.title.substring(c.length+3|0,a.title.length),[]))));if(d===1)return b("React").createElement("div",{className:"_364g _7l-p"},a.title.substring(3,a.title.length),b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5ywd",b("bs_js_primitive").nullable_to_opt(a.timezone),[])))}function s(a,c){var d=c.type;if(a!==void 0&&a&&!(d==null||!(d===b("MercuryParticipantTypes").FRIEND||d===b("MercuryParticipantTypes").USER))){a=b("MercuryIDs").getUserIDFromParticipantID(c.uid);if(a==null)return!1;else return b("PresenceStatus").get(a)===b("AvailableListConstants").ACTIVE}else return!1}var t=b("React").createElement("span",{className:"_5rh4"},i._("Ajout\u00e9")),u=b("React").createElement("span",{className:"_5rh4"},i._("Invit\u00e9(e)")),v=b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_1kqm",void 0,void 0,void 0,h("86852"),void 0,void 0,void 0,void 0,[]));function w(a,c){c[1][2][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function x(a){__p&&__p();a=a[1];var c=a[4],d=a[5],e=a[2][0];if(c!==void 0&&c&&d!==void 0&&e!==void 0){c=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(d,c);e=a[6];if(e!==void 0)return b("bs_curry")._1(e,c);else return 0}else return 0}function y(a){__p&&__p();var c=a[1],d=c[1][4];a=a[0][1][5];var e=c[1][2][0];if(d!==void 0&&d&&a!==void 0&&e!==void 0){d=b("bs_js_primitive").valFromOption(e);b("bs_curry")._1(a,d);e=c[1][6];if(e!==void 0)return b("bs_curry")._1(e,d);else return 0}else return 0}function a(){__p&&__p();var a=b("ReasonReact.bs").reducerComponent("MessengerContactListRowReact"),c=function(c,d,e,f,g,h,l,m,n,o,p,z,A,B,C,D,E,F,G,H,I,J,K){__p&&__p();var L=D!==void 0?D:"",M=function(a){if(h!==void 0)return 0;else{a.stopPropagation();a.preventDefault();return 0}},N=function(a,c){if(a===b("MessengerContactActions.bs").actions.SELECT)if(f!==void 0)return b("bs_js_primitive").valFromOption(f)(d,c);else return 0;else if(g!==void 0)return b("bs_curry")._2(g,a,d);else return 0},O=function(){var a=b("Utils.bs").isSomeTrue(o);if(a&&e!==void 0)return b("bs_curry")._1(e,d);else return 0},P=function(a){a.stopPropagation();return N(b("MessengerContactActions.bs").actions.SELECT,a)},Q=function(a){__p&&__p();var c=a[3];a=a[1];if(E!==void 0){var d=b("bs_js_primitive").valFromOption(E).get(a[0].uid);d=d==null?[null,!0]:[d,!0]}else d=[null,!1];if(j(C,a[0].uid))return t;else if(j(p,a[0].uid))return u;else if(j(F,a[0].uid))return v;else if(d[1])return d[0];else if(s(G,a[0]))return b("React").createElement("div",{className:"_jg2"});else{d=b("bs_js_null_undefined").fromOption(l);var e=a[0].thread;e=H!==void 0?b("MessengerAdminGroupUtils").isAdminRequired(b("bs_js_primitive").valFromOption(H)):e==null?!1:b("MessengerAdminGroupUtils").isAdminRequired(e);var f=a[0].thread,g,k=0,m;H!==void 0?(m=b("bs_js_primitive").valFromOption(H),k=1):f==null?g=!1:(m=f,k=1);if(k===1){f=b("MercuryIDs").isValid(a[0].uid);k=f?b("bs_js_primitive").nullable_to_opt(b("MercuryIDs").getUserIDFromParticipantID(a[0].uid)):b("FBID.bs").ofString(a[0].uid);f=k!==void 0?b("MessengerAdminGroupUtils").isAdmin(d,b("bs_js_primitive").valFromOption(k)):!1;g=b("MessengerAdminGroupUtils").isOwner(f,m)}k=g?b("React").createElement("span",{className:"_5qsj"},i._("Administrateur")):null;if(h!==void 0)return b("React").createElement("div",void 0,k,b("React").createElement(b("bs_js_primitive").valFromOption(h),{className:"_rwo",admins:d,contact:a[0],extrasEnabled:n,isAdminRequired:e,isOpen:a[1],onAction:N,onToggle:function(a){return b("bs_curry")._1(c,[a])},viewer:J}));else return k}};return[a[0],a[1],a[2],function(a){var e=d===a[3];if(e)return a;else return[b("bs_curry")._1(c,d),a[1],a[2],d,a[4],a[5],a[6]]},x,y,a[6],a[7],function(a){__p&&__p();var c=a[1],d=b("joinClasses")(L,"_5l37"+(b("Utils.bs").optionBoolToBool(z)?" _1k1p":"")+(c[1]?" _rwn":"")),e=h!==void 0?-1:0,f=I!==void 0?b("TooltipData").propsFor(I,"left"):{},g=z!==void 0?!z:void 0,i=b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM,j=c[0].type===b("MercuryParticipantTypes").ASSISTANT_TYPEAHEAD;j=j?r(c[0]):q(c[0],J,H);e={className:"_5f0v",onClick:P,onMouseDown:M,onMouseEnter:O,tabIndex:e,children:b("ReasonReact.bs").element(void 0,void 0,b("ImageBlockReact.bs").make(void 0,"_5l38",void 0,"medium",[k(J,H,c[0]),j,Q(a)]))};g!==void 0&&(e["aria-hidden"]=b("bs_js_primitive").valFromOption(g));j=b("React").createElement(b("Link.react"),e);g=b("React").cloneElement(j,{"data-testid":i+c[0].uid});e=b("Utils.bs").isSomeTrue(m);if(e)return b("React").createElement("li",{ref:b("bs_curry")._1(a[0],w),className:d},g);else return b("React").cloneElement(b("React").createElement("li",{ref:b("bs_curry")._1(a[0],w),className:d,role:"option"}),f,g)},function(){return[b("bs_curry")._1(c,d),!1,[void 0],d,z,B,A]},a[10],function(a,c){return b("bs_block").__(0,[[c[0],a[0],c[2],c[3],c[4],c[5],c[6]]])},a[12]]},d=b("ReasonReact.bs").wrapReasonForJs(a,function(a){return c(a.contactAdapter,a.rawContact,b("bs_js_primitive").nullable_to_opt(a.onHighlight),b("bs_js_primitive").nullable_to_opt(a.onSelect),b("bs_js_primitive").nullable_to_opt(a.onAction),b("bs_js_primitive").nullable_to_opt(a.actionsClass),b("bs_js_primitive").nullable_to_opt(a.admins),b("bs_js_primitive").nullable_to_opt(a.disableRole),a.extraActionsEnabled,b("bs_js_primitive").nullable_to_opt(a.hasHoverState),b("bs_js_primitive").nullable_to_opt(a.invitedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.isHighlighted),b("bs_js_primitive").nullable_to_opt(a.onRenderHighlight),b("bs_js_primitive").nullable_to_opt(a.onScrollIntoView),b("bs_js_primitive").nullable_to_opt(a.originalEntryIDs),b("bs_js_primitive").nullable_to_opt(a.rowClassName),b("bs_js_primitive").nullable_to_opt(a.rowElements),b("bs_js_primitive").nullable_to_opt(a.selectedEntryIDs),b("bs_js_primitive").nullable_to_opt(a.showPresence),b("bs_js_primitive").nullable_to_opt(a.thread),b("bs_js_primitive").nullable_to_opt(a.tooltipContent),a.viewer,[])});return[d,c]}c=32;d=3;f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.imageSize=c;f.assistantTypeaheadPrefixLength=d;f.idsContain=j;f.renderContactImage=k;f.renderBotBadge=l;f.renderVerifiedBadge=m;f.renderSnippet=n;f.renderContactTitle=o;f.renderRegularContact=p;f.renderContactText=q;f.renderAssistantTypeaheadText=r;f.getPresenceStatus=s;f.isOriginal=t;f.isInvited=u;f.isSelected=v;f.setThisRef=w;f.didMount=x;f.didUpdate=y;f.createMake=a}),null);
__d("MessengerTypeaheadUtils",["fbt","ix","MercuryTypeaheadConstants","MessengerEnvironment","ReactDOM","SearchableEntry","gkx","immutable","mapObject","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("immutable").OrderedMap,j=500,k=100,l="__special_search_entry__",m=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").MESSAGE_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE],n=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").MESSAGE_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE],o=(a={},a[b("MercuryTypeaheadConstants").SEARCH_TYPE]={header:""},a[b("MercuryTypeaheadConstants").FRIEND_TYPE]={header:g._("Contacts")},a[b("MercuryTypeaheadConstants").FB4C_TYPE]={header:g._("Coll\u00e8gues")},a[b("MercuryTypeaheadConstants").MESSAGE_TYPE]={header:g._("Messages")},a[b("MercuryTypeaheadConstants").THREAD_TYPE]={header:g._("Conversations de groupe")},a[b("MercuryTypeaheadConstants").PAGE_TYPE]={header:g._("Entreprises")},a[b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE]={header:g._("Salles de r\u00e9union")},a[b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE]={header:g._("Bots")},a[b("MercuryTypeaheadConstants").NON_FRIEND_TYPE]={header:g._("Plus de personnes")},a.game={header:g._("Jeux")},a);c={sortEntries:function(a,c){__p&&__p();var d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[];a.forEach(function(a){__p&&__p();switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:f.push(a);break;case b("MercuryTypeaheadConstants").MESSAGE_TYPE:g.push(a);break;case b("MercuryTypeaheadConstants").THREAD_TYPE:h.push(a);break;case b("MercuryTypeaheadConstants").PAGE_TYPE:case b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE:j.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:i.push(a);break;case b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE:k.push(a);break;case b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:l.push(a);break;case b("MercuryTypeaheadConstants").SEARCH_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").GAME_TYPE:m.push(a);break}});return d.concat(e,f,g,h,k,l,i,j,m)},sortEntriesWithoutPages:function(a){__p&&__p();var c=[],d=[],e=[],f=[];a.forEach(function(a){switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:c.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").THREAD_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:f.push(a);break}});return c.concat(d,e,f)},sortEntriesWithoutGroupsOrViewer:function(a,c){__p&&__p();var d=[],e=[],f=[];a.forEach(function(a){if(a.getUniqueID()===c)return;switch(a.getType()){case b("MercuryTypeaheadConstants").FRIEND_TYPE:d.push(a);break;case b("MercuryTypeaheadConstants").FB4C_TYPE:e.push(a);break;case b("MercuryTypeaheadConstants").NON_FRIEND_TYPE:f.push(a);break}});return d.concat(e,f)},getEntryOrder:function(a,c){if(c==null)if(b("qex")._("882163"))return n;else return m;else return c},orderEntries:function(a,c){var d=this,e=[];this.getEntryOrder(c).filter(function(a){return a!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).concat(b("MercuryTypeaheadConstants").SEARCH_TYPE).forEach(function(b){return e.push.apply(e,a.filter(function(a){return d.areSectionsEqual(a.getType(),b)}))});return e},buildSingleSection:function(a){return i([["",a]])},buildListSections:function(a,c,d){__p&&__p();if(!a.length)return i();d=this.getEntryOrder(c,d);var e=b("mapObject")(o,function(a){return babelHelpers["extends"]({},a,{entries:[]})});e[b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE]=e[b("MercuryTypeaheadConstants").PAGE_TYPE];var f=b("qex")._("861958");c===""&&f===!0&&(e[b("MercuryTypeaheadConstants").FRIEND_TYPE].header=g._("Suggestions"));a.forEach(function(a){var b=a.getType();e[b]&&e[b].entries.push(a)});return i(d.filter(function(a){return e[a].entries.length}).map(function(a){return[e[a].header,e[a].entries]}))},buildCustomSection:function(a,b){var c;return c={},c[a]=b,c},areSectionsEqual:function(a,c){return a===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE?c===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||c===b("MercuryTypeaheadConstants").PAGE_TYPE:a===c},scrollEntryIntoView:function(a,c){var d=b("ReactDOM").findDOMNode(c),e=c.getScrollTop(),f=a.offsetTop-e;d=d.offsetHeight-a.offsetHeight;a=Math.abs(d-f);f>=d&&a<=k?c.scrollToPosition(e+f-d,!0,{duration:j}):f<0&&a<=d+k&&c.scrollToPosition(e+f,!0,{duration:j})},getMessageSearchEntry:function(a){return b("gkx")("860320")||!b("MessengerEnvironment").messengerui||a.length<2?null:new(b("SearchableEntry"))({uniqueID:l,title:g._("Rechercher \u00ab\u00a0{queryString}\u00a0\u00bb dans les messages",[g._param("queryString",a)]),photo:h("86924"),type:b("MercuryTypeaheadConstants").SEARCH_TYPE})},isMessageSearchEntry:function(a){return a.getUniqueID()===l}};e.exports=c}),null);
__d("MessengerContactList.react",["cx","fbt","MessengerContactListRowReact.bs","ImageBlock.react","ImmutableObject","MercuryIDs","MessengerDotComAndInboxM4Check.bs","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","React","gkx","immutable","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("MessengerContactListRowReact.bs").createMake();var i=a[0];a[1];var j=b("gkx")("818495");c=b("React").PropTypes;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){__p&&__p();var e=d.props.rowComponent||i;return b("React").createElement("div",{key:c,className:"_29hk"},d.$4(c),b("React").createElement("ul",{id:d.props.controlleeID,role:d.props.disableRole?void 0:"listbox",className:"_29hl"},a.map(function(a,c){c=c===0?b("joinClasses")(d.props.rowClassName,"_3h3c"):d.props.rowClassName;var f=a.id||a.getUniqueID(),g=d.props.thread;if(j&&f&&!g){var h=b("MercuryIDs").getThreadIDFromUserID(f);g=b("MessengerState.bs").getThreadMetaNow(d.props.viewer,h);g||b("MessengerState.bs").getThreadMeta(d.props.viewer,h,function(a){g=a})}return b("React").createElement(e,{actionsClass:d.props.actionsClass,admins:d.props.admins,contactAdapter:d.props.contactAdapter,disableRole:d.props.disableRole,extraActionsEnabled:!!d.props.extraActionsEnabled,hasHoverState:d.props.hasHoverState,invitedEntryIDs:d.props.invitedEntryIDs,isHighlighted:d.props.highlightedEntry&&d.props.highlightedEntry.getUniqueID()===a.getUniqueID(),key:f,onAction:d.props.onAction,onHighlight:d.props.onHighlight,onRenderHighlight:d.props.onRenderHighlight,onScrollIntoView:d.props.onScrollIntoView,onSelect:d.props.onSelect,originalEntryIDs:d.props.originalEntryIDs,rawContact:a,rowClassName:c,rowElements:d.props.rowElements,selectedEntryIDs:d.props.selectedEntryIDs,showPresence:d.props.showPresence,thread:g,tooltipContent:a.getAuxiliaryData&&a.getAuxiliaryData().tooltipContent,viewer:d.props.viewer})})))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:this.props.className},this.props.listSections.map(this.$1).toArray(),this.$2(),this.$3())};d.$4=function(a){if(!a)return null;var c=b("MessengerDotComAndInboxM4Check.bs").yes?"_225b _6ybl":"_225b";return b("React").createElement("div",{className:c},a)};d.$2=function(){return!this.props.isLoading?null:b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Recherche en cours...")))};d.$3=function(){if(this.props.queryString&&this.props.queryString.length>0&&!this.props.isLoading){var a=this.props.listSections.filter(function(a){return a.length!=1||!b("MessengerTypeaheadUtils").isMessageSearchEntry(a[0])}).size;if(a<1)return b("React").createElement("div",{className:"_3xcx"},h._("Aucun r\u00e9sultat"))}return null};return c}(b("React").PureComponent);d.propTypes={actionsClass:c.func,admins:c.object,controlleeID:c.string,contactAdapter:c.func.isRequired,disableRole:c.bool,extraActionsEnabled:c.bool,hasHoverState:c.bool,highlightedEntry:c.object,invitedEntryIDs:c.instanceOf(b("immutable").Set),isLoading:c.bool,listSections:c.instanceOf(b("immutable").OrderedMap).isRequired,onAction:c.func,onHighlight:c.func,onRenderHighlight:c.func,onScrollIntoView:c.func,onSelect:c.func,originalEntryIDs:c.instanceOf(b("immutable").Set),queryString:c.string,rowClassName:c.string,rowElements:c.instanceOf(b("immutable").Map),selectedEntryIDs:c.instanceOf(b("immutable").Set),showPresence:c.bool,thread:c.instanceOf(b("ImmutableObject")),viewer:c.string.isRequired};e.exports=d}),null);
__d("MessengerGraphQLTypeaheadHighlighter",["Keys","MercuryTypeaheadConstants","MessengerTypeaheadUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getNextHighlightedEntry:function(a,c,d,e){__p&&__p();var f=[];b("MessengerTypeaheadUtils").getEntryOrder(d).forEach(function(a){return f.push.apply(f,c.filter(function(c){return b("MessengerTypeaheadUtils").areSectionsEqual(c.getType(),a)}))});if(!e){if(f.length===0)return null;if(a===b("Keys").DOWN){d=f[0];return d.getType()===b("MercuryTypeaheadConstants").SEARCH_TYPE&&f.length>1?f[1]:d}return a===b("Keys").UP?f[f.length-1]:null}var g=e.getUniqueID();d=f.findIndex(function(a){return a.getUniqueID()===g});if(d===-1)return null;a===b("Keys").DOWN?(d+=1,d>=f.length&&(d=0)):a===b("Keys").UP&&(d-=1,d<0&&(d=f.length-1));return f[d]}};e.exports=a}),null);
__d("MessengerTypeaheadResultView.react",["cx","Bootloader","CurrentUser","Keys","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadAdapter","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","RelayModern","SearchableEntry","gkx","immutable","joinClasses","wrapNullableForReact","MessengerTypeaheadResultView_profiles.graphql","MessengerTypeaheadResultView_groups.graphql","MessengerTypeaheadResultView_roomAudience.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=50,i=b("MercuryConfig").SearchMorePeople?b("MercuryConfig").SearchMorePeople:b("MercuryTypeaheadConstants").COMPOSER_NON_FRIENDS_MAX,j=!b("CurrentUser").isWorkUser()||b("gkx")("868767");c=b("React").PropTypes;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}if(!d.$1)return;c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.$1,d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$3=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1=this.$2(this.props)};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.$1})};d.UNSAFE_componentWillUpdate=function(a){this.$1=this.$2(a)};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){var a=this.$1;if(!a)return null;var c=null;j&&(c=[b("MercuryTypeaheadConstants").SEARCH_TYPE,b("MercuryTypeaheadConstants").FRIEND_TYPE,b("MercuryTypeaheadConstants").FB4C_TYPE,b("MercuryTypeaheadConstants").MESSAGE_TYPE,b("MercuryTypeaheadConstants").THREAD_TYPE,b("MercuryTypeaheadConstants").NON_FRIEND_TYPE,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE,b("MercuryTypeaheadConstants").PAGE_TYPE,b("MercuryTypeaheadConstants").GAME_TYPE]);a=b("MessengerTypeaheadUtils").buildListSections(a,this.props.queryString,c);return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!1,listSections:a,onHighlight:this.$3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent})};d.$2=function(a){__p&&__p();var c=a.localEntries,d={};c.forEach(function(a){d[a.getUniqueID()]=!0});var e=b("MessengerTypeaheadUtils").sortEntries(this.$4(a,d),a.queryString),f=null;if(b("gkx")("678616")){var g=Date.now(),i=function(a){return a.map(function(a){return[a.getUniqueID(),a]})};f=b("immutable").OrderedMap(i(c)).merge(i(e)).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,h).toArray();var j=Date.now()-g;b("Bootloader").loadModules(["MessengerSearchWWWTypedLogger"],function(a){new a().setStage("messenger_rendering_dedup").setLatency(j).log()},"MessengerTypeaheadResultView.react")}else f=c.concat(e).filter(function(b){return!a.selectedEntryIDs.contains(b.getUniqueID())}).slice(0,h);this.$5(a.queryString,f,a.localEntryIDs);return f};d.$4=function(a,c){__p&&__p();var d=this,e=[];j&&(e=a.serverResults.filter(function(a){return a&&!c[a.getUniqueID()]}));if(a.profiles){var f;f=(f=a)!=null?(f=f.profiles)!=null?(f=f.user_results)!=null?f.edges:f:f:f;if(f){e=f.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)});f=[];var g=[],h=[];for(var k=e,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(l){if(m>=k.length)break;n=k[m++]}else{m=k.next();if(m.done)break;n=m.value}n=n;if(!n||c[n.getUniqueID()])continue;n.getType()===b("MercuryParticipantTypes").FRIEND&&f.length<b("MercuryTypeaheadConstants").COMPOSER_FRIENDS_MAX?f.push(n):n.getType()===b("MercuryParticipantTypes").FB4C&&g.length<b("MercuryTypeaheadConstants").COMPOSER_FB4C_MAX?g.push(n):n.getType()===b("MercuryParticipantTypes").NON_FRIEND&&h.length<i&&h.push(n)}e=f.concat(g).concat(h)}}else if(a.roomAudience){m=(n=a)!=null?(n=n.roomAudience)!=null?(n=n.user_results)!=null?n.edges:n:n:n;m&&(e=e.concat(m.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertProfileToEntry(a.node)})))}a.profiles&&a.profiles.page_results&&(e=e.concat(a.profiles.page_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,d.$6(a.node))}).filter(function(a){return a&&!c[a.getUniqueID()]}).slice(0,b("MercuryTypeaheadConstants").COMPOSER_PAGES_MAX)));l=[];k=[];a.groups&&a.groups.threads_matching_name&&(k=k.concat(a.groups.threads_matching_name.edges));a.groups&&a.groups.threads_matching_participant_ids&&(k=k.concat(a.groups.threads_matching_participant_ids.edges));a.groups&&a.groups.threads_matching_participant_names&&(k=k.concat(a.groups.threads_matching_participant_names.edges));for(var f=0;f<k.length;f++){g=k[f];h=b("MessengerGraphQLTypeaheadAdapter").convertGroupToEntry(g.node,f);if(!h||c[h.getUniqueID()])continue;l.push(h);c[h.getUniqueID()]=!0}e=e.concat(l);a.profiles&&a.profiles.vc_results&&(e=e.concat(a.profiles.vc_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE)})));a.profiles&&a.profiles.internal_bot_results&&(e=e.concat(a.profiles.internal_bot_results.edges.map(function(a){return b("MessengerGraphQLTypeaheadAdapter").convertPageToEntry(a.node,b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE)})));return e};d.$6=function(a){if(!a||!a.category_type)return b("MercuryParticipantTypes").PAGE;return a.category_type===b("MercuryTypeaheadConstants").WORKPLACE_BOT_CATEGORY_TYPE?b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE:b("MercuryTypeaheadConstants").PAGE_TYPE};d.$5=function(a,c,d){b("Bootloader").loadModules(["MessengerSearchLoggerUtil","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(e,f,g){var h=b("immutable").OrderedMap();c.forEach(function(a){var b=a.getUniqueID(),c=b.split(":").pop();a={result_fbid:c,result_type:e.getLoggingTypeFromMercuryType(a.getType()),rank_section:g.SOURCES.LOCAL_AND_SERVER,data_source:[d.includes(c)?g.SOURCES.LOCAL:g.SOURCES.LOCAL_AND_SERVER]};h=h.set(b,a)});f.logImpressions(h,a,g.RESULT_SURFACES.TYPEAHEAD,g.SOURCES.LOCAL_AND_SERVER)},"MessengerTypeaheadResultView.react")};return c}(b("React").Component);d.propTypes={controlleeID:c.string.isRequired,canViewerSendMoneyFilter:c.bool,className:c.string.isRequired,localEntries:c.arrayOf(c.instanceOf(b("SearchableEntry"))).isRequired,localEntryIDs:c.arrayOf(c.string.isRequired).isRequired,hasHoverState:c.bool.isRequired,highlightedEntry:c.object,onMount:c.func.isRequired,onNextHighlighted:c.func.isRequired,onScrollIntoView:c.func.isRequired,onSelect:c.func.isRequired,onSelectHighlighted:c.func.isRequired,onUnmount:c.func.isRequired,originalEntryIDs:c.instanceOf(b("immutable").Set).isRequired,queryString:c.string.isRequired,selectedEntryIDs:c.instanceOf(b("immutable").Set).isRequired,serverResults:c.arrayOf(c.instanceOf(b("SearchableEntry"))).isRequired,shouldQueryInternalBot:c.bool.isRequired,shouldQueryPages:c.bool.isRequired,shouldQueryVCEndpoint:c.bool.isRequired,viewer:c.string.isRequired,forGroup:c.bool,rowComponent:c.func};d.defaultProps={controlleeID:"",className:""};e.exports=j?d:a(d,{profiles:function(){return b("MessengerTypeaheadResultView_profiles.graphql")},groups:function(){return b("MessengerTypeaheadResultView_groups.graphql")},roomAudience:function(){return b("MessengerTypeaheadResultView_roomAudience.graphql")}})}),null);
__d("MessengerTypeaheadTopFriendsView.react",["cx","Keys","MessengerContactAdapters","MessengerContactList.react","MessengerGraphQLTypeaheadHighlighter","MessengerTypeaheadUtils","React","immutable","joinClasses","wrapNullableForReact"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.onKeyDown=function(a,c){if(a===b("Keys").RETURN){d.props.onSelectHighlighted(c);return}c=b("MessengerGraphQLTypeaheadHighlighter").getNextHighlightedEntry(a,d.props.entries.toArray(),d.props.queryString,d.props.highlightedEntry);d.props.onNextHighlighted(c)},d.$1=function(a){d.props.onNextHighlighted(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.props.hasHoverState&&(this.props.entries.size>0&&this.props.onNextHighlighted(this.props.entries.first()))};d.componentDidMount=function(){var a=this;this.props.onMount(this.onKeyDown,function(){return a.props.entries.toArray()})};d.componentWillUnmount=function(){this.props.onUnmount()};d.render=function(){return b("React").createElement(b("MessengerContactList.react"),{controlleeID:this.props.controlleeID,className:b("joinClasses")(this.props.className,"_4p-s"),contactAdapter:b("MessengerContactAdapters").fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:b("wrapNullableForReact")(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:b("MessengerTypeaheadUtils").buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:!1,viewer:this.props.viewer,rowComponent:this.props.rowComponent})};return c}(b("React").Component);c.propTypes={controlleeID:a.string.isRequired,className:a.string.isRequired,entries:a.instanceOf(b("immutable").List).isRequired,hasHoverState:a.bool.isRequired,highlightedEntry:a.object,onNextHighlighted:a.func.isRequired,onMount:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,onSelectHighlighted:a.func.isRequired,onUnmount:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,queryString:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,viewer:a.string.isRequired,rowComponent:a.func};c.defaultProps={controlleeID:"",className:""};e.exports=c}),null);
__d("MessengerGraphQLTypeaheadView.react",["cx","fbt","Bootloader","CurrentUser","ImageBlock.react","MercuryConfig","MercuryParticipantTypes","MercuryTypeaheadConstants","MessengerNewGroupParticipantSuggestionLocalCacheManager","MessengerPaymentFriendsLocalCache","MessengerRoomPrivacyMode","MessengerRoomWithAssocObjectAudienceLocalCacheManager","MessengerSearchWebGraphQLFetcher","MessengerSpinner.react","MessengerTypeaheadLocalCache","MessengerTypeaheadResultRoute","MessengerTypeaheadResultView.react","MessengerTypeaheadTopFriendsView.react","MessengerTypeaheadUtils","React","RelayFBEnvironment","RelayModern","createCancelableFunction","debounce","immutable","gkx","qex","MessengerGraphQLTypeaheadViewQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=b("React").PropTypes;var k=!b("CurrentUser").isWorkUser()||b("gkx")("868767"),l=function(a){if(!a||a.length===0)return null;var c=a[0];return c.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE?c:a.length>1?a[1]:null},m=5;c=100;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={route:null,localEntries:b("immutable").List(),queryCompleteStatus:{usersGroups:!k,pages:!k},serverResults:[],highlightedEntry:null},d.$1=null,d.$2=null,d.$3=null,d.$4=0,d.$5=0,d.$6=null,d.$7=null,d.$8=!0,d.$9=b("MessengerRoomWithAssocObjectAudienceLocalCacheManager").get(),d.$10=b("MessengerNewGroupParticipantSuggestionLocalCacheManager").get(),d.$11=null,d.$12=!1,d.$13=null,d.$14=0,d.$18=function(a,c,e,f,g,h){__p&&__p();d.$8&&d.setState({serverResults:[]});c=d.state.localEntries.toArray().filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var i=[];e||i.push("groups");f||i.push("pages");d.props.enableMessageSearch&&i.push("messages");g===null?i.push("users"):i.push("rooms");f={userLimit:(e=b("qex")._("839674"))!=null?e:10,messageLimit:3,groupLimit:b("MercuryConfig").MaxThreadResults,pageLimit:5,getQueryString:d.$17,canViewerSendMoneyFilter:h,localEntryIDs:c,threadFBID:g,shouldQueryInternalBot:d.props.shouldQueryInternalBot,shouldQueryVCEndpoint:d.props.shouldQueryVCEndpoint};d.$13!==null&&d.$13.fetchEntries(a,i,f,d.$32,d.$33)},d.$32=function(a,b){if(d.$8){d.setState(function(c){return{serverResults:c.serverResults.concat(a),queryCompleteStatus:Object.assign({},c.queryCompleteStatus,(c={},c[b]=!0,c))}});return}},d.$33=function(a,b){d.setState(function(a){return{queryCompleteStatus:Object.assign({},a.queryCompleteStatus,(a={},a[b]=!0,a))}})},d.$17=function(){return d.props.queryString},d.$24=function(a,b){d.$6=a,d.$7=b,d.$19()},d.$26=function(){d.$6=null,d.$7=null},d.$20=function(a){d.setState({highlightedEntry:a})},d.$25=function(a){d.state.highlightedEntry&&d.props.onSelect(d.state.highlightedEntry,a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c;this.$14=(c=b("qex")._("839673"))!=null?c:m;this.$15();this.$2=b("debounce")(function(){if(!k&&a.$8){var c=a.$16();c=new(b("MessengerTypeaheadResultRoute"))(c);a.setState({route:c})}},150,this,!0);k&&(this.$13=new(b("MessengerSearchWebGraphQLFetcher"))(function(){return a.$17()}),this.$3=b("debounce")(this.$18,150,this,!0))};d.componentDidUpdate=function(a){this.props!==a&&this.$19()};d.$19=function(){__p&&__p();if(!this.$7)return;var a=this.$7(),b=l(this.$11);this.$11=a;a=l(a);if(!a)return;if(this.state.highlightedEntry&&this.state.highlightedEntry.getUniqueID()===a.getUniqueID())return;b=!b||b.getUniqueID()!==a.getUniqueID();(b||!this.state.highlightedEntry||this.$12)&&this.$20(a);this.$12=!1};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this;this.setState({highlightedEntry:null});if(!a.queryString)this.$15();else if(a.queryString!==this.props.queryString){this.$12=!0;this.setState({queryCompleteStatus:{userGroupQueryFinished:!1,pagesQueryFinished:!1},serverResults:[]});this.$2&&this.$2();var d=a.roomAssociatedObject&&a.roomAssociatedObject.privacy_mode;this.$3&&this.$3(a.queryString,b("MercuryConfig").MaxThreadResults,a.excludeGroups,a.excludePages,d===b("MessengerRoomPrivacyMode").WHITELISTED_MODE?a.threadFBID:null,a.canViewerSendMoneyFilter);if(d===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$21(a);return}if(this.props.canViewerSendMoneyFilter){this.$22(a);return}if(this.props.includeExistingParticipantIDs){this.$23(a);return}b("MessengerTypeaheadLocalCache").search(a.queryString,function(d,e){__p&&__p();if(c.$8&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);var f=c.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(e):null;f&&d.unshift(f);var g=b("immutable").List(d).filter(function(a){if(c.props.excludeGroups&&a.getType()===b("MercuryParticipantTypes").THREAD)return!1;return c.props.excludePages&&a.getType()===b("MercuryParticipantTypes").PAGE?!1:!0});b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants","MessengerSearchLoggerUtil"],function(d,f,h){var a=g;if(c.props.queryString===e){var i=b("immutable").OrderedMap();a.forEach(function(a){var b=a.getUniqueID();a={result_fbid:b,result_type:h.getLoggingTypeFromMercuryType(a.getType()),rank_section:f.SOURCES.LOCAL,data_source:[f.SOURCES.LOCAL]};i=i.set(b,a)});d.logImpressions(i,e)}},"MessengerGraphQLTypeaheadView.react");c.setState({localEntries:g})}})}};d.shouldComponentUpdate=function(a,b){return a.queryString!==this.props.queryString||a.isFocused!==this.props.isFocused||a.excludeGroups!==this.props.excludeGroups||a.excludePages!==this.props.excludePages||b.localEntries!==this.state.localEntries||b.queryCompleteStatus!==this.state.queryCompleteStatus||b.route!==this.state.route||b.highlightedEntry!==this.state.highlightedEntry};d.componentWillUnmount=function(){this.$1&&this.$1.cancel(),this.$3&&this.$3.reset(),this.$2&&this.$2.reset(),this.$8=!1};d.render=function(){__p&&__p();var a=this;if(!this.props.isFocused&&!this.props.queryString||!b("MessengerTypeaheadLocalCache").isBootstrapped()&&!this.$9.isBootstrapped(this.props.threadFBID)&&!b("MessengerPaymentFriendsLocalCache").isBootstrapped()&&!this.$10.isBootstrapped(this.props.threadFBID,this.props.originalEntryIDs))if(b("gkx")("678607"))return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Recherche en cours...")));else return null;if(!this.props.queryString||!k&&!this.state.route)return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$24,onNextHighlighted:this.$20,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$25,onUnmount:this.$26,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent});if(k){var c=this.state.queryCompleteStatus.usersGroups&&(this.props.excludePages||this.state.queryCompleteStatus.pages);return b("React").createElement("div",null,this.state.queryCompleteStatus.usersGroups?this.$27():this.$28(),this.state.queryCompleteStatus.usersGroups&&!c?this.$29():null)}return b("React").createElement(j,{environment:b("RelayFBEnvironment"),query:i||(i=function(){return b("MessengerGraphQLTypeaheadViewQuery.graphql")}),render:function(b){var c=b.error;b=b.props;if(c)return a.$30(c);else if(b)return a.$27(b);return a.$28()},variables:this.$16()})};d.$28=function(){var a=this.state.localEntries.slice(0,this.$14);return b("React").createElement(b("MessengerTypeaheadTopFriendsView.react"),{className:this.props.typeaheadViewClassName,entries:this.$31(a,this.props.queryString),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$20,onMount:this.$24,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$25,onUnmount:this.$26,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer,rowComponent:this.props.rowComponent})};d.$29=function(){return b("React").createElement(b("ImageBlock.react"),{className:"_225c",spacing:"medium"},b("React").createElement(b("MessengerSpinner.react"),{className:"_2i59",color:"grey"}),b("React").createElement("div",{className:"_4g0h"},h._("Recherche en cours...")))};d.$27=function(a){var c=this.$16(),d=this.state.localEntries.slice(0,this.$14);return b("React").createElement(b("MessengerTypeaheadResultView.react"),babelHelpers["extends"]({},a,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:d.toArray(),onMount:this.$24,onNextHighlighted:this.$20,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$25,onUnmount:this.$26,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,serverResults:this.state.serverResults,viewer:this.props.viewer,rowComponent:this.props.rowComponent},c))};d.$30=function(a){return b("React").createElement("div",null,h._("Une erreur est survenue. Veuillez r\u00e9essayer."))};d.$31=function(a,b){var c=this;b=a.filter(function(a){return!c.props.selectedEntryIDs.contains(a.getUniqueID())});return b};d.onKeyDown=function(a,b){this.$6&&this.$6(a,b)};d.$21=function(a){var c=this;this.$9.search(a.threadFBID,a.queryString,function(d,e){if(c.$8&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$34=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){c=c.slice(0,30);a.setState({localEntries:b("immutable").List(c)})});this.$9.onEntriesLoaded(this.props.threadFBID,function(b){a.$1&&a.$1(b),a.$1=null})};d.$23=function(a){var c=this;this.$10.search(a.threadFBID,a.originalEntryIDs,a.queryString,function(d,e){if(c.$8&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$35=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c.slice(0,50))})});this.$10.onEntriesLoaded(this.props.threadFBID,this.props.originalEntryIDs,function(b){a.$1&&a.$1(b),a.$1=null})};d.$22=function(a){var c=this;b("MessengerPaymentFriendsLocalCache").search(a.queryString,function(d,e){if(c.$8&&e===a.queryString){d=b("MessengerTypeaheadUtils").sortEntries(d,e).slice(0,c.props.maxEntries);c.setState({localEntries:b("immutable").List(d)})}})};d.$36=function(){var a=this;this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c){a.setState({localEntries:b("immutable").List(c)})});b("MessengerPaymentFriendsLocalCache").onEntriesLoaded(function(b){a.$1&&a.$1(b),a.$1=null})};d.$15=function(){__p&&__p();var a=this,c=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;if(c===b("MessengerRoomPrivacyMode").WHITELISTED_MODE){this.$34();return}if(this.props.canViewerSendMoneyFilter){this.$36();return}if(this.props.includeExistingParticipantIDs){this.$35();return}this.setState({localEntries:b("immutable").List()});this.$1=b("createCancelableFunction")(function(c,d,e){c=c.slice(0,50);a.props.excludeGroups||(c=c.concat(d));if(!e||!a.props.queryString){d=a.props.enableMessageSearch?b("MessengerTypeaheadUtils").getMessageSearchEntry(a.props.queryString):null;d&&c.unshift(d);a.props.queryString===""&&a.$37(c);a.setState({localEntries:b("immutable").List(c)})}});b("MessengerTypeaheadLocalCache").onEntriesLoaded(function(b,c,d){a.$1&&a.$1(b,c,d),a.$1=null})};d.$16=function(){var a=this.props.canViewerSendMoneyFilter,c=this.state.localEntries.toArray();c=c.filter(function(a){return a.getType()!==b("MercuryTypeaheadConstants").SEARCH_TYPE}).map(function(a){return a.getUniqueID()});var d=b("MercuryConfig").MaxThreadResults,e=this.props.roomAssociatedObject&&this.props.roomAssociatedObject.privacy_mode;e=e===b("MessengerRoomPrivacyMode").WHITELISTED_MODE;var f=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1&&!e,g=!this.props.excludeGroups&&c.length>0&&!e,h=!this.props.excludeGroups&&(!g||b("CurrentUser").isEmployee())&&!e,i=!k,j=!this.props.excludePages&&!e,l=this.props.shouldQueryVCEndpoint&&(b("CurrentUser").isEmployee()||b("CurrentUser").isWorkUser())&&!e,m=this.props.shouldQueryInternalBot&&b("CurrentUser").isEmployee()&&b("CurrentUser").isWorkUser()&&!e,n=e,o=this.props.threadFBID;return{queryString:this.props.queryString,canViewerSendMoneyFilter:a,localEntryIDs:c,maxThreadResults:d,shouldQueryGroups:i,shouldQueryPages:j,shouldQueryThreadName:f,shouldQueryParticipantIDs:g,shouldQueryParticipantNames:h,shouldQueryVCEndpoint:l,shouldQueryInternalBot:m,shouldQueryRoomsAudience:e,shouldSkipQueryUsers:n,threadFBID:o,forGroup:this.props.forGroup}};d.$37=function(a){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(b){b.logNullStateImpressions(a,a.length)},"MessengerGraphQLTypeaheadView.react")};return c}(b("React").Component);d.propTypes={includeExistingParticipantIDs:a.bool,canViewerSendMoneyFilter:a.bool,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,forGroup:a.bool,isFocused:a.bool.isRequired,hasHoverState:a.bool.isRequired,maxEntries:a.number.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,queryString:a.string.isRequired,roomAssociatedObject:a.object,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,viewer:a.string.isRequired,rowComponent:a.func};d.defaultProps={maxEntries:c,typeaheadViewClassName:""};e.exports=d}),null);
__d("MessengerScrollableArea.react",["cx","React","ReactDOM","ScrollableArea.react","Style","UserAgent","clearImmediate","joinClasses","setImmediate","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=20;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$1=!1;d.$2=null;d.$4=function(){if(d.$1){var a;d.props.onScroll&&(a=d.props).onScroll.apply(a,arguments)}};d.$5=function(){__p&&__p();if(!b("UserAgent").isBrowser("IE"))return;if(!d.refs||!d.refs.scrollable)return;var a=d.refs.scrollable.refs.wrap,c=d.refs.scrollable.refs.body;if(!c||!a)return;c=b("ReactDOM").findDOMNode(c);a=b("ReactDOM").findDOMNode(a);a=a.offsetWidth-a.clientWidth;a>0&&b("Style").set(c,"margin-right",-a+"px")};d.$3=b("throttle")(d.$4,50);return d}var d=c.prototype;d.componentDidMount=function(){this.$2=b("setImmediate")(this.$5),this.$1=!0};d.componentWillUnmount=function(){b("clearImmediate")(this.$2),this.$1=!1};d.render=function(){var a=this.props.needsFastScrollHandler?this.$4:this.$3;return b("React").createElement(b("ScrollableArea.react"),{className:b("joinClasses")("_5f0v",this.props.className),height:this.props.height,onScroll:a,persistent:!0,ref:"scrollable",shadow:!1,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children)};d.getArea=function(){return this.refs.scrollable.getArea()};d.scrollToBottom=function(a){var b=this.getArea();b&&this.scrollToPosition(b.getScrollHeight(),!!a)};d.scrollToTop=function(a){var b=this.getArea();b&&b.scrollToTop(!!a)};d.scrollToPosition=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c={});var d=this.getArea();if(!d)return;d.setScrollTop(a,b,c)};d.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0)};d.isScrolledToBottomWithHeight=function(a){var b=this.getArea();return!b?!1:b.getScrollTop()+b.getClientHeight()+a>=b.getScrollHeight()-h};d.isScrolledToTop=function(){var a=this.getArea();return!a?!0:a.getScrollTop()<=h};d.getScrollTop=function(){var a=this.getArea();return!a?0:a.getScrollTop()};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerUniversalSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a={END:"end",IMPRESSIONS:"impressions",QUERY_CHANGED:"query_changed",REENTERED:"reentered",RESULT_SELECTED:"result_selected",SOURCE_ENDED:"source_ended",SOURCE_STARTED:"source_started",START:"start"};b={USER_CONTACT:"user_contact",USER_NON_CONTACT:"user_non_contact",GROUP:"group",PAGE:"page",GAME:"game",TINCAN:"tincan",COWORKER:"coworker",MESSAGE:"message",OTHER:"other"};c={MESSENGER_DOT_COM:"messenger_dot_com",WWW:"www"};d=Object.freeze({INBOX:"inbox",SIDEBAR:"sidebar"});f={NULL_STATE:"null_state",TYPEAHEAD:"typeahead"};var g={LOCAL:"local",SERVER:"server",SERVER_XCONTROLLER:"server_xcontroller",LOCAL_AND_SERVER:"local_and_server",SERVER_USERS_GROUPS:"server_users_groups",SERVER_PAGES:"server_pages",SERVER_ROOMS:"server_rooms"},h={FAILED:"failed",FINISHED:"finished"},i={LOCAL:"local",SERVER:"server"},j={END_ACTION:"end_action"},k=Object.freeze({ABANDON:"abandon",RESULT_SELECTED:"result_selected",MESSAGE_SEARCH:"message_search",ENTER_INTEGRATED_MESSAGE_SEARCH:"enter_integrated_message_search",SEND:"send",CALL:"call"});e.exports={NAME:"MESSENGER_UNIVERSAL_SEARCH_FUNNEL",END_ACTIONS:k,END_REASONS:j,ENTRY_SURFACES:d,EVENTS:a,INTERFACES:c,QUERY_PROGRESS:h,RESULT_SURFACES:f,RESULT_TYPES:b,SOURCES:g,UI_SECTIONS:i}}),null);
__d("QuicksilverSources",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALOHA_GAMEHOST:"aloha_gamehost",BIG_BLUE_IG_SEARCH:"big_blue_ig_search",CANVAS_DIVEBAR:"canvas_divebar",CANVAS_GAME_MODAL:"canvas_game_modal",CUSTOM_SHARE:"in_game_custom_share",EMBEDDED_PLAYER:"embedded_player",FB_AD:"fb_ad",FB_ARCADE_HEADER_INVITE:"fb_arcade_header_invite",FB_CANVAS:"fb_canvas",FB_CANVAS_MIGRATION:"fb_canvas_migration",FB_FEED:"fb_feed",FB_FEED_EGO:"fb_ego_igyml",FB_FEED_GROUP_CHALLENGE_EDGE_STORY:"fb_feed_group_challenge_edge_story",FB_FEED_IGYFAP_QP:"fb_qp_igyfap",FB_FEED_IGYML_QP:"fb_qp_igyml",FB_FEED_LEADERBOARD_HIGH_SCORE:"fb_feed_leaderboard_high_score",FB_FEED_LIVE_VIDEO:"fb_feed_live_video",FB_FEED_NEW_RELEASES_QP:"fb_qp_new_releases",FB_FEED_PLAY_FROM_POST_EDGE_STORY:"fb_feed_play_from_post_edge_story",FB_FEED_PLAY_WITH_FRIENDS:"fb_feed_play_with_friends",FB_FEED_PLAYED_RECENTLY_QP:"fb_qp_played_recently",FB_FEED_PLAYING_WITH_FRIENDS_QP:"fb_qp_playing_with_friends",FB_FEED_POST_GAMEPLAY:"fb_feed_post_gameplay",FB_FEED_QUICK_PROMOTION:"fb_feed_quick_promotion",FB_FEED_RATING:"fb_feed_rating",FB_FEED_SCREENSHOT:"fb_feed_screenshot",FB_GAMES_TAB:"fb_games_tab",FB_GAMES_TAB_NOTIFICATION:"fb_games_tab_notification",FB_GG_FEED:"fb_gg_feed",FB_GG_NOTIFICATION:"fb_gg_notification",FB_GG_SEARCH:"fb_gg_search",FB_GG_STORY:"fb_gg_story",FB_GG_URL:"fb_gg_url",FB_GROUP_AYMT:"fb_group_aymt",FB_GROUP_CHALLENGE:"fb_group_challenge",FB_GROUP_COMPOSER:"fb_group_composer",FB_GROUP_GAMES_TAB:"fb_group_games_tab",FB_GROUP_MALL:"fb_group_mall",FB_GROUP_MALL_EGO:"fb_group_mall_ego",FB_GROUP_MALL_SCREENSHOT:"fb_group_mall_screenshot",FB_GROUP_NEWS_FEED:"fb_group_news_feed",FB_GROUP_NEWSFEED_SCREENSHOT:"fb_group_newsfeed_screenshot",FB_GROUP_POST_ACTION_LINK:"fb_group_post_action_link",FB_GROUP_POST_CONTEXT_UPDATE:"fb_group_post_context_update",FB_GROUP_RHC_LEADERBOARD:"fb_group_rhc_leaderboard",FB_GROUP_SCORE_PASSED_NOTIF:"fb_group_score_passed_notif",FB_GROUP_TOURNAMENT_FEED_UNIT:"fb_group_tournament_feed_unit",FB_HOMESCREEN_SHORTCUT:"fb_homescreen_shortcut",FB_INVITE_DECLINED_NOTIF:"fb_invite_declined_notif",FB_MESSENGER_AD:"fb_messenger_ad",FB_NON_MESSENGER_WAP_INVITE_NOTIF:"fb_non_messenger_wap_invite_notif",FB_OTHER_GAMES_NOTIF:"fb_other_games_notif",FB_PAGE_PLAY_GAME_BUTTON:"fb_page_play_game_button",FB_PLAYED_FROM_POST_NOTIF:"fb_played_from_post_notif",FB_SCORE_PASSED_NOTIF:"fb_score_passed_notif",FB_SEARCH:"big_blue_search",FB_STORY_ATTRIBUTION_LINK:"fb_story_attribution_link",FB_TOURNAMENT_FINISHED_NOTIF:"fb_tournament_finished_notif",FB_TURN_REMINDER_NOTIF:"fb_turn_reminder_notif",FBLITE_BOOKMARK:"fblite_bookmark",FBLITE_FEED_SCREENSHOT:"fblite_feed_screenshot",FBLITE_MESSENGER_TAB:"fblite_messenger_tab",GAME_CTA:"game_cta",GAME_SEARCH:"game_search",GAME_SWITCH:"game_switch",GAMEROOM_FEED_POST:"gameroom_feed_post",GAMEROOM_HOME:"gameroom_home",HOME_SCREEN_SHORTCUT:"home_screen_shortcut",INTERNAL:"internal",LIVE_VIDEO_CTA:"live_video_cta",M_ME_LINK:"m_me_link",MARKETPLACE:"marketplace",MESSENGER_AD:"messenger_ad",MESSENGER_ADMIN_MESSAGE:"admin_message",MESSENGER_BBALL_EMOJI:"bball_emoji",MESSENGER_BOT_MENU:"bot_menu",MESSENGER_BUSINESS_ATTACHMENT:"business_attachment",MESSENGER_CALL_TO_ACTION:"call_to_action",MESSENGER_COMPOSER:"composer",MESSENGER_COMPOSER_SMS:"composer_sms",MESSENGER_CUSTOM_ADMIN_MESSAGE:"custom_admin_message",MESSENGER_CUSTOM_UPDATE_BREADCRUMB:"custom_update_breadcrumb",MESSENGER_CUSTOM_UPDATE_XMA:"custom_update_xma",MESSENGER_GAME_BOT_MENU:"game_bot_menu",MESSENGER_GAME_BOT_NULL_STATE:"game_bot_null_state_cta",MESSENGER_GAME_EMOJI:"game_emoji",MESSENGER_GAME_PUSH_NOTIFICATION:"game_push_notification",MESSENGER_GAME_SCORE_SHARE:"game_score_share",MESSENGER_GAME_SEARCH:"search",MESSENGER_GAME_SHARE:"game_share",MESSENGER_GAME_THREAD_ROW_CTA:"game_thread_row_cta",MESSENGER_GAMES_HUB:"games_hub",MESSENGER_LEADERBOARD_BREADCRUMB:"leaderboard_breadcrumb",MESSENGER_LEADERBOARD_XMA:"leaderboard_xma",MESSENGER_M_SUGGESTION:"game_m_suggestion",MESSENGER_MORE_DRAWER_CHAT_EXTENSION:"more_drawer_chat_extension",MESSENGER_NEW_FRIEND_BUMP:"new_friend_bump",MESSENGER_ONE_LINE_COMPOSER:"one_line_composer",MESSENGER_RTC:"rtc",MESSENGER_SEARCH:"messenger_search",MESSENGER_SOCCER_EMOJI:"soccer_emoji",MESSENGER_STALE_THREAD_QUICK_REPLY:"stale_thread_quick_reply",MESSENGER_STICKER:"sticker",MESSENGER_TOURNAMENT_START:"tournament_start",MN_DIODE:"mn_diode",MN_DIODE_TAB:"mn_diode_tab",MOBILE_APP_BOOKMARK:"mobile_app_bookmark",MOBILE_BOOKMARK:"mobile_bookmark",MOBILE_BOOKMARK_PRESENCE:"mobile_bookmark_presence",MOBILE_GAME_CHAINING_PAGE:"mobile_game_chaining_page",MSITE:"msite",MSITE_BOOKMARK:"msite_bookmark",OTHER_DIODE_TAB:"other_diode_tab",PRESENCE_ON_MESSENGER:"presence_on_messenger",SOCIAL_PLUGIN:"social_plugin",SRT_REVIEW:"srt_review",STREAMER_DASHBOARD:"streamer_dashboard",THREAD_ACTIVITY_BANNER:"thread_activity_banner",THREAD_SETTINGS:"thread_settings",TOURNAMENT_THREAD_ACTIVITY_BANNER:"tournament_thread_activity_banner",TOURNAMENT_UNIT:"tournament_unit",UNKNOWN:"unknown",WWW_APP_BOOKMARK:"www_app_bookmark",WWW_APP_CENTER_BROWSE:"www_app_center_browse",WWW_APP_CENTER_CHALLENGE:"www_app_center_challenge",WWW_APP_CENTER_MAIN:"www_app_center_main",WWW_BOOKMARK:"www_bookmark",WWW_CHAT_SIDEBAR_PRESENCE:"www_chat_sidebar_presence",WWW_GAME_THREAD_ROW_CTA:"www_game_thread_row_cta",WWW_GAMES_DIVEBAR_PAGELET:"www_games_divebar_pagelet",WWW_GAMES_HUB:"www_games_hub",WWW_GAMES_HUB_BOOKMARKS:"www_games_hub_bookmarks",WWW_GAMES_HUB_SEARCH:"www_games_hub_search",WWW_GAMES_RHC_PAGELET:"www_games_rhc_pagelet",WWW_GAMES_UNIFIED_RHC:"www_games_unified_rhc",WWW_LINK_SHARE:"www_link_share",WWW_MESSENGER_UPSELL:"www_messenger_upsell",WWW_PLAY_GAME_LOGGED_OUT_VIEW:"www_play_game_logged_out_view",WWW_PLAY_URL:"www_play_url",WWW_PROFILE_HOVERCARD:"www_profile_hovercard",WWW_REQUEST_HOVERCARD:"www_request_hovercard",WWW_SPOTLIGHT_BOTTOM_UNIT:"www_spotlight_bottom_unit",WWW_SPOTLIGHT_RHC:"www_spotlight_rhc"})}),null);
__d("MessengerGraphQLSearchTypeahead.react",["fbt","cx","ix","Bootloader","BootloadOnRender.react","ContextualLayer.react","CurrentUser","Event","Image.react","InstantGameContextType","JSResource","Keys","LazyComponent.react","MercuryIDs","MessengerContentSearchFunnelLoggerConstants","MessengerUniversalSearchFunnelLoggerConstants","gkx","immutable","MercuryThreadIDMap","MercuryTypeaheadConstants","MercuryVanityIDMap.bs","MessagingSourceEnum","MessengerActions","MessengerGraphQLTypeaheadView.react","MessengerScrollableArea.react","MessengerSpinner.react","MessengerState.bs","MessengerTypeaheadUtils","MNPlatformTagsDataManager","QuicksilverSources","React","ReactDOM","ReactLayeredComponentMixin_DEPRECATED","clearImmediate","emptyFunction","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MercuryThreadIDMap").get();a=b("React").PropTypes;var k=i("86933"),l=30,m=100;c=b("React").createClass({displayName:"MessengerGraphQLSearchTypeahead",mixins:[b("ReactLayeredComponentMixin_DEPRECATED")],_input:null,_timer:null,_view:null,propTypes:{includeExistingParticipantIDs:a.bool,canViewerSendMoneyFilter:a.bool,className:a.string.isRequired,context:a.object,enableMessageSearch:a.bool.isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,forGroup:a.bool,hasHoverState:a.bool.isRequired,hideClearButton:a.bool.isRequired,hideResults:a.bool,isFacebookChat:a.bool.isRequired,isFocused:a.bool.isRequired,isTokenizer:a.bool.isRequired,onBackspace:a.func.isRequired,onBlur:a.func.isRequired,onChange:a.func.isRequired,onClear:a.func.isRequired,onClick:a.func.isRequired,onFocus:a.func.isRequired,onScrollIntoView:a.func.isRequired,onSelect:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.string.isRequired,queryString:a.string.isRequired,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,selectedEntryIDs:a.instanceOf(b("immutable").Set).isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,typeaheadViewClassName:a.string.isRequired,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number,rowComponent:a.func},getInitialState:function(){return{gameID:null}},getDefaultProps:function(){return{includeExistingParticipantIDs:!1,canViewerSendMoneyFilter:!1,isFacebookChat:!1,isTokenizer:!1,onBackspace:b("emptyFunction"),onChange:b("emptyFunction"),onClear:b("emptyFunction"),onClick:b("emptyFunction"),onScrollIntoView:b("emptyFunction"),originalEntryIDs:b("immutable").Set(),placeholder:"",scrollableViewClassName:"",selectedEntryIDs:b("immutable").Set(),typeaheadViewClassName:"",useLayer:!1}},componentDidMount:function(){this._timer=b("setImmediate")(this._syncInputWidth)},componentDidUpdate:function(){b("clearImmediate")(this._timer),this._timer=b("setImmediate")(this._syncInputWidth)},componentWillUnmount:function(){b("clearImmediate")(this._timer)},renderLayers:function(){var a=this;if(!this.props.useLayer)return{};var c=null,d=null;this.props.context?c=this.props.context:d=function(){return a._input};return{typeaheadView:b("React").createElement(b("ContextualLayer.react"),{context:c,contextRef:d,position:"below",shown:(this.props.queryString||b("gkx")("678607"))&&this.props.isFocused,shouldSetARIAProperties:!1},this._renderView())}},render:function(){var a=this,c=this.props.useLayer?null:this._renderView();return b("React").createElement("div",{className:(this.props.isTokenizer?"":"_1nq2")+(this.props.isTokenizer?" _3mkz":"")},b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_58ah"+(this.props.hideResults?" _1a03":"")),onChange:this.props.onChange,onSelect:b("emptyFunction"),tabIndex:null},b("React").createElement("label",{className:"_58ak"},b("React").createElement("input",{autoComplete:"off",className:"_58al _7tpc",onBlur:this._handleBlur,onClick:this.props.onClick,onChange:function(){},onFocus:function(b){return a.props.onFocus()},onKeyDown:function(b){return a._handleKeyDown(b)},placeholder:this.props.placeholder,ref:function(b){return a._input=b},spellCheck:!1,tabIndex:this.props.tabIndex,type:"text",value:this.props.queryString,"aria-label":b("CurrentUser").isWorkUser()?g._("Rechercher dans Workchat"):g._("Rechercher dans Messenger")})),c),b("React").createElement(b("Image.react"),{onMouseDown:this._onClear,className:(this.props.hideClearButton?"hidden_elem":"")+" _2xme",src:k}),b("React").createElement("span",{ref:"textSizeProxy",className:"_58-3","aria-hidden":"true"},this.props.queryString||this.props.placeholder),this._renderGame())},focusInput:function(){this._input&&this._input.focus()},_onClear:function(){this.props.hideResults&&this._logClearContentSearch(),this.props.onClear()},_syncInputWidth:function(){if(!this.props.isTokenizer)return;var a=b("ReactDOM").findDOMNode(this.refs.textSizeProxy);a=a?a.offsetWidth:0;if(a===0)return;this._input&&(this._input.style.width=a+"px")},_renderGame:function(){return!this.state.gameID?null:b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerGraphQLSearchTypeahead.react"),placeholder:b("React").createElement(b("MessengerSpinner.react"),null),component:b("React").createElement(b("LazyComponent.react"),{initialContextType:b("InstantGameContextType").SOLO,initialContextSourceID:null,initialGameID:this.state.gameID,onHide:this._handleHideGame,initialSource:b("QuicksilverSources").MESSENGER_SEARCH,sourceID:null})})},_renderView:function(){__p&&__p();var a=this;if(!this.props.isFocused)return null;if(!this.props.queryString){var c=b("gkx")("678607")?!1:this.props.isTokenizer&&!this.props.forGroup;if(c)return null}c=this.props.isTokenizer?l:m;c=b("React").createElement(b("MessengerGraphQLTypeaheadView.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:c,onScrollIntoView:this._handleScrollIntoView,onSelect:this._handleSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(b){return a._view=b},roomAssociatedObject:this.props.roomAssociatedObject,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,threadFBID:this.props.threadFBID,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer,rowComponent:this.props.rowComponent});if(this.props.isTokenizer)return b("React").createElement(b("MessengerScrollableArea.react"),{className:this.props.scrollableViewClassName,ref:"scrollable",width:this.props.width},c);else return c},_handleScrollIntoView:function(a){if(!a)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(a);return}this.refs.scrollable&&b("MessengerTypeaheadUtils").scrollEntryIntoView(a,this.refs.scrollable)},_getThreadID:function(a,c){b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(a),function(a){return c(a.thread_id)})},_handleSelect:function(a,c){__p&&__p();c&&c.preventDefault();c=this.props.queryString;var d=a.getType(),e=a.getUniqueID().split(":").pop(),f=a.getAuxiliaryData().alias;if(f){var g=b("MercuryIDs").getParticipantIDFromUserID(e);b("MercuryVanityIDMap.bs").set(f,g)}switch(d){case b("MercuryTypeaheadConstants").GAME_TYPE:this.setState({gameID:e});return;case b("MercuryTypeaheadConstants").SEARCH_TYPE:this._endSearchFunnelStartContentSearchFunnel(c,d);b("MessengerActions").changeQueryAll(c);return;case b("MercuryTypeaheadConstants").MESSAGE_TYPE:this._updateToThread(e,a);this._endSearchFunnelStartContentSearchFunnel(c,d);break;default:this._updateToThread(e,a)}b("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread(b("MessagingSourceEnum").MESSENGER_WEB_SEARCH,e)},_updateToThread:function(a,c){var d=this,e=function(a){return d.props.onSelect(a,c.getType(),c)};c.getType()===b("MercuryTypeaheadConstants").THREAD_TYPE||c.getAuxiliaryData().messageResultType==="groupConversation"?j.getClientIDFromServerID(a,e):this._getThreadID(a,e)},_handleHideGame:function(){this.setState({gameID:null})},_handleKeyDown:function(a){var c=a.keyCode;c===b("Keys").DOWN||c===b("Keys").UP||c===b("Keys").RETURN?(this.props.hideResults&&c===b("Keys").RETURN&&b("MessengerActions").changeQueryAll(this.props.queryString),this._view&&this._view.onKeyDown&&this._view.onKeyDown(c,a)):c===b("Keys").BACKSPACE?this.props.onBackspace(a):c===b("Keys").ESC&&(this._input&&this._input.blur())},_handleBlur:function(){var a=this,c=null,d=b("Event").listen(window,"blur",function(){d.remove(),b("clearImmediate")(c)});c=b("setImmediate")(function(){d.remove(),a.props.onBlur()})},_logClearContentSearch:function(){b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(a){return a&&a.endFunnel(b("MessengerContentSearchFunnelLoggerConstants").FUNNEL_LOGGER_TAGS.END_WITH_X_BUTTON)},"MessengerGraphQLSearchTypeahead.react")},_endSearchFunnelStartContentSearchFunnel:function(a,c){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){return a.endFunnel(b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,c===b("MercuryTypeaheadConstants").SEARCH_TYPE?b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.MESSAGE_SEARCH:b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.ENTER_INTEGRATED_MESSAGE_SEARCH,null,b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.INBOX)},"MessengerGraphQLSearchTypeahead.react"),b("Bootloader").loadModules(["MessengerContentSearchFunnelLogger"],function(d){return d.startFunnel(a,c===b("MercuryTypeaheadConstants").SEARCH_TYPE?b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_ALL_THREADS:b("MessengerContentSearchFunnelLoggerConstants").ENTRY_SURFACES.SEARCH_FROM_INTEGRATED_MESSAGE_SEARCH)},"MessengerGraphQLSearchTypeahead.react")}});e.exports=c}),null);
__d("MessengerTokenizerToken.react",["cx","Keys","React","SearchableEntry","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=100;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$2=function(a){a.keyCode===b("Keys").BACKSPACE&&(a.preventDefault(),d.props.onRemove&&d.props.onRemove(d.props.entry))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_14-8"),label:null,onClick:this.$1,onKeyDown:this.$2,role:"option",tabIndex:this.props.index+h},b("React").createElement("span",{"aria-label":this.props.label,title:this.props.label,className:"_14-9"},this.props.label))};d.$1=function(a){a.stopPropagation()};return c}(b("React").Component);c.propTypes={className:a.string,entry:a.instanceOf(b("SearchableEntry")),index:a.number,label:a.string.isRequired,onRemove:a.func};e.exports=c}),null);
__d("MessengerGraphQLTokenizer.react",["cx","invariant","MessengerGraphQLSearchTypeahead.react","MessengerTokenizerToken.react","React","immutable","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=!0,d.state={focused:d.props.autoFocus,queryString:""},d.focusInput=function(){d.refs.typeahead&&d.refs.typeahead.focusInput()},d.$4=function(){if(!d.$1)return;d.setState({focused:!1})},d.$8=function(){if(!d.$1)return;d.setState({focused:!0})},d.$5=function(a){if(d.state.queryString||d.props.entries.size===0)return;d.$10(d.props.entries.last());a.preventDefault();b("setImmediate")(d.focusInput)},d.$6=function(a){a.target instanceof HTMLInputElement||h(0,1185);if(!d.$1)return;d.setState({queryString:a.target.value})},d.$7=function(){if(!d.$1)return;d.setState({queryString:""});d.props.onClear&&d.props.onClear()},d.$9=function(a,b,c){__p&&__p();if(!d.$1)return;a=d.props.entries;var e=c.getUniqueID();if(d.props.originalEntryIDs.contains(e))return;else if(a.some(function(a){return a.getUniqueID()===e})){d.$10(c);return}d.props.onAddEntryAttempt(c);d.setState({queryString:""})},d.$10=function(a){d.props.onRemoveEntryAttempt(a)},d.$3=function(a){d.focusInput()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.props.autoFocus&&b("setImmediate")(this.focusInput)};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){var a=this,c=this.props.entries.map(function(b,c){return a.$2(b,c)}),d=c.size>0?"":this.props.placeholder,e=this.props.forceHideClearButton||this.state.queryString===""&&this.props.entries.isEmpty();return b("React").createElement("div",null,b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_14-7")},b("React").createElement("div",{className:b("joinClasses")("_58-2","clearfix"),onClick:this.$3},c,b("React").createElement(b("MessengerGraphQLSearchTypeahead.react"),{includeExistingParticipantIDs:this.props.includeExistingParticipantIDs,canViewerSendMoneyFilter:this.props.canViewerSendMoneyFilter,className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,forGroup:this.props.forGroup,hasHoverState:this.props.hasHoverState,hideClearButton:e,isFacebookChat:!1,isFocused:this.state.focused,isTokenizer:!0,onBlur:this.$4,onBackspace:this.$5,onChange:this.$6,onClear:this.$7,onFocus:this.$8,onSelect:this.$9,originalEntryIDs:this.props.originalEntryIDs,placeholder:d,queryString:this.state.queryString,ref:"typeahead",roomAssociatedObject:this.props.roomAssociatedObject,selectedEntryIDs:b("immutable").Seq(this.props.entries).map(function(a){return a.getUniqueID()}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,threadFBID:this.props.threadFBID,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===""&&!this.state.focused?this.props.defaultEntries:null)};d.$2=function(a,c){return b("React").createElement(b("MessengerTokenizerToken.react"),{className:"_2ei6",key:a.getUniqueID(),label:a.getTitle(),entry:a,index:c,onRemove:this.$10})};return c}(b("React").PureComponent);c.propTypes={autoFocus:a.bool.isRequired,canViewerSendMoneyFilter:a.bool,includeExistingParticipantIDs:a.bool,className:a.string.isRequired,context:a.object,defaultEntries:a.element,enableMessageSearch:a.bool.isRequired,entries:a.instanceOf(b("immutable").List).isRequired,excludeGroups:a.bool.isRequired,excludePages:a.bool.isRequired,forGroup:a.bool,forceHideClearButton:a.bool,hasHoverState:a.bool.isRequired,onAddEntryAttempt:a.func.isRequired,onClear:a.func,onRemoveEntryAttempt:a.func.isRequired,originalEntryIDs:a.instanceOf(b("immutable").Set).isRequired,placeholder:a.node.isRequired,roomAssociatedObject:a.object,scrollableViewClassName:a.string.isRequired,shouldQueryInternalBot:a.bool.isRequired,shouldQueryVCEndpoint:a.bool.isRequired,tabIndex:a.number,threadFBID:a.string,useLayer:a.bool.isRequired,viewer:a.string.isRequired,width:a.number.isRequired};e.exports=c}),null);
__d("MessengerTabIndices",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NEW_MESSAGE_TOKENIZER:9998,GROUP_NAME_INPUT:9999,COMPOSER_INPUT:1e4});e.exports=a}),null);
__d("MessengerComposeViewHeader.react",["cx","fbt","ImmutableObject","MessengerButtonReact.bs","MessengerDotComAndInboxM4Check.bs","MessengerGraphQLTokenizer.react","MessengerTabIndices","React","clearImmediate","gkx","immutable","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerButtonReact.bs").jsComponent;a=b("React").PropTypes;var j=320;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={tokenizerContext:null,excludeGroups:!1,excludePages:!1,forGroup:!1},d.$1=null,d.$2=function(){d.$1=b("setImmediate")(function(){d.refs.tokenizer&&d.refs.tokenizer.focusInput()})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){this.$2(),this.setState({tokenizerContext:this.refs.tokenizerContext})};d.componentDidUpdate=function(a){this.props.recipients!==a.recipients&&this.props.onResize()};d.UNSAFE_componentWillReceiveProps=function(a){a.recipients!==this.props.recipients&&(a.recipients.size===0?this.setState({excludeGroups:!1,excludePages:!1,forGroup:!1}):a.isWorkUser?this.setState({excludeGroups:!0,excludePages:!1,forGroup:!0}):this.setState({excludeGroups:!0,excludePages:!0,forGroup:!0}))};d.componentWillUnmount=function(){this.$1&&b("clearImmediate")(this.$1)};d.render=function(){var a={enableMessageSearch:!1,hasHoverState:!0,originalEntryIDs:b("immutable").Set(),scrollableViewClassName:"_2y8_",shouldQueryInternalBot:!0,shouldQueryVCEndpoint:!1,width:j};return b("React").createElement("div",{className:b("joinClasses")("_2y8y"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zw0":"")+" _5l-3",this.props.className),onClick:this.$2,role:"presentation"},b("React").createElement("div",{className:"_2y8z",ref:b("gkx")("678607")?"tokenizerContext":""},h._("\u00c0\u00a0:")),b("React").createElement("div",{className:"_66s6"},b("React").createElement(b("MessengerGraphQLTokenizer.react"),babelHelpers["extends"]({autoFocus:!0,className:"_2y8-",context:this.state.tokenizerContext,entries:this.props.recipients,excludeGroups:this.state.excludeGroups,excludePages:this.state.excludePages,forGroup:this.state.forGroup,forceHideClearButton:this.props.forceHideClearButton,onAddEntryAttempt:this.props.onAddRecipient,onClear:this.props.onClear,onRemoveEntryAttempt:this.props.onRemoveRecipient,placeholder:h._("Saisissez le nom d\u2019une personne ou d\u2019un groupe"),ref:"tokenizer",tabIndex:b("MessengerTabIndices").NEW_MESSAGE_TOKENIZER,useLayer:!0,viewer:this.props.viewer},a)),b("gkx")("678607")?null:b("React").createElement("div",{ref:"tokenizerContext"})),this.$3())};d.$3=function(){return this.props.shouldShowCreateGroupButton?b("React").createElement(i,{className:"_6wh5",label:h._("Cr\u00e9er une discussion"),onClick:this.props.onCreateGroupButtonClicked,role:"button",tabIndex:0,type:"primary"}):null};return c}(b("React").PureComponent);c.propTypes={forceHideClearButton:a.bool.isRequired,onAddRecipient:a.func.isRequired,onClear:a.func,onRemoveRecipient:a.func.isRequired,onResize:a.func.isRequired,recipients:a.instanceOf(b("immutable").List).isRequired,thread:a.instanceOf(b("ImmutableObject")),viewer:a.string.isRequired,isWorkUser:a.bool.isRequired,shouldShowCreateGroupButton:a.bool,onCreateGroupButtonClicked:a.func};c.defaultProps={shouldShowCreateGroupButton:!1,isWorkUser:!1};e.exports=c}),null);
__d("MessengerComposeViewHeaderReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerComposeViewHeader.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){return b("ReasonReact.bs").wrapJsForReason(b("MessengerComposeViewHeader.react"),{className:b("bs_js_null_undefined").fromOption(a),forceHideClearButton:c,onClear:b("bs_js_null_undefined").fromOption(d),onAddRecipient:e,onRemoveRecipient:f,onResize:g,recipients:h,viewer:i,isWorkUser:j},k)}f.make=a}),null);
__d("MessengerDialogBodyReact.bs",["cx","ReactDOMRe.bs","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("MessengerDialogBodyReact");function i(a,c){var d=a!==void 0?a:"";return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){return b("ReactDOMRe.bs").createElementVariadic("div",{className:b("joinClasses")("_4eb-",d)},c)},h[9],h[10],h[11],h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(b("bs_js_primitive").nullable_to_opt(a.className),a.children)});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("MessengerDialogLayerShrinkOnHide",["cx","invariant","CSSFade","Layer","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a,this._subscriptionsHandler=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("starthide",this._handleStartHide.bind(this))};c.disable=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._subscriptionsHandler.release()};c._handleStartHide=function(){__p&&__p();var a=!0,c=b("Layer").subscribe("show",function(){c.unsubscribe(),a=!1}),d=setTimeout(function(){var b=this;c.unsubscribe();c=null;var d=function(){b._layer.finishHide()};a?this._animate(d):d()}.bind(this),0);this._subscriptionsHandler.addSubscriptions({remove:function(){clearTimeout(d)}});return!1};c._animate=function(a){var c=this._layer.getRoot();c!=null||h(0,70);var d=c.getElementsByClassName("_59s7");d&&d[0]&&d[0].classList.add("_2qby");b("CSSFade").hide(c,{callback:function(){a()},duration:200})};return a}();e.exports=a}),null);
__d("bs_belt_List",["bs_curry","bs_belt_Array","bs_js_primitive","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){if(a)return b("bs_js_primitive").some(a[0])}function c(a){if(a)return a[0];else throw new Error("headExn")}function d(a){if(a)return a[1]}function e(a){if(a)return a[1];else throw new Error("tailExn")}function g(a,b){return[b,a]}function h(a,c){__p&&__p();if(c<0)return void 0;else{a=a;c=c;while(!0){var d=c,e=a;if(e)if(d===0)return b("bs_js_primitive").some(e[0]);else{c=d-1|0;a=e[1];continue}else return void 0}}}function i(a,b){__p&&__p();if(b<0)throw new Error("getExn");else{a=a;b=b;while(!0){var c=b,d=a;if(d)if(c===0)return d[0];else{b=c-1|0;a=d[1];continue}else throw new Error("getExn")}}}function j(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(g){var h=g[1];g=g[0];var i=[g,0];if(a(g)){f[1]=i;c=i;b=h;continue}else{e[1]=i;d=i;b=h;continue}}else return 0}}function k(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f){var g=f[0],h=[g[0],0];g=[g[1],0];e[1]=h;d[1]=g;c=g;b=h;a=f[1];continue}else return 0}}function l(a,b){__p&&__p();while(!0){var c=b,d=a;if(d){var e=[d[0],0];c[1]=e;b=e;a=d[1];continue}else return c}}function m(a,b,c){__p&&__p();while(!0){var d=c,e=b;if(e){var f=e[1];e=e[0];if(a(e)){e=[e,0];d[1]=e;c=e;b=f;continue}else{b=f;continue}}else return 0}}function n(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(g){var h=g[1];g=g[0];if(a(g,e)){g=[g,0];f[1]=g;d=e+1|0;c=g;b=h;continue}else{d=e+1|0;b=h;continue}}else return 0}}function o(a,c,d){__p&&__p();while(!0){var e=d,f=c;if(f){var g=f[1];f=a(f[0]);if(f!==void 0){f=[b("bs_js_primitive").valFromOption(f),0];e[1]=f;d=f;c=g;continue}else{c=g;continue}}else return 0}}function aa(a,b,c,d){__p&&__p();while(!0){var e=c,f=a;if(f){var g=f[1];f=f[0];if(d(f[0],b)){e[1]=g;return!0}else{f=[f,0];e[1]=f;c=f;a=g;continue}}else return!1}}function ba(b,c,d,e,a){__p&&__p();while(!0){var f=e,g=b;if(g){var h=g[1];g=g[0];if(a(g[0],c)){f[1]=[[c,d],h];return!0}else{g=[g,0];f[1]=g;e=g;b=h;continue}}else return!1}}function ca(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e){var f=[c(e[0]),0];d[1]=f;b=f;a=e[1];continue}else return 0}}function da(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f&&e){var g=[[f[0],e[0]],0];d[1]=g;c=g;b=e[1];a=f[1];continue}else return 0}}function ea(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(g&&f){var h=[a(g[0],f[0]),0];e[1]=h;d=h;c=f[1];b=g[1];continue}else return 0}}function fa(a,b,c,d){__p&&__p();while(!0){var e=d,f=c,g=b;if(f){var h=[a(g,f[0]),0];e[1]=h;d=h;c=f[1];b=g+1|0;continue}else return 0}}function ga(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f===0)return!0;else if(e){var g=[e[0],0];d[1]=g;c=g;b=e[1];a=f-1|0;continue}else return!1}}function ha(a,b,c){__p&&__p();while(!0){var d=c,e=b,f=a;if(f===0)return e;else if(e){var g=[e[0],0];d[1]=g;c=g;b=e[1];a=f-1|0;continue}else return void 0}}function ia(a,b){__p&&__p();if(b<0)return void 0;else if(b===0)return 0;else if(a){var c=[a[0],0];b=ga(b-1|0,a[1],c);if(b)return c;else return void 0}else return void 0}function ja(a,b){__p&&__p();if(b<0)return void 0;else{a=a;b=b;while(!0){var c=b,d=a;if(c===0)return d;else if(d){b=c-1|0;a=d[1];continue}else return void 0}}}function ka(a,b){__p&&__p();if(b<0)return void 0;else if(b===0)return[0,a];else if(a){var c=[a[0],0];b=ha(b-1|0,a[1],c);if(b!==void 0)return[c,b];else return void 0}else return void 0}function p(a,b){if(a){var c=[a[0],0];l(a[1],c)[1]=b;return c}else return b}function q(a,b){if(a){var c=[b(a[0]),0];ca(a[1],c,b);return c}else return 0}function la(a,c){return q(a,b("bs_curry").__1(c))}function r(a,b,c){if(a&&b){var d=[c(a[0],b[0]),0];ea(c,a[1],b[1],d);return d}else return 0}function ma(a,c,d){return r(a,c,b("bs_curry").__2(d))}function s(a,b){if(a){var c=[b(0,a[0]),0];fa(b,1,a[1],c);return c}else return 0}function na(a,c){return s(a,b("bs_curry").__2(c))}function t(a,b){__p&&__p();if(a<=0)return 0;else{var c=[b(0),0],d=c,e=1;while(e<a){var f=[b(e),0];d[1]=f;d=f;e=e+1|0}return c}}function oa(a,c){return t(a,b("bs_curry").__1(c))}function pa(a,b){__p&&__p();if(a<=0)return 0;else{var c=[b,0],d=c,e=1;while(e<a){var f=[b,0];d[1]=f;d=f;e=e+1|0}return c}}function u(a){__p&&__p();a=a;var b=0;while(!0){var c=b,d=a;if(d){b=c+1|0;a=d[1];continue}else return c}}function qa(a,b,c){__p&&__p();while(!0){var d=c,e=b;if(d){a[e]=d[0];c=d[1];b=e+1|0;continue}else return 0}}function v(a){__p&&__p();var b=a;a=a.length-1|0;var c=0;while(!0){var d=c,e=a;if(e<0)return d;else{c=[b[e],d];a=e-1|0;continue}}}function w(a){var b=u(a);b=new Array(b);qa(b,0,a);return b}function ra(a){a=w(a);b("bs_belt_Array").shuffleInPlace(a);return v(a)}function x(a,b){while(!0){var c=b,d=a;if(d){b=[d[0],c];a=d[1];continue}else return c}}function sa(a){return x(a,0)}function ta(a,b){__p&&__p();while(!0){var c=b,d=a;if(c){b=c[1];a=l(c[0],d);continue}else{d[1]=0;return 0}}}function ua(a){__p&&__p();while(!0){var b=a;if(b){var c=b[0];if(c){var d=[c[0],0];ta(l(c[1],d),b[1]);return d}else{a=b[1];continue}}else return 0}}function va(a){__p&&__p();var b=a.length;if(b!==1)if(b!==0){b=a.length;var c=a[b-1|0];for(var b=b-2|0;b>=0;--b)c=p(a[b],c);return c}else return 0;else return a[0]}function y(a,b){__p&&__p();b=b;var c=0;a=a;while(!0){var d=a,e=c;if(d){a=d[1];c=[b(d[0]),e];continue}else return e}}function wa(a,c){return y(a,b("bs_curry").__1(c))}function z(a,b){while(!0){var c=a;if(c){b(c[0]);a=c[1];continue}else return 0}}function xa(a,c){return z(a,b("bs_curry").__1(c))}function A(a,b){__p&&__p();a=a;var c=0;b=b;while(!0){var d=c,e=a;if(e){b(d,e[0]);c=d+1|0;a=e[1];continue}else return 0}}function ya(a,c){return A(a,b("bs_curry").__2(c))}function B(a,b,c){while(!0){var d=b,e=a;if(e){b=c(d,e[0]);a=e[1];continue}else return d}}function za(a,c,d){return B(a,c,b("bs_curry").__2(d))}function C(a,b,c){if(a)return c(C(a[1],b,c),a[0]);else return b}function D(a,c,d){var e=u(a);if(e<1e3)return C(a,c,d);else return b("bs_belt_Array").reduceReverseU(w(a),c,d)}function Aa(a,c,d){return D(a,c,b("bs_curry").__2(d))}function E(a,b,c){__p&&__p();a=a;b=b;c=c;var d=0;while(!0){var e=d,f=b,g=a;if(g){d=e+1|0;b=c(f,g[0],e);a=g[1];continue}else return f}}function Ba(a,c,d){return E(a,c,b("bs_curry").__3(d))}function F(a,b,c){__p&&__p();a=a;b=b;var d=0;c=c;while(!0){var e=d,f=b,g=a;if(g&&f){d=[c(g[0],f[0]),e];b=f[1];a=g[1];continue}else return e}}function Ca(a,c,d){return F(a,c,b("bs_curry").__2(d))}function G(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e&&d){c(e[0],d[0]);b=d[1];a=e[1];continue}else return 0}}function Da(a,c,d){return G(a,c,b("bs_curry").__2(d))}function H(a,b,c,d){__p&&__p();while(!0){var e=c,f=b,g=a;if(g&&f){c=d(e,g[0],f[0]);b=f[1];a=g[1];continue}else return e}}function Ea(a,c,d,e){return H(a,c,d,b("bs_curry").__3(e))}function I(a,b,c,d){if(a&&b)return d(I(a[1],b[1],c,d),a[0],b[0]);else return c}function J(a,c,d,e){var f=u(a);if(f<1e3)return I(a,c,d,e);else return b("bs_belt_Array").reduceReverse2U(w(a),w(c),d,e)}function Fa(a,c,d,e){return J(a,c,d,b("bs_curry").__3(e))}function K(a,b){__p&&__p();while(!0){var c=a;if(c)if(b(c[0])){a=c[1];continue}else return!1;else return!0}}function Ga(a,c){return K(a,b("bs_curry").__1(c))}function L(a,b){__p&&__p();while(!0){var c=a;if(c)if(b(c[0]))return!0;else{a=c[1];continue}else return!1}}function Ha(a,c){return L(a,b("bs_curry").__1(c))}function M(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e&&d)if(c(e[0],d[0])){b=d[1];a=e[1];continue}else return!1;else return!0}}function Ia(a,c,d){return M(a,c,b("bs_curry").__2(d))}function Ja(a,b){__p&&__p();while(!0){var c=b,d=a;if(d)if(c){b=c[1];a=d[1];continue}else return 1;else if(c)return-1;else return 0}}function N(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e)if(d){var f=c(e[0],d[0]);if(f===0){b=d[1];a=e[1];continue}else return f}else return 1;else if(d)return-1;else return 0}}function Ka(a,c,d){return N(a,c,b("bs_curry").__2(d))}function O(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e)if(d&&c(e[0],d[0])){b=d[1];a=e[1];continue}else return!1;else if(d)return!1;else return!0}}function La(a,c,d){return O(a,c,b("bs_curry").__2(d))}function P(a,b,c){__p&&__p();while(!0){var d=b,e=a;if(e&&d)if(c(e[0],d[0]))return!0;else{b=d[1];a=e[1];continue}else return!1}}function Ma(a,c,d){return P(a,c,b("bs_curry").__2(d))}function Q(b,c,a){__p&&__p();while(!0){var d=b;if(d)if(a(d[0],c))return!0;else{b=d[1];continue}else return!1}}function Na(c,d,a){return Q(c,d,b("bs_curry").__2(a))}function R(c,d,a){__p&&__p();while(!0){var e=c;if(e){var f=e[0];if(a(f[0],d))return b("bs_js_primitive").some(f[1]);else{c=e[1];continue}}else return void 0}}function Oa(c,d,a){return R(c,d,b("bs_curry").__2(a))}function S(b,c,a){__p&&__p();while(!0){var d=b;if(d)if(a(d[0][0],c))return!0;else{b=d[1];continue}else return!1}}function Pa(c,d,a){return S(c,d,b("bs_curry").__2(a))}function T(b,c,a){__p&&__p();if(b){var d=b[1],e=b[0];if(a(e[0],c))return d;else{e=[e,0];d=aa(d,c,e,a);if(d)return e;else return b}}else return 0}function Qa(c,d,a){return T(c,d,b("bs_curry").__2(a))}function U(b,c,d,a){__p&&__p();if(b){var e=b[1],f=b[0];if(a(f[0],c))return[[c,d],e];else{f=[f,0];e=ba(e,c,d,f,a);if(e)return f;else return[[c,d],b]}}else return[[c,d],0]}function Ra(c,d,e,a){return U(c,d,e,b("bs_curry").__2(a))}function V(c,a){c=w(c);b("bs_belt_SortArray").stableSortInPlaceByU(c,a);return v(c)}function Sa(c,a){return V(c,b("bs_curry").__2(a))}function W(a,c){__p&&__p();while(!0){var d=a;if(d){var e=d[0];if(c(e))return b("bs_js_primitive").some(e);else{a=d[1];continue}}else return void 0}}function Ta(a,c){return W(a,b("bs_curry").__1(c))}function X(a,b){__p&&__p();while(!0){var c=a;if(c){var d=c[1];c=c[0];if(b(c)){c=[c,0];m(b,d,c);return c}else{a=d;continue}}else return 0}}function Ua(a,c){return X(a,b("bs_curry").__1(c))}function Y(a,b){__p&&__p();a=a;b=b;var c=0;while(!0){var d=c,e=a;if(e){var f=e[1];e=e[0];if(b(e,d)){e=[e,0];n(b,f,e,d+1|0);return e}else{c=d+1|0;a=f;continue}}else return 0}}function Va(a,c){return Y(a,b("bs_curry").__2(c))}function Z(a,c){__p&&__p();while(!0){var d=a;if(d){var e=d[1];d=c(d[0]);if(d!==void 0){d=[b("bs_js_primitive").valFromOption(d),0];o(c,e,d);return d}else{a=e;continue}}else return 0}}function Wa(a,c){return Z(a,b("bs_curry").__1(c))}function $(a,b){if(a){var c=a[0],d=[c,0],e=[c,0];c=b(c);j(b,a[1],d,e);if(c)return[d,e[1]];else return[d[1],e]}else return[0,0]}function Xa(a,c){return $(a,b("bs_curry").__1(c))}function Ya(a){if(a){var b=a[0],c=[b[0],0];b=[b[1],0];k(a[1],c,b);return[c,b]}else return[0,0]}function Za(a,b){if(a&&b){var c=[[a[0],b[0]],0];da(a[1],b[1],c);return c}else return 0}var $a=u;f.length=u;f.size=$a;f.head=a;f.headExn=c;f.tail=d;f.tailExn=e;f.add=g;f.get=h;f.getExn=i;f.make=pa;f.makeByU=t;f.makeBy=oa;f.shuffle=ra;f.drop=ja;f.take=ia;f.splitAt=ka;f.concat=p;f.concatMany=va;f.reverseConcat=x;f.flatten=ua;f.mapU=q;f.map=la;f.zip=Za;f.zipByU=r;f.zipBy=ma;f.mapWithIndexU=s;f.mapWithIndex=na;f.fromArray=v;f.toArray=w;f.reverse=sa;f.mapReverseU=y;f.mapReverse=wa;f.forEachU=z;f.forEach=xa;f.forEachWithIndexU=A;f.forEachWithIndex=ya;f.reduceU=B;f.reduce=za;f.reduceWithIndexU=E;f.reduceWithIndex=Ba;f.reduceReverseU=D;f.reduceReverse=Aa;f.mapReverse2U=F;f.mapReverse2=Ca;f.forEach2U=G;f.forEach2=Da;f.reduce2U=H;f.reduce2=Ea;f.reduceReverse2U=J;f.reduceReverse2=Fa;f.everyU=K;f.every=Ga;f.someU=L;f.some=Ha;f.every2U=M;f.every2=Ia;f.some2U=P;f.some2=Ma;f.cmpByLength=Ja;f.cmpU=N;f.cmp=Ka;f.eqU=O;f.eq=La;f.hasU=Q;f.has=Na;f.getByU=W;f.getBy=Ta;f.keepU=X;f.keep=Ua;f.keepWithIndexU=Y;f.keepWithIndex=Va;f.keepMapU=Z;f.keepMap=Wa;f.partitionU=$;f.partition=Xa;f.unzip=Ya;f.getAssocU=R;f.getAssoc=Oa;f.hasAssocU=S;f.hasAssoc=Pa;f.removeAssocU=T;f.removeAssoc=Qa;f.setAssocU=U;f.setAssoc=Ra;f.sortU=V;f.sort=Sa}),null);
__d("MessengerDialogs.bs",["bs_curry","bs_belt_List"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[0],h=[void 0];function i(){var a=h[0],c=g[0];if(a!==void 0){a=a;if(c)return b("bs_curry")._1(a,c);else return b("bs_curry")._1(a,void 0)}else return 0}function a(a){h[0]=a;return i(0)}function c(a){g[0]=[a,g[0]];return i(0)}function d(a,c){if(a!==void 0){var d=a;g[0]=b("bs_belt_List").keep(g[0],function(a){return a!==d})}else{c=g[0];g[0]=c?c[1]:0}return i(0)}function e(){g[0]=0;return i(0)}f.visibleDialogs=g;f.setDialogComponentState=h;f.updateComponent=i;f.addHandler=a;f.showDialog=c;f.removeDialog=d;f.removeAllDialogs=e}),null);
__d("MessengerDialog.react",["cx","LayerHideOnEscape","MessengerDialogLayerShrinkOnHide","MessengerDialogs.bs","React","XUIDialog.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerDialog",propTypes:{onToggle:a.func,repositionOnUpdate:a.bool,shown:a.bool,type:a.oneOf(["alert","default"]),width:a.number,removeDialogOnToggle:a.bool},getDefaultProps:function(){return{repositionOnUpdate:!1,shown:!0,type:"alert",width:400,removeDialogOnToggle:!0}},componentDidUpdate:function(){this.props.repositionOnUpdate&&setTimeout(function(){this.isMounted()&&this.refs.dialog&&this.refs.dialog.layer&&this.refs.dialog.layer.updatePosition()}.bind(this),0)},handleToggle:function(a){this.props.onToggle&&this.props.onToggle(a),!a&&this.props.removeDialogOnToggle&&b("MessengerDialogs.bs").removeDialog()},render:function(){return b("React").createElement(b("XUIDialog.react"),babelHelpers["extends"]({behaviors:{MessengerDialogLayerShrinkOnHide:b("MessengerDialogLayerShrinkOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")}},this.props,{onToggle:this.handleToggle,className:b("joinClasses")("_4ebx",this.props.className),ref:"dialog"}),b("React").createElement("div",{className:"_4eby"+(this.props.type==="alert"?" _2c9g":"")+(this.props.type==="default"?" _2c9i":"")},this.props.children))}});e.exports=c}),null);
__d("MessengerDialogButton.react",["cx","MessengerButtonReact.bs","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerButtonReact.bs").jsComponent;a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.action,d=a.className;a=babelHelpers.objectWithoutPropertiesLoose(a,["action","className"]);return b("React").createElement(h,babelHelpers["extends"]({className:b("joinClasses")(d,"_5ixy"+(c==="button"?" layerButton":"")+(c==="cancel"?" layerCancel":"")+(c==="confirm"?" layerConfirm":""))},a))};return c}(b("React").PureComponent);c.propTypes={action:a.oneOf(["button","cancel","confirm"])};e.exports=c}),null);
__d("MessengerDialogCancelButton.react",["fbt","MessengerDialogButton.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("MessengerDialogButton.react"),babelHelpers["extends"]({action:"cancel",label:g._("Annuler"),type:"secondary"},this.props))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerDialogFooter.react",["cx","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_4eb_",this.props.className)},b("React").createElement(b("LeftRight.react"),null,b("React").createElement("div",{className:"_2_d1"},this.props.leftContent),b("React").createElement("div",null,this.props.children)))};return c}(b("React").Component);c.propTypes={leftContent:a.object};e.exports=c}),null);
__d("MessengerDialogHeaderReact.bs",["cx","React","bs_belt_Option","ReasonReact.bs","joinClasses","bs_js_primitive"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("MessengerDialogHeaderReact");function a(a,c,d){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var e=b("bs_belt_Option").getWithDefault(a,!1);e={className:b("joinClasses")("_4ebz",e?"autofocus":"")};c!==void 0&&(e.id=b("bs_js_primitive").valFromOption(c));return b("React").createElement("h2",e,d)},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerDialogTitleReact.bs",["cx","React","bs_belt_Option","ReasonReact.bs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReasonReact.bs").statelessComponent("MessengerDialogTitleReact");function a(a,c){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var d=b("bs_belt_Option").getWithDefault(a,!1);return b("React").createElement("div",{className:b("joinClasses")("_19jt",d?"autofocus":"")},c)},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerDialogReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerDialog.react","MessengerDialogTitleReact.bs","MessengerDialogHeaderReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogCancelButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){if(a!==void 0)switch(a){case 0:return"cancel";case 1:return"button";case 2:return"confirm"}}function h(a){if(a!==void 0)if(a)return"secondary";else return"primary"}function a(a,c,d,e,f,g,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialog.react"),{className:b("bs_js_null_undefined").fromOption(a),onToggle:b("bs_js_null_undefined").fromOption(c),repositionOnUpdate:b("bs_js_null_undefined").fromOption(d),shown:b("bs_js_null_undefined").fromOption(e),titleID:b("bs_js_null_undefined").fromOption(f),type:b("bs_js_null_undefined").fromOption(g),width:b("bs_js_null_undefined").fromOption(h),removeDialogOnToggle:b("bs_js_null_undefined").fromOption(i)},j)}a=[a];var i=[b("MessengerDialogHeaderReact.bs").make],j=[b("MessengerDialogTitleReact.bs").make];function c(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogFooter.react"),{className:b("bs_js_null_undefined").fromOption(a),leftContent:b("bs_js_null_undefined").fromOption(c)},d)}c=[c];var k=[];function d(a,c){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogCancelButton.react"),{onClick:b("bs_js_null_undefined").fromOption(a)},c)}d=[d];function e(a,c,d,e,f,i,j,k,l,m){return b("ReasonReact.bs").wrapJsForReason(b("MessengerDialogButton.react"),{action:b("bs_js_null_undefined").fromOption(g(a)),label:b("bs_js_null_undefined").fromOption(c),disabled:b("bs_js_null_undefined").fromOption(d),use:b("bs_js_null_undefined").fromOption(e),onClick:b("bs_js_null_undefined").fromOption(f),type:b("bs_js_null_undefined").fromOption(h(i)),className:b("bs_js_null_undefined").fromOption(j),leftContent:b("bs_js_null_undefined").fromOption(k),ariaLabel:b("bs_js_null_undefined").fromOption(l)},m)}e=[e];var l=[],m=0;f.stringOfButtonAction=g;f.stringOfButtonType=h;f.Dialog=a;f.Header=i;f.Title=j;f.Footer=c;f.Footer2=k;f.CancelButton=d;f.Button=e;f.Body=m;f.Body2=l}),null);
__d("XMessagingForwardAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/forward/",{})}),null);
__d("XMessengerPlatformShareCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/platform/share/",{})}),null);
__d("MessengerForwardAttachmentDialogReact.bs",["ix","cx","fbt","bs_block","bs_curry","Image.bs","React","immutable","CurrentUser","fbglyph","ReasonReact.bs","AsyncRequest","bs_js_primitive","MercuryLocalIDs","MessageShareType","MessengerDialogs.bs","MessengerDialogReact.bs","MessengerSpinnerReact.bs","MessengerDialogBodyReact.bs","MessengerComposeViewHeaderReact.bs","XMessengerPlatformShareCTAController","XMessagingForwardAttachmentController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("Envoyer"),k=b("ReasonReact.bs").reducerComponent("MessengerForwardAttachmentDialogReact");function l(a,c,d){new(b("AsyncRequest"))(a.getURIBuilder().getURI()).setMethod("POST").setHandler(d).setData(c).send();return 0}function m(a,c,d,e,f,h,m){__p&&__p();var n=function(a){if(a)return 0;else{b("MessengerDialogs.bs").removeDialog(void 0,0);return b("bs_curry")._1(c,0)}},o=function(c,e){__p&&__p();var f=e[3];c=function(a){if(a.payload.success)return b("bs_curry")._1(f,2);else return b("bs_curry")._1(f,b("bs_block").__(2,[b("bs_js_primitive").nullable_to_opt(a.payload.error)]))};var g={};e[1][0].forEach(function(c,a,d){g[String(b("MercuryLocalIDs").generateOfflineThreadingID(void 0))]=c.getUniqueID();return!0});var i=0;h!==void 0&&d!==void 0&&b("bs_js_primitive").valFromOption(h)===b("MessageShareType").PLATFORM_SHARE_CTA?l(b("XMessengerPlatformShareCTAController"),{cta_id:a,message_id:b("bs_js_primitive").valFromOption(d),recipient_map:g},c):i=1;i===1&&l(b("XMessagingForwardAttachmentController"),{attachment_id:a,recipient_map:g},c);return b("bs_curry")._1(e[3],1)};return[k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],function(a){__p&&__p();var c=a[1],d=c[2],h=c[1];if(d)d=b("React").createElement("div",void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerSpinnerReact.bs").make(void 0,void 0,void 0,[])),b("React").createElement("span",{className:"_1e1n _3-99"},i._("Envoi en cours")));else if(h!==void 0){var k=g("141787");d=b("React").createElement("div",{className:"_1e1n"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,k,void 0,void 0,void 0,void 0,[])),b("React").createElement("span",{className:"_3-99"},h))}else d=null;k=c[0].isEmpty()||c[2];return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog[0](void 0,n,void 0,e,void 0,void 0,560,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._3(b("MessengerDialogReact.bs").Header[0],void 0,void 0,b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._2(b("MessengerDialogReact.bs").Title[0],void 0,f)))),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogBodyReact.bs").make(void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerComposeViewHeaderReact.bs").make("_1e1o",!1,function(){return b("bs_curry")._1(a[3],0)},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(0,[c]))},function(c){return b("bs_curry")._1(a[3],b("bs_block").__(1,[c]))},function(){return 0},c[0],b("CurrentUser").getID(),b("CurrentUser").isWorkUser(),[]))])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer[0](void 0,b("bs_js_primitive").some(d),[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton[0](void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button[0](2,j,k,void 0,b("bs_curry")._1(a[0],o),0,void 0,void 0,k?i._("Bouton Envoyer d\u00e9sactiv\u00e9"):j,[]))]))]))},function(){return[b("immutable").List([]),void 0,!1]},k[10],function(a){__p&&__p();if(typeof a==="number")switch(a){case 0:return function(a){return b("bs_block").__(0,[[b("immutable").List([]),a[1],a[2]]])};case 1:return function(a){return b("bs_block").__(0,[[a[0],void 0,!0]])};case 2:b("bs_curry")._1(c,0);return function(){return b("bs_block").__(0,[[b("immutable").List([]),void 0,!1]])}}else switch(a.tag|0){case 0:var d=a[0];return function(a){return b("bs_block").__(0,[[a[0].push(d),a[1],a[2]]])};case 1:var e=a[0];return function(a){return b("bs_block").__(0,[[a[0].filter(function(a){return a!==e}),a[1],a[2]]])};case 2:var f=a[0];return function(a){return b("bs_block").__(0,[[a[0],f,!1]])}}},k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return m(a.attachmentID,a.onClose,b("bs_js_primitive").nullable_to_opt(a.messageID),a.shown,a.title,b("bs_js_primitive").nullable_to_opt(a.shareType),[])});f.sendButtonLabel=j;f.component=k;f.sendData=l;f.make=m;f.jsComponent=a}),null);
__d("MessengerDialogHeaderReact.re",["bs_curry","MessengerDialogHeaderReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerDialogHeaderReact.bs").component,function(a){return b("bs_curry")._3(b("MessengerDialogHeaderReact.bs").make,a.autofocus,a.id,a.children)});f.component=a;f["default"]=a}),null);
__d("MessengerDialogTitleReact.re",["bs_curry","MessengerDialogTitleReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerDialogTitleReact.bs").component,function(a){return b("bs_curry")._2(b("MessengerDialogTitleReact.bs").make,a.autofocus,a.children)});f.component=a;f["default"]=a}),null);
__d("MessengerPhotoInfoDialog.react",["cx","fbt","MercuryIDs","MercuryTimestamp","MessengerContactImageReact.bs","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogHeaderReact.re","MessengerDialogs.bs","MessengerDialogTitleReact.re","MessengerEnvironment","MessengerParticipants.bs","MessengerSpinner.react","React","RelayClassic_DEPRECATED","XUIDialog.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","react-relay-deprecated/classic/query/RelayQL"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerContactImageReact.bs").jsComponent,j=b("MessengerDialogHeaderReact.re").component,k=b("MessengerDialogTitleReact.re").component;a=b("React").PropTypes;var l=54;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(a){a.preventDefault(),d.props.showHeader&&d.props.showHeader(),b("MessengerDialogs.bs").removeDialog()},d.$4=function(a){a||(d.props.showHeader&&d.props.showHeader(),d.props.closeInfo())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return!this.props.fullMedia?null:b("MessengerEnvironment").messengerui?this.$1():this.$2()};d.$3=function(){var a=this.props.fullMedia;a=a.creator;return a?a.name:b("MessengerParticipants.bs").getDefaultName().toString()};d.$1=function(){var a=this.props.fullMedia;return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.$4,ref:"dialog",type:"default",width:504},b("React").createElement(j,null,b("React").createElement(k,null,h._("Infos")),b("React").createElement(b("MessengerDialogButton.react"),{action:"cancel",label:h._("Termin\u00e9"),onClick:this.$5,type:"primary"})),b("React").createElement("div",{className:"_2zn1"},b("React").createElement("div",{className:"_2zn2"},h._("T\u00e9l\u00e9charg\u00e9e par")),b("React").createElement("div",{className:"_2zn4"},b("React").createElement("div",{className:"_2zn5"},this.$3()),b("React").createElement("div",{className:"_2zn6"},b("MercuryTimestamp").getPreciseTimestamp(a.creation_time*1e3))),b("React").createElement("div",{className:"_2zn7"},this.showProfilePic())),this.$6(),this.$7())};d.$2=function(){var a=this.props.fullMedia;return b("React").createElement(b("XUIDialog.react"),{onToggle:this.$4,shown:this.props.infoOpen,ref:"dialog",type:"serif",width:504},b("React").createElement(b("XUIDialogHeader.react"),null,b("React").createElement(b("XUIDialogHeaderTitle.react"),null,h._("Infos"))),b("React").createElement("div",{className:"_2zn1"},b("React").createElement("div",{className:"_2zn2"},h._("T\u00e9l\u00e9charg\u00e9e par")),b("React").createElement("div",{className:"_2zn4"},b("React").createElement("div",{className:"_2zn5"},this.$3()),b("React").createElement("div",{className:"_2zn6"},b("MercuryTimestamp").getPreciseTimestamp(a.creation_time*1e3))),b("React").createElement("div",{className:"_2zn7"},this.showProfilePic())),this.$6(),this.$7())};d.$7=function(){__p&&__p();var a=this.props.fullMedia.exif_data,c="";if(a){a.aperture&&(c=a.aperture+" ");if(a.focal_length){var d=a.focal_length.split("/");d=parseInt(d[0],10)/(parseInt(d[1],10)||1);c+=d+"mm "}a.iso&&(c+="ISO "+a.iso)}return!c.length?null:b("React").createElement("div",{className:"_2zn1"},b("React").createElement("div",{className:"_2zn2"},h._("Appareil photo")),b("React").createElement("div",{className:"_2zn4"},b("React").createElement("div",{className:"_2zn5"},a.model||"Camera"),b("React").createElement("div",{className:"_2zn6"},c)))};d.$6=function(){var a=this.props.fullMedia,c="";a.filesize>1e6?c=(a.filesize/1e6).toFixed(2)+"MB":a.filesize>1e3?c=(a.filesize/1e3).toFixed(2)+"KB":a.filesize>0&&(c=a.filesize+"B");var d=a.__typename==="MessageImage"?(a.original_dimensions.x*a.original_dimensions.y/1e6).toFixed(2)+"MP":"";return b("React").createElement("div",{className:"_2zn1"},b("React").createElement("div",{className:"_2zn2"},h._("D\u00e9tails")),b("React").createElement("div",{className:"_2zn4"},b("React").createElement("div",{className:"_2zn5"},a.filename),b("React").createElement("div",{className:"_2zn6"},d+" "+a.original_dimensions.x+" x "+a.original_dimensions.y+" "+c)))};d.showProfilePic=function(){__p&&__p();var a=this.props.fullMedia;if(!a)return b("React").createElement(b("MessengerSpinner.react"),null);else{a=a.creator;if(!a)return b("React").createElement(b("MessengerSpinner.react"),null);a=b("MercuryIDs").getParticipantIDFromUserID(a.id);a=b("MessengerParticipants.bs").getNow(a);return a?b("React").createElement(i,{isMessengerUser:a.is_messenger_user,size:l,src:a.big_image_src||a.image_src}):b("React").createElement(b("MessengerSpinner.react"),null)}};return c}(b("React").Component);c.propTypes={closeInfo:a.func,fullMedia:a.object,infoOpen:a.bool,photoID:a.string,showHeader:a.func};e.exports=b("RelayClassic_DEPRECATED").createContainer(c,{fragments:{fullMedia:function(a){return function(){return{children:[{fieldName:"__typename",kind:"Field",metadata:{isRequisite:!0},type:"String"},{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{children:[{fieldName:"creation_time",kind:"Field",metadata:{},type:"Time"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"creator",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isAbstract:!0},type:"Actor"},{fieldName:"filename",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"x",kind:"Field",metadata:{},type:"Float"},{fieldName:"y",kind:"Field",metadata:{},type:"Float"}],fieldName:"original_dimensions",kind:"Field",metadata:{canHaveSubselections:!0},type:"Vect2"},{fieldName:"filesize",kind:"Field",metadata:{},type:"Int"},{children:[{fieldName:"iso",kind:"Field",metadata:{},type:"Int"},{fieldName:"aperture",kind:"Field",metadata:{},type:"String"},{fieldName:"focal_length",kind:"Field",metadata:{},type:"String"},{fieldName:"model",kind:"Field",metadata:{},type:"String"}],fieldName:"exif_data",kind:"Field",metadata:{canHaveSubselections:!0},type:"MessageImageExifData"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:b("react-relay-deprecated/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"MessageImage",type:"MessageImage"},{children:[{fieldName:"creation_time",kind:"Field",metadata:{},type:"Time"},{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"},{fieldName:"name",kind:"Field",metadata:{},type:"String"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"}],fieldName:"creator",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isAbstract:!0},type:"Actor"},{fieldName:"filename",kind:"Field",metadata:{},type:"String"},{children:[{fieldName:"x",kind:"Field",metadata:{},type:"Float"},{fieldName:"y",kind:"Field",metadata:{},type:"Float"}],fieldName:"original_dimensions",kind:"Field",metadata:{canHaveSubselections:!0},type:"Vect2"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:b("react-relay-deprecated/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{},name:"MessageVideo",type:"MessageVideo"}],id:b("react-relay-deprecated/classic/query/RelayQL").__id(),kind:"Fragment",metadata:{isAbstract:!0},name:"MessengerPhotoInfoDialog_FullMediaRelayQL",type:"Node"}}()}}})}),null);
__d("SpotlightMessagesViewerContainerRoute",["react-relay-deprecated/classic/query/RelayQL","react-relay-deprecated/classic/route/RelayRoute"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("react-relay-deprecated/classic/route/RelayRoute"));a.routeName="SpotlightMessagesViewerContainerRoute";a.paramDefinition={photoID:{type:"String",required:!0}};a.queries={fullMedia:function(a){return function(a){return{calls:[{kind:"Call",metadata:{type:"ID!"},name:"id",value:{kind:"CallVariable",callVariableName:"photoID"}}],children:[].concat.apply([],[{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"},{fieldName:"__typename",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"String"},b("react-relay-deprecated/classic/query/RelayQL").__frag(a)]),fieldName:"node",kind:"Query",metadata:{isAbstract:!0,identifyingArgName:"id",identifyingArgType:"ID!"},name:"SpotlightMessagesViewerContainerRoute",type:"Node"}}(a.getFragment("fullMedia"))}};e.exports=a}),null);
__d("MessengerPhotoInfoDialogContainer.react",["MessengerPhotoInfoDialog.react","React","SpotlightMessagesViewerContainerRoute","react-relay-deprecated/classic/container/RelayRootContainer"],(function(a,b,c,d,e,f){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerPhotoInfoDialogContainer",proptypes:{photoID:a.string.isRequired,showHeader:a.func},render:function(){var a=this,c=new(b("SpotlightMessagesViewerContainerRoute"))({photoID:this.props.photoID});return b("React").createElement(b("react-relay-deprecated/classic/container/RelayRootContainer"),{Component:b("MessengerPhotoInfoDialog.react"),route:c,renderFetched:function(c){return b("React").createElement(b("MessengerPhotoInfoDialog.react"),babelHelpers["extends"]({},c,{closeInfo:a.props.closeInfo,photoID:a.props.photoID,infoOpen:a.props.infoOpen,showHeader:a.props.showHeader}))}})}});e.exports=c}),null);
__d("MessengerPhotoViewBottomBarReact.bs",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.children;return b("React").createElement("div",{className:"_51an _50-m _16zz"},a)}c=a;f.make=c}),null);
__d("MessengerPhotoViewBottomBarReact.re",["MessengerPhotoViewBottomBarReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerPhotoViewBottomBarReact.bs").make;f.make=a}),null);
__d("MessengerPhotoViewHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","React","SphericalPhotoUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerSharedPhotoReact.re").component,i=b("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings,j=200,k=80;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$2()};d.componentDidUpdate=function(){this.$2()};d.componentWillUnmount=function(){this.$1&&this.$1.stop(),this.$1=null};d.render=function(){__p&&__p();var a=this,c=this.props.sharedPhotos;c=c.reduce(function(c,d){__p&&__p();var e=d.node.image1===null?d.node.image:d.node.image1,f=d.node.photo_encodings?d.node.photo_encodings.length!==0:!1;if(e){e=e.uri;if(f){var g=i(d.node.photo_encodings);g=g.smallThumbnail;e=g||e}c.push(b("React").createElement("div",{className:"_4dy9",key:d.node.legacy_attachment_id},b("React").createElement(h,{className:"_42rl"+(a.props.photoID!==d.node.legacy_attachment_id?" _q1a":""),fbid:d.node.legacy_attachment_id,onClick:a.props.onScroll,uri:e,isSpherical:f})))}return c},[]);var d=(this.props.width-k)/2;return b("React").createElement("div",{className:"_463g"},b("React").createElement("div",{className:"_463h",ref:"childContainer"},b("React").createElement("div",{className:"_463j",style:{paddingLeft:d,paddingRight:d},ref:"scrollable"},c)))};d.$2=function(){var a=this,c=this.refs.childContainer?this.refs.childContainer.scrollLeft:0,d=this.props.sharedPhotos.findIndex(function(b){return b.node.legacy_attachment_id===a.props.photoID});d=d*k;this.$1||(this.$1=new(b("Animation"))(this.refs.childContainer));this.$1.from("scrollLeft",c).to("scrollLeft",d).duration(j).go()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerPhotoViewHeader.react",["cx","fbt","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","React","SpotlightViewerBottomBarLink"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerPhotoViewCloseLinkReact.re").make;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.refs.forwardNUX&&c.refs.forwardNUX.close(),c.props.showForwardDialog&&c.props.showForwardDialog()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_51an _50-m _3c1i _5l-3",role:"banner"},this.$1(),this.$2())};d.$2=function(){return b("React").createElement(i,{onClick:this.props.onClose})};d.$1=function(){var a=this,c,d;this.props.disableForward||(c=b("React").createElement(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",onClick:this.$3,ref:"forwardButton"},b("React").createElement("div",{className:"_2msr _3oo2"}),h._("Transf\u00e9rer")),d=b("React").createElement(b("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX"},h._("Envoyer cette image \u00e0 d\u2019autres personnes dans des messages s\u00e9par\u00e9s.")));return b("React").createElement("div",{key:"buttonsContainer",ref:"buttons"},b("React").createElement(b("SpotlightViewerBottomBarLink"),{ajaxify:this.props.url,className:"_3c1o",rel:"async"},b("React").createElement("div",{className:"_3ooo _2msr"}),h._("T\u00e9l\u00e9charger")),c,d,b("React").createElement(b("SpotlightViewerBottomBarLink"),{className:"_3c1o",href:"#",onClick:this.props.openInfo,ref:"moreInfo"},b("React").createElement("div",{className:"_3c1k _2msr"}),h._("Infos")))};return c}(b("React").PureComponent);c.propTypes={disableForward:a.bool,onClose:a.func,openInfo:a.func,photoID:a.string,showForwardDialog:a.func,url:a.object};e.exports=c}),null);
__d("XMessagingVideoAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/video/",{video_id:{type:"String",required:!0},video_container_id:{type:"String",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0},start_muted:{type:"Bool",defaultValue:!1},no_fullscreen:{type:"Bool",defaultValue:!1},load_player_controller:{type:"Bool",defaultValue:!1},hide_controls_on_finish:{type:"Bool",defaultValue:!1},hide_url_menu_option:{type:"Bool",defaultValue:!1},is_share:{type:"Bool",defaultValue:!1},render_play_button:{type:"Bool",defaultValue:!1},start_timestamp:{type:"Int",defaultValue:0},native_thumbnail:{type:"Bool",defaultValue:!1}})}),null);
__d("MessengerVideoPlayer.react",["cx","ActorURI","AsyncRequest","BackgroundImage.react","Event","FullScreen","MessengerSpinner.react","React","ShimButton.react","SpotlightMercurySharedMediaViewer.react","SubscriptionsHandler","Vector","VideoPlayerReason","VideoPlayerReasonTransitionHelper","VideoPlayerStates","XMessagingVideoAttachmentController","cssURL","getFullScreenElement","guid","joinClasses","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h="_ox1";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d,e;e=a.call(this,c)||this;e.$2=!0;e.$3=[];e.$4=-1;e.$5=!1;e.$6=!1;e.state={playerAPI:null,forcePause:!!((d=e.props.videoData)==null?void 0:d.disableAutoplay)};e.$10=function(a){if(!e.isVideoClicked(a))return;a.preventDefault();e.props.isOnStage?(a.stopPropagation(),e.isState(b("VideoPlayerStates").PLAYING)?e.pause(b("VideoPlayerReason").USER):e.play(b("VideoPlayerReason").USER)):(e.pause(b("VideoPlayerReason").USER),e.props.onClick&&e.props.onClick())};e.$11=function(a){if(!e.isRightClick(a))return;a.stopPropagation();a.preventDefault();b("setImmediate")(function(){e.props.onSelect&&e.props.onSelect()})};e.$8=function(){if(!e.$2||e.state.forcePause)return;e.$6&&(e.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").PAGE_VISIBILITY)),e.$6=!1)};e.$7=function(){if(!e.$2||e.state.forcePause||!(e.state.playerAPI&&e.state.playerAPI.isMuted()))return;e.$6=!!e.state.playerAPI&&e.state.playerAPI.isState(b("VideoPlayerStates").PLAYING);e.pause()};e.$1=b("guid")();e.$2=!((d=c.videoData)==null?void 0:d.disableAutoplay);e.props.isInThread&&(e.listeners=new(b("SubscriptionsHandler"))(),e.listeners.addSubscriptions(b("Event").listen(window,"blur",e.$7),b("Event").listen(window,"focus",e.$8)));return e}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=document.getElementById(this.$1.toString()),d=b("FullScreen").isFullScreen();if(c!=null&&d&&c.children[0].children[0]===b("getFullScreenElement")())return!1;d=!!(a.stageDimensions&&a.stageDimensions!==this.props.stageDimensions);d&&(this.$4=this.getCurrentTimePosition(),this.$5=!this.isState(b("VideoPlayerStates").PLAYING));return!this.props.videoData||a.videoData.id!==this.props.videoData.id||d};d.UNSAFE_componentWillReceiveProps=function(a){if(!this.$2)return;this.props.isInThread&&a.isVisible!==this.props.isVisible&&(a.isVisible&&!this.state.forcePause?this.play(new(b("VideoPlayerReasonTransitionHelper"))(b("VideoPlayerReason").VIDEO_VISIBILITY)):this.pause())};d.componentDidMount=function(){this.props.videoData&&this.$9()};d.componentDidUpdate=function(){this.$3.forEach(function(a){return a.abandon()}),this.$3=[],this.props.videoData&&this.$9()};d.componentWillUnmount=function(){this.pause(b("VideoPlayerReason").UNLOADED),this.seek(0),this.$3.forEach(function(a){return a.abandon()}),this.listeners&&this.listeners.release(),this.state.playerAPI&&this.state.playerAPI.detachRootNode(),this.state.playerAPI&&this.state.playerAPI.destroy&&this.state.playerAPI.destroy()};d.isVideoLoaded=function(){var a=!!this.state.playerAPI;!a;return this.isState(b("VideoPlayerStates").FALLBACK)?!1:a};d.isVideoClicked=function(a){return a.target instanceof HTMLElement?a.target.classList.contains(h):!1};d.isRightClick=function(a){a=a||window.event;return a.button===2};d.play=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.play(a)};d.pause=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.pause(a)};d.seek=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.seek(a)};d.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1};d.render=function(){var a=this.props.videoData,c=b("React").createElement("div",{ref:"placeholder"},b("React").createElement(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size})),d={};if(a&&a.url){var e=a.original_dimensions;d.backgroundImage=b("cssURL")(a.url);c=b("React").createElement("div",{ref:"placeholder"},b("React").createElement(b("BackgroundImage.react"),{className:this.props.className,width:e.x,height:e.y,loadingIndicatorStyle:"large",backgroundSize:"cover",ref:"placeholder",style:d,src:a.url}))}return b("React").createElement(b("ShimButton.react"),{className:b("joinClasses")(this.props.className,"_4-od"),id:this.$1,onClick:this.$10,onMouseDown:this.$11,style:d},c)};d.$9=function(){__p&&__p();var a=this,c=this.props.videoData;if(c){var d=c.original_dimensions;this.props.stageDimensions&&(d=b("SpotlightMercurySharedMediaViewer.react").getImageDimensionsForStage(new(b("Vector"))(c.original_dimensions.x,c.original_dimensions.y),this.props.stageDimensions));d=b("XMessagingVideoAttachmentController").getURIBuilder().setString("video_id",c.legacy_attachment_id).setString("video_container_id",this.$1).setInt("width",d.x).setInt("height",d.y).setInt("start_timestamp",this.$4>0?Math.round(this.$4):0).setBool("start_muted",c.start_muted).setBool("no_fullscreen",c.no_fullscreen).setBool("load_player_controller",!0).setBool("hide_controls_on_finish",c.hide_controls_on_finish).setBool("native_thumbnail",c.disableAutoplay).setBool("hide_url_menu_option",Boolean(c.hide_url_menu_option)).setBool("is_share",c.is_share).setBool("render_play_button",this.props.isInThread).getURI();c=this.props.attachment;c&&c.metadata&&c.metadata.pageid&&(d=b("ActorURI").create(d,c.metadata.pageid));var e=new(b("AsyncRequest"))();this.$3.push(e);e.setMethod("GET").setStatusElement(this.refs.placeholder).setURI(d).setRelativeTo(this).setReadOnly(!0).setHandler(function(b){a.$3=a.$3.filter(function(a){return a!==e})}).send()}};d.$12=function(){this.props.isVisible&&this.isState(b("VideoPlayerStates").FINISHED)?(this.seek(0),this.play(b("VideoPlayerReason").LOOP)):this.props.isVisible&&this.isState(b("VideoPlayerStates").PAUSED)&&!this.$6?this.setState({forcePause:!0}):this.isState(b("VideoPlayerStates").PLAYING)&&this.setState({forcePause:!1})};d.onVideoLoaded=function(){var a=this;if(!this.$2)return;this.state.playerAPI&&this.state.playerAPI.addListener("stateChange",function(){return a.$12()});this.props.isVisible&&!this.$5&&!this.state.forcePause?this.play(b("VideoPlayerReason").AUTOPLAY):this.pause();this.$4=-1;this.$5=!1};d.isState=function(a){return!!(this.state.playerAPI&&this.state.playerAPI.isState(a))};return c}(b("React").Component);c.propTypes={attachment:a.object,className:a.string,isInThread:a.bool,isVisible:a.bool,isOnStage:a.bool,stageDimensions:a.instanceOf(b("Vector")),videoData:a.object,onClick:a.func,onSelect:a.func};c.invokeVideoLoaded=function(a,c,d){a.$2=d,c.setAllowCrossPageTransition(!0),c.isState(b("VideoPlayerStates").LOADING)?a.stateChangeListener=c.addListener("stateChange",function(){if(!c.isState(b("VideoPlayerStates").LOADING)){if(a.state&&a.state.playerAPI)return;a.setState({playerAPI:c},a.onVideoLoaded);a.stateChangeListener&&a.stateChangeListener.remove()}}):a.setState({playerAPI:c},a.onVideoLoaded)};e.exports=c}),null);
__d("MessagingForwardAttachmentDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("MessagingForwardAttachmentDialogImpl.react").__setRef("MessagingForwardAttachmentDialog.react"),placeholder:b("React").createElement("div",null)})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("PhotoUtils",["Event","URI"],(function(a,b,c,d,e,f){__p&&__p();var g={getImagesFromData:function(a){var b=[];for(var c in a)c.indexOf("image")===0&&b.push(a[c]);return b},getFBIDFromData:function(a){return a&&a.id},getOriginalImageFromData:function(a){return a.original||a.download_image},getDownloadURLFromData:function(a){a=this.getOriginalImageFromData(a);if(!a)return null;a=new(b("URI"))(a.uri);a.addQueryData({dl:1});return a},getPermalinkFromData:function(a){return a.permalink},canViewerMakeCoverPhoto:function(a){return!!a.can_viewer_make_cover_photo},getCoverPhotoURLFromData:function(a){return new(b("URI"))("/profile.php").addQueryData({preview_cover:g.getFBIDFromData(a)})},preload:function(a,c,d){var e=a.getDimensions();for(var f=0;f<c.length;++f){var g=e.getBestFitImageFromPhoto(c[f],e.getMaxStageDimensions()),h=new Image();d&&b("Event").listen(h,"load",d.bind(null,c[f]));a.getLogger().log(g.uri);h.src=g.uri}}};e.exports=g}),null);
__d("SpotlightMessagesViewerPagers.react",["cx","fbt","LeftRight.react","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("Link.react"),{"aria-disabled":a.disablePrevArrow,"aria-label":h._("Pr\u00e9c\u00e9dent"),className:"_322u"+(a.disablePrevArrow?"":" _2bbb")+" _50-m"},b("React").createElement("div",{className:(a.disablePrevArrow?"":"_4ksl")+(a.disablePrevArrow?"":" _4ksm")})),b("React").createElement(b("Link.react"),{"aria-disabled":a.disableNextArrow,"aria-label":h._("Suivant"),className:"_322u"+(a.disableNextArrow?"":" _2bbc")+" _50-m"},b("React").createElement("div",{className:(a.disableNextArrow?"":"_4ksl")+(a.disableNextArrow?"":" _4kso")})))};e.exports=a}),null);
__d("SpotlightViewer",["cx","React","Spotlight.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){if(!this.props.open)return null;var a="_n3";this.props.className&&(a+=" "+this.props.className);return b("React").createElement(b("Spotlight.react"),{onBeforeHide:this.props.onBeforeHide,onHide:this.props.onHide,rootClassName:this.props.rootClassName,shown:this.props.open,key:"photoLayer"},b("React").createElement("div",{className:a,onClick:this.props.onClick,role:"presentation"},this.props.children))};return c}(b("React").Component);e.exports=a}),null);
__d("SpotlightViewerImage",["cx","Image.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$3=function(){c.setState({loading:!1})};c.state={loading:!0};return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a.src!==this.props.src&&this.setState({loading:!0})};d.render=function(){return b("React").createElement("div",{className:"_4-od"},this.$1(),this.$2())};d.$1=function(){return!this.state.loading?null:b("React").createElement(b("XUISpinner.react"),{className:"_enh",size:"large"})};d.$2=function(){return b("React").createElement("div",{className:this.state.loading?"_eni":""},b("React").createElement(b("Image.react"),{onLoad:this.$3,src:this.props.src,style:{width:this.props.dimensions.x||"",height:this.props.dimensions.y||""}}))};return c}(b("React").Component);e.exports=a}),null);
__d("SpotlightViewport",["csx","cx","Locale","Parent","React","ReactDOM","Vector","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"SpotlightViewport",propTypes:{stageDimensions:a.object.isRequired,useWidth:a.bool},PAGE_TO_PREV_PERCENTAGE:.2,sections:{NONE:null,FORWARD:1,BACKWARD:2},timer:null,getInitialState:function(){return{currentActiveSection:this.sections.NONE,active:!0}},componentDidMount:function(){this._onMouseEnter()},componentWillUnmount:function(){this.props.fadeInNOut&&clearTimeout(this.timer)},_onMouseMove:function(a){var c=b("ReactDOM").findDOMNode(this);a=b("Vector").getEventPosition(a.nativeEvent);var d=b("Vector").getElementPosition(c);c=this.props.useWidth?this.props.stageDimensions.x:b("Vector").getElementDimensions(c).x;this.props.fadeInNOut&&(this._isMouseOverActionBars(a)?clearTimeout(this.timer):this._onMouseEnter());a=a.x-d.x;d=a/c;b("Locale").isRTL()?a=d>1-this.PAGE_TO_PREV_PERCENTAGE:a=d<this.PAGE_TO_PREV_PERCENTAGE;a?this.setState({currentActiveSection:this.sections.BACKWARD}):this.setState({currentActiveSection:this.sections.FORWARD})},_onClick:function(a){var c=this.state.currentActiveSection==this.sections.FORWARD,d=a.target;b("Parent").bySelector(d,"._51an")||this.props.onClick&&this.props.onClick(c,a)},_isMouseOverActionBars:function(a){return a.y<70||a.y>this.props.stageDimensions.y-70},_onMouseEnter:function(){this.setState({active:!0}),this.props.fadeInNOut&&(clearTimeout(this.timer),this.timer=setTimeout(this._onMouseLeave,1e3))},_onMouseLeave:function(){this.setState({active:!1})},makeActive:function(){this._onMouseEnter()},render:function(){var a="_4-of"+(!this.state.active&&!this.props.active?" _50-l":"")+(this.state.currentActiveSection===this.sections.BACKWARD?" _516a":"")+(this.state.currentActiveSection===this.sections.FORWARD?" _516b":"")+(this.props.showLoadingIndicator?" _51jp":"");this.props.className&&(a=b("joinClasses")(a,this.props.className));var c={};this.props.stageDimensions&&(c={height:this.props.stageDimensions.y},this.props.useWidth&&(c.width=this.props.stageDimensions.x));return b("React").createElement("div",{className:a,onClick:this._onClick,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,role:"presentation",style:c},this.props.children,b("React").createElement("div",{className:"_4-og"},b("React").createElement("span",{className:"_4-oh"}),this.props.media,b("React").createElement("div",{className:"_4-oi"})))}});e.exports=c}),null);
__d("XMessagingPhotoDownloadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/photo/",{photo_id:{type:"String",required:!0}})}),null);
__d("XMessagingShareAttachmentDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/mercury/attachments/share/dialog/",{__asyncDialog:{type:"Int"}})}),null);
__d("SpotlightMercurySharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","AsyncDialog","AsyncRequest","BootloadedComponent.react","ChatPhotoViewFooterHScroll.react","ChatPhotoViewHeader.react","Event","FunnelLogger","JSResource","KeyEventController","MessagingForwardAttachmentDialog.react","MessengerPhotoInfoDialogContainer.react","MessengerThreadSharedMediaHelper","MessengerVideoPlayer.react","Parent","PhotoUtils","React","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController","XMessagingShareAttachmentDialogController"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=b("React").PropTypes;var k=88,l=30,m="WWW_MESSENGER_SHARE_TO_FB_FUNNEL",n="_4-og";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={hasPrevPage:!1,hasNextPage:!1,firstPhotoLoaded:!1,isLoading:!1,mediaData:[],numberInOneBatch:l,photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$11=function(){return!d.state.photoData?null:b("React").createElement(b("ChatPhotoViewFooterHScroll.react"),{onScroll:d.$18,photoID:d.state.photoData.node.id,sharedPhotos:d.state.mediaData,updateNumberInOneBatch:d.$19,width:d.state.stageDimensions.x})},d.$19=function(a){d.setState({numberInOneBatch:a})},d.$18=function(a){if(!d.state.mediaData||d.state.isLoading)return;var b=d.state.mediaData.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.state.mediaData[b];d.setState({photoData:c});d.$22(b)},d.$5=function(a,c){__p&&__p();if(d.state.photoData==null||d.state.isLoading)return;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===n&&d.$10();c=d.state.mediaData.findIndex(function(a){d.state.photoData!=null||j(0,1033);return a.node.legacy_attachment_id===d.state.photoData.node.legacy_attachment_id});if(c<0||c===d.state.mediaData.length-1&&!d.state.hasNextPage&&a)return;if(c===0&&!a){d.setState({isLoading:!0},function(){return d.$7(d.state.photoData,1,function(b){if(b===0)return;d.$5(a)})});return}var e=a?d.state.mediaData[c+1]:d.state.mediaData[c-1];d.setState({photoData:e});d.$22(c)},d.$10=function(){if(d.props.photoID===null)return;d.setState({photoData:null});d.props.onClosePhotoView()},d.$16=function(){d.setState({showForward:!0})},d.$20=function(){d.setState({showForward:!1})},d.$15=function(){d.setState({showInfo:!0})},d.$21=function(){d.setState({showInfo:!1})},d.$17=function(){d.setState({showForward:!1,showInfo:!1});b("FunnelLogger").appendAction(m,"click");var a=d.state.photoData;if(!d.$14()||!(a&&a.node))return;a=a.node.legacy_attachment_id;var c=b("XMessagingShareAttachmentDialogController").getURIBuilder().getURI();c=new(b("AsyncRequest"))(c).setData({attachment_id:a}).setMethod("POST");b("AsyncDialog").send(c)},d.$23=function(a,b,c){__p&&__p();var e=Object.keys(a)[0];a=a[e].message_shared_media;e=a.page_info;var f=a.edges.length;if(f!==0){var g=d.state.mediaData;switch(b){case 0:d.setState({photoData:a.edges[0],mediaData:[a.edges[0]],firstPhotoLoaded:!0});break;case 1:g=g.concat(a.edges);d.setState({hasNextPage:e.has_next_page,mediaData:g});break;case-1:g=a.edges;g=g.concat(d.state.mediaData);d.setState({mediaData:g,hasPrevPage:e.has_previous_page});break}}d.setState({isLoading:!1});c(f)},d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-k);return a},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDefaultProps=function(){return{enableShareToFB:!1}};d.componentDidMount=function(){__p&&__p();var a=this;this.setState({isLoading:!0,stageDimensions:this.$3()},function(){return a.$4(a.props.photoID)});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$5(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$5(!0);return!1}));this.props.enableShareToFB&&b("FunnelLogger").startFunnel(m)};d.UNSAFE_componentWillUpdate=function(a,b){var c=this;b.firstPhotoLoaded!==this.state.firstPhotoLoaded&&this.setState({isLoading:!0},function(){c.$6(b.photoData,b.numberInOneBatch,function(){}),c.$7(b.photoData,b.numberInOneBatch,function(){})});b.numberInOneBatch!=this.state.numberInOneBatch&&!b.isLoading&&this.setState({isLoading:!0},function(){return c.$6(b.mediaData[b.mediaData.length-1],b.numberInOneBatch,function(){})})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$8(),d=this.state.stageDimensions,e=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.state.mediaData.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=b("React").createElement("div",null,this.$9(),this.props.disablepaging?null:b("React").createElement(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&f>=this.state.mediaData.length-1}));return b("React").createElement("span",null,b("React").createElement(b("SpotlightViewer"),{className:"_53vs",onHide:this.$10,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName},b("React").createElement(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$5,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0},f),this.$11()),this.$12(),this.$13())};d.$9=function(){if(!this.state.photoData)return null;var a=this.state.photoData;a=a.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return b("React").createElement(b("ChatPhotoViewHeader.react"),{disableForward:this.props.disableForward,enableShareToFB:this.$14(),onClose:this.$10,openInfo:this.$15,ref:"photoviewheader",showForwardDialog:this.$16,showShareDialog:this.$17,url:a})};d.$12=function(){if(!this.state.photoData||!this.state.showForward)return null;var a=i._("Transf\u00e9rer dans des messages s\u00e9par\u00e9s");return b("React").createElement(b("MessagingForwardAttachmentDialog.react"),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$20,shown:this.state.showForward,title:a})};d.$13=function(){return this.state.showInfo?b("React").createElement(b("MessengerPhotoInfoDialogContainer.react"),{closeInfo:this.$21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):b("React").createElement("xhp",null)};d.$14=function(){var a=this.state.photoData;return!a?!1:!!this.props.enableShareToFB&&a.node.__typename==="MessageImage"&&a.node.image1.uri.indexOf(".gif")<0};d.$22=function(a){var b=this,c=this.state.numberInOneBatch,d=this.state.mediaData;a<=c/2?this.setState({isLoading:!0},function(){return b.$7(d[0],c,function(){})}):a>=d.length-c/2&&this.state.hasNextPage&&this.setState({isLoading:!0},function(){return b.$6(d[d.length-1],c,function(){})})};d.$4=function(a){var c=this;a=b("MessengerThreadSharedMediaHelper").search(this.props.threadID,String(a),function(a){return c.$23(a,0,function(){})});this.$2.push(a)};d.$6=function(a,c,d){var e=this;a=b("MessengerThreadSharedMediaHelper").loadMorePrevious(this.props.threadID,a.cursor,c||1,function(a){return e.$23(a,1,d)});this.$2.push(a)};d.$7=function(a,c,d){var e=this;a=a?a.cursor:null;a=b("MessengerThreadSharedMediaHelper").loadMoreLatest(this.props.threadID,a,c||1,function(a){return e.$23(a,-1,d)});this.$2.push(a)};d.$8=function(){__p&&__p();if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$24();var d=this.state.stageDimensions,e=this.$25(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$26(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$27(e,a)}else return null};d.$24=function(){return this.state.photoData?b("React").createElement(b("MessengerVideoPlayer.react"),{isOnStage:!0,isVisible:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$27=function(a,c){return b("React").createElement(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$26=function(a,c,d,e){return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMercurySharedMediaViewer.react"),bootloadPlaceholder:b("React").createElement("div",null),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$25=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return a.width==null?b.width==null?0:1:b.width==null?-1:b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};return c}(b("React").Component);c.propTypes={disableForward:a.bool,enableShareToFB:a.bool,onClosePhotoView:a.func,photoID:a.string,rootClassName:a.string,threadID:a.string};c.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};e.exports=c}),null);
__d("SpotlightMessengerSharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","BootloadedComponent.react","Event","JSResource","KeyEventController","MessengerForwardAttachmentDialogReact.bs","MessengerPhotoInfoDialogContainer.react","MessengerPhotoViewBottomBarReact.re","MessengerPhotoViewHeader.react","MessengerPhotoViewHScroll.react","MessengerSharedMediaActions","MessengerVideoPlayer.react","Parent","PhotoUtils","React","ScriptPath","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Vector","XMessagingPhotoDownloadController"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("MessengerForwardAttachmentDialogReact.bs").jsComponent,l=b("MessengerPhotoViewBottomBarReact.re").make;a=b("React").PropTypes;var m=88,n=80,o=30,p="_4-og";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=void 0,d.$2=[],d.state={photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(b("Vector"))()},d.$14=function(a){if(!d.props.sharedMedia)return;var b=d.props.sharedMedia.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=d.props.sharedMedia[b];d.setState({photoData:c});d.$17(b)},d.$4=function(a,c){__p&&__p();if(d.state.photoData==null)return;var e=d.state.photoData;if(c&&!!b("Parent").bySelector(c.target,"._170l"))return;c&&c.target instanceof HTMLElement&&c.target.className===p&&d.$7();c=d.props.sharedMedia.findIndex(function(a){return a.node.legacy_attachment_id===e.node.legacy_attachment_id});if(c<0||c===d.props.sharedMedia.length-1&&!d.props.hasNextPage&&a)return;if(c===0&&!a){b("MessengerSharedMediaActions").loadMoreLatest(d.props.threadID,d.props.sharedMedia[0].cursor,o);return}a=a?d.props.sharedMedia[c+1]:d.props.sharedMedia[c-1];d.setState({photoData:a});d.$17(c)},d.$7=function(){if(d.props.photoID===null)return;b("ScriptPath").closeOverlayView("spotlight_media_view");d.setState({photoData:null});d.props.onClosePhotoView()},d.$12=function(){d.setState({showForward:!0})},d.$15=function(){d.setState({showForward:!1})},d.$11=function(){d.setState({showInfo:!0})},d.$16=function(){d.setState({showInfo:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c=this.props.sharedMedia.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});this.setState({photoData:c,stageDimensions:this.$3()});this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),b("KeyEventController").registerKey("LEFT",function(){a.$4(!1);return!1}),b("KeyEventController").registerKey("RIGHT",function(){a.$4(!0);return!1}));b("ScriptPath").openOverlayView("spotlight_media_view",{photoID:this.props.photoID,threadID:this.props.threadID})};d.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};d.render=function(){var a=this,c=this.$5(),d=this.state.stageDimensions,e=this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.props.sharedMedia.findIndex(function(b){a.state.photoData!=null||j(0,1033);return b.node.id===a.state.photoData.node.id});f=b("React").createElement("div",null,this.$6(),this.props.disablepaging?null:b("React").createElement(b("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.props.hasPrevPage,disableNextArrow:!this.props.hasNextPage&&f>=this.props.sharedMedia.length-1}));return b("React").createElement("span",null,b("React").createElement(b("SpotlightViewer"),{className:"_53vs",onHide:this.$7,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName},b("React").createElement(b("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:c,onClick:this.$4,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0},f),this.$8()),this.$9(),this.$10())};d.$6=function(){if(!this.state.photoData)return null;var a=this.state.photoData.node.legacy_attachment_id;a=b("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=b("ActorURI").create(a,this.props.actorid));return b("React").createElement(b("MessengerPhotoViewHeader.react"),{disableForward:this.props.disableForward,onClose:this.$7,openInfo:this.$11,photoID:this.props.photoID,ref:"photoviewheader",showForwardDialog:this.$12,url:a})};d.$13=function(a){return a?Math.ceil(a/n):o};d.$8=function(){var a=this;if(!this.state.photoData)return null;var c=this.state.photoData,d=b("React").createElement("button",{className:"_2n5b",onClick:function(){return a.props.openAlbum(c.node.legacy_attachment_id)},type:"button"},b("React").createElement("div",{"aria-label":i._("Galerie photo plein \u00e9cran"),className:"_3por"}));return b("React").createElement(l,null,b("React").createElement(b("MessengerPhotoViewHScroll.react"),{onScroll:this.$14,photoID:c.node.legacy_attachment_id,sharedPhotos:this.props.sharedMedia,width:this.state.stageDimensions.x}),d)};d.$9=function(){if(!this.state.photoData||this.props.disableForward)return null;var a=i._("Transf\u00e9rer dans des messages s\u00e9par\u00e9s");return b("React").createElement(k,{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$15,shown:this.state.showForward,title:a})};d.$10=function(){return this.state.showInfo?b("React").createElement(b("MessengerPhotoInfoDialogContainer.react"),{closeInfo:this.$16,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id}):b("React").createElement("xhp",null)};d.$17=function(a){var c=this.$13(this.state.stageDimensions.x),d=this.props.sharedMedia;a<=c/2?(b("MessengerSharedMediaActions").loadMoreLatest(this.props.threadID,d[0].cursor,c),d.length<c&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)):a>=d.length-c/2&&this.props.hasNextPage&&b("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,d[d.length-1].cursor,c)};d.$3=function(){var a=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y-m);return a};d.$5=function(){__p&&__p();if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$18();var d=this.state.stageDimensions,e=this.$19(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$20(a.legacy_attachment_id,e,a.photo_encodings,d);a=c.getImageDimensionsForStage(new(b("Vector"))(e.width,e.height),d);return this.$21(e,a)}else return null};d.$18=function(){return this.state.photoData?b("React").createElement(b("MessengerVideoPlayer.react"),{isVisible:!0,isOnStage:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};d.$21=function(a,c){return b("React").createElement(b("SpotlightViewerImage"),{dimensions:c,ref:"image",src:a.uri})};d.$20=function(a,c,d,e){return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMessengerSharedMediaViewer.react"),bootloadPlaceholder:b("React").createElement("div",null),height:e.y,width:e.x,fbid:a,thumbnail:c.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};d.$19=function(a,c){c=b("PhotoUtils").getImagesFromData(a);return c[c.length-1]};return c}(b("React").Component);c.propTypes={disableForward:a.bool,hasPrevPage:a.bool,hasNextPage:a.bool,onClosePhotoView:a.func,openAlbum:a.func,photoID:a.string,rootClassName:a.string,threadID:a.string,sharedMedia:a.arrayOf(a.object)};c.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};e.exports=c}),null);
__d("SpotlightMessengerSharedMediaViewerContainer.react",["FluxContainer","MessengerSharedMediaActions","MessengerSharedMediaStore","React","SpotlightMessengerSharedMediaViewer.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("MessengerSharedMediaStore")]};c.calculateState=function(a,c){a=b("MessengerSharedMediaStore").getState();var d=a.sharedMedia.get(c.threadID);a=a.isLoading.get(c.threadID);return{sharedMedia:d,isLoading:a}};var d=c.prototype;d.componentDidMount=function(){b("MessengerSharedMediaActions").loadCurrent(this.props.threadID,this.props.photoID)};d.render=function(){var a=this;if(!this.state.sharedMedia)return null;var c=this.state.sharedMedia&&this.state.sharedMedia.edges.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});return!c?null:b("React").createElement(b("SpotlightMessengerSharedMediaViewer.react"),{disableForward:this.props.disableForward,hasPrevPage:this.state.sharedMedia&&this.state.sharedMedia.has_previous_page,hasNextPage:this.state.sharedMedia&&this.state.sharedMedia.has_next_page,onClosePhotoView:this.props.onClosePhotoView,openAlbum:this.props.openAlbum,photoID:this.props.photoID,rootClassName:this.props.rootClassName,sharedMedia:this.state.sharedMedia&&this.state.sharedMedia.edges,threadID:this.props.threadID})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MessengerThreadSharedPhotos.react",["cx","MessengerSharedPhotosAlbumViewContainer.react","React","SpotlightMessengerSharedMediaViewerContainer.react","SpotlightViewer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={photoView:c.props.findFBID,albumView:""},c.$3=function(a){c.setState({albumView:a,photoView:""})},c.$4=function(){c.setState({albumView:""})},c.$5=function(a){c.setState({albumView:"",photoView:a})},c.$6=function(){c.setState({photoView:""})},c.$7=function(a){c.setState({photoView:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(){!this.state.photoView&&!this.state.albumView&&this.props.onCloseSharedPhotos()};d.render=function(){var a=this.state.photoView?this.$1():null,c=this.state.albumView?this.$2():null;return b("React").createElement("div",null,c,a)};d.$1=function(){return b("React").createElement(b("SpotlightMessengerSharedMediaViewerContainer.react"),{disableForward:!1,onClosePhotoView:this.$6,openAlbum:this.$3,photoID:this.state.photoView,rootClassName:"",threadID:this.props.threadFBID})};d.$2=function(){return b("React").createElement(b("SpotlightViewer"),{className:"_3ode",onHide:this.$4,open:!0,ref:"spotlightViewer"},b("React").createElement(b("MessengerSharedPhotosAlbumViewContainer.react"),{onClick:this.$5,onCloseSharedPhotos:this.props.onCloseSharedPhotos,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView}))};return c}(b("React").Component);c.propTypes={findFBID:a.string,onCloseSharedPhotos:a.func,threadFBID:a.string};e.exports=c}),null);
__d("MessengerThreadSharedPhotosReact.bs",["ReasonReact.bs","MessengerThreadSharedPhotos.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadSharedPhotos.react"),{findFBID:a,onCloseSharedPhotos:c,threadFBID:d},e)}f.make=a}),null);
__d("MessengerVideoPlayerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerVideoPlayer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){return b("ReasonReact.bs").wrapJsForReason(b("MessengerVideoPlayer.react"),{attachment:b("bs_js_null_undefined").fromOption(a),className:b("bs_js_null_undefined").fromOption(c),isInThread:b("bs_js_null_undefined").fromOption(d),isVisible:b("bs_js_null_undefined").fromOption(e),isOnStage:b("bs_js_null_undefined").fromOption(f),stageDimensions:b("bs_js_null_undefined").fromOption(g),videoData:h,onClick:b("bs_js_null_undefined").fromOption(i),onSelect:b("bs_js_null_undefined").fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoReact.bs",["cx","ix","bs_curry","Image.bs","React","ReasonReact.bs","joinClasses","bs_js_primitive","MessengerPhotoReact.bs","MessengerVideoPlayerReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("ReasonReact.bs").statelessComponent("MessengerVideo");function j(a){__p&&__p();a=a.metadata;var b;if(a==null||a.fbid==null)b=1;else{var c=window.screen.width>1800&&!(a.large_size==null)&&!(a.large_preview==null),d=a.fbid,e=c?a.large_size:a.inbox_size;e=e==null?{x:0,y:0}:{x:e.width,y:e.height};c=c?a.large_preview:a.inbox_preview;return{legacy_attachment_id:d,original_dimensions:e,start_muted:!0,hide_controls_on_finish:!0,url:c,is_share:!1}}if(b===1)return{legacy_attachment_id:null,original_dimensions:null,start_muted:!0,hide_controls_on_finish:!0,url:null,is_share:!1}}function k(a){var b=a%60,c=b<10;return String(a/60|0)+(":"+((c?"0":"")+String(b)))}function a(a,c,d,e,f,g,l,m){__p&&__p();var n=a!==void 0?a:"",o=function(){var a=c.metadata,d=c.media;d=a==null?d==null?void 0:b("bs_js_primitive").nullable_to_opt(d.duration):b("bs_js_primitive").nullable_to_opt(a.duration);if(d!==void 0)return k(d);else return null},p=function(){if(g!==void 0)return b("bs_curry")._1(g,c);else return 0},q=function(a){var e=a.legacy_attachment_id;if(e==null)return void 0;else return b("bs_js_primitive").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_js_primitive").some(c),b("joinClasses")(n,"_ccq","_4tsk","_3o67",d?"_52mr":"",d?"_1byr":""),!0,f,void 0,void 0,a,p,l,[])))};return[i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],function(){var a=j(c);a=q(a);if(a!==void 0)return b("bs_js_primitive").valFromOption(a);else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerPhotoReact.bs").make(b("joinClasses")(n,"_ccq"),c,d,void 0,e,g,[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_ccr",void 0,void 0,void 0,h("27983"),void 0,void 0,void 0,void 0,[])),b("React").createElement("span",{className:"_ccs"},o(0))]))},i[9],i[10],i[11],i[12]]}c=1800;f.component=i;f.large_window_width=c;f.constructVideoData=j;f.formatDuration=k;f.make=a}),null);
__d("MessengerLivingRoomCTAContainer.react",["fbt","CurrentEnvironment","ErrorBoundary.react","JSResource","MercuryIDs","React","ShortProfiles","gkx","lazyLoadComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("lazyLoadComponent")(b("JSResource")("MessengerLivingRoomCTA.react").__setRef("MessengerLivingRoomCTAContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={threadType:null,otherUserName:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this,c=this.props.threadID;if(c==null)return;c=b("MercuryIDs").tokenize(c);if(c.type==="thread"){this.setState({threadType:"group"});return}if(c.type!=="user")return;b("ShortProfiles").get(c.value,function(b){a.setState({otherUserName:b.firstName,threadType:"user"})})};d.render=function(){__p&&__p();var a=this.props,c=a.threadID,d=a.isFromViewer;a=a.attachment;var e=this.state,f=e.threadType;e=e.otherUserName;if(!b("gkx")("678647")||a==null||d!=!0||c==null||f==null||f==="user"&&e==null||b("CurrentEnvironment").messengerdotcom)return null;a=a==null?void 0:(d=a.target)==null?void 0:d.video_messenger_cta_payload;d=a==null?void 0:a.cta_type;a=a==null?void 0:(a=a.video)==null?void 0:a.id;if(d!=="CREATE_LIVING_ROOM"||a==null)return null;var i;switch(f){case"user":i=g._("Regarder avec {name of the other user in the thread}",[g._param("name of the other user in the thread",e)]);break;case"group":i=g._("Regarder avec le groupe");break}return i==null?null:b("React").createElement(b("ErrorBoundary.react"),null,b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,{threadFBID:b("MercuryIDs").getThreadFBIDFromThreadID(c),videoID:a,buttonText:i})))};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerXMATextBlock.react",["cx","LineClamp.react","MessengerLivingRoomCTAContainer.react","React","ShimButton.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=26;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.url&&window.open(c.props.url)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){if(!this.props)return b("React").createElement("div",{className:"__6j"});var a=this.props.width?{maxWidth:this.props.width-h,textAlign:"left"}:{textAlign:"left"},c={textDecoration:"none"};return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"__6j _43kk _6ude"),style:a},b("React").createElement(b("ShimButton.react"),{form:"link",onClick:this.$1,style:c},this.renderTitle(),this.renderDescription(),this.renderSource()),b("React").createElement(b("MessengerLivingRoomCTAContainer.react"),{threadID:this.props.threadID,isFromViewer:this.props.isFromViewer,attachment:this.props.attachment}))};d.renderTitle=function(){return!this.props.title?null:b("React").createElement("div",{className:"__6k"},b("React").createElement(b("LineClamp.react"),{lines:2,lineHeight:16},this.props.title))};d.renderDescription=function(){if(!this.props.description)return null;var a=this.props.width?{maxWidth:this.props.width-h}:{};return b("React").createElement("div",{className:"__6l",style:a},b("React").createElement(b("LineClamp.react"),{lines:2,lineHeight:15},this.props.description))};d.renderSource=function(){return!this.props.source?null:b("React").createElement("div",{className:"__6m"},b("React").createElement(b("LineClamp.react"),{lines:1,lineHeight:14},this.props.source))};return c}(b("React").Component);c.propTypes={className:a.string,description:a.string,source:a.string,title:a.string,url:a.string,width:a.number,isFromViewer:a.bool,attachment:a.object};e.exports=c}),null);
__d("MessengerXMATextBlockReact.bs",["ReasonReact.bs","bs_js_null_undefined","MessengerXMATextBlock.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){return b("ReasonReact.bs").wrapJsForReason(b("MessengerXMATextBlock.react"),{className:b("bs_js_null_undefined").fromOption(a),description:b("bs_js_null_undefined").fromOption(c),source:b("bs_js_null_undefined").fromOption(d),title:b("bs_js_null_undefined").fromOption(e),url:b("bs_js_null_undefined").fromOption(f),width:b("bs_js_null_undefined").fromOption(g),threadID:b("bs_js_null_undefined").fromOption(h),isFromViewer:b("bs_js_null_undefined").fromOption(i),attachment:b("bs_js_null_undefined").fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoXMAReact.bs",["cx","React","ReasonReact.bs","joinClasses","bs_js_primitive","MessengerVideoPlayerReact.bs","MessengerXMATextBlockReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("MessengerVideoXMA");function i(a){__p&&__p();if(a==null)return null;else{var b=a.width>a.height?a.width:a.height,c=window.screen.width>1800;c=c?640:450;if(b<=c)return{x:a.width,y:a.height};else{c=c/b;b=a.width*c|0;a=a.height*c|0;return{x:b,y:a}}}}function j(a){var b=a.media;a=a.target;if(b==null||a==null||b.image_size==null||a.video_id==null)return void 0;else{var c=b.image_size;return{legacy_attachment_id:a.video_id,original_dimensions:i(c),start_muted:!0,hide_controls_on_finish:!0,url:b.image,is_share:!0}}}function a(a,c,d,e,f,g,i){var k=a!==void 0?a:"",l=function(a){if(a!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_js_primitive").some(c),b("joinClasses")(k,"_ccq","_4tsk","_3o67","_52mr","_1byr"),!0,d,void 0,void 0,b("bs_js_primitive").valFromOption(a),void 0,e,[]));else return null},m=function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerXMATextBlockReact.bs").make("_2f5n _4br2 _29ew _3dug",b("bs_js_primitive").nullable_to_opt(c.description),b("bs_js_primitive").nullable_to_opt(c.source),b("bs_js_primitive").nullable_to_opt(c.video_title),b("bs_js_primitive").nullable_to_opt(c.uri),a!==void 0?b("bs_js_primitive").valFromOption(a).x:void 0,f,g,b("bs_js_primitive").some(c),[]))};return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var a=j(c),d=l(a);return b("React").createElement("div",{className:"_3duc"},d,m(a!==void 0?b("bs_js_primitive").nullable_to_opt(b("bs_js_primitive").valFromOption(a).original_dimensions):void 0))},h[9],h[10],h[11],h[12]]}c=640;d=450;e=1800;f.large_preview_dim=c;f.thumbinail_inbox_dim=d;f.large_window_width=e;f.component=h;f.adjustSize=i;f.constructVideoData=j;f.make=a}),null);
__d("MessengerPhotosGroupReact.bs",["cx","URI","bs_block","bs_curry","React","Utils.bs","ActorURI","bs_belt_Array","LogHistory","MercuryIDs","bs_belt_Option","ReasonReact.bs","joinClasses","bs_js_primitive","bs_caml_primitive","bs_js_null_undefined","MessagesViewerSetID","MessengerPhotoReact.bs","MessengerVideoReact.bs","MercuryAttachmentType","getPageIDFromThreadID","MessengerVideoXMAReact.bs","bs_caml_builtin_exceptions","ChatSpeakingStickerReact.bs","MercuryAttachmentPayload.bs","MessengerAttachmentViewer","MessengerThreadSharedPhotosReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="empty-spacer",i=b("LogHistory").getInstance("messenger_photo_group"),j=b("ReasonReact.bs").reducerComponent("MessengerPhotosGroup");function k(a,c,d,e,f,g,k,l,m,n,o,p,q,r){__p&&__p();var s=d!==void 0?d:"",t=function(a){a=a.length;var c=a===2||a===4;return b("joinClasses")(s,"_2n8h",a===1?"_2n8i":"",c?"_4ksk":"",a>1&&!c?"_2n8k":"","_5fk1")},u=function(){__p&&__p();if(l!==void 0){var a=b("bs_js_primitive").valFromOption(l),c=a.thread_fbid;if(c==null)return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id);else{var d=b("bs_caml_primitive").caml_string_compare(c,"")===0;if(d)return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id);else return c}}else return null},v=function(a,c){var d=u(0);c=c.metadata;c=c==null?null:c.fbid;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadSharedPhotosReact.bs").make(c,function(){return b("bs_curry")._1(a[3],0)},d,[]))},w=function(a){a=JSON.stringify(a);if(a!==void 0)return a;else return""},x=function(d,j,l,s){__p&&__p();var t=j.deduplication_key,v=j.metadata;if(t==null)if(v==null){var x=j.upload_id;x=x==null?"":x}else{v=v.fbid;x=v==null?"":v}else x=t;var y=function(b,a){i.debug("just_open_uri",w(j));return window.open(b)},z;if(!l&&!b("Utils.bs").isSomeTrue(f)){var A=j.metadata;v=0;if(A==null||A.fbid==null)v=1;else{t=j.app_attribution==null;z=t?function(a){i.debug("open_share_view",w(a));return b("bs_curry")._1(d[3],[a])}:function(c){__p&&__p();var d=A;c=c;i.debug("on_child_clicked",w(c));if(b("Utils.bs").isTruthy(c.preview_uploading))return 0;else if(c.attach_type===b("MercuryAttachmentType").VIDEO){var f=d.dimensions;f=f==null?{x:null,y:null}:{x:f.width,y:f.height};b("MessengerAttachmentViewer").renderVideo({pageID:b("bs_js_null_undefined").fromOption(o),rootClassName:"_1j1h",videoID:d.fbid,videoSize:f,videoURI:c.url});return 0}else if(c.attach_type===b("MercuryAttachmentType").PHOTO||c.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER||c.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE){f=a.length===1;var h=c.url;if(!b("Utils.bs").isSomeTrue(g)&&c.attach_type===b("MercuryAttachmentType").PHOTO&&e!==void 0){var j=u(0),k=e===1;j=new(b("URI"))("/ajax/messaging/attachments/sharedphotos.php").setQueryData({thread_id:j,image_id:d.fbid});j=o!==void 0?new(b("ActorURI").create)(j,b("bs_js_primitive").valFromOption(o)):j;j=[b("MessagesViewerSetID").MESSAGES_VIEW_ALL_IN_THREAD,j,k]}else j=[null,h,f];b("MessengerAttachmentViewer").bootstrapWithConfig({actorid:b("bs_js_null_undefined").fromOption(o),dimensions:d.dimensions,disableForward:o!==void 0,disablePaging:j[2],endpoint:j[1],fbid:d.fbid,rootClassName:"_1j1h",setID:j[0],snapToPhoto:!0,src:c.preview_url});return 0}else if(c.uri==null)return 0;else return window.open(c.uri)}}if(v===1){l=j.uri==null;if(l)z=void 0;else{var B=j.uri;z=function(a){return y(B,a)}}}}else{t=j.large_preview_url==null;if(t)z=void 0;else{var C=j.large_preview_url;z=function(a){return y(C,a)}}}v=b("bs_belt_Option").getWithDefault(c,j.attach_type);if(v===b("MercuryAttachmentType").PHOTO||v===b("MercuryAttachmentType").ANIMATED_IMAGE||v===b("MercuryAttachmentType").THIRDPARTYSTICKER)return b("ReasonReact.bs").element(x,void 0,b("MessengerPhotoReact.bs").make(void 0,j,s,k,m,z,[]));else if(v===b("MercuryAttachmentType").VIDEO){l=j.metadata;if(l==null||!b("Utils.bs").isTruthy(l.render_as_sticker))t=1;else{l=l.dimensions;l=l==null?{height:null,width:null}:{height:l.height,width:l.width};var D=j.url;return b("ReasonReact.bs").element(void 0,void 0,b("ChatSpeakingStickerReact.bs").make(D,l,[]))}if(t===1)if(b("Utils.bs").isSomeTrue(g))return b("ReasonReact.bs").element(x,void 0,b("MessengerVideoXMAReact.bs").make(void 0,j,k,n,p,q,[]));else return b("ReasonReact.bs").element(x,void 0,b("MessengerVideoReact.bs").make(void 0,j,s,m,k,z,n,[]))}else if(v===h){D={className:"_4tsk _4rf-"};l=b("bs_js_primitive").nullable_to_opt(j.key);l!==void 0&&(D.key=b("bs_js_primitive").valFromOption(l));return b("React").createElement("div",D)}else throw[b("bs_caml_builtin_exceptions").invalid_argument,v+" is not handled by MessengerPhotosGroup"]},y=function(c,a,d){__p&&__p();if(a.length!==1){var e=a.length===2||a.length===4,f=e?2:3;e=[];var g=[0],i=a.length;while(g[0]<i){var j=b("bs_caml_primitive").caml_int_min(f,i-g[0]|0);j=b("bs_belt_Array").makeBy(f,function(e){return function(j){var i=j<e;if(i)return x(c,a[g[0]+j|0],d,!1);else{i="ghost"+String(f-j|0);j=b("MercuryAttachmentPayload.bs").create(h,b("bs_js_primitive").some(i),new(b("URI"))(""));return x(c,j,d,!1)}}}(j));e.push(b("React").createElement("div",{key:String(g[0]),className:"_2n8g"},j));g[0]=g[0]+f|0}return e}else{j=a[0];return x(c,j,d,!0)}};return[j[0],j[1],j[2],j[3],function(){b("MessengerAttachmentViewer").preload();return 0},j[5],j[6],j[7],function(c){var d=l!==void 0?!(b("getPageIDFromThreadID")(b("bs_js_primitive").valFromOption(l).thread_id)==null):!1;d=y(c,a,d);var e=c[1][0];c=e!==void 0?v(c,b("bs_js_primitive").valFromOption(e)):null;return b("React").createElement("div",{className:t(a),tabIndex:0},c,d)},function(){return[void 0]},j[10],function(c,a){if(c)return b("bs_block").__(0,[[b("bs_js_primitive").some(c[0])]]);else return b("bs_block").__(0,[[void 0]])},j[12]]}a=b("ReasonReact.bs").wrapReasonForJs(j,function(a){return k(a.attachments,b("bs_js_primitive").nullable_to_opt(a.attachType),b("bs_js_primitive").nullable_to_opt(a.className),b("bs_js_primitive").nullable_to_opt(a.count),b("bs_js_primitive").nullable_to_opt(a.isPageMessage),b("bs_js_primitive").nullable_to_opt(a.isXMA),b("bs_js_primitive").nullable_to_opt(a.isVisible),b("bs_js_primitive").nullable_to_opt(a.message),b("bs_js_primitive").nullable_to_opt(a.onAttachmentLoad),b("bs_js_primitive").nullable_to_opt(a.onSelect),b("bs_js_primitive").nullable_to_opt(a.pageID),b("bs_js_primitive").nullable_to_opt(a.threadID),b("bs_js_primitive").nullable_to_opt(a.isFromViewer),[])});c=b("bs_belt_Option").getWithDefault;f.$pipe$unknown=c;f.empty_spacer_type=h;f.history=i;f.component=j;f.make=k;f.jsComponent=a}),null);
__d("MessengerPhotosGroup.react",["MessengerPhotosGroupReact.bs"],(function(a,b,c,d,e,f){"use strict";a=b("MessengerPhotosGroupReact.bs").jsComponent;e.exports=a}),null);
__d("MessengerStickerUtils",["MercuryAttachmentType"],(function(a,b,c,d,e,f){"use strict";function g(a){return!!(a&&a.attach_type===b("MercuryAttachmentType").STICKER)}function h(a){var b=a.attachments;return!!(a.is_like_preview||a.sticker_id||b&&b.length===1&&g(b[0]))}function a(a){return a.size===1&&h(a.first())}e.exports={isStickerMessageGroup:a,isStickerMessage:h,isStickerAttachment:g}}),null);
__d("MessengerVoiceClipAttachment.react",["cx","MercuryAttachmentAudioClip.react","MercuryShareAttachmentRenderLocations","MessengerColors","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.attachment,c=a.metadata.duration/1e3,d=!!a.app_attribution,e={};this.props.customColor&&(b("MessengerDotComAndInboxM4Check.bs").yes?e=babelHelpers["extends"]({backgroundAttachment:"fixed"},b("MessengerColors").makeLinearGradient(this.props.thread.gradient_colors,this.props.thread.solid_color,b("MessengerCustomColorUtils.bs").defaultColor())):e.backgroundColor=this.props.customColor);return b("React").createElement("div",{className:"_hh7"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+" _s1-"+(this.props.customColor?" _5sxi":"")+(d?"":" _52mr")+(d?" _mxz":"")+" _1fz8"+(d?" _1-wa":"")+" _1nqp",style:e},b("React").createElement(b("MercuryAttachmentAudioClip.react"),{customColor:this.props.customColor,src:a.url,duration:c,key:"audio:"+this.props.message.message_id,showHelp:!1,width:200,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,rootClassName:"_3czg"+(d?" _4yjw":"")+" _2poz _ui9"}))};return c}(b("React").PureComponent);c.propTypes={attachment:a.object.isRequired,customColor:a.string,message:a.object.isRequired,onUnwrap:a.func,thread:a.object.isRequired};e.exports=c}),null);
__d("Sticker.react",["cx","fbt","Arbiter","MessengerDotComAndInboxM4Check.bs","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.re","PaddedStickerConfig","React","ReactDOM","StickerConstants","clearInterval","emptyFunction","getElementPosition","getObjectValues","joinClasses","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerHotLikeSVGReact.re").component;a=b("React").PropTypes;var j=83,k=5e3,l=10,m={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};c=b("React").createClass({displayName:"Sticker",propTypes:{accessibilityLabel:a.string,animationTime:a.number,animationTrigger:a.oneOf(b("getObjectValues")(m)),forceCursorPointer:a.bool,frameCount:a.number.isRequired,frameRate:a.number,framesPerCol:a.number.isRequired,framesPerRow:a.number.isRequired,onAttachmentLoad:a.func,onStickerClick:a.func,packID:a.string,packName:a.string,sourceURI:a.string.isRequired,sourceWidth:a.number.isRequired,sourceHeight:a.number.isRequired,spriteURI:a.string,stickerID:a.string,subscribedThreadID:a.string,testID:a.string},getInitialState:function(){return{index:0,hasAnimated:!1,unsubscribeID:null}},getDefaultProps:function(){return{animationTime:k,accessibilityLabel:"",forceCursorPointer:!1,frameRate:j,onStickerClick:b("emptyFunction"),packID:null,packName:""}},componentDidMount:function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._stopIntervalID=0;(this.props.animationTrigger===m.LOAD_AND_HOVER||this.props.animationTrigger===m.ANIMATE_FOREVER)&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount>1){var a=b("Arbiter").subscribe(this.props.subscribedThreadID,function(a,b){this.isScrolledIntoView(b.scrollTop,b.viewHeight,b.top)}.bind(this));this.setState({unsubscribeID:a})}},componentWillUnmount:function(){this.state.unsubscribeID&&b("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&b("clearInterval")(this._stopIntervalID)},isAnimating:function(){return!!this._stopIntervalID},getWidth:function(){return Math.floor(this.props.sourceWidth)},getHeight:function(){return Math.floor(this.props.sourceHeight)},preloadSprite:function(){var a=new window.Image();a.onload=function(){this.isMounted()&&!this.state.hasAnimated&&(this.setState({hasAnimated:!0}),this._stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))}.bind(this);b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?a.src=this.props.paddedSpriteURI:a.src=this.props.spriteURI},isScrolledIntoView:function(a,c,d){var e=b("getElementPosition")(b("ReactDOM").findDOMNode(this));d=a+e.y-d;c=a+c;e=d+e.height;this.props.frameCount>1&&!this.state.hasAnimated&&e-l<=c&&d+l>=a&&this.startAnimation()},startAnimation:function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this._stopIntervalID=b("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))},stopAnimation:function(){this.setState({index:0}),b("clearInterval")(this._stopIntervalID),this._stopIntervalID=0},toggleAnimation:function(){this.isAnimating()?this.stopAnimation():this.startAnimation()},shouldStopAnimating:function(){var a=this.state.index%this.props.frameCount;if(this.props.animationTrigger===m.ANIMATE_FOREVER)return!1;if(!(a===0&&this.state.index*this.props.frameRate>this.props.animationTime))return!1;return this.props.animationTrigger===m.CLICK?!0:!this.state.isHovered},incrementFrameIndex:function(){this.shouldStopAnimating()?this.stopAnimation():this.setState({index:this.state.index+1})},getStyle:function(){__p&&__p();var a=0,c=this.props.spriteURI;if(b("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){c=this.props.paddedSpriteURI;var d=240/Math.min(this.getHeight(),this.getWidth());a=Math.floor(b("StickerConstants").SPRITE_PADDING/d)}d=this.state.index%this.props.frameCount;var e=d%this.props.framesPerRow*(this.getWidth()+a*2)+a;d=Math.floor(d/this.props.framesPerRow)*(this.getHeight()+a*2)+a;var f=this.props.frameCount>1&&this.props.animationTrigger===m.CLICK||this._isStickerClickable(this.props.packID);f=this.props.forceCursorPointer||f?"pointer":"default";var g=this.getHeight(),h=this.getWidth();if(!this.state.hasAnimated||!this.props.spriteURI)return{backgroundImage:this._isHotLike()?null:"url("+this.props.sourceURI+")",backgroundRepeat:"no-repeat",backgroundSize:h+"px "+g+"px",cursor:f,height:g,width:h};else return{backgroundImage:"url("+c+")",backgroundPosition:-e+"px "+-d+"px",backgroundSize:(h+a*2)*this.props.framesPerRow+"px "+(g+a*2)*this.props.framesPerCol+"px",cursor:f,height:g,width:h,imageRendering:"-webkit-optimize-contrast"}},_isStickerClickable:function(a){return a&&a!=b("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=b("StickerConstants").GRAVEYARD_PACK_ID},onStickerClick:function(){if(!this._isStickerClickable(this.props.packID))return;this.props.onStickerClick&&this.props.onStickerClick(this.props.packID,this.props.stickerID)},mouseLeft:function(){this.setState({isHovered:!1})},mouseEntered:function(){this.setState({isHovered:!0}),this.isAnimating()||this.startAnimation()},tabFocusSelected:function(){this.setState({isHovered:!0}),this.isAnimating()||this.startAnimation()},tabFocusUnselected:function(){this.setState({isHovered:!1})},getAriaLabel:function(){return h._("Sticker {sticker name} {pack name}",[h._param("pack name",this.props.packName),h._param("sticker name",this.props.accessibilityLabel)])},render:function(){var a,c;this.props.animationTrigger===m.CLICK&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===m.HOVER||this.props.animationTrigger===m.LOAD_AND_HOVER)&&this.props.frameCount>1&&this.props.spriteURI&&(c=!0);var d=a?this.toggleAnimation:null;this.props.packID&&(d=this.onStickerClick);var e=this.props.className,f=null;this._isHotLike()&&(e=b("joinClasses")(e,"_576q"),b("MessengerDotComAndInboxM4Check.bs").yes?f=b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient(this.props.thread):f=b("React").createElement(i,{color:this.props.customColor}));return b("React").createElement("div",{"aria-label":this.getAriaLabel(),className:e,"data-testid":this.props.testID,onBlur:this.tabFocusUnselected,onClick:d,onFocus:this.tabFocusSelected,onMouseEnter:c?this.mouseEntered:null,onMouseLeave:c?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:"0"},f)},_isHotLike:function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1}});e.exports=c}),null);
__d("StickerInterfaces",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSAGES:"messages",NEO:"neo",COMMENTS:"comments",STICKERED:"stickered",COMPOSER:"composer",POSTS:"posts",FRAMES:"frames",SMS:"sms",MONTAGE:"montage"})}),null);
__d("StickerUtils",[],(function(a,b,c,d,e,f){__p&&__p();a={getScaledDimensions:function(a,b,c){var d,e,f;b>a?(f=c/b,d=a*f,e=b*f):(f=c/a,d=a*f,e=b*f);return{height:Math.round(d),width:Math.round(e)}},capitalizeWords:function(a){a=a.split(" ");for(var b=0;b<a.length;b++){var c=a[b].charAt(0).toUpperCase();a[b]=c+a[b].substr(1)}return a.join(" ")}};e.exports=a}),null);
__d("StickersDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("StickersActions",["StickersDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({ADD_RECENT_STICKER:null,HIDE_FLYOUT:null,LOAD_CUSTOM_STICKER_PACK:null,LOAD_RECENT_STICKERS:null,SELECT_AVATAR_STICKERS:null,SELECT_STORE_PACK:null,SELECT_TRAY_PACK:null,SHOW_FLYOUT:null,TRAY_LOADED:null});a={Types:g,addRecentSticker:function(a){b("StickersDispatcher").dispatch({type:g.ADD_RECENT_STICKER,sticker:a})},hideStickerFlyout:function(){b("StickersDispatcher").dispatch({type:g.HIDE_FLYOUT})},loadCustomStickerPack:function(a,c){b("StickersDispatcher").dispatch({type:g.LOAD_CUSTOM_STICKER_PACK,pack:a,nuxContent:c})},loadRecentStickers:function(a){b("StickersDispatcher").dispatch({type:g.LOAD_RECENT_STICKERS,stickers:a})},selectAvatarStickers:function(){b("StickersDispatcher").dispatch({type:g.SELECT_AVATAR_STICKERS})},selectStorePack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_STORE_PACK,packID:a})},selectTrayPack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_TRAY_PACK,packID:a})},showStickerFlyout:function(a){b("StickersDispatcher").dispatch({type:g.SHOW_FLYOUT,threadID:a})},trayLoaded:function(){b("StickersDispatcher").dispatch({type:g.TRAY_LOADED})}};e.exports=a}),null);
__d("XStickerInTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/in_tray/",{pack_id:{type:"Int",required:!0}})}),null);
__d("StickersPackInTray",["Promise","AsyncRequest","XStickerInTrayController","react-relay-deprecated/classic/query/createRelayQuery","react-relay-deprecated/classic/query/RelayQL","react-relay-deprecated/classic/store/RelayStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={onIsPackInTray:function(a,c,d){__p&&__p();c=b("react-relay-deprecated/classic/query/createRelayQuery")(function(){return{children:[{children:[{calls:[{kind:"Call",metadata:{type:"StickerInterfaces"},name:"interface",value:{kind:"CallVariable",callVariableName:"stickerInterface"}},{kind:"Call",metadata:{type:"Int"},name:"first",value:{kind:"CallValue",callValue:1e4}}],children:[{children:[{children:[{fieldName:"id",kind:"Field",metadata:{isRequisite:!0},type:"ID"}],fieldName:"node",kind:"Field",metadata:{canHaveSubselections:!0,inferredRootCallName:"node",inferredPrimaryKey:"id",isRequisite:!0},type:"StickerPack"},{fieldName:"cursor",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],fieldName:"edges",kind:"Field",metadata:{canHaveSubselections:!0,isPlural:!0},type:"PacksInTrayEdge"},{children:[{fieldName:"has_next_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"},{fieldName:"has_previous_page",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"Boolean"}],fieldName:"page_info",kind:"Field",metadata:{canHaveSubselections:!0,isGenerated:!0,isRequisite:!0},type:"PageInfo"}],fieldName:"tray_packs",kind:"Field",metadata:{canHaveSubselections:!0,isConnection:!0},type:"PacksInTrayConnection"}],fieldName:"sticker_store",kind:"Field",metadata:{canHaveSubselections:!0},type:"StickerStore"}],fieldName:"viewer",kind:"Query",metadata:{},name:"StickersPackInTray",type:"Viewer"}}(),{stickerInterface:c});var e=b("react-relay-deprecated/classic/store/RelayStore").readQuery(c);e=e&&e.length>0?e[0]:null;if(e&&e.sticker_store&&e.sticker_store.tray_packs&&e.sticker_store.tray_packs.edges)return new(b("Promise"))(function(b,c){return b({in_sticker_tray:e.sticker_store.tray_packs.edges.filter(function(b){return b.node.id===a}).length>0})}).then(d);var f=b("XStickerInTrayController").getURIBuilder().setInt("pack_id",a).getURI();return new(b("Promise"))(function(a,c){return new(b("AsyncRequest"))(f).setHandler(function(b){return a(b.getPayload())}).setAllowCrossPageTransition(!0).send()}).then(d)}};e.exports=a}),null);
__d("DialogFitHeight",["AbstractDialogFitHeight"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getHeightProperty=function(){return"height"};return b}(b("AbstractDialogFitHeight"));e.exports=a}),null);
__d("StickersStateStore",["FluxReduceStore","StickersActions","StickersConfig","StickersDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map({customPack:null,customPackLoaded:!1,customPackNuxContent:null,isAvatarStickersSelected:!1,recentStickers:[],recentStickersLoaded:!1,showFlyout:!1,storePackID:null,threadID:null,trayLoaded:!1,trayPackID:null})};d.reduce=function(a,c){__p&&__p();var d=c;c=b("StickersActions").Types;switch(d.type){case c.ADD_RECENT_STICKER:var e=[d.sticker];a.get("recentStickers").forEach(function(a){if(a.id===d.sticker.id)return;e.push(a)});return a.set("recentStickers",e.splice(0,b("StickersConfig").max_mru_stickers));case c.HIDE_FLYOUT:return a.set("showFlyout",!1);case c.LOAD_CUSTOM_STICKER_PACK:return a.set("customPack",d.pack).set("customPackLoaded",!0).set("customPackNuxContent",d.nuxContent);case c.LOAD_RECENT_STICKERS:return a.set("recentStickersLoaded",!0).set("recentStickers",d.stickers);case c.SELECT_AVATAR_STICKERS:return a.set("isAvatarStickersSelected",!0);case c.SELECT_STORE_PACK:return a.set("storePackID",d.packID);case c.SELECT_TRAY_PACK:return a.set("trayPackID",d.packID).set("trayLoaded",!0).set("isAvatarStickersSelected",!1);case c.SHOW_FLYOUT:return a.set("showFlyout",!0).set("threadID",d.threadID);case c.TRAY_LOADED:return a.set("trayLoaded",!0);default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("StickersDispatcher"))}),null);
__d("StickersStoreController",["cx","Bootloader","DialogFitHeight","DOM","LayerAutoFocus","LayerFadeOnHide","LayerHideOnEscape","PureStoreBasedStateMixin","React","ReactDOM","StickersActions","StickersDispatcher","StickersStateStore","XUIDialog.react","XUIDialogBody.react","XUISpinner.react","isSocialPlugin","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=688,i=320,j=null,k=b("React").createClass({displayName:"StoreLayer",mixins:[b("PureStoreBasedStateMixin")(b("StickersStateStore"))],propTypes:{isComposer:a.bool,onToggle:a.func.isRequired,shown:a.bool.isRequired},getDefaultProps:function(){return{isComposer:!1}},statics:{calculateState:function(){return{packID:b("StickersStateStore").getState().get("storePackID")}}},getInitialState:function(){return{renderStore:function(){return b("React").createElement("div",{className:"_5r5e"},b("React").createElement(b("XUISpinner.react"),{background:"light",size:"large"}))}}},UNSAFE_componentWillMount:function(){b("StickersDispatcher").explicitlyRegisterStores([b("StickersStateStore")])},shouldComponentUpdate:function(a){return!!a.shown},componentDidMount:function(){var a=this;b("Bootloader").loadModules(["StickersStore.react","react-relay-deprecated/classic/container/RelayRootContainer","StickersStorePackListRoute","StickersStorePackDetailRoute"],function(c,d,e,f){a.setState({renderStore:function(){var g=a.state.packID?new f({packID:a.state.packID}):new e();return b("React").createElement(d,{Component:c,route:g,renderFetched:function(d){return b("React").createElement(c,babelHelpers["extends"]({},d,{isComposer:a.props.isComposer,packID:a.state.packID,shown:a.props.shown}))}})}})},"StickersStoreController")},_onToggle:function(a){var c=this;b("requestAnimationFrame")(function(){return c.props.onToggle(a)})},render:function(){var a=b("isSocialPlugin")()&&document.body.offsetWidth<h?i:h;return b("React").createElement(b("XUIDialog.react"),{behaviors:{DialogFitHeight:b("DialogFitHeight"),LayerAutoFocus:b("LayerAutoFocus"),LayerFadeOnHide:b("LayerFadeOnHide"),LayerHideOnEscape:b("LayerHideOnEscape")},onToggle:this._onToggle,shown:this.props.shown,width:a},b("React").createElement(b("XUIDialogBody.react"),{className:"_5rq- autofocus"},this.state.renderStore()))}}),l=function(a){j||(j=b("DOM").create("div"),b("DOM").appendContent(document.body,j)),b("ReactDOM").render(b("React").createElement(k,{isComposer:a,onToggle:n,shown:!0}),j)},m=function(){if(!j)return;b("ReactDOM").render(b("React").createElement(k,{shown:!1,onToggle:n}),j)},n=function(a){a?l():m()};c={showStore:function(a,c){b("StickersActions").selectStorePack(a),l(!!c)}};e.exports=c}),null);
__d("isRetina",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(){return(window.devicePixelRatio||1)>1}}),null);
__d("MessengerAttachmentRenderer",["cx","EmojiSticker.react","MercuryAttachment","MercuryAttachmentType","MercuryAudioType","MercuryIDs","MercuryShareAttachment.react","MercuryShareAttachmentRenderLocations","MessengerErrorAttachment.react","MessengerFileAttachment.react","MessengerFromViewerUtils","MessengerHotLikePreview.react","MessengerHotLikeUtils","MessengerPhotosGroup.react","MessengerStickerUtils","MessengerSupportedEmojiUtils","MessengerVoiceClipAttachment.react","MessengerWebDriverTestIDs","React","Sticker.react","StickerAssetType","StickerConstants","StickerInterfaces","StickersActions","StickersPackInTray","StickersStoreController","StickerUtils","StoryAttachmentStyle","XStickerAssetController","isRetina"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=700,i="sticker:",j="share:",k="_1c_u",l="_3o6m",m=function(a){return a===Object(a)};a={getAttachmentsInsideBubble:function(a,c){var d=this,e=b("MercuryAttachment").get(a).filter(m).filter(function(a){return!d.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(e,a,c)},getAttachmentsOutsideBubble:function(a,c,d,e,f){var g=this,h=b("MercuryAttachment").get(a).filter(m).filter(function(a){return g.attachmentShouldAppearOutsideBubble(a)});return this._getAttachmentComponents(h,a,c,d,e,f)},_getAttachmentComponents:function(a,c,d,e,f,g){var h=this,i=this._getPhotosGroup(a.filter(b("MercuryAttachment").isPhotoGroupAttachment),c,d,e);a=a.filter(function(a){return!b("MercuryAttachment").isPhotoGroupAttachment(a)}).map(function(a){return h._getAttachmentComponent(a,c,d,e,f,g)});i&&a.push(i);return a},_getAttachmentComponent:function(a,c,d,e,f,g){__p&&__p();var h=e&&e.customColor,i=e&&e.onUnwrap,j=e&&e.isVisible,k=e&&e.isFromViewer,l=e&&e.isPageMessage;e=e&&e.onSelect;if(b("MessengerStickerUtils").isStickerAttachment(a))return this._getStickerComponent(a,c,h,i,g);if(this.isEmojiLikeAttachment(a))return this._getEmojiLikeAttachment(a,c,i);if(this.isVoiceClip(a))return this._getVoiceClip(a,c,h,i,g);if(this.isFileAttchment(a))return this._getFileComponent(a,c);if(this.isP2P(a)||this.isShareAttachment(a))return this._getShareAttachment(a,c,d,j,k,l,e,f);return this.isErrorAttachment(a)?this._getErrorAttachment(a,c):null},_getStickerComponent:function(a,c,d,e,f){__p&&__p();if(c.is_like_preview)return b("React").createElement(b("MessengerHotLikePreview.react"),{customColor:d,customLike:c.customLike,key:"hlp:"+c.like_preview_since,since:c.like_preview_since,thread:f,location:b("MercuryShareAttachmentRenderLocations").MESSENGER});e=a.metadata;if(!e){e=b("MessengerHotLikeUtils").getMetadataForHotLike(c.sticker_id);if(!e){e={};a=b("StickerUtils").getScaledDimensions(b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE,b("StickerConstants").THREAD_SIZE);var g=a.height;a=a.width;e.height=g;e.width=a}e.stickerID=c.sticker_id}g=b("XStickerAssetController").getURIBuilder().setInt("sticker_id",e.stickerID);a=null;var h=null;b("isRetina")()?(a=e.paddedSpriteURI2x,h=e.spriteURI2x):(a=e.paddedSpriteURI,h=e.spriteURI);var j=e.stickerID.toString();d=b("React").createElement(b("Sticker.react"),{accessibilityLabel:e.accessibilityLabel,className:"_2poz _ui9",animationTrigger:"hover",customColor:d,frameCount:e.frameCount||1,frameRate:e.frameRate||b("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:e.framesPerCol||1,framesPerRow:e.framesPerRow||1,key:i+c.message_id,onStickerClick:function(d,a){b("StickersPackInTray").onIsPackInTray(d,b("StickerInterfaces").MESSAGES,function(a){a.in_sticker_tray?(b("StickersActions").selectTrayPack(d),b("StickersActions").showStickerFlyout(c.thread_id)):b("StickersStoreController").showStore(d)})},packID:e.packID&&e.packID.toString(),paddedSpriteURI:a,sourceHeight:e.height,sourceURI:g.setEnum("image_type",b("StickerAssetType").IMAGE).getURI().toString(),sourceWidth:e.width,spriteURI:h,stickerID:j,testID:b("MessengerWebDriverTestIDs").STICKER,thread:f});return d},_getEmojiLikeAttachment:function(a,c,d){d=b("MessengerSupportedEmojiUtils").transferSize(a.size);d=b("MessengerSupportedEmojiUtils").getHotLikeEmojiData(c.body,d)||b("MessengerSupportedEmojiUtils").getHotLikeEmojiDataTransition(c.body,d);if(!d)return this._getErrorAttachment(a,c);a=d.emoji;d=b("React").createElement(b("EmojiSticker.react"),{className:"_2poz _ui9",key:i+c.message_id,emoji:c.body,emojiImage:a,sourceURI:""});return d},_getShareAttachment:function(a,c,d,e,f,g,i,k){var l,m,n=null;c&&c.platform_xmd&&(n=JSON.parse(c.platform_xmd));m=(m=a)!=null?(m=m.share)!=null?(m=m.messenger_ctas)!=null?(m=m[0])!=null?m.page_id:m:m:m:m;l=(l=a)!=null?(l=l.share)!=null?(l=l.target)!=null?(l=l.items)!=null?(l=l[0])!=null?(l=l.call_to_actions)!=null?(l=l[0])!=null?l.page_id:l:l:l:l:l:l:l;m=m||l;l=m?b("MercuryIDs").getParticipantIDFromUserID(m):c.author;return b("React").createElement(b("MercuryShareAttachment.react"),{attachment:a.share,isFromViewer:f,isPageMessage:g,isSponsored:c.is_sponsored,isVisible:!!e,key:j+c.message_id,location:b("MercuryShareAttachmentRenderLocations").MESSENGER,maxWidth:h,messageID:c.message_id,mnMessageType:n&&n.template_type,onComponentLoaded:d,onSelect:i,pageID:l,threadID:c.thread_id,afterDecorators:k,timestamp:c.timestamp,author:c.author})},_getVoiceClip:function(a,c,d,e,f){d=b("MessengerFromViewerUtils").isFromViewer(c)?d||void 0:void 0;return b("React").createElement(b("MessengerVoiceClipAttachment.react"),{thread:f,attachment:a,customColor:d,key:"audio:"+c.message_id,message:c,onUnwrap:function(){e&&e()}})},_getErrorAttachment:function(a,c){return b("React").createElement(b("MessengerErrorAttachment.react"),{attachment:a,key:"error:"+c.message_id})},_getPhotosGroup:function(a,c,d,e){if(!a.length)return null;var f=e&&e.onUnwrap;d=e&&e.isVisible;var g=e&&e.onSelect,h=e&&e.isPageMessage;e=e&&e.pageID;return b("React").createElement(b("MessengerPhotosGroup.react"),{attachments:a,className:"_2poz _52mr _ui9",count:a.length,isPageMessage:h,isVisible:!!d,key:"photos:"+c.message_id,message:c,onSelect:g,onUnwrap:function(){f&&f()},pageID:e})},getVideoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(k);return a&&a.length?a[0]:b},getSphericalPhotoElem:function(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(l);return a&&a.length?a[0]:b},_rendersWithoutAttribution:function(a){return a.length!=1||!b("MercuryAttachment").hasAttribution(a[0])},_getFileComponent:function(a,c){return b("React").createElement(b("MessengerFileAttachment.react"),{attachment:a,className:"_2poz",key:"file:"+a.url})},attachmentShouldAppearOutsideBubble:function(a){return b("MessengerStickerUtils").isStickerAttachment(a)||b("MercuryAttachment").isPhotoGroupAttachment(a)||this.isShareAttachment(a)||this.isP2P(a)||this.isVoiceClip(a)||this.isErrorAttachment(a)||this.isEmojiLikeAttachment(a)},isPhotosGroupAttachment:function(a){a=a.props.attachments;return!!a&&a.length>1&&a.some(function(a){return!!a&&b("MercuryAttachment").isPhotoGroupAttachment(a)})},isRenderedShareAttachment:function(a){return!!(a.key&&a.key.startsWith(j))},isFileAttchment:function(a){return a.attach_type===b("MercuryAttachmentType").FILE},isShareAttachment:function(a){return!!(this._isStoryBased(a)&&!this.isP2P(a)&&(a.share.style_list.indexOf(b("StoryAttachmentStyle").SHARE)>-1||a.share.style_list.indexOf(b("StoryAttachmentStyle").FALLBACK)>-1))},isSharedVideoAttachment:function(a){a=a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)},isP2P:function(a){return!!(this._isStoryBased(a)&&a.share.style_list.indexOf(b("StoryAttachmentStyle").ORION)>-1)},_isStoryBased:function(a){return!!(a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.style_list)},isEmojiLikeAttachment:function(a){return a.attach_type===b("MercuryAttachmentType").EMOJI_LIKE},isVoiceClip:function(a){a=a.metadata;return!!a&&(!!a.isAudio||a.type===b("MercuryAudioType").AudioClip||a.type===b("MercuryAudioType").VoiceMessageWithTranscript)},isVoiceClipAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(m).filter(function(a){return c.isVoiceClip(a)});return!!a.length},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return m(a)&&c.isP2P(a)});return!!a.length},isSingleVideoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(m).filter(function(a){return b("MercuryAttachment").isVideoAttachment(a)});return a.length===1},isSharedVideoAttachmentMessage:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(m).filter(function(a){return c.isSharedVideoAttachment(a)||c.isGenieSharedVideoAttachment(a)});return a.length===1},isGenieSharedVideoAttachment:function(a){return!!(a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.style_list.indexOf(b("StoryAttachmentStyle").GENIE_MESSAGE)>-1&&a.share.target&&a.share.target.attachment&&this.isSharedVideoAttachment(a.share.target.attachment))},isSingleSphericalPhotoAttachment:function(a){a=b("MercuryAttachment").get(a).filter(m);if(a.length!==1)return!1;a=a.filter(function(a){return a.photo_encodings&&a.photo_encodings.length!==0}).length===1;return a},isErrorAttachment:function(a){return a.attach_type===b("MercuryAttachmentType").ERROR}};e.exports=a}),null);
__d("MessengerCodePasteUtils",["cx","BanzaiODS","MessengerBubble.react","MessengerFormattingUtils","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=/`{3,}/,i=3,j=/^\s+/,k=/\s+$/;function a(a){return!!(a&&a.search(h)!==-1)}function l(a,b){__p&&__p();var c=0;if(b-2>=0){c+=a[b-2].trim().length;var d=a[b-2].match(k);d&&(c+=d[0].length)}b-1>=0&&(c+=a[b-1].length+2*i);d=a[b].match(j);d&&(c+=d[0].length);return c}function m(a,b,c){if(a)return a.map(function(a){return Object.assign(Object.assign({},a),{offset:a.offset-b})}).filter(function(a){return 0<=a.offset&&a.offset<c});else return a}function n(a){a=a.split("\n");return a.length===1?{language:"",code:a[0]}:{language:a[0].replace(/[^a-zA-Z]+/g,""),code:a.slice(1).join("\n")}}function o(a){__p&&__p();if(!b("gkx")("678575"))return a.split(h);var c=b("MessengerFormattingUtils").getRanges(a).filter(function(a){return a.formatter===b("MessengerFormattingUtils").formatConfigs.blockquote.formatter||a.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter}).sort(function(a,b){return a.offset!==b.offset?a.offset-b.offset:b.length-a.length}),d=[],e=0,f=0;for(var g=0;g<c.length;g++){var i=c[g];if(i.offset<f)continue;i.formatter===b("MessengerFormattingUtils").formatConfigs.blockcode.formatter&&(d.push(a.substring(e,i.offset)),d.push(i.innerText),e=i.offset+i.length);f=i.offset+i.length}d.push(a.substring(e));return d}function c(a,c,d,e,f){__p&&__p();a=o(a);var g=[],h=0;for(var i=0;i<a.length;i+=2){var j=a[i].trim();if(j&&j.length>0){h+=l(a,i);var k=c?m(c,h,j.length):c;g.push(b("React").createElement(b("MessengerBubble.react"),{key:i,body:j,customColor:e||void 0,className:"clearfix _3058 _ui9",isFromViewer:f,ranges:k,threadID:d}))}if(i+1<a.length&&a[i+1]){j=n(a[i+1]);k=j.language;j=j.code;b("BanzaiODS").bumpEntityKey("messenger_code_paste","render_bubble");g.push(b("React").createElement("div",{key:i+1,className:"_3058 _wu0 _52mr"},b("React").createElement("div",{ref:"syntaxTarget"+i,className:"language-"+k},j)))}}return g}e.exports={containsCodeBlock:a,getCodeAndMessageBubbles:c}}),null);
__d("EmojiOnlyMessage.react",["cx","EmojiImageURL","EmojiLikeConstants","FBEmojiResource","FBEmojiUtils","Image.react","MessengerHotlikeEmoji.bs","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a="_1ift _1ifu",c=0,d=this.props.contents.map(function(d){c++;var e=d.emojiKey;if(e){e=b("MessengerHotlikeEmoji.bs").isMessengerHotlike(e)?b("EmojiImageURL").getMessengerURL(e,b("EmojiLikeConstants").sizeMap.dp32):new(b("FBEmojiResource"))(b("FBEmojiUtils").resolveAliasFromKey(e)||e).getImageURL(b("EmojiLikeConstants").sizeMap.dp32);return b("React").createElement(b("Image.react"),{alt:d.text,className:a,key:c,src:e})}else return b("React").createElement("span",{key:c},d.text)});return b("React").createElement("div",{tabIndex:"0"},d)};return c}(b("React").Component);c.propTypes={contents:a.arrayOf(a.shape({emojiKey:a.string,text:a.string.isRequired})).isRequired};e.exports=c}),null);
__d("MNRTCCallabilityStore",["MessengerDispatcher","RTCCallabilityStore"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("RTCCallabilityStore"))(b("MessengerDispatcher"))}),null);
__d("MercuryAttachmentLayoutTypeHelper",[],(function(a,b,c,d,e,f){"use strict";a={isAdminType:function(a){var b;return(a==null?void 0:(b=a.xma_layout_info)==null?void 0:b.layout_type)==="ADMIN"||(a==null?void 0:(b=a.share)==null?void 0:(a=b.xma_layout_info)==null?void 0:a.layout_type)==="ADMIN"}};e.exports=a}),null);
__d("MessengerBotComposerWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1193572474099061"};b.getQueryID=function(){return"1132183563559860"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("XMessengerBotsMenuController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/commerce/bots/menu/",{page_id:{type:"String",required:!0}})}),null);
__d("MessengerBotMenuDataFetcher",["AsyncRequest","Cache","MessengerBotComposerWebGraphQLQuery","XMessengerBotsMenuController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new(b("Cache"))(),this.$2=new(b("Cache"))()}var c=a.prototype;c.getMenuItems=function(a,c,d){__p&&__p();var e=this;if(this.$1.has(a)){c(this.$1.get(a));return}var f=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",a).getURI();new(b("AsyncRequest"))().setURI(f).setHandler(function(b){b=b.payload.menu;e.$1.set(a,b);c(b)}).setErrorHandler(function(a){d()}).send()};c.getHasPageSetting=function(a,c,d,e){__p&&__p();var f=this;if(!this.$2.has(a)){var g=b("MessengerBotComposerWebGraphQLQuery").getURI({node_id:a});new(b("AsyncRequest"))().setURI(g).setHandler(function(b){b=b.payload.data.node;b=b&&b.commerce_page_settings||[];f.$2.set(a,b);c(b.indexOf(e)!==-1)}).setErrorHandler(function(b){f.$2.set(a,[]),d()}).send()}g=this.$2.get(a)||[];c(g.indexOf(e)!==-1);return g.indexOf(e)!==-1};return a}();e.exports=new a()}),null);
__d("isMessengerMessageRemoved",["StoryAttachmentStyle"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.removed_timestamp!==null&&a.removed_timestamp!==void 0&&a.removed_timestamp!==0||a.attachments&&a.attachments.length>0&&!!a.attachments[0].share&&!!a.attachments[0].share.style_list&&a.attachments[0].share.style_list.length>0&&a.attachments[0].share.style_list[0]===b("StoryAttachmentStyle").GLOBALLY_DELETED_MESSAGE_PLACEHOLDER}e.exports=a}),null);
__d("MessageReplyPermissions",["MercuryAttachmentLayoutTypeHelper","MercuryAttachmentType","MercuryConfig","MercuryLogMessageType","MessagingTag","MessengerBotMenuDataFetcher","MNCommercePageSetting","RepliedToMessageStatusForGraphQL","emptyFunction","getPageIDFromThreadID","gkx","isMessengerMessageRemoved"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={canReplyToMessage:function(a){var c=b("getPageIDFromThreadID")(a.thread_id);if(c!=null){c=b("MessengerBotMenuDataFetcher").getHasPageSetting(c,b("emptyFunction"),b("emptyFunction"),b("MNCommercePageSetting").COMPOSER_INPUT_DISABLED);if(c)return!1}return a.folder===b("MessagingTag").PENDING||a.folder===b("MessagingTag").OTHER?!1:this.isRepliableMessage(a)&&b("gkx")("678637")||this._canRenderM3RedesignReply(a)},bubbleContainsRepliedToMessage:function(a,b){return!b&&this._canRenderM3RedesignReply(a)},isRepliableMessage:function(a){__p&&__p();var c=a.log_message_type===b("MercuryLogMessageType").VIDEO_CALL||a.log_message_type===b("MercuryLogMessageType").PHONE_CALL;if(c)return!1;c=a.attachments&&a.attachments.length>0?a.attachments[0]:null;if(b("MercuryAttachmentLayoutTypeHelper").isAdminType(c))return!1;if(b("isMessengerMessageRemoved")(a))return!1;c=c==null?void 0:c.attach_type;return!!a.body||c===b("MercuryAttachmentType").PHOTO||c===b("MercuryAttachmentType").VIDEO||c===b("MercuryAttachmentType").STICKER||c===b("MercuryAttachmentType").THIRDPARTYSTICKER||c===b("MercuryAttachmentType").ANIMATED_IMAGE||a.attachments&&a.attachments.length>=1},_canRenderM3RedesignReply:function(a){if(!b("MercuryConfig").SM3BD)return!1;if(a.status!==b("RepliedToMessageStatusForGraphQL").VALID)return!0;a=a.message;var c=a.attachments&&a.attachments.length===1&&a.attachments[0].attach_type;return!!a.body||b("MercuryConfig").RTPE&&c===b("MercuryAttachmentType").PHOTO||b("MercuryConfig").RTVE&&c===b("MercuryAttachmentType").VIDEO||b("MercuryConfig").RTSE&&(c===b("MercuryAttachmentType").STICKER||c===b("MercuryAttachmentType").THIRDPARTYSTICKER)||b("MercuryConfig").RTGE&&c===b("MercuryAttachmentType").ANIMATED_IMAGE||b("MercuryConfig").RTOAE&&a.attachments&&a.attachments.length>=1}};e.exports=a}),null);
__d("MessengerDecoratorUtil",["MercuryAttachment","MercuryAttachmentType","MercuryConfig","QE2Logger","StoryAttachmentStyle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a){return a===Object(a)},h={isEventAttachment:function(a){return this._isStoryBased(a)&&a.share.style_list.indexOf(b("StoryAttachmentStyle").EVENT_REMINDER)>-1},isLocationAttachment:function(a){return this._isStoryBased(a)&&(a.share.style_list.indexOf(b("StoryAttachmentStyle").MESSAGE_LOCATION)>-1||a.share.style_list.indexOf(b("StoryAttachmentStyle").MESSAGE_LIVE_LOCATION)>-1||a.share.style_list.indexOf(b("StoryAttachmentStyle").MESSAGE_MULTIPLE_LOCATIONS)>-1)},isP2PAttachment:function(a){var c=this;a=b("MercuryAttachment").get(a).filter(function(a){return g(a)&&c.isP2P(a)});return!!a.length},isP2P:function(a){return!!(this._isStoryBased(a)&&(a.share.style_list.indexOf(b("StoryAttachmentStyle").ORION)>-1||a.share.style_list.indexOf(b("StoryAttachmentStyle").ORION_REQUEST)>-1))},isNewForwardEntrypoint:function(a){var c;c=((c=a)!=null?(c=c.share)!=null?(c=c.style_list)!=null?c[0]:c:c:c)===b("StoryAttachmentStyle").MONTAGE_DIRECT;c=b("MercuryAttachment").isShareAttachment(a)&&a.share!=null&&a.share.share_id&&!h.isP2P(a)&&!h.isEventAttachment(a)&&!h.isLocationAttachment(a)&&!c&&(!a.share.target||!a.share.target.lwa_type);if(!c)return!1;b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");return b("MercuryConfig").MNFWD},_isStoryBased:function(a){return!!(a.attach_type===b("MercuryAttachmentType").SHARE&&a.share&&a.share.style_list)}};e.exports=h}),null);
__d("MessengerReactIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36"},b("React").createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{d:"M14.4951,17.5 C13.5576,17.5 12.9951,16.75 12.9951,15.5 C12.9951,14.25 13.5576,13.5 14.4951,13.5 C15.4326,13.5 15.9951,14.25 15.9951,15.5 C15.9951,16.75 15.4326,17.5 14.4951,17.5 M21.4951,17.5 C20.5576,17.5 19.9951,16.75 19.9951,15.5 C19.9951,14.25 20.5576,13.5 21.4951,13.5 C22.4326,13.5 22.9951,14.25 22.9951,15.5 C22.9951,16.75 22.4326,17.5 21.4951,17.5 M18.0071,25.0055 C15.7176,25.0055 13.5461,23.9185 12.1981,22.0985 C11.8691,21.6545 11.9626,21.028 12.4061,20.6985 C12.8491,20.369 13.4756,20.4625 13.8041,20.9065 C14.7766,22.2195 16.3481,23.004 18.0071,23.004 C19.6666,23.004 21.2376,22.2195 22.2101,20.9065 C22.5386,20.4625 23.1656,20.3695 23.6086,20.698 C24.0516,21.0275 24.1451,21.6545 23.8166,22.0985 C22.4686,23.9185 20.2971,25.0055 18.0071,25.0055 M18.0001,8 C12.4771,8 8.0001,12.477 8.0001,18 C8.0001,23.523 12.4771,28 18.0001,28 C23.5231,28 28.0001,23.523 28.0001,18 C28.0001,12.477 23.5231,8 18.0001,8 M18.0001,30 C11.3726,30 6.0001,24.6275 6.0001,18 C6.0001,11.3725 11.3726,6 18.0001,6 C24.6276,6 30.0001,11.3725 30.0001,18 C30.0001,24.6275 24.6276,30 18.0001,30",fill:a})))}function c(a){return b("React").createElement("svg",{height:"24px",width:"24px",viewBox:"0 0 26 26"},b("React").createElement("g",{fill:"none",fillRule:"evenodd"},b("React").createElement("polygon",{points:"0,26 26,26 26,0 0,0 "}),b("React").createElement("path",{d:"m19.1311,16.73095c-0.4325,-0.3545 -1.0775,-0.302 -1.441,0.122c-1.171,1.3615 -2.883,2.142 -4.697,2.142c-1.8135,0 -3.526,-0.7805 -4.697,-2.142c-0.363,-0.4225 -1.008,-0.4765 -1.441,-0.122c-0.432,0.355 -0.488,0.986 -0.1245,1.408c1.5605,1.8145 3.8435,2.855 6.2625,2.855c2.4195,0 4.702,-1.0405 6.2625,-2.855c0.3635,-0.422 0.3075,-1.053 -0.1245,-1.408m-2.1355,-7.731c-0.9375,0 -1.5,0.75 -1.5,2c0,1.25 0.5625,2 1.5,2c0.9375,0 1.5,-0.75 1.5,-2c0,-1.25 -0.5625,-2 -1.5,-2m-8,0c-0.9375,0 -1.5,0.75 -1.5,2c0,1.25 0.5625,2 1.5,2c0.9375,0 1.5,-0.75 1.5,-2c0,-1.25 -0.5625,-2 -1.5,-2m4.0045,16c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.6275,0 12,5.3725 12,12c0,6.6275 -5.3725,12 -12,12",fill:a})))}f.make=a;f.makeSolid=c}),null);
__d("MessengerGroupLinkActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE_LINK:"create_link",REVOKE_LINK:"revoke_link",SHARE_LINK:"share_link",DELETE_ON_UNSUBSCRIBE:"delete_on_unsubscribe"})}),null);
__d("MessengerGroupsSyncStatusChangeMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1855592967826245"};b.getQueryID=function(){return"1621038754641387"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("MessengerThreadThemeUpdateWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1727493033983591"};b.getQueryID=function(){return"643682629309288"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("FRXEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AGORA_GROUPS:"agora_groups",AGORA_RECENT_NEWS:"agora_recent_news",BLOCK_BUTTON:"block_button",BLOCK_COMPOSER:"block_composer",CHEVRON_BUTTON:"chevron_button",CHEVRON_TAGS:"chevron_tags",CONTENT_OVERLAY:"content_overlay",COMMENT:"comment",EVENTS_REPORTING:"events_reporting",FEEDBACK_BUTTON:"feedback_button",FOX_CHEVRON_TAGS:"fox_chevron_tags",GEMSTONE_MEDIA:"gemstone_media",GEMSTONE_MESSAGING:"gemstone_messaging",GEMSTONE_PROFILE:"gemstone_profile",GROUPS_ADMIN_FEEDBACK:"groups_admin_feedback",GROUPS_DISCOVER:"groups_discover_page",GROUPS_DISCOVER_HIDE_BUTTON:"groups_discover_hide_button",GROUPS_JOIN_QUESTION:"groups_join_question",GROUPS_LEAVE:"groups_leave",GROUPS_LEAVE_BROWSE:"groups_leave_browse",GROUPS_LEAVE_SPECIAL:"groups_leave_special",GROUP_MALL_RELATED_GROUPS_CHAINING:"group_mall_related_groups_chaining",GROUP_MALL_RHC:"group_mall_rhc",GROUPS_POLL:"groups_poll",GROUPS_REPORT:"groups_report",GROUPS_REPORT_TO_ADMIN:"groups_report_to_admin",GROUPS_TAB_CHAT_ROW:"groups_tab_chat_row",GROUPS_TAB_DISCOVER_FIRST:"groups_tab_discover_first",HATE_CTA:"hate_cta",HIDE_AD_BUTTON:"hide_ad_button",MARK_AS_SOLD_BUTTON:"mark_as_sold_button",MOBILE_GYSJ:"mobile_gysj",NFX:"nfx",PAGE_VERIFICATION_BADGE:"page_verification_badge",PROACTIVE_WARNING_BANNER:"proactive_warning_banner",PROFILE_REPORT_BUTTON:"profile_report_button",RELATED_SEARCHES:"related_searches",REPORT_AD_BUTTON:"report_ad_button",REPORT_BUTTON:"report_button",REPORT_LONG_PRESS:"report_long_press",SCHOOL_COMMUNITY_TAGS:"school_community_tags",SEARCH_TYPEAHEAD:"search_typeahead",SNACKBAR:"snackbar",STRUCTURED_REPORT_BUTTON:"structured_report_button",TOMBSTONE:"tombstone",X_OUT:"x_out",UNKNOWN:"unknown",UNOWNED_PAGE_ACTION_MENU_REPORT_PAGE:"unowned_page_action_menu_report_page",SUPPORT_HOME_HI_PRI:"support_home_hi_pri"})}),null);
__d("NFXActionConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_TO_RESTRICTED_LIST:"ADD_TO_RESTRICTED_LIST",APP_SUPPORT_REDIRECT:"APP_SUPPORT_REDIRECT",BAN_USER:"BAN_USER",BLOCK_ACTOR:"BLOCK_ACTOR",BLOCK_ACTOR_WITHOUT_DELAY:"BLOCK_ACTOR_WITHOUT_DELAY",BLOCK_APP:"BLOCK_APP",BLOCK_MESSAGES:"BLOCK_MESSAGES",BLOCK_PAGE:"BLOCK_PAGE",CLOSE_OLD_PROFILE:"CLOSE_OLD_PROFILE",CONTACT_FORM:"CONTACT_FORM",CONTACT_APP_DEVELOPER:"CONTACT_APP_DEVELOPER",COMMENT_MODERATION:"COMMENT_MODERATION",OPEN_COMPOSER:"OPEN_COMPOSER",DELETE:"DELETE",DELETE_AND_BLOCK:"DELETE_AND_BLOCK",DIDNT_RECEIVE_GAME_ITEM:"DIDNT_RECEIVE_GAME_ITEM",EDIT:"EDIT",EDIT_SENSITIVE_CONTENT:"EDIT_SENSITIVE_CONTENT",EDIT_SENSITIVE_CONTENT_WWW:"EDIT_SENSITIVE_CONTENT_WWW",EXPLORE_SEE_LESS:"EXPLORE_SEE_LESS",FOX_UNFOLLOW:"FOX_UNFOLLOW",FRX_PROFILE_REPORT_CONFIRMATION:"FRX_PROFILE_REPORT_CONFIRMATION",HIGHLIGHTS_UNFOLLOW:"HIGHLIGHTS_UNFOLLOW",CHEVRON_FEEDBACK_ENTRYPOINT:"CHEVRON_FEEDBACK_ENTRYPOINT",SAVE:"SAVE",HACKED_NOTIFY:"HACKED_NOTIFY",HELP_CENTER:"HELP_CENTER",HIDE_ADVERTISER:"HIDE_ADVERTISER",HIDE_FROM_TIMELINE:"HIDE_FROM_TIMELINE",HIDE_PHOTO_FROM_TIMELINE:"HIDE_PHOTO_FROM_TIMELINE",HIDE_RESEARCH_POLLS:"HIDE_RESEARCH_POLLS",HIDE_FEED_TOPIC:"HIDE_FEED_TOPIC",IGNORE_EVENT_INVITES:"IGNORE_EVENT_INVITES",IGNORE_MESSAGES:"IGNORE_MESSAGES",LEAVE_GROUP:"LEAVE_GROUP",LIMIT_FRIENDING_PRIVACY:"LIMIT_FRIENDING_PRIVACY",MARK_MESSAGE_THREAD_AS_SPAM:"MARK_MESSAGE_THREAD_AS_SPAM",MARK_AS_FALSE_NEWS:"MARK_AS_FALSE_NEWS",MARK_AS_SCAM:"MARK_AS_SCAM",MARK_AS_SPAM:"MARK_AS_SPAM",MARK_AS_SENSITIVE_CONTENT:"MARK_AS_SENSITIVE_CONTENT",MESSAGE:"MESSAGE",MESSENGER_REDIRECT:"MESSENGER_REDIRECT",MESSENGER_BLOCK_ACTOR:"MESSENGER_BLOCK_ACTOR",MESSENGER_IGNORE_CONVERSATION:"MESSENGER_IGNORE_CONVERSATION",MESSENGER_LEAVE_GROUP:"MESSENGER_LEAVE_GROUP",MESSENGER_MUTE_CONVERSATION:"MESSENGER_MUTE_CONVERSATION",MESSENGER_MUTE_CONVERSATION_WITH_OPTIONS:"MESSENGER_MUTE_CONVERSATION_WITH_OPTIONS",MESSENGER_MUTE_STORY:"MESSENGER_MUTE_STORY",MESSENGER_VIEW_COMMUNITY_STANDARDS:"MESSENGER_VIEW_COMMUNITY_STANDARDS",MESSENGER_REPORT_GROUP_MEMBER:"MESSENGER_REPORT_GROUP_MEMBER",MESSENGER_REPORT_USER:"MESSENGER_REPORT_USER",MESSENGER_REPORT_MESSAGES:"MESSENGER_REPORT_MESSAGES",MESSENGER_REPORT_STORY:"MESSENGER_REPORT_STORY",NFX_AFTER_CONFIRMATION:"NFX_AFTER_CONFIRMATION",IN_APP_PAYMENTS_SUPPORT:"IN_APP_PAYMENTS_SUPPORT",PHONE_FRIEND:"PHONE_FRIEND",RECOVER_PROFILE:"RECOVER_PROFILE",REDIRECT:"REDIRECT",REDIRECT_ADS_PREFERENCES:"REDIRECT_ADS_PREFERENCES",REDIRECT_OBA_UPSELL:"REDIRECT_OBA_UPSELL",REMOVE_ADS_INTEREST:"REMOVE_ADS_INTEREST",REMOVE_EVENT:"REMOVE_EVENT",REPORT_ALREADY_REPORTED_CONTENT:"REPORT_ALREADY_REPORTED_CONTENT",REPEAT_REPORTER_REPORT_CONFIRMATION:"REPEAT_REPORTER_REPORT_CONFIRMATION",REPORT_CONTENT:"REPORT_CONTENT",REPORT_CONTENT_AFTER_CONFIRMATION:"REPORT_CONTENT_AFTER_CONFIRMATION",REPORT_CONTENT_WITH_TYPEAHEAD:"REPORT_CONTENT_WITH_TYPEAHEAD",REPORT_WORK_CONTENT:"REPORT_WORK_CONTENT",REPORT_WORK_CONTENT_WITH_REASON:"REPORT_WORK_CONTENT_WITH_REASON",REPORT_CONTENT_EDUCATION:"REPORT_CONTENT_EDUCATION",REPORT_IP_VIOLATION:"REPORT_IP_VIOLATION",REPORT_IMAGE_PRIVACY_VIOLATION:"REPORT_IMAGE_PRIVACY_VIOLATION",REPORT_AD_IP_VIOLATION:"REPORT_AD_IP_VIOLATION",REPORT_AD_TO_GROUP_ADMIN:"REPORT_AD_TO_GROUP_ADMIN",REPORT_PROFILE_FRAME_IP_VIOLATION:"REPORT_PROFILE_FRAME_IP_VIOLATION",REPORT_STORY_CONTENT_IP_VIOLATION:"REPORT_STORY_CONTENT_IP_VIOLATION",REPORT_TO_GROUP_ADMIN:"REPORT_TO_GROUP_ADMIN",RESOLVE_PROBLEM:"RESOLVE_PROBLEM",RESOLVE_PROBLEM_REDIRECT:"RESOLVE_PROBLEM_REDIRECT",SPAM_CLEANUP_CHECKPOINT:"SPAM_CLEANUP_CHECKPOINT",GEO_SPECIFIC_HARASSMENT_HELPLINE:"GEO_SPECIFIC_HARASSMENT_HELPLINE",TOMBSTONE_SURVEY:"TOMBSTONE_SURVEY",TOMBSTONE_IN_CONTEXT:"TOMBSTONE_IN_CONTEXT",ENABLE_TIMELINE_REVIEW:"ENABLE_TIMELINE_REVIEW",UNFOLLOW_FRIEND_LIST:"UNFOLLOW_FRIEND_LIST",UNFRIEND:"UNFRIEND",UNLIKE:"UNLIKE",UNSUBSCRIBE:"UNSUBSCRIBE",UNSUBSCRIBE_PAGE:"UNSUBSCRIBE_PAGE",UNSUBSCRIBE_DIRECTED_TARGET:"UNSUBSCRIBE_DIRECTED_TARGET",UNSUBSCRIBE_OWNER:"UNSUBSCRIBE_OWNER",UNSUBSCRIBE_RESHARER:"UNSUBSCRIBE_RESHARER",UNSUBSCRIBE_ATTACHED_STORY_ACTOR:"UNSUBSCRIBE_ATTACHED_STORY_ACTOR",UNSUBSCRIBE_ATTACHED_STORY_DIRECTED_TARGET:"UNSUBSCRIBE_ATTACHED_STORY_DIRECTED_TARGET",HIDE_APP:"HIDE_APP",SCAM_CONTACT_FORM:"SCAM_CONTACT_FORM",SHARE_PHOTO_AS_STORY:"SHARE_PHOTO_AS_STORY",SHOW_MESSAGE_PREFILLS:"SHOW_MESSAGE_PREFILLS",SNOOZE_ACTOR:"SNOOZE_ACTOR",SNOOZE_DIRECTED_TARGET:"SNOOZE_DIRECTED_TARGET",SNOOZE_OWNER:"SNOOZE_OWNER",SNOOZE_RESHARER:"SNOOZE_RESHARER",SNOOZE_ATTACHED_STORY_PRIMARY_ACTOR:"SNOOZE_ATTACHED_STORY_PRIMARY_ACTOR",SNOOZE_ATTACHED_STORY_DIRECTED_TARGET:"SNOOZE_ATTACHED_STORY_DIRECTED_TARGET",SNOOZE_DOMAIN:"SNOOZE_DOMAIN",SNOOZE_APP:"SNOOZE_APP",KEYWORD_SNOOZE_ENTRYPOINT:"KEYWORD_SNOOZE_ENTRYPOINT",REPORT_LIVING_ROOM:"REPORT_LIVING_ROOM",UNTAG:"UNTAG",UNTAG_SPONSOR_PAGE:"UNTAG_SPONSOR_PAGE",UNTAG_MEMORIALIZED_USER_FROM_THEIR_TIMELINE:"UNTAG_MEMORIALIZED_USER_FROM_THEIR_TIMELINE",HIDE:"HIDE",DONT_LIKE:"DONT_LIKE",HIDE_AD:"HIDE_AD",HIDE_AD_BREAKS:"HIDE_AD_BREAKS",HIDE_SHARED_AD_BREAK_HOST_VIDEO_STORY:"HIDE_SHARED_AD_BREAK_HOST_VIDEO_STORY",REPORT_AD:"REPORT_AD",PAGES_ACTIVE_ADS_REPORT_AD:"PAGES_ACTIVE_ADS_REPORT_AD",PAGES_ACTIVE_ADS_REPORT_ITEM:"PAGES_ACTIVE_ADS_REPORT_ITEM",POLITICAL_ARCHIVE_REPORT_AD:"POLITICAL_ARCHIVE_REPORT_AD",INTERN_SHOW_ADS_DEBUGGER_INFO:"INTERN_SHOW_ADS_DEBUGGER_INFO",HIDE_AD_WITH_AD_ALREADY_OWNED:"HIDE_AD_WITH_AD_ALREADY_OWNED",HIDE_AD_WITH_REMOVE_ITEM_FROM_AD:"HIDE_AD_WITH_REMOVE_ITEM_FROM_AD",HIDE_TOPIC_MISCLASSIFICATION:"HIDE_TOPIC_MISCLASSIFICATION",AD_ALREADY_OWNED:"AD_ALREADY_OWNED",REMOVE_ITEM_FROM_AD:"REMOVE_ITEM_FROM_AD",HEAD_PUBLISHER_APP_MENTIONS_BAN:"HEAD_PUBLISHER_APP_MENTIONS_BAN",HEAD_PUBLISHER_APP_MENTIONS_HIDE:"HEAD_PUBLISHER_APP_MENTIONS_HIDE",GOV_DIGEST_OPT_OUT:"GOV_DIGEST_OPT_OUT",VOTING_REMINDER_WRONG_LOCATION:"VOTING_REMINDER_WRONG_LOCATION",ELECTIONS_HIDE:"ELECTIONS_HIDE",LESS_FROM_ACTOR:"LESS_FROM_ACTOR",LESS_FROM_DIRECTED_TARGET:"LESS_FROM_DIRECTED_TARGET",LESS_FROM_ATTACHED_STORY_ACTOR:"LESS_FROM_ATTACHED_STORY_ACTOR",LESS_FROM_DOMAIN:"LESS_FROM_DOMAIN",LESS_FROM_APP:"LESS_FROM_APP",LESS_FROM_THROWBACK:"LESS_FROM_THROWBACK",THROWBACK_PREFERENCES:"THROWBACK_PREFERENCES",NEWSFEED_SETTINGS:"NEWSFEED_SETTINGS",BLOCK_SETTINGS:"BLOCK_SETTINGS",WRITE_IN:"WRITE_IN",DIRECT_SUPPORT:"DIRECT_SUPPORT",APP_INVITE_BLOCK_APP:"APP_INVITE_BLOCK_APP",APP_INVITE_BLOCK_USER:"APP_INVITE_BLOCK_USER",PAGES_LIKE_CHECKUP:"PAGES_LIKE_CHECKUP",COMPASSION_SUPPORT:"COMPASSION_SUPPORT",PYMA_XOUT:"PYMA_XOUT",PYMA_OPT_OUT:"PYMA_OPT_OUT",JOB_XOUT:"JOB_XOUT",JOB_UNIT_XOUT:"JOB_UNIT_XOUT",DELETE_FUNDRAISER:"DELETE_FUNDRAISER",HIDE_BREAKING_NEWS_CARD:"HIDE_BREAKING_NEWS_CARD",HIDE_SHOW_PYMF:"HIDE_SHOW_PYMF",SELF_HARM_HELP_CENTER:"SELF_HARM_HELP_CENTER",MEMORIALIZATION_HELP_CENTER:"MEMORIALIZATION_HELP_CENTER",UNDERAGE_HELP_CENTER:"UNDERAGE_HELP_CENTER",HACKED_HELP_CENTER:"HACKED_HELP_CENTER",BULLYING_HELP_CENTER:"BULLYING_HELP_CENTER",STOLEN_GOODS_HELP_CENTER:"STOLEN_GOODS_HELP_CENTER",PRE_REPORT_CAPTCHA_SCREEN_REDIRECT:"PRE_REPORT_CAPTCHA_SCREEN_REDIRECT",PRE_REPORT_CONFIRMATION_SCREEN_REDIRECT:"PRE_REPORT_CONFIRMATION_SCREEN_REDIRECT",REPORT_ACTION_REQUIRING_EVIDENCE:"REPORT_ACTION_REQUIRING_EVIDENCE",SUPPORT_PLATFORM_REDIRECT_MESSAGE_AUTHOR:"SUPPORT_PLATFORM_REDIRECT_MESSAGE_AUTHOR",SUPPORT_PLATFORM_REDIRECT_MESSAGE_FRIEND:"SUPPORT_PLATFORM_REDIRECT_MESSAGE_FRIEND",SUPPORT_PLATFORM_REDIRECT_SEND_CARD:"SUPPORT_PLATFORM_REDIRECT_SEND_CARD",SUPPORT_PLATFORM_REDIRECT_LEARN:"SUPPORT_PLATFORM_REDIRECT_LEARN",WAIST_REDIRECT:"WAIST_REDIRECT",VIEW_ADS_REDIRECT:"VIEW_ADS_REDIRECT",AD_ARCHIVE_REDIRECT:"AD_ARCHIVE_REDIRECT",FRX_PROFILE_REPORT_CONFIRMATION_REDIRECT:"FRX_PROFILE_REPORT_CONFIRMATION_REDIRECT",FRX_POLICY_CHECKLIST_REDIRECT:"FRX_POLICY_CHECKLIST_REDIRECT",FRX_NT_POLICY_CHECKLIST:"FRX_NT_POLICY_CHECKLIST",DISABLE_IG_UNCONNECTED_STORIES:"DISABLE_IG_UNCONNECTED_STORIES",FRX_NT_REPORT_GROUP_CHAT_MEMBER_REDIRECT:"FRX_NT_REPORT_GROUP_CHAT_MEMBER_REDIRECT",FRX_NT_REPORT_GROUP_CHAT_MEMBER:"FRX_NT_REPORT_GROUP_CHAT_MEMBER",SIMPLE_ACTION_WHICH_REDIRECTS:"SIMPLE_ACTION_WHICH_REDIRECTS",MARKETPLACE_MESSENGER_REPORT_CONVERSATION:"MARKETPLACE_MESSENGER_REPORT_CONVERSATION",CREATE_STRUCTURED_REPORT:"CREATE_STRUCTURED_REPORT",OPEN_SUPPORT_INBOX_FOR_STRUCTURED_REPORT:"OPEN_SUPPORT_INBOX_FOR_STRUCTURED_REPORT",FRX_POLICY_EDUCATION_REDIRECT:"FRX_POLICY_EDUCATION_REDIRECT",FRX_NT_POLICY_EDUCATION:"FRX_NT_POLICY_EDUCATION",FRX_PROCESS_EDUCATION_REDIRECT:"FRX_PROCESS_EDUCATION_REDIRECT",FRX_NT_PROCESS_EDUCATION:"FRX_NT_PROCESS_EDUCATION",MONETIZATION_CONTENT_GUIDELINES_HELP_CENTER_REDIRECT:"MONETIZATION_CONTENT_GUIDELINES_HELP_CENTER_REDIRECT",NCII_HELP_CENTER_REDIRECT:"NCII_HELP_CENTER_REDIRECT",PRIVACY_SHORTCUTS_REDIRECT:"PRIVACY_SHORTCUTS_REDIRECT",NEWS_FEED_PREFERENCES:"NEWS_FEED_PREFERENCES"})}),null);
__d("NFXContextType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENT_MESSAGE_THREAD:1,ENT_REPORTABLE:2,ENT_SERP:3,ENT_STORY:4,PAGE_ACTIVE_ADS:5,POLITICAL_ARCHIVE_ADS:6,SUPPORT_INBOX:7,TESTING:8,REPORTABLE_AD:9,TOP_LEVEL:10})}),null);
__d("NFXContextFactory",["FBLogger","FRXEntryPoint","NFXActionConst","NFXContextType","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var c=function(a,b){if(b!==null)return b};return JSON.stringify({reportable_ent_token:a.reportable_ent_token,story_location:a.story_location,entry_point:a.entry_point,type:a.type,session_id:b("uuid")(),initial_action_name:a.initial_action_name,reportable_id:a.reportable_id,page_id:a.page_id,responsible_id:a.responsible_id},c)}function a(a){var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?b("FRXEntryPoint").UNKNOWN:e;a=a.responsible_id;return g({type:b("NFXContextType").ENT_MESSAGE_THREAD,story_location:d,entry_point:e,reportable_ent_token:c,responsible_id:a})}function c(a){var c=a.reportable_id,d=a.page_id;a=a.storyLocation;return g({type:b("NFXContextType").POLITICAL_ARCHIVE_ADS,story_location:a,entry_point:b("FRXEntryPoint").UNKNOWN,initial_action_name:b("NFXActionConst").POLITICAL_ARCHIVE_REPORT_AD,reportable_id:c,page_id:d})}function d(a){var c=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?b("FRXEntryPoint").UNKNOWN:e;a=a.initial_action_name;c===null&&b("FBLogger")("frx").warn("null or undefined reportable_ent_token in forEntReportable, location=%s entry_point=%s",d,e);return g({type:b("NFXContextType").ENT_REPORTABLE,story_location:d,entry_point:e,reportable_ent_token:c,initial_action_name:a})}e.exports={withEntReportable:d,withEntMessageThread:a,withPoliticalArchiveAds:c}}),null);
__d("NFXStoryLocation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REJECT_FRIEND_REQUEST:"reject_friend_request",FEED:"feed",HOVERCARD:"hovercard",VIDEO_LIST_CHANNEL:"video_list_channel",VIDEO_PLAYLIST_CHANNEL:"video_playlist_channel",WATCHED_VIDEOS_CHANNEL:"watched_videos_channel",EXPLORE_FEED:"explore_feed",PROFILE_SELF:"profile_self",PROFILE_SOMEONE_ELSE:"profile_someone_else",FNRP_AUTOMATED_SCRIPT:"fnrp_automated_script",PAGE:"page",PAGE_INBOX:"page_inbox",PAGE_BLUE_VERIFICATION_BADGE:"page_blue_verification_badge",PAGE_GRAY_VERIFICATION_BADGE:"page_gray_verification_badge",PAGE_SHOP:"page_shop",PERMALINK:"permalink",PHOTO_VIEWER:"photo_viewer",PAGE_REVIEW:"page_review",POPULAR_AT:"popular_at",CURATED_SECTION:"curated_section",GROUP:"group",SUGGESTED_GROUP:"suggested_group",EVENT:"event",SEARCH:"search",SERP:"serp",UNKNOWN:"unknown",PROFILE_REPORTING_FLOW:"profile_reporting_flow",HEAD_PUBLISHER_APP_MENTIONS_FEED:"head_publisher_app_mentions_feed",MESSENGER:"messenger",MESSENGER_MONTAGE_VIEWER:"messenger_montage_viewer",MESSENGER_THREAD:"messenger_thread",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",CRISIS_FEED:"crisis_feed",CIVIC_PROPOSAL:"civic_proposal",SETTINGS:"settings",LIVE_MAP:"live_map",LIVING_ROOM:"living_room",JOB_APPLICATION:"job_application",JOB_BROWSER:"job_browser",JOB_DETAIL_VIEW:"job_detail_view",JOB_RECOMMENDATION_UNIT:"job_recommendation_unit",CONTENT_OVERLAY:"content_overlay",CHEVRON:"chevron",CHEVRON_GLYPH:"glyph",VIDEO_INLINE_PIVOT:"video_inline_pivot",OBJECTIONABLE_CONTENT_FILTER:"objectionable_content_filter",VIEW_PAGE_ADS:"view_page_ads",POLITICAL_ARCHIVE_ADS:"political_archive_ads",AD_LIBRARY_V2_POLITICAL_ADS:"ad_library_v2_political_ads",FEEDBACK_COMMENT:"feedback_comment",FRIEND_LIST:"friend_list",IG_FEED:"ig_feed",IG_DISCOVER:"ig_discover",IG_POST:"ig_post",IG_PROFILE:"ig_profile",IG_STORY:"ig_story",IG_COMMENTS:"ig_comments",IG_DIRECT_MESSAGES:"ig_direct_messages",IG_LIVE:"ig_live",IG_PRODUCT:"ig_product",MESSENGER_THREAD_ACTION_PANEL:"messenger_thread_action_panel",MESSENGER_CONTACT_DETAILS:"messenger_contact_details",MESSENGER_DIRECT_THREAD_DETAILS:"messenger_direct_thread_details",MESSENGER_GROUP_THREAD_DETAILS:"messenger_group_thread_details",MESSENGER_DIRECT_THREAD_MESSAGE_REQUEST:"messenger_direct_thread_message_request",MESSENGER_GROUP_THREAD_MESSAGE_REQUEST:"messenger_group_thread_message_request",MESSENGER_DIRECT_THREAD_FILTERED_REQUEST:"messenger_direct_thread_filtered_request",MESSENGER_GROUP_THREAD_FILTERED_REQUEST:"messenger_group_thread_filtered_request",MESSENGER_P2B_DIRECT_THREAD_DETAILS:"messenger_p2b_direct_thread_details",TICKER:"ticker",FULLSCREEN_VIDEO_PLAYER:"fullscreen_video_player",ACTIVITY_LOG_FACE_ALERTS:"face_alerts",HELP_COMMUNITY:"help_community",SUPPORT_INBOX:"support_inbox",APP_INVITES_FEED:"app_invites_feed",CHAINING_FEED:"chaining_feed",SOCIAL_REPORTING_REDIRECT:"social_reporting_redirect",WWW_CHAT_HEAD:"www_chat_head",THROWBACK:"throwback",POST_TO_PAGE:"post_to_page",ACTIVITY_LOG:"activity_log",VIDEO_CHANNEL:"video_channel",VIDEO_CHANNELS:"video_channels",VIDEO_HOME:"video_home",REVIEWS_FEED:"reviews_feed",BACKSTAGE:"backstage",MESSENGER_ENCRYPTED_THREAD:"messenger_encrypted_thread",LOCAL_NEWS:"local_news",PLANNED_VIEWING_CURATED:"planned_viewing_curated",UI_EXPLORER_EXAMPLE:"ui_explorer_example",SERP_CONSOLE:"serp_console",LOL_FEED:"lol_feed",MARKETPLACE_ADS:"marketplace_ads",MARKETPLACE_BSG_PROFILE:"marketplace_bsg_profile",MARKETPLACE_BUY_SELL_GROUP_HOME:"marketplace_buy_sell_group_home",MARKETPLACE_PDP:"marketplace_pdp",MARKETPLACE_PDP_SELLER:"marketplace_pdp_seller",MARKETPLACE_PDP_QUESTION_AND_ANSWER:"marketplace_pdp_question_and_answer",MARKETPLACE_PROFILE:"marketplace_profile",MARKETPLACE_PROFILE_BUYER:"marketplace_profile_buyer",MARKETPLACE_PROFILE_SELLER:"marketplace_profile_seller",MARKETPLACE_RATING_CONFIRMATION:"marketplace_rating_confirmation",MARKETPLACE_RATING_CONFIRMATION_BUYER:"marketplace_rating_confirmation_buyer",MARKETPLACE_RATING_CONFIRMATION_SELLER:"marketplace_rating_confirmation_seller",MARKETPLACE_RATING_FLOW:"marketplace_rating_flow",MARKETPLACE_RATING_FLOW_BUYER:"marketplace_rating_flow_buyer",MARKETPLACE_RATING_FLOW_SELLER:"marketplace_rating_flow_seller",MARKETPLACE_RATE_BUYER:"marketplace_rate_buyer",MARKETPLACE_RATE_SELLER:"marketplace_rate_seller",MARKETPLACE_B2C_REVIEW:"marketplace_b2c_review",MARKETPLACE_THREAD:"marketplace_thread",MARKETPLACE_THREAD_BUYER:"marketplace_thread_buyer",MARKETPLACE_THREAD_SELLER:"marketplace_thread_seller",MARKETPLACE_MESSENGER_REPORT_BUYER:"marketplace_messenger_report_buyer",MARKETPLACE_MESSENGER_REPORT_SELLER:"marketplace_messenger_report_seller",MARKETPLACE_SHOP_PDP:"marketplace_shop_pdp",MARKETPLACE_SHOP_PDP_SELLER:"marketplace_shop_pdp_seller",NON_INTERACTIVE_ITEM_PDP:"non_interactive_item_pdp",MENTORSHIP_APPLICATION_TAB:"mentorship_application_tab",MENTORSHIP_ADMIN_ASSISTED_GALLERY:"mentorship_admin_assisted_gallery",MENTORSHIP_PEER_TO_PEER_GALLERY:"mentorship_peer_to_peer_gallery",POLITICAL_ISSUE_MODULE:"political_issue_module",ELECTION_HUB:"election_hub",DIRECT_MESSAGING:"direct_messaging",CAMERA_MEDIA_EFFECT:"camera_media_effect",PROFILE_DEPRECATED:"profile",TIMELINE_DEPRECATED:"timeline",BREAKUP_FLOW:"breakup_flow",ASYNC_TASK_DO_NOT_USE:"async",INSTANT_ARTICLES:"instant_articles",INSTANT_ARTICLE_WEBVIEW_AD:"instant_article_webview_ad",INSTANT_ARTICLE_NATIVE_AD:"instant_article_native_ad",IN_APP_BROWSER:"in_app_browser",INSTREAM_VIDEO:"instream_video",TOPIC_PAGE:"topic_page",GAMES_FEED:"games_feed",TAG_QUARANTINE:"tag_qurantine",STONEHENGE_CONSUMPTION:"stonehenge_consumption",ARTICLE_CONTEXT:"article_context",INTEGRITY_CONTEXT:"integrity_context",PROFILE_FRAME_DISCOVERY:"profile_frame_discovery",QUICK_PROMOTION:"quick_promotion",WOODHENGE_EXCLUSIVE_FEED:"woodhenge_exclusive_feed",AUDIENCE_INSIGHTS:"audience_insights",PROJECT_NEO:"project_neo",COMPASSION_RESOURCES:"compassion_resources",FOX_FEED:"fox_feed",FOX_CHEVRON:"fox_chevron",HIGHLIGHTS_UNIT:"highlights_unit",PAGE_SURFACE_RECOMMENDATIONS:"page_surface_recommendations",SOCIAL_LEARNING_GROUP_UNITS_LIST:"social_learning_group_units_list",PREVIEW_DIALOG:"preview_dialog",STORY:"story",CREATOR_APP_INSPIRATION_FEED:"creator_app_inspiration_feed",SCHOOL_COMMUNITY:"school_community",AGORA:"agora",AGORA_EVENTS:"agora_events",PINNED_CONVERSATION:"pinned_conversation",GEMSTONE_PROFILE:"gemstone_profile",VR_PERSONA_PROFILE:"vr_persona_profile",KOTOTORO_FEED:"kototoro_feed",KOTOTORO_COMMENT:"kototoro_comment",BALLOT:"ballot",CANDIDATE_VIDEOS:"candidate_videos",INSTANT_GAMES_SPOTLIGHT:"instant_games_spotlight",INSTANT_GAMES_HUB:"instant_games_hub",INSTANT_GAMES_MESSENGER:"instant_games_messenger",APP_CENTER:"app_center",APP_PERMISSIONS_DIALOG:"app_permissions_dialog",GAME_DETAIL:"game_detail",GAME_PAGE:"game_page",GAMES_REQUESTS:"games_requests",GROUP_INSTALLED_APPS:"group_installed_apps",IN_GAME:"in_game",MOBILE_APP_PERMISSIONS:"mobile_app_permissions",MOBILE_REMOVED_APPS:"mobile_removed_apps",PAGE_LOGS:"page_logs",PERMISSIONS_LEGALESE:"permissions_legalese",REMOVED_APP_DIALOG:"removed_app_dialog",DEVELOPER_COMMUNITY_POST:"developer_community_post",PYML:"pyml",PORTAL_VIDEO:"portal_video",SAVE_COLLECTION_VIEW:"save_collection_view",SAVE_ITEM_VIEW:"save_item_view",APP_BOOKMARKS:"app_bookmarks",BSG_FOR_SALE_LIVE_VIDEO_BROADCAST_IN_PROGRESS:"bsg_for_sale_live_video_broadcast_in_progress",BSG_FOR_SALE_LIVE_VIDEO_BROADCAST_COMPLETE:"bsg_for_sale_live_video_broadcast_complete",BSG_FOR_SALE_LIVE_VIDEO_BROADCAST_IN_PROGRESS_FROM_POST:"bsg_for_sale_live_video_broadcast_in_progress_from_post",BSG_FOR_SALE_LIVE_VIDEO_BROADCAST_COMPLETE_FROM_POST:"bsg_for_sale_live_video_broadcast_complete_from_post"})}),null);
__d("XChatRemoveParticipantAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/remove_participants/",{elem_id:{type:"String"},uid:{type:"Int"},tid:{type:"String"}})}),null);
__d("XGroupsJoinChatController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/join_chat/",{link_hash:{type:"String"}})}),null);
__d("XMessagingBlockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/block_messages/",{})}),null);
__d("XMessagingGroupJoinThroughHashController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_hash/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinThroughPrivateLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/join_through_invite/",{link_hash:{type:"String"}})}),null);
__d("XMessagingGroupJoinableAcceptController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_accept/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupJoinableInviteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_invite/",{thread_fbid:{type:"String"},user_ids:{type:"IntSet"}})}),null);
__d("XMessagingGroupJoinableRejectController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_reject/",{thread_fbid:{type:"String"},user_id:{type:"Int"}})}),null);
__d("XMessagingGroupSetApprovalController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_approval_mode/",{set_mode:{type:"Enum",enumType:0},thread_fbid:{type:"String"}})}),null);
__d("XMessagingJoinableLinkController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/joinable_link_action/",{action:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveAdminsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_admins/",{thread_fbid:{type:"String"},admin_ids:{type:"FBIDSet"},add:{type:"Bool",defaultValue:!1}})}),null);
__d("XMessagingSaveGroupThreadDescriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_group_thread_description/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveNicknameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_nickname/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadColorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_color/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadEmojiController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_emoji/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSetThreadNameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_thread_name/",{})}),null);
__d("XMessagingUnblockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/unblock_messages/",{})}),null);
__d("XNFXIgnoreMessagesActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/ignore_messages/",{thread_fbid:{type:"Int",required:!0},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("XNFXMessengerBlockActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/block_messages/",{thread_fbid:{type:"Int",required:!0},responsible_id:{type:"Int"},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},entry_point:{type:"Enum",required:!0,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("MercuryThreadActions",["codedError","cssVar","fbt","invariant","AsyncDialog","AsyncRequest","AsyncResponse","Bootloader","CurrentUser","EmojiLikeConstants","IgnoreMessagesTypedLogger","JSResource","MercuryActionType","MercuryAPIArgsSource","MercuryDispatcher","MercuryIDs","MercuryLogMessageType","MercuryMessengerBlockingUtils","MercuryPayloadSource","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonMixin","MercurySourceType","MercuryThreadlistConstants","MessengerConfig","MessengerGroupLinkActionType","MessengerParticipants.bs","MessengerState.bs","MercuryThreadIDMap","MercuryViewer","MercuryMessageActions","MercuryMessageObject","MessagingTag","MessengerEmojiTransitionMapping.bs","MessengerGroupsSyncStatus","MessengerGroupsSyncStatusChangeMutationWebGraphQLMutation","MessengerThreadThemeUpdateWebGraphQLMutation","NFXContextFactory","NFXStoryLocation","PageCommItemStatus","React","ReloadPage","URI","WebGraphQL","XChatRemoveParticipantAsyncController","XGroupsJoinChatController","XMessagingGroupJoinableAcceptController","XMessagingGroupJoinableInviteController","XMessagingGroupJoinableRejectController","XMessagingGroupJoinThroughHashController","XMessagingGroupJoinThroughPrivateLinkController","XMessagingGroupSetApprovalController","XMessagingJoinableLinkController","XMessagingSaveAdminsController","XMessagingSaveGroupThreadDescriptionController","XMessagingSaveNicknameController","XMessagingSaveThreadColorController","XMessagingSaveThreadEmojiController","XMessagingSetThreadNameController","XNFXMessengerBlockActionController","XMessagingBlockMessagesController","XMessagingUnblockMessagesController","XNFXIgnoreMessagesActionController","ex","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("MercuryThreadIDMap").get(),l=b("MercuryMessageActions").get(),m=b("MercuryMessageObject").get(),n=b("lazyLoadComponent")(b("JSResource")("MessengerSimpleDialogReact").__setRef("MercuryThreadActions"));a=function(){__p&&__p();function a(a){this.$1=a,this.__serverRequests=b("MercuryServerRequests").getForFBID(this.$1),this.__dispatcher=b("MercuryDispatcher").getForFBID(this.$1),this.__payloadPreprocessor=b("MercuryServerPayloadPreprocessor").getForFBID(this.$1)}var c=a.prototype;c.markRead=function(a,b){this.batchMarkRead([a],b)};c.batchMarkRead=function(a,b){this.__dispatcher.handleUpdate(this.$2(a,!0,b))};c.markUnread=function(a,b){this.batchMarkUnread([a],b)};c.batchMarkUnread=function(a,b){this.__dispatcher.handleUpdate(this.$2(a,!1,b))};c.markSeen=function(a,c){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],b("MercuryActionType").MARK_THREAD_SEEN,b("MercuryPayloadSource").CLIENT_MARK_THREAD_SEEN,{persistent:c}))};c.archive=function(a,b){this.batchArchive([a],b)};c.batchArchive=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadArchivedStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$3(a,!0))};c.unarchive=function(a,b){this.batchUnarchive([a],b)};c.batchUnarchive=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadArchivedStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$3(a,!1))};c.pin=function(a,c,d){__p&&__p();var e=b("MessengerState.bs").getPinnedThreadlist(b("CurrentUser").getID()),f=b("CurrentUser").isWorkUser(),h=f?b("MercuryThreadlistConstants").MAX_PINNED_THREADS:b("MessengerConfig").MPT;e=e.length>=h;if(e){e=g._(1545078,function(a){return a._("Impossible d\u2019\u00e9pingler la discussion")},function(a,b){return a._("Vous pouvez \u00e9pingler jusqu\u2019\u00e0 {max_threads} discussions. Pour \u00e9pingler cette discussion, d\u00e9tachez-en une autre et r\u00e9essayez.",[a._param("max_threads",b.max_threads)])},{max_threads:h});var j=f?i._("Vous ne pouvez plus \u00e9pingler de discussions"):e.summary,k=f?i._("Vous ne pouvez pas \u00e9pingler plus de 15 discussions sur Workplace. Pour \u00e9pingler celle-ci, essayez d\u2019en d\u00e9tacher une autre."):e.description;b("Bootloader").loadModules(["MessengerDialogs.bs"],function(a){a.showDialog(function(){return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(n,{title:j,body:k}))})},"MercuryThreadActions")}else this.batchPin([a],d),this.$4(a,!0,c)};c.batchPin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$5(a,!0))};c.unpin=function(a,b,c){this.batchUnpin([a],c),this.$4(a,!1,b)};c.batchUnpin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$5(a,!1))};c.markPageFollowUp=function(a,b){this.batchMarkPageFollowUp([a],b)};c.batchMarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$6(a,!0))};c.unmarkPageFollowUp=function(a,b){this.batchUnmarkPageFollowUp([a],b)};c.batchUnmarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$6(a,!1))};c.markSpam=function(a,b){this.batchMarkSpam([a],b)};c.batchMarkSpam=function(a,c){var d=this;a.forEach(function(a){d.__serverRequests.markThreadSpam(a,c)});this.__dispatcher.handleUpdate(this.$7(a,b("MessagingTag").SPAM))};c.unmarkSpam=function(a,b){this.batchUnmarkSpam([a],b)};c.batchUnmarkSpam=function(a,c){var d=this;a.forEach(function(a){d.__serverRequests.unmarkThreadSpam(a,c)});this.__dispatcher.handleUpdate(this.$7(a,b("MessagingTag").INBOX))};c.changeFolder=function(a,b){this.batchChangeFolder([a],b)};c.batchChangeFolder=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadFolder(a,b)});this.__dispatcher.handleUpdate(this.$7(a,b))};c["delete"]=function(a,b){this.batchDelete([a],b)};c.batchDelete=function(a,c){this.__serverRequests.deleteThreads(a,c),this.__dispatcher.handleUpdate(this.__constructClientPayload(a,b("MercuryActionType").DELETE_THREAD,b("MercuryPayloadSource").CLIENT_DELETE_THREAD))};c.unmute=function(a){this.updateMuteSetting(a,0)};c.updateMuteSetting=function(a,c){this.__serverRequests.changeMutingOnThread(a,c),this.__dispatcher.handleUpdate(this.__constructClientPayload([a],b("MercuryActionType").CHANGE_MUTE_SETTINGS,b("MercuryPayloadSource").CLIENT_CHANGE_MUTE_SETTINGS,{mute_until:c}))};c.updateMentionsMuteSetting=function(a,c){c=c?1:0;this.__serverRequests.changeMentionsMutingOnThread(a,c);this.__dispatcher.handleUpdate(this.__constructClientPayload([a],b("MercuryActionType").CHANGE_MUTE_SETTINGS,b("MercuryPayloadSource").CLIENT_CHANGE_MUTE_SETTINGS,{mentions_mute_mode:c}))};c.updateReactionsMuteSetting=function(a,c){c=c?1:0;this.__serverRequests.changeReactionsMutingOnThread(a,c);this.__dispatcher.handleUpdate(this.__constructClientPayload([a],b("MercuryActionType").CHANGE_MUTE_SETTINGS,b("MercuryPayloadSource").CLIENT_CHANGE_MUTE_SETTINGS,{reactions_mute_mode:c}))};c.blockMessagesForGroupThread=function(a,c,d,e){c=b("MercuryIDs").getUserIDFromParticipantID(c);a=b("MercuryIDs").getThreadFBIDFromThreadID(a);d=b("XNFXMessengerBlockActionController").getURIBuilder().setEnum("entry_point",d).setEnum("location","www_chat_head").setInt("thread_fbid",a).setInt("responsible_id",c).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(d).setRelativeTo(e),function(a){a.subscribe("confirm",function(){a.hide()})})};c.blockMessages=function(a,c,d){var e=this,f="",g=b("MercuryIDs").getUserIDFromThreadID(a);g!==null||j(0,400);var h=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(g));f=h&&h.short_name;h=b("XNFXMessengerBlockActionController").getURIBuilder().setInt("thread_fbid",g).setEnum("entry_point",c).setEnum("location","www_chat_head").getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(h),function(c){c.subscribe("confirm",function(){c.hide(),d&&d(f),e.changeFolder(a,b("MessagingTag").OTHER)})})};c.unblockMessages=function(a,c){var d=this;c==null&&(c=b("MercuryIDs").getUserIDFromThreadID(a));if(c===null)throw new Error(b("ex")("Expected user ID to unblock messages for, got null"));c=b("NFXContextFactory").withEntReportable({reportable_ent_token:c,story_location:b("NFXStoryLocation").MESSENGER,initial_action_name:b("MercuryMessengerBlockingUtils").block_messages});new(b("AsyncRequest"))(new(b("URI"))("/ajax/nfx/messenger_undo_block").addQueryData({context:c})).setHandler(function(){return d.changeFolder(a,b("MessagingTag").INBOX)}).send()};c.ignoreMessages=function(a,c){c=b("XNFXIgnoreMessagesActionController").getURIBuilder().setInt("thread_fbid",a).setEnum("location","www_chat_head").getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(c))};c.blockOnMessengerDotCom=function(a){var c=b("XMessagingBlockMessagesController").getURIBuilder().getURI();new(b("IgnoreMessagesTypedLogger"))().setEvent("block_confirmed").setThreadID(b("MercuryIDs").getThreadFBIDFromThreadID(a)).setPlatform("messengerdotcom").log();new(b("AsyncRequest"))(c).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(a)}).send()};c.blockIgnoreOnMessengerDotCom=function(a,c,d){var e=this;b("Bootloader").loadModules(["MessengerActions"],function(f){a&&f.selectThread(null),e.changeFolder(c,b("MessagingTag").OTHER),e.blockOnMessengerDotCom(c),d&&d()},"MercuryThreadActions")};c.unblockOnMessengerDotCom=function(a){var c=this,d=b("XMessagingUnblockMessagesController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData({fbid:b("MercuryIDs").getUserIDFromThreadID(a)}).setHandler(function(){return c.changeFolder(a,b("MessagingTag").INBOX)}).send()};c.leaveGroup=function(a){l.send(m.constructLogMessageObject(b("MercurySourceType").TITAN_WEB,a,b("MercuryLogMessageType").UNSUBSCRIBE,{removed_participants:[b("MercuryViewer").getID()]}),null,b("MercuryAPIArgsSource").WEBMESSENGER)};c.deleteSyncedGroup=function(a){if(!a)return;if(a.groups_sync_status!=b("MessengerGroupsSyncStatus").OPT_IN)return;k.getServerIDFromClientID(a.thread_id,function(a){a={client_mutation_id:"0",actor_id:b("CurrentUser").getID(),thread_fbid:a,groups_sync_status:b("MessengerGroupsSyncStatus").OPT_OUT};b("WebGraphQL").exec(new(b("MessengerGroupsSyncStatusChangeMutationWebGraphQLMutation"))({data:a}))})};c.removeFromGroup=function(a,c){var d=b("XChatRemoveParticipantAsyncController").getURIBuilder().getURI();a={tid:a,uid:c};new(b("AsyncRequest"))(d).setMethod("POST").setData(a).send()};c.changeThreadTheme=function(a,c,d){k.getServerIDFromClientID(a,function(a){b("WebGraphQL").exec(new(b("MessengerThreadThemeUpdateWebGraphQLMutation"))({data:{client_mutation_id:0,actor_id:b("CurrentUser").getID(),thread_id:a,theme_id:c,source:d}}))})};c.changeThreadColor=function(a,c,d){k.getServerIDFromClientID(a,function(a){var e={};c!="#0084ff"&&(e.color_choice=c);e.thread_or_other_fbid=a;a=b("XMessagingSaveThreadColorController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(a).setMethod("POST").setData(e).send()})};c.changeThreadEmoji=function(a,c,d){k.getServerIDFromClientID(a,function(a){var e={},f=String.fromCodePoint.apply(String,c);b("MessengerEmojiTransitionMapping.bs").hasGender(c)&&(f=String.fromCodePoint.apply(String,b("MessengerEmojiTransitionMapping.bs").removeAllModifiers(c)));f!==String.fromCodePoint(b("EmojiLikeConstants").FB_THUMBS_UP_EMOJI)&&f!==String.fromCodePoint(b("EmojiLikeConstants").THUMBS_UP_EMOJI_CODES)&&(e.emoji_choice=f);e.thread_or_other_fbid=a;f=b("XMessagingSaveThreadEmojiController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(e).send()})};c.changeThreadNicknames=function(a,c,d,e){k.getServerIDFromClientID(a,function(a){a={thread_or_other_fbid:a,participant_id:c,nickname:d};var f=b("XMessagingSaveNicknameController").getURIBuilder().setEnum("source",e).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};c.changeGroupThreadDescription=function(a,c,d){k.getServerIDFromClientID(a,function(a){a={thread_fbid:a,description:c};var e=b("XMessagingSaveGroupThreadDescriptionController").getURIBuilder().setEnum("source",d).getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).send()})};c.changeGroupThreadName=function(a,c){k.getServerIDFromClientID(a,function(a){a={thread_id:a,thread_name:c};var d=b("XMessagingSetThreadNameController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData(a).send()})};c.setApprovalMode=function(a,c){var d=b("XMessagingGroupSetApprovalController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData({set_mode:a,thread_fbid:c.thread_fbid}).send()};c.changeGroupAdmins=function(a,c,d){a={thread_fbid:a,admin_ids:c,add:d};c=b("XMessagingSaveAdminsController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.joinThroughHash=function(a,c,d){a={link_hash:a};var e=b("XMessagingGroupJoinThroughHashController").getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData(a).setHandler(function(){return c()}).setErrorHandler(function(a){d()||b("AsyncResponse").defaultErrorHandler(a)}).setTransportErrorHandler(function(){return d()}).send()};c.joinThroughPrivateLink=function(a){a={link_hash:a};var c=b("XMessagingGroupJoinThroughPrivateLinkController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.chatJoinThroughHash=function(a,c){a={link_hash:a};var d=b("XGroupsJoinChatController").getURIBuilder().getURI(),e=function(){return b("ReloadPage").now()};new(b("AsyncRequest"))(d).setMethod("POST").setData(a).setHandler(c&&typeof c==="function"?c:e).send()};c.createJoinableLink=function(a,c){if(b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),a))return;k.getServerIDFromClientID(a,function(a){a={thread_fbid:a};var d=b("XMessagingJoinableLinkController").getURIBuilder().setEnum("action",b("MessengerGroupLinkActionType").CREATE_LINK).getURI();new(b("AsyncRequest"))(d).setMethod("POST").setData(a).setHandler(function(a){a=a.getPayload();a&&c(a)}).send()})};c.revokeAndRegenerateJoinableLink=function(a,c){var d=this;if(b("MessengerState.bs").isEmptyLocalThread(b("CurrentUser").getID(),a))return;k.getServerIDFromClientID(a,function(e){e={thread_fbid:e};var f=b("XMessagingJoinableLinkController").getURIBuilder().setEnum("action",b("MessengerGroupLinkActionType").REVOKE_LINK).getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData(e).setHandler(function(b){return d.createJoinableLink(a,c)}).send()})};c.inviteToJoinableGroup=function(a,c){a={thread_fbid:a,user_ids:c};c=b("XMessagingGroupJoinableInviteController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.acceptToJoinableGroup=function(a,c){a={thread_fbid:a,user_id:c};c=b("XMessagingGroupJoinableAcceptController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.rejectToJoinableGroup=function(a,c){a={thread_fbid:a,user_id:c};c=b("XMessagingGroupJoinableRejectController").getURIBuilder().getURI();new(b("AsyncRequest"))(c).setMethod("POST").setData(a).send()};c.addParticipants=function(a,c){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],b("MercuryActionType").ADD_PARTICIPANTS,b("MercuryPayloadSource").CLIENT_ADD_PARTICIPANTS,{participants:c}))};c.movePendingToInbox=function(a){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],b("MercuryActionType").MOVE_PENDING_TO_INBOX,b("MercuryPayloadSource").CLIENT_MOVE_PENDING_TO_INBOX))};c.updateSnippet=function(a,c){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],b("MercuryActionType").UPDATE_SNIPPET,b("MercuryPayloadSource").CLIENT_UPDATE_SNIPPET,{deleted_ids:c}))};c.updateCommStatus=function(a,c){this.__dispatcher.handleUpdate(this.$8(a,c));c=c===b("PageCommItemStatus").DONE;this.__dispatcher.handleUpdate(this.$3(a,c))};c.updateCommItemOwner=function(a,b,c,d){this.__dispatcher.handleUpdate(this.$9(a,b,c,d))};c.$2=function(a,c,d){return this.__constructClientPayload(a,b("MercuryActionType").CHANGE_READ_STATUS,b("MercuryPayloadSource").CLIENT_CHANGE_READ_STATUS,{mark_as_read:c,source:d,timestamp:0})};c.$9=function(a,c,d,e){return this.__constructClientPayload(a,b("MercuryActionType").UPDATE_COMM_ITEM_OWNER,b("MercuryPayloadSource").UPDATE_COMM_ITEM_OWNER,{id:d,name:c,profile_pic_uri:e})};c.$3=function(a,c){return this.__constructClientPayload(a,b("MercuryActionType").CHANGE_ARCHIVED_STATUS,b("MercuryPayloadSource").CLIENT_CHANGE_ARCHIVED_STATUS,{archived:c})};c.$5=function(a,c){return this.__constructClientPayload(a,b("MercuryActionType").CHANGE_PINNED_STATUS,b("MercuryPayloadSource").CLIENT_CHANGE_PINNED_STATUS,{is_pinned:c,thread_pin_timestamp:Math.floor(Date.now()/1e3)})};c.$6=function(a,c){return this.__constructClientPayload(a,b("MercuryActionType").CHANGE_PAGE_FOLLOW_UP_STATUS,b("MercuryPayloadSource").CLIENT_CHANGE_PAGE_FOLLOW_UP_STATUS,{is_page_follow_up:c})};c.$8=function(a,c){return this.__constructClientPayload(a,b("MercuryActionType").UPDATE_COMM_STATUS,b("MercuryPayloadSource").CLIENT_UPDATE_COMM_STATUS,{comm_status:c})};c.$7=function(a,c){return this.__constructClientPayload(a,b("MercuryActionType").CHANGE_FOLDER,b("MercuryPayloadSource").CLIENT_CHANGE_FOLDER,{new_folder:c})};c.__constructClientPayload=function(a,b,c,d){return{actions:a.map(function(a){return babelHelpers["extends"]({action_type:b,thread_id:a},d)}),from_client:!0,payload_source:c}};c.$4=function(a,c,d){b("Bootloader").loadModules(["ChatPinnedThreadsTypedLogger","ChatPinnedThreadsEvent"],function(e,f){new e().setEvent(c?f.PIN_THREAD:f.UNPIN_THREAD).setIsWorkplace(b("CurrentUser").isWorkUser()).setThreadID(a).setEntryPoint(d).log()},"MercuryThreadActions")};return a}();Object.assign(a,b("MercurySingletonMixin"));e.exports=a}),null);
__d("MessageReactionMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1491398900900362"};b.getQueryID=function(){return"254517288326467"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("MessengerReactionsContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerHideOnScrollOut"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerReactionsContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_4owc"}}));e.exports=a}),null);
__d("AutoFocusableLink.react",["Link.react","ReactDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.autoFocus&&b("ReactDOM").findDOMNode(this).focus()};return c}(b("Link.react"));e.exports=a}),null);
__d("MessengerReactionsFlyoutButtonBootloader.react",["AutoFocusableLink.react","JSResource","React","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";var g=b("lazyLoadComponent")(b("JSResource")("MessengerReactionsFlyoutButton.react").__setRef("MessengerReactionsFlyoutButtonBootloader.react"));a=function(a){var c=b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("AutoFocusableLink.react"),{label:"flyout button",className:a.iconClassName})},b("React").createElement(g,babelHelpers["extends"]({},a,{className:a.iconClassName})));return b("React").createElement("li",{className:a.interactionClassName}," ",c," ")};e.exports=a}),null);
__d("MessengerReactionsUtil.bs",["EmojiFormat.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=[[128525],[128518],[128558],[128546],[128544],[128077],[128078]];var g={};c.forEach(function(a,c){g[b("EmojiFormat.bs").codeArrayToUnicode(a)]=c+1|0;return 0});function a(a,b){a=g[a];b=g[b];if(a!==void 0)if(b!==void 0)return a-b|0;else return-1;else if(b!==void 0)return 1;else return 0}d=c.map(b("EmojiFormat.bs").codeArrayToUnicode);f.reactionsSortOrder=c;f.orderMap=g;f.sortFunction=a;f.defaultReactions=d}),null);
__d("getThreadTypeNameFromThreadType",["MessagingThreadType"],(function(a,b,c,d,e,f){"use strict";function a(a){for(var c in b("MessagingThreadType"))if(b("MessagingThreadType")[c]===a)return c;return""}e.exports=a}),null);
__d("MessengerReactionsMenu.react",["cx","fbt","Promise","Bootloader","CSS","CurrentUser","DOMContainer.react","EmojiFormat.bs","MercuryIDs","MercuryThreadActions","MessageReactionMutationWebGraphQLMutation","MessengerMessageActionsTypedLogger","MessengerReactionsContextualDialog.react","MessengerReactionsFlyoutButtonBootloader.react","MessengerReactionsUtil.bs","MessengerReactionsWebConfig","MessengerState.bs","MessengerSupportedEmojiUtils","MessengerTextWithEmoticons.react","React","XAsyncRequest","createCancelableFunction","emptyFunction","getThreadTypeNameFromThreadType","gkx","objectValues","promiseDone","qex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MercuryThreadActions").get();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={animations:{},reactions:b("MessengerReactionsUtil.bs").defaultReactions.slice()},d.$5=function(a){a||d.props.onHide()},d.$9=function(a){d.$6(b("EmojiFormat.bs").codeArrayToUnicode(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;b("gkx")("678614")&&(this.$1=b("createCancelableFunction")(function(b){return a.setState({animations:b})}),b("promiseDone")(this.loadAnimations(),this.$1));this.$2()};d.UNSAFE_componentWillReceiveProps=function(a){this.$2()};d.componentWillUnmount=function(){b("objectValues")(this.state.animations).forEach(function(a){a.renderer&&typeof a.renderer.pause==="function"&&a.renderer.pause()}),this.$1&&this.$1.cancel()};d.$2=function(){__p&&__p();var a=b("MessengerReactionsUtil.bs").defaultReactions.slice();if(this.props.useChatEmojiReact){var c=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),this.props.message.thread_id);c=(c=c)!=null?(c=c.custom_like_icon)!=null?c.emoji:c:c;c!=null&&!a.includes(c)&&a.push(c)}c=this.props.message.reactions;c=c&&c[b("CurrentUser").getID()];b("qex")._("705431")&&c&&!a.includes(c)&&a.push(c);this.setState({reactions:a})};d.$3=function(){return new(b("Promise"))(function(a){return b("Bootloader").loadModules(["Keyframes"],function(b){return a(b)},"MessengerReactionsMenu.react")})};d.$4=function(){__p&&__p();return this.$3().then(function(a){return b("Promise").all(["love","haha","wow","sad","angry","thumbsup","thumbsdown"].map(function(c){return a.requestRenderer(b("MessengerReactionsWebConfig").paths[c],{projectName:"messaging_reactions",assetName:c})}))}).then(function(a){return a.map(function(a){a=a.setWidth(45).setHeight(45).repeatForever().play().redrawIfNeeded();var c=a.getElement();b("CSS").addClass(c,"_37pj");return{element:c,renderer:a}}).reduce(function(a,c,d){a[b("MessengerReactionsUtil.bs").defaultReactions[d]]=c;return a},{})})};d.loadAnimations=function(){var a=Date.now(),c=this.$4();b("promiseDone")(c,function(c){b("Bootloader").loadModules(["MessengerRestReactionTypedLogger"],function(b){new b().setLoadedTime(Date.now()-a).log()},"MessengerReactionsMenu.react")});return c};d.render=function(){var a=this,c=b("CurrentUser").getID(),d=this.props.message.reactions&&this.props.message.reactions[c];return b("React").createElement(b("MessengerReactionsContextualDialog.react"),{alignment:"center",contextRef:this.props.refProp,shown:!0,onBlur:this.props.onHide,onToggle:this.$5},b("React").createElement("div",{role:"listbox","aria-orientation":"horizontal",className:"_1z8q _fy2"},this.state.reactions.map(function(c){var e=b("MessengerReactionsUtil.bs").defaultReactions.slice().includes(c);return b("React").createElement("span",{className:"_1z8r"+(c===d?" _5-2b":""),"aria-label":c,id:c,key:c,onClick:function(){return a.$6(c)},role:"option","aria-selected":c===d,tabIndex:"0"},a.state.animations[c]?b("React").createElement(b("DOMContainer.react"),null,a.state.animations[c].element):b("React").createElement(b("MessengerTextWithEmoticons.react"),{customSize:!0,forceMessengerEmoji:e,renderEmoticons:!0,renderEmoji:!0,text:c}))}),this.$7()))};d.$8=function(a){return!b("MessengerReactionsUtil.bs").defaultReactions.includes(a)?b("MessengerSupportedEmojiUtils").getSupportedEmojiKey(a):a};d.$7=function(){var a=this.props.message,c={onSelect:this.$9,getInput:b("emptyFunction")};a=a.thread_id;var d=this.state.reactions.length!==b("MessengerReactionsUtil.bs").defaultReactions.length;return b("qex")._("705431")&&!d?b("React").createElement(b("MessengerReactionsFlyoutButtonBootloader.react"),{contextRef:this.props.refProp,dialogProps:{offsetX:140,offsetY:53},flyoutAlignment:"right",flyoutProps:c,iconClassName:"_70b-",interactionClassName:"_1z8r",key:"emojireact",threadID:a,title:h._("Choisir un emoji")}):null};d.$10=function(){i.markRead(this.props.message.thread_id),i.markSeen(this.props.message.thread_id)};d.$6=function(a){__p&&__p();var c=this,d=this.props,e=d.message,f=d.entryPoint;d=b("CurrentUser").getID();var g=e.reactions&&e.reactions[d],h=b("MessengerState.bs").getServerMessageID(d,e.message_id);d=b("MessageReactionMutationWebGraphQLMutation").getURI({action:a===g?"REMOVE_REACTION":"ADD_REACTION",message_id:h,actor_id:d,reaction:a});var i=function(d){var i=e.other_user_fbid||e.thread_fbid,j=b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),e.thread_id),k=j&&j.participants?j.participants.length:0;j=b("getThreadTypeNameFromThreadType")(j&&j.thread_type);var l=e.attachments[0];k=new(b("MessengerMessageActionsTypedLogger"))().setAction("reaction").setOfflineThreadid(e.offline_threading_id).setMid(h).setRecipientID(b("MercuryIDs").getUserIDFromParticipantID(e.author)).setEntryPoint(f).setReaction(c.$8(a)).setPreviousReaction(c.$8(g)).setGroupSize(k).setThreadType(j).setThreadid(i);d.errorSummary&&(k=k.setErrorText(d.errorSummary.toString()));l&&(k=k.setMessageType(l.attach_type));k.log();c.$10()};new(b("XAsyncRequest"))(d).setMethod("POST").setHandler(i).send();this.props.onHide()};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerReactionsPrompt.react",["cssVar","cx","fbt","ix","CurrentUser","Image.react","MessengerDotComAndInboxM4Check.bs","MessengerReactIconSVGM4React.bs","MessengerReactionsMenu.react","React","asset","tooltipPropsFor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hover:!1,open:!1},c.$2=function(a){a.stopPropagation(),c.setState({open:!0},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!0)},c.$3=function(){c.setState({open:!1},function(){return c.props.onShowMenu&&c.props.onShowMenu(c.state.open)}),c.props.setReactionsPromptShown&&c.props.setReactionsPromptShown(!1)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this;if(!this.props.messageIsSelected&&!this.state.open)return null;var c=null;if(this.props.isQuickAdd){var d=j("278123");c=b("React").createElement(b("Image.react"),{src:d})}else if(b("MessengerDotComAndInboxM4Check.bs").yes)c=b("MessengerReactIconSVGM4React.bs").make(this.state.hover?"black":"rgba(0, 0, 0, 0.34)");else{d=b("CurrentUser").isWorkUser()?this.state.open?j("559649"):j("559648"):this.state.open?j("559646"):j("559647");c=b("React").createElement(b("Image.react"),{src:d})}d=i._("R\u00e9agir");d=b("tooltipPropsFor")(d,"above","center");return b("React").createElement("span",babelHelpers["extends"]({},d,{className:(this.props.isQuickAdd?"":"_5zvq")+(b("MessengerDotComAndInboxM4Check.bs").yes&&!this.props.isQuickAdd?" _7i2o":"")+(this.props.isQuickAdd?" _yav":""),onClick:this.state.open?this.$1:this.$2,onMouseEnter:function(b){return a.setState({hover:!0})},onMouseLeave:function(b){return a.setState({hover:!1})},ref:"button"}),c,this.renderMenu())};d.renderMenu=function(){var a=this;return!this.state.open?null:b("React").createElement(b("MessengerReactionsMenu.react"),{entryPoint:"awareness_plus",message:this.props.message,onHide:this.$3,refProp:function(){return a.refs.button},useChatEmojiReact:this.props.useChatEmojiReact})};d.$1=function(a){a.stopPropagation()};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerReactions.react",["cx","fbt","Bootloader","CurrentUser","MercuryAttachmentType","MercuryConfig","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerReactionsPrompt.react","MessengerReactionsUtil.bs","MessengerTextWithEmoticons.react","MessengerWebViewReactionsTypedLogger","React","ShimButton.react","StoryAttachmentStyle","TooltipData"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i="ALL",j=b("CurrentUser").getID(),k=3,l=9;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={reactionsPromptShown:!1},d.$1=function(a){d.setState({reactionsPromptShown:a})},d.$3=function(){var a=b("MessengerEnvironment").messengerui,c=d.props,e=c.isFromViewer,f=c.message,g=c.participants;c=f.reactions;new(b("MessengerWebViewReactionsTypedLogger"))().setEvent("open_details").setMid(f.message_id).setSenderID(f.author).setEmojiGroup(i).setEmojiGroupCount(Object.values(c).length).log();a?b("Bootloader").loadModules(["MessengerDialogs.bs","MessengerReactionsDialogReact.bs"],function(a,c){var d=c.jsComponent;a.showDialog(function(){return b("React").createElement(d,{isFromViewer:e,participants:g,message:f})})},"MessengerReactions.react"):b("Bootloader").loadModules(["ChatReactionsDialog"],function(a){a.show(f,g,e)},"MessengerReactions.react")},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.message,d=a.participants,e=a.renderQuickAdd;a=a.hovered;var f=c.reactions,g=c.attachments,h=g&&g.length===1&&b("MercuryConfig").MNFWD&&f&&Object.keys(f).length===0;if(h&&g[0].attach_type===b("MercuryAttachmentType").STICKER)return null;if(!this.state.reactionsPromptShown&&!a&&h&&g[0].attach_type===b("MercuryAttachmentType").SHARE)return null;if(g[0]&&g[0].attach_type===b("MercuryAttachmentType").SHARE&&!g[0].share)return null;if(((a=g[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a)===b("StoryAttachmentStyle").MONTAGE_DIRECT)return null;if((!f||!d)&&!e)return null;var i={},l=0;h=!1;Object.entries(f||{}).forEach(function(a){var b=a[0];a=a[1];typeof a==="string"&&(b===j&&(h=!0),i[a]||(i[a]=0),i[a]++,l++)});g=Object.keys(i).sort(b("MessengerReactionsUtil.bs").sortFunction).slice(0,k).map(function(c,d,a){var e=b("MessengerReactionsUtil.bs").defaultReactions.includes(c);return b("React").createElement("span",{className:"_4kf5",style:{zIndex:a.length-d,marginLeft:d===0?0:"-4px"},key:c},b("React").createElement(b("MessengerTextWithEmoticons.react"),{customSize:!0,renderEmoticons:!0,renderEmoji:!0,forceMessengerEmoji:e,text:c}))});a=l>0?b("React").createElement("span",{className:"_4kf5 _4kf6"+(h?" _fy2":"")},l):null;d=e&&!h?b("React").createElement("div",{className:"_aou _aov"},b("React").createElement("span",{className:"_aow"},b("React").createElement(b("MessengerReactionsPrompt.react"),{message:c,messageIsSelected:!0,isQuickAdd:!0,useChatEmojiReact:b("MercuryConfig").MCER,setReactionsPromptShown:this.$1}))):null;f=b("TooltipData").propsFor(this.$2());return b("React").createElement("div",{className:"_4kf7 preview"},b("React").createElement("div",babelHelpers["extends"]({},f,{className:"_7ef9"}),b("React").createElement(b("ShimButton.react"),{className:"_aou",onClick:this.$3},g,a),d))};d.$2=function(){__p&&__p();var a=this.props.message.reactions,c=this.props.participants;if(!a||!c)return"";a=Object.keys(a);var d=a.reduce(function(a,d){if(a.length>=l+1)return a;d=b("MercuryIDs").getParticipantIDFromUserID(d);d=c.get(d)||b("MessengerParticipants.bs").getNow(d);d=d&&d.name;d&&a.push(d);return a},[]),e=d.length,f=d.join("\n");if(a.length>e){d.pop();e=h._("et {count} autres personnes",[h._param("count",a.length-d.length)]);f=d.join("\n")+"\n"+e.toString()}return f};return c}(b("React").Component);c.propTypes={isFromViewer:a.bool.isRequired,message:a.object.isRequired,participants:a.object,renderQuickAdd:a.bool,hovered:a.bool};e.exports=c}),null);
__d("MessengerDecorator",["cx","invariant","BootloadedComponent.react","CurrentUser","FantaMessageActions","JSResource","MercuryAttachment","MercuryAttachmentLayoutTypeHelper","MercuryAttachmentType","MercuryConfig","MessageReplyPermissions","MessagingTag","MessengerDecoratorUtil","MessengerEnvironment","MessengerReactions.react","QE2Logger","React","StoryAttachmentStyle","gkx","isMessengerMessageRemoved","lazyLoadComponent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("lazyLoadComponent")(b("JSResource")("WorkChatMessageSavedDecorator.react").__setRef("MessengerDecorator")),j=b("lazyLoadComponent")(b("JSResource")("WorkChatMessageSaveAction.react").__setRef("MessengerDecorator")),k=function(a){a=a.attachments&&a.attachments.length===1&&a.attachments[0]&&a.attachments[0].attach_type!==b("MercuryAttachmentType").STICKER&&!b("MessengerDecoratorUtil").isP2PAttachment(a);return!!a},l=function(a){return k(a)&&b("MercuryAttachment").isLightweightActionAttachment(a.attachments[0])},m=function(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.style_list)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"}else return!1},n=function(a){__p&&__p();if(p(a)||b("isMessengerMessageRemoved")(a)||q(a))return!1;var c=o(a);a||h(0,1760);if(!c)return!1;if(b("MercuryAttachment").isPhotoGroupAttachment(c))return!0;if(b("MessengerDecoratorUtil").isNewForwardEntrypoint(c))return!0;return b("MercuryAttachment").isFileAttachment(c)&&c.message_file_fbid?!0:!1},o=function(a){var b=a.attachments&&a.attachments.length===1;return b?a.attachments[0]:null},p=function(a){return b("gkx")("676919")&&((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)===b("StoryAttachmentStyle").MONTAGE_DIRECT},q=function(a){return a&&a.attachments&&a.attachments.length>0&&b("MercuryAttachmentLayoutTypeHelper").isAdminType(a.attachments[0])},r=function(a){var c=[],d=[];a.attachments.forEach(function(a){a.metadata&&a.metadata.fbid?(c.push(a.metadata.fbid.toString()),d.push(a.attach_type.toString())):a.share&&a.share.share_id&&(c.push(a.share.share_id),d.push(a.attach_type)),b("MercuryAttachment").isFileAttachment(a)&&a.message_file_fbid&&(c.push(a.message_file_fbid),d.push(a.attach_type))});return{ids:c,types:d}},s=[{name:"Reactions",check:function(a,c){if(p(a)||q(a))return!1;var d=!!(a.reactions&&Object.keys(a.reactions).length>0);b("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");c=!!(!c&&(n(a)||k(a)&&b("MercuryConfig").MNFWD));return(d||c)&&!l(a)&&!m(a)},render:function(a,c,d,e){var f=n(a)||k(a)&&b("MercuryConfig").MNFWD;return b("React").createElement(b("MessengerReactions.react"),{isFromViewer:c,key:a.message_id+"-reactions",message:a,renderQuickAdd:f&&!c,hovered:e,participants:d&&d.participants})},getAdditionalClassNames:function(){return"_5z-5"}},{name:"Saved",check:function(a,c){return b("gkx")("843916")&&a.tags!=null&&a.tags.includes("message:save")},render:function(a,c,d,e){return b("React").createElement(b("React").Suspense,{key:"saved:"+a.message_id,fallback:b("React").createElement("div",null)},b("React").createElement(i,null))},getAdditionalClassNames:function(){return"_5z-5"}}],t=[{name:"MontageReply",check:function(a){if(!b("MercuryConfig").MontageThreadViewer||q(a))return!1;a=a.montage_reply_data&&a.montage_reply_data.message_id;return!!a},render:function(a,c,d){d=a.montage_reply_data&&a.montage_reply_data.message_id;var e=a.montage_reply_data&&a.montage_reply_data.reply_action,f=a.montage_reply_data&&a.montage_reply_data.snippet;return b("React").createElement(b("BootloadedComponent.react"),{key:"montagereply:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MontageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,messageID:d,replyAction:e,replySnippet:f,replyAuthorID:a.author,threadID:a.thread_id})},getAdditionalClassNames:function(){return null}},{name:"MessageReply",check:function(a){return!a.replied_to_message||q(a)?!1:b("gkx")("678600")||b("MercuryConfig").M3CRE},render:function(a,c,d){return b("React").createElement(b("BootloadedComponent.react"),{key:"messagereply:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:c,authorID:a.author,repliedToMessage:a.replied_to_message,threadID:a.thread_id,scrollToRepliedMessage:d&&d.scrollToRepliedMessage,customColor:d&&d.customColor,messageBody:a.body})},getAdditionalClassNames:function(){return null}}],u=[{name:"ForwardImages",check:function(a){return n(a)},render:function(a,c){var d=r(a),e=d.ids;d=d.types;return b("React").createElement(b("BootloadedComponent.react"),{key:"forwardimages:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("MessengerEnvironment").messengerui?b("JSResource")("MessengerPhotoForwardButton.react").__setRef("MessengerDecorator"):b("JSResource")("ChatPhotoForwardButton.react").__setRef("MessengerDecorator"),attachmentIDs:e,attachmentTypes:d,isFromViewer:c})},getAdditionalClassNames:function(){return"_ylc"}},{name:"ReactionPrompt",check:function(a){return p(a)||b("isMessengerMessageRemoved")(a)||q(a)?!1:!n(a)&&!l(a)},render:function(a,c,d){c=b("MercuryConfig").MNFWD&&k(a);return b("React").createElement(b("BootloadedComponent.react"),{key:"reactionprompt:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerReactionsPrompt.react").__setRef("MessengerDecorator"),message:a,messageIsSelected:d&&d.messageIsSelected&&!c&&(!a.folder||a.folder===b("MessagingTag").INBOX),useChatEmojiReact:b("MercuryConfig").MCER,onShowMenu:d&&d.onShowMenu})},getAdditionalClassNames:function(){return null}},{name:"MessengerSaveAction",check:function(a){return b("gkx")("843916")},render:function(a,c,d){return b("React").createElement(b("React").Suspense,{key:"messagesaveicon:"+a.message_id,fallback:b("React").createElement("div",null)},b("React").createElement(j,{isActive:d!=null?d.messageIsSelected:!1,message:a}))},getAdditionalClassNames:function(){return null}},{name:"MessengerUIReplyAction",check:function(a){return b("MessageReplyPermissions").canReplyToMessage(a)?b("MessengerEnvironment").messengerui:!1},render:function(a,c,d){return b("React").createElement(b("BootloadedComponent.react"),{key:"messagereplyaction:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerMessageReplyAction.react").__setRef("MessengerDecorator"),message:a,isActive:d&&d.messageIsSelected,onReplyToMessage:d&&d.onReplyToMessage})},getAdditionalClassNames:function(){return null}},{name:"MessageActions",check:function(a){return p(a)||q(a)?!1:!0},render:function(a,c,d){var e=p(a)?!1:(n(a)||k(a)&&b("MercuryConfig").MNFWD)&&!l(a),f=null,g=d;b("MessengerEnvironment").messengerui||!!(g&&g.onReplyToMessage)?f=g&&g.onReplyToMessage:f=function(){return b("FantaMessageActions").replyToMessage(a,a.thread_id)};return b("React").createElement(b("BootloadedComponent.react"),{key:"messageactions:"+a.message_id,bootloadPlaceholder:b("React").createElement("div",null),bootloadLoader:b("JSResource")("MessengerMessageActions.react").__setRef("MessengerDecorator"),message:a,isActive:d&&d.messageIsSelected,onShowMenu:d&&d.onShowMenu,isFromViewer:c,includeReactions:e,isShowingOriginal:d&&d.isShowingOriginal,hasFormatting:d&&d.hasFormatting,onToggleOriginal:d&&d.handleToggleOriginal,onReplyToMessage:f,isSavedView:d&&d.isSavedView})},getAdditionalClassNames:function(){return null}}];a={getBeforeDecorators:function(){return t},getAfterDecorators:function(){return s},getInnerDecorators:function(){return u}};e.exports=a}),null);
__d("MessengerInnerDecorators.react",["cx","Locale","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!1},c.$1=function(a){c.setState({shown:a})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this;if(this.props.isSavedView===!0)return null;var c=b("MessengerDecorator").getInnerDecorators().map(function(b){return b.check(a.props.message)?b.render(a.props.message,a.props.isFromViewer,babelHelpers["extends"]({},a.props.messageProps,{messageIsSelected:a.props.hovered||a.state.shown,onShowMenu:a.$1,isSavedView:!1})):null}).filter(Boolean);return b("React").createElement("span",{className:"_40fu"+(b("Locale").isRTL()||this.props.forGameChat?" _64wc":""),"data-hover":"none"},b("React").createElement("span",{className:b("joinClasses")(this.props.className,"_2u_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2j":""))},c))};return c}(b("React").Component);e.exports=a}),null);
__d("shouldNotRenderSegoe",["MessengerConfig","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("[\u0530-\u05f4\u10a0-\u10ff]"),h=b("UserAgent").isBrowser("Chrome")&&b("UserAgent").isPlatform("Windows 10");e.exports=function(a){return!b("MessengerConfig").SegoeUIDisabled&&h&&g.test(a)}}),null);
__d("MessengerBubble.react",["cx","fbt","invariant","EmojiOnlyMessage.react","FlexLayout.react","MercuryIDs","MercuryMessageBody.react","MercuryMessageRenderLocations","MessageReplyPermissions","MessengerActions","MessengerCodeBubble.react","MessengerColors","MessengerContactActions.bs","MessengerCustomColorUtils.bs","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerEnvironment","MessengerInnerDecorators.react","MessengerSupportedEmojiUtils","React","RepliedToMessageContent.react","SimpleXUIDialog","goURI","immutable","joinClasses","shouldNotRenderSegoe"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerContactActions.bs").actions;a=b("React").PropTypes;var k=0;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,e;for(var f=arguments.length,g=new Array(f),k=0;k<f;k++)g[k]=arguments[k];return(c=e=a.call.apply(a,[this].concat(g))||this,e.state={emojis:void 0},e.$2=function(a,c,f){__p&&__p();switch(a){case j.MESSAGE:e.$3(c,f);break;case j.PROFILE:a=b("MercuryIDs").getParticipantIDFromUserID(c.id);a=e.props.participants&&e.props.participants.get(a);if(a&&a.href){var g=b("MessengerEnvironment").messengerdotcom;g?window.open(a.href):b("goURI")(a.href)}else e.$3(c,f);break;case j.FREE_CALL:d(["FBRTCCore","MNRTCCallabilityStore"],function(a,d){var e=c.id;e||i(0,1247);a.isAvailableForWebrtcCalling(e)||d.isCallable(e)?a.startOutgoingCall(e,"messenger_bubble_free_call",!1):b("SimpleXUIDialog").show(h._("{firstname} est injoignable pour le moment.",[h._param("firstname",c.contactName)]),h._("Impossible de connecter l\u2019appel"))});break}},c)||babelHelpers.assertThisInitialized(e)}var e=c.prototype;e.componentDidMount=function(){if(!this.props.emojis){var a=this.props.body||"";a=b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(a);a&&a.length&&this.setState({emojis:a})}};e.$1=function(){__p&&__p();if(this.props.message!=null&&this.props.message.thread_id!=null&&this.props.message.tags!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){var a,c,d=this.props.message;a=(a=d.attachments[0].share)==null?void 0:(a=a.target)==null?void 0:a.sender_wec_number;c=(c=d.attachments[0].share)==null?void 0:(c=c.target)==null?void 0:c.sender_wec_number_formated;var e=d.thread_id.replace("user:",""),f=d.tags[k]!=="source:wa_callback",g=this.props.participants!=null&&this.props.participants.last()!=null&&this.props.participants.last().wec_group_participant_count==null;d=(d=d.attachments[0].share)==null?void 0:(d=d.target)==null?void 0:d.sender_wec_name;if(f||e===a||!this.props.wecFirstMessage||g)return null;if(a!=null&&d!=null)if(a===d)return b("React").createElement("div",{className:"_7ox8"},c);else return b("React").createElement("div",{className:"_7ox8"},c,"  ~",d)}return null};e.render=function(){__p&&__p();var a=this,c=!1,d=null;this.state.emojis?d=b("React").createElement(b("EmojiOnlyMessage.react"),{contents:this.state.emojis}):(c=!0,d=b("React").createElement(b("MercuryMessageBody.react"),{ref:this.props.bodyRef,body:this.props.body,className:"_3oh-"+(b("shouldNotRenderSegoe")(this.props.body||"")?" _2por":"")+" _58nk",threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$2,renderLocation:b("MercuryMessageRenderLocations").MESSENGER}));var e=[],f=[],g=this.props.message,h=!!this.props.isFromViewer;g&&!this.props.excludeAfterDecorators&&(b("MessengerDecorator").getAfterDecorators().forEach(function(b){b.check(g)&&(e.push(b.render(g,h,a.props)),f.push(b.getAdditionalClassNames()))}),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(g)&&f.push(a.getAdditionalClassNames())}));var i=f.join(" "),j=null;this.props.body&&(this.props.containsCode?j=b("React").createElement(b("MessengerCodeBubble.react"),babelHelpers["extends"]({},this.props,{attachments:this.props.attachments,body:this.props.body,customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges||[],threadID:this.props.threadID||""})):j=b("React").createElement("div",{className:"_aok"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2m":""),tabIndex:0,"aria-label":this.props.body},d,this.props.attachments));var k=this.props.repliedToMessage&&b("MessageReplyPermissions").bubbleContainsRepliedToMessage(this.props.repliedToMessage,!!(!this.props.containsCode&&this.state.emojis))?b("React").createElement(b("RepliedToMessageContent.react"),{isFromViewer:this.props.isFromViewer,isLinkified:!0,isMessengerUI:!0,repliedToMessageData:this.props.repliedToMessage,scrollToRepliedMessage:this.props.scrollToRepliedMessage,replyInOneBubble:!0}):null,l=this.props.tooltip||{},m=this.props.isFromViewer&&!this.state.emojis&&!this.props.containsCode,n=b("MessengerDotComAndInboxM4Check.bs").yes&&this.props.thread&&m?babelHelpers["extends"]({backgroundAttachment:"fixed"},b("MessengerColors").makeLinearGradient(this.props.thread.gradient_colors,this.props.thread.solid_color,b("MessengerCustomColorUtils.bs").defaultColor())):{};return b("React").createElement("div",babelHelpers["extends"]({},l,{style:n,className:b("joinClasses")(i,this.props.className,(this.props.containsCode?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs")&&!this.props.containsCode?" _6ybn":"")+(this.props.containsCode?" _4qoc":"")+(!this.props.isFromViewer&&this.props.containsCode?" _65sp":"")+(this.props.isFromViewer&&this.props.containsCode?" _65sq":"")+(this.props.containsCode?"":" _s1-")+(!this.props.containsCode&&!this.props.notBubblish?" _52mr":"")+(!this.props.containsCode&&this.props.isP2PAttachment?" _4z55":"")+(!this.props.containsCode&&!!this.state.emojis?" _2f5r":"")+(!this.props.containsCode&&!!this.state.emojis?" _581a":"")+(m?" _43by":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&m?" _6ybp":"")+(!this.props.containsCode&&c?" _3oh-":"")+(k?" _6uum":""))}),!g||this.props.isPageMessage?null:b("React").createElement(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:g,isFromViewer:!!this.props.isFromViewer,hovered:this.props.isHovered,onReplyToMessage:this.props.onReplyToMessage,messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}),isSavedView:this.props.isSavedView}),k,this.$1(),j,j?null:d,j?null:this.props.attachments,e.length>1?b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_7moe"},e):e)};e.$3=function(a,c){c&&c.preventDefault();c=b("MercuryIDs").getThreadIDFromUserID(a.id);c&&b("MessengerActions").selectThread(c)};return c}(b("React").PureComponent);c.propTypes={attachments:a.instanceOf(b("immutable").List),body:a.string,customColor:a.string,customLike:a.object,excludeAfterDecorators:a.bool,isFromViewer:a.bool,message:a.object,metaRanges:a.array,notBubblish:a.bool,onUnwrap:a.func,participants:a.object,plainText:a.bool,ranges:a.array,threadID:a.string,threadCustomColor:a.string,onReplyToMessage:a.func,isHovered:a.bool,handleToggleOriginal:a.func,hasFormatting:a.func,isPageMessage:a.bool,isSavedView:a.bool,repliedToMessage:a.object,scrollToRepliedMessage:a.func,thread:a.object,wecFirstMessage:a.bool};e.exports=c}),null);
__d("MessengerCodeBubble.react",["Bootloader","MessengerCodePasteUtils","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){var a=this;b("Bootloader").loadModules(["Prism.Complete"],function(c){for(var d in a.refs){var e=b("ReactDOM").findDOMNode(a.refs[d]);c.highlightElement(e)}},"MessengerCodeBubble.react")};d.render=function(){var a=b("MessengerCodePasteUtils").getCodeAndMessageBubbles(this.props.body,this.props.ranges,this.props.threadID,this.props.customColor,this.props.isFromViewer);return b("React").createElement("div",{className:this.props.className},a)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XMessengerDotComSettingsEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/settings/edit/",{})}),null);
__d("MessengerSettingsActions",["AsyncRequest","CurrentEnvironment","MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","MessengerDispatcher","MessengerURIConstants","XMessengerDotComSettingsEditController","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("keyMirror")({CHANGE_SETTINGS:null,CHANGE_DESKTOP_NOTIFS:null});a={Types:g,changeSettings:function(a){var c=b("XMessengerDotComSettingsEditController").getURIBuilder().getURI();b("CurrentEnvironment").facebookdotcom&&c.setPath(b("MessengerURIConstants").FACEBOOK_PREFIX+c.getPath());new(b("AsyncRequest"))().setData({settings:a}).setURI(c).send();b("MessengerDispatcher").dispatch({type:g.CHANGE_SETTINGS,newSettings:a})},changeDesktopNotifs:function(a,c){a&&!b("MessengerDesktopNotifications").isGranted()?b("MessengerDesktopNotifications").requestPermission(function(d){if(d!==b("MessengerDesktopNotificationPermissions").GRANTED){b("MessengerDesktopNotifications").checkPermission()===b("MessengerDesktopNotificationPermissions").DENIED&&(c&&c());return}b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}):b("MessengerDispatcher").dispatch({type:g.CHANGE_DESKTOP_NOTIFS,desktopNotifsEnabled:a})}};e.exports=a}),null);
__d("MercuryAttachmentAttribution.react",["cx","fbt","Image.react","ImmutableObject","Link.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.$1();return!a?null:b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_29ew")},b("React").createElement(b("Image.react"),{src:a.icon_url,className:"_29ex"}),b("React").createElement("span",{className:"_29ey"},a.name),this.$2())};d.$1=function(){return this.props.attachment&&this.props.attachment.app_attribution};d.$2=function(){var a=this.$1();if(!a||!a.metadata)return null;var c="_439n";try{a=JSON.parse(a.metadata)}catch(a){return null}return a.spotify_link?b("React").createElement(b("Link.react"),{className:c,href:a.spotify_link,target:"_blank"},h._("Ouvrir")):null};return c}(b("React").PureComponent);c.propTypes={attachment:a.instanceOf(b("ImmutableObject"))};e.exports=c}),null);
__d("MessengerAttachmentAttribution.react",["cx","ImmutableObject","MercuryAttachmentAttribution.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("MercuryAttachmentAttribution.react"),{attachment:this.props.attachment,className:"_2f5n _4br2"})};return c}(b("React").Component);c.propTypes={attachment:a.instanceOf(b("ImmutableObject"))};e.exports=c}),null);
__d("MessengerBootloadedLogMessage.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),this.props),loader:b("JSResource")("MessengerLogMessage.react").__setRef("MessengerBootloadedLogMessage.react"),placeholder:b("React").createElement("div",{className:"_497p"},"...")})};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerBubbleBlock.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_52mr _4h13 _3058"},this.props.children)};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerCollapsedLogMessageGroup.react",["cx","fbt","Link.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={collapsed:!0},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=h._("Voir la derni\u00e8re activit\u00e9"),d=h._("Voir moins d\u2019activit\u00e9");return b("React").createElement("div",{className:"_497p"},b("React").createElement(b("Link.react"),{className:"_4ea1",onClick:function(){return a.setState({collapsed:!a.state.collapsed})}},this.state.collapsed?c:d),this.state.collapsed?null:b("React").createElement("div",null,b("React").createElement("div",{className:"_4ea2"}),this.props.children,b("React").createElement("div",{className:"_4ea2"})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessageThreadAssociatedObjectKey",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION_LINK:"action_link",APPROVAL_MODE_TOGGLEABLE:"approval_mode_toggleable",EVENT_PLACE:"event_place",ID:"id",IS_WORKPLACE_COMMUNITY:"is_workplace_community",MENTORSHIP_PROGRAM:"mentorship_program",NAME:"name",PRIVACY_MODE:"privacy_mode",PROFILE_PICTURE:"profile_picture",ROOM_TYPE:"room_type",START_TIMESTAMP:"start_timestamp"})}),null);
__d("MessengerProfileLinkAction",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CLICK:"click",HOVER:"hover"})}),null);
__d("MessengerProfileLinkDomain",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FB_SLASH_MESSAGES:"fb_slash_messages",WORK_CHAT:"work_chat"})}),null);
__d("MessengerProfileLinkLogger.bs",["MessengerProfileLinkTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){new(b("MessengerProfileLinkTypedLogger"))().setTargetID(a).setDomain(c).setLinkLocation(d).setAction(e).log();return 0}f.logItemImpression=a}),null);
__d("ProfileLink.react",["Link.react","React","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=new(b("URI"))("/ajax/hovercard/user.php").setQueryData({id:this.props.uid});return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,{"data-hovercard":a,href:this.props.href||"/"+this.props.uid}),this.props.children)};return c}(b("React").Component);c.propTypes={href:a.string,uid:a.string.isRequired};e.exports=c}),null);
__d("ProfileLinkReact.bs",["ReasonReact.bs","bs_js_null_undefined","ProfileLink.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){return b("ReasonReact.bs").wrapJsForReason(b("ProfileLink.react"),{className:b("bs_js_null_undefined").fromOption(a),href:b("bs_js_null_undefined").fromOption(c),onClick:b("bs_js_null_undefined").fromOption(d),onMouseEnter:b("bs_js_null_undefined").fromOption(e),onMouseLeave:b("bs_js_null_undefined").fromOption(f),target:b("bs_js_null_undefined").fromOption(g),uid:h},i)}f.make=a}),null);
__d("MessengerProfileLink.bs",["cx","URI","bs_block","bs_curry","React","Arbiter","LinkReact.bs","CurrentUser","ReasonReact.bs","bs_js_primitive","ProfileLinkReact.bs","isMessengerDotComURI","MessengerProfileLinkAction","MessengerProfileLinkDomain","MessengerProfileLinkLogger.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MessengerProfileLink");function i(a,c,d,e,f,g){__p&&__p();var i=b("isMessengerDotComURI")(new(b("URI"))(window.location.href));g=b("CurrentUser").isWorkUser();var j=g?b("MessengerProfileLinkDomain").WORK_CHAT:i?b("MessengerProfileLinkDomain").MESSENGER_DOT_COM:b("MessengerProfileLinkDomain").FB_SLASH_MESSAGES,k=function(){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,j,d,b("MessengerProfileLinkAction").HOVER)},l=function(){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,j,d,b("MessengerProfileLinkAction").CLICK)};return[h[0],h[1],h[2],h[3],function(a){var c=b("Arbiter").subscribe("Hovercard/show",function(c,d){return b("bs_curry")._1(a[3],0)}),d=b("Arbiter").subscribe("Hovercard/hide",function(c,d){return b("bs_curry")._1(a[3],1)});return b("bs_curry")._1(a[4],function(){c.unsubscribe();d.unsubscribe();return 0})},h[5],h[6],h[7],function(d){return b("React").createElement("span",{className:"_6ybk"},a!==void 0?i?b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,function(){d[1][0]&&k(0);return l(0)},void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,[e])):b("ReasonReact.bs").element(void 0,void 0,b("ProfileLinkReact.bs").make(void 0,void 0,function(){return l(0)},void 0,function(){var a=d[1][0];if(a)return k(0);else return 0},void 0,f,[e])):e)},function(){return[!1]},h[10],function(c,a){if(c)return b("bs_block").__(0,[[!1]]);else return b("bs_block").__(0,[[!0]])},h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(b("bs_js_primitive").nullable_to_opt(a.href),a.target,a.location,a.name,a.uid,[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("MessengerProfileLinkLocation",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_BANNER:"context_banner",INFOPANEL:"infopanel"})}),null);
__d("TimeSpentRoomTypeEnum$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"Group",EVENT:"Event"});e.exports=a}),null);
__d("MessengerContextBanner.react",["cx","fbt","Badge.react","CurrentUser","Image.react","ImageBlock.react","Link.react","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryShareAttachmentRenderLocations","MercuryThreadImage.react","MessageThreadAssociatedObjectKey","MessengerProfileLink.bs","MessengerProfileLinkLocation","MessengerTextWithEmoticons.react","React","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","immutable","requireWeak"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerProfileLink.bs").jsComponent;a=b("React").PropTypes;var j;b("requireWeak")("MessengerThreadImageReact.bs",function(a){j=a.jsComponent});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("React").createElement(b("ImageBlock.react"),{className:"_llj"+(this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER?" _2eu-":"")+(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?" _2eu_":""),spacing:"large",style:this.props.style},this.$1(),b("React").createElement("div",{className:"_lll"},this.$2(),this.$3(),this.$4())),c=this.props.associatedObject;c&&c[b("MessageThreadAssociatedObjectKey").ACTION_LINK]&&(a=b("React").createElement(b("Link.react"),{href:c[b("MessageThreadAssociatedObjectKey").ACTION_LINK],target:"_blank",style:{textDecoration:"none"}},a));return a};d.$1=function(){var a=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,c=this.props.associatedObject,d=null;if(!this.props.contactName&&c&&a)d=b("React").createElement(b("Image.react"),{className:"_4ld- _1wrc",src:c[b("MessageThreadAssociatedObjectKey").PROFILE_PICTURE]});else if(this.props.thread){c=j&&a?j:b("MercuryThreadImage.react");d=b("React").createElement(c,{showBadge:!1,participants:this.props.participants,size:a?60:null,thread:this.props.thread,viewer:this.props.viewer})}else this.props.participantIDs&&(d=b("React").createElement(b("MercuryParticipantsImage.react"),{participants:this.props.participantIDs,size:b("MercuryParticipantsConstants").BIG_IMAGE_SIZE}));return b("React").createElement("div",{className:"_llk"},d)};d.$2=function(){__p&&__p();if(this.props.location!==b("MercuryShareAttachmentRenderLocations").MESSENGER)return null;var a=this.props.isVerified?b("React").createElement(b("Badge.react"),{size:"medium",type:"verified"}):null,c=this.props.contactName;if(!c){var d=this.props.associatedObject;c=d?d[b("MessageThreadAssociatedObjectKey").NAME]:null}d=this.props.contactFBProfile;var e=this.props.contactID;return b("React").createElement("div",{className:"_llq"},b("React").createElement("span",{className:"_3oh-"},b("React").createElement(i,{href:d,location:b("MessengerProfileLinkLocation").CONTEXT_BANNER,name:c,uid:e}),a))};d.$3=function(){return b("React").createElement("div",{className:"_1n-e _36zg"},b("React").createElement(b("MessengerTextWithEmoticons.react"),{text:this.props.connectionContext||"",renderEmoticons:!1}))};d.$4=function(){__p&&__p();if(!this.props.contextItems.length){var a=this.props.associatedObject;if(a){a=b("TimeSpentRoomTypeEnum")[a[b("MessageThreadAssociatedObjectKey").ROOM_TYPE]];var c=b("CurrentUser").isWorkUser()?"Workplace":"Facebook";return b("React").createElement("div",{className:"_1n-e"},h._({"EVENT":"Acc\u00e9der \u00e0 l\u2019\u00e9v\u00e8nement {productName}","GROUP":"Acc\u00e9der au groupe {productName}"},[h._param("productName",c),h._enum(a,b("TimeSpentRoomTypeEnum$FbtEnum"))]))}return null}return b("React").createElement("div",null,this.props.contextItems.map(function(a,c){return b("React").createElement("div",{className:"_1n-e",key:"item:"+c},b("React").createElement(b("MessengerTextWithEmoticons.react"),{text:a||"",renderEmoticons:!1}))}))};return c}(b("React").PureComponent);c.propTypes={contactFBProfile:a.string,contactID:a.string,contactName:a.string,associatedObject:a.object,connectionContext:a.string,contextItems:a.arrayOf(a.string).isRequired,isVerified:a.bool,location:a.string.isRequired,participantIDs:a.arrayOf(a.string),participants:a.instanceOf(b("immutable").Map),thread:a.object,viewer:a.string.isRequired};e.exports=c}),null);
__d("XMessengerContextBannerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/messenger/context_banner/",{profile_id:{type:"Int",required:!0},max_context_items:{type:"Int",defaultValue:3}})}),null);
__d("MessengerContextInformationStore",["AsyncRequest","EventEmitter","TimeSlice","XMessengerContextBannerController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=new Map();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$MessengerContextInformationStore1=function(a){if(h.get(a))return;var c=b("XMessengerContextBannerController").getURIBuilder().setInt("profile_id",a).getURI();c=new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(c).setHandler(d.$MessengerContextInformationStore2.bind(babelHelpers.assertThisInitialized(d),a));h.set(a,c);c.send()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getOrFetch=function(a){var c=g.get(a);c||b("TimeSlice").guard(this.$MessengerContextInformationStore1,"Chat Tab Messenger Context Banner Fetch",{propagationType:b("TimeSlice").PropagationType.ORPHAN})(a);return c};d.$MessengerContextInformationStore2=function(a,b){g.set(a,{connectionContext:b.payload.connection_context||"",contextItems:b.payload.context_items||[]}),h["delete"](a),this.emit("change")};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("PagesMessagingMercuryChatTabActionKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({REQUEST_GREETING_CONFIG:null,NOTIFY_GREETING_CONFIG_RECEIVED:null});e.exports=a}),null);
__d("PagesMessagingMercuryChatTabDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("PagesMessagingMercuryChatTabActions",["PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabDispatcher"],(function(a,b,c,d,e,f){"use strict";a={requestGreetingConfig:function(a){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG,threadID:a})},notifyGreetingConfigReceived:function(a,c){b("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED,threadID:a,payload:c})}};e.exports=a}),null);
__d("PagesMessagingMercuryChatTabState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({pagesGreetingShouldShow:!1,pagesGreetingContent:null,pageResponsiveness:null,coverPhotoData:null,connectionContext:null,pageOnlineMessage:null,icebreakers:null}));e.exports=a}),null);
__d("XMercuryChatTabPagesNullStateConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/mercury/greeting/",{})}),null);
__d("PagesMessagingMercuryChatTabStore",["invariant","AsyncRequest","FluxStore","MercuryIDs","PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabDispatcher","PagesMessagingMercuryChatTabState","XMercuryChatTabPagesNullStateConfigController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("PagesMessagingMercuryChatTabDispatcher"))||this;c.$PagesMessagingMercuryChatTabStore1=new Map();return c}var d=c.prototype;d.getStateByThread=function(a){this.$PagesMessagingMercuryChatTabStore1.has(a)||this.$PagesMessagingMercuryChatTabStore1.set(a,new(b("PagesMessagingMercuryChatTabState"))());a=this.$PagesMessagingMercuryChatTabStore1.get(a);a||g(0,2437);return a};d.__onDispatch=function(a){var c=a.actionType,d=a.payload;a=a.threadID;var e=this.getStateByThread(a);e||g(0,2438);switch(c){case b("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG:this.$PagesMessagingMercuryChatTabStore2(a);break;case b("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED:this.$PagesMessagingMercuryChatTabStore3(a,this.$PagesMessagingMercuryChatTabStore4(d,e));break}};d.$PagesMessagingMercuryChatTabStore2=function(a){var c=b("XMercuryChatTabPagesNullStateConfigController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setMethod("POST").setData({page_id:b("MercuryIDs").getUserIDFromThreadID(a)}).setHandler(function(c){return b("PagesMessagingMercuryChatTabActions").notifyGreetingConfigReceived(a,c.payload)}).send()};d.$PagesMessagingMercuryChatTabStore3=function(a,b){this.$PagesMessagingMercuryChatTabStore1.set(a,b),this.__emitChange()};d.$PagesMessagingMercuryChatTabStore4=function(a,b){var c=b.set("pagesGreetingShouldShow",a.pagesGreetingShouldShow).set("pagesGreetingContent",a.pagesGreetingContent).set("pageResponsiveness",a.pageResponsiveness).set("coverPhotoData",a.coverPhotoData).set("connectionContext",a.connectionContext).set("pageOnlineMessage",a.pageOnlineMessage);(b.icebreakers===null||b.icebreakers===void 0||Object.keys(b.icebreakers).length===0)&&(c=c.set("icebreakers",a.icebreakers));return c};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PagesProfileTestID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COVER_PHOTO_EDIT_MENU:"cover_photo_edit_menu",COVER_PHOTO_REMOVE_MENU_ITEM:"cover_photo_remove_menu_item",COVER_PHOTO_UPLOAD_MENU_ITEM:"cover_photo_upload_menu_item",COVER_PHOTO_SAVE_BUTTON:"cover_photo_save_button",COVER_PHOTO_REMOVE_CONFIRM_BUTTON:"cover_photo_remove_confirm_button",PROFILE_PICTURE_EDIT_MENU:"profile_picture_edit_menu",PROFILE_PICTURE_REMOVE_MENU_ITEM:"profile_picture_remove_menu_item",PROFILE_PICTURE_UPLOAD_MENU_ITEM:"profile_picture_upload_menu_item",UNLIKE_PAGE_ITEM:"page_unlike_item_test_id",UNFOLLOW_PAGE_ITEM:"page_unfollow_item_test_id",SEE_FIRST_ITEM:"page_see_first_item_test_id",DEFAULT_FOLLOW_ITEM:"page_default_follow_item_test_id",FOLLOW_BUTTON_ID:"_follow_button_test_id",FOLLOWED_BUTTON_ID:"_followed_button_test_id",LIKE_BUTTON_ID:"_like_button_test_id",LIKED_BUTTON_ID:"_liked_button_test_id"})}),null);
__d("SpotlightProfilePicCropOptions",[],(function(a,b,c,d,e,f){__p&&__p();var g=2.5,h=.8,i=320,j={getOptions:function(a,b,c){c===void 0&&(c=i);var d={},e=Math.min(b.x,b.y),f,j,k=a.facebox;k?(j=Math.max(k.size.x*b.x,k.size.y*b.y)*g,f=k.center):(j=h*e,a.focus&&(f=a.focus));k=b.x/a.original.width;d.height=d.width=Math.min(Math.max(j,c*k),e);f&&(d.center_x=Math.min(Math.max(f.x*b.x,d.width/2),b.x-d.width/2),d.center_y=Math.min(Math.max(f.y*b.y,d.height/2),b.y-d.height/2));return d},getOptionsAsRatio:function(a,b,c){c===void 0&&(c=i);a=j.getOptions(a,b,c);c=Math.min(b.x,b.y);return{center:{x:a.center_x?a.center_x/b.x:.5,y:a.center_y?a.center_y/b.y:.5},size:{x:a.width/c,y:a.height/c}}}};e.exports=j}),null);
__d("PhotoZoomCropDimensions",["BasicVector","SpotlightProfilePicCropOptions","clamp"],(function(a,b,c,d,e,f){__p&&__p();var g=320,h=.5,i=.5,j=180,k=.05,l=3;function m(a,b){return Number(a.toFixed(b||l))}a=function(){"use strict";__p&&__p();var a=c.prototype;a.clone=function(){return new c(this.$2).setSize(this.$3.x,this.$3.y).setSmallestSize(this.$4.x,this.$4.y).setCenter(this.$1.x,this.$1.y).setZoom(this.$5)};function c(a){this.$2=a,this.setSmallestSize(j,j).setCenter(h,h),this.setSize(g,g).setZoom(i)}a.getArea=function(){var a=this.getPosition(),b=this.$3.div(this.$5);return{height:Math.round(b.y),width:Math.round(b.x),x:Math.round(Math.abs(a.left)/this.$5),y:Math.round(Math.abs(a.top)/this.$5)}};a.getPosition=function(){var a=this.$6();return{height:m(a.imageSize.y),left:m(this.$3.x/2-a.center.x),top:m(this.$3.y/2-a.center.y),width:m(a.imageSize.x)}};a.getRect=function(){var a=this.$6(),b=this.$3.div(this.$5);return{center:{x:a.center.x/a.imageSize.x,y:a.center.y/a.imageSize.y},size:{x:b.x,y:b.y}}};a.getSize=function(){return this.$3};a.getCenter=function(){return this.$1};a.getZoom=function(){return this.$5};a.getZoomRange=function(){var a=Math.min(this.$2.x,this.$2.y);return{max:this.$3.x/Math.min(this.$4.x,a),min:Math.max(this.$3.x/this.$2.x,this.$3.y/this.$2.y)}};a.hasSpaceToDrag=function(){var a=this.getZoomRange();return!(c.isSquare(this.$2)&&a.min===a.max)};a.isCurrentlyDragable=function(){var a=this.$6().imageSize;return a.x!==this.$3.x||a.y!==this.$3.y};a.moveByPixels=function(a,b){var c=this.$6();return this.moveBy(a/c.imageSize.x,b/c.imageSize.y)};a.moveBy=function(a,b){this.setCenter(this.$1.x+a,this.$1.y+b);a=this.$6();this.$1=a.center.div(a.imageSize.x,a.imageSize.y);return this};a.setCenter=function(a,c){this.$1=new(b("BasicVector"))(b("clamp")(a,0,1),b("clamp")(c,0,1));return this};a.setSize=function(a,c){this.$3=new(b("BasicVector"))(a,c);return this};a.setRatio=function(a,b){var c=this.$3.x*this.$3.y;a=Math.sqrt(c*a/b);return this.setSize(a,c/a)};a.setSmallestSize=function(a,c){this.$4=new(b("BasicVector"))(a,c);return this};a.setZoom=function(a){var c=this.getZoomRange();this.$5=b("clamp")(a,c.min,c.max);return this};a.cloneAndZoom=function(a){var b=this.clone();b.setZoom(a);return b};a.cloneAndMove=function(a,b){var c=this.clone();c.moveByPixels(a,b);return c};a.$7=function(a,c){var d=this.$3.x/2,e=this.$3.y/2;return new(b("BasicVector"))(b("clamp")(c.x,d,a.x-d),b("clamp")(c.y,e,a.y-e))};a.$6=function(){var a=this.$2.mul(this.$5);return{imageSize:a,center:this.$7(a,this.$1.mul(a.x,a.y))}};c.isSquare=function(a){return Math.abs(a.x/a.y-1)<k};c.fromProfilePhotoData=function(a,d){var e=new(b("BasicVector"))(a.original.width,a.original.height),f=new c(e);d?d=d:a.previousprofilepic?d=a.facebox||{center:{x:.5,y:.5},size:{x:1,y:1}}:d=b("SpotlightProfilePicCropOptions").getOptionsAsRatio(a,e);d.center&&f.setCenter(d.center.x,d.center.y);if(d.size&&d.size.x){a=d.size.x*e.x;f.setZoom(f.getSize().x/a)}return f};return c}();e.exports=a}),null);
__d("PhotoZoomCropImageConstants",[],(function(a,b,c,d,e,f){"use strict";a={TOP:"top",MIDDLE:"middle"};e.exports.DRAG_INSTRUCTION_POSITION=a}),null);
__d("PhotoZoomCropImagePreview.react",["cx","Image.react","PhotoZoomCropDimensions","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.dimensions;a=a.size;var d=c.getSize().x/a.x;d!==1&&(c=c.clone().setSize(a.x,a.y).setZoom(c.getZoom()/d));d=null;this.props.overlay&&(d=b("React").createElement("div",{className:"_1_fc"+(this.props.circular?" _3np9":"")},this.props.overlay));return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_1k3v"+(this.props.circular?" _3np9":"")),style:babelHelpers["extends"]({},this.props.style||{},{height:a.y,width:a.x})}),b("React").createElement(b("Image.react"),{className:"_1k3w",src:this.props.src,style:c.getPosition()}),d)};return c}(b("React").Component);c.propTypes={dimensions:a.instanceOf(b("PhotoZoomCropDimensions")).isRequired,overlay:a.element,size:a.shape({x:a.number.isRequired,y:a.number.isRequired}).isRequired,src:a.oneOfType([a.string,a.object])};e.exports=c}),null);
__d("PhotoZoomCropImage.react",["cx","fbt","ix","Event","Image.react","Keys","PhotoZoomCropImageConstants","PhotoZoomCropImagePreview.react","React","UserAgent","Vector","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;var j=5;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={moved:!1},d.$6=function(a){__p&&__p();d.$2=null;var c=0,e=0;switch(b("Event").getKeyCode(a)){case b("Keys").DOWN:e=j;break;case b("Keys").LEFT:c=-j;break;case b("Keys").RIGHT:c=j;break;case b("Keys").UP:e=-j;break}(c||e)&&(d.props.onMove(c,e),d.setState({moved:!0}))},d.$7=function(a){d.$9(a,b("Vector").getEventPosition(a))},d.$8=function(a){d.$9(a,b("Vector").getTouchEventPosition(a))},d.$3=function(a){d.$10(b("Vector").getEventPosition(a))},d.$4=function(a){d.$10(b("Vector").getTouchEventPosition(a))},d.$5=function(){d.$2=null},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=b("UserAgent").isBrowser("IE < 9")?document.documentElement:window;this.$1=b("Event").listen(a,{mousemove:this.$3,touchmove:this.$4,mouseup:this.$5,touchend:this.$5})};d.componentWillUnmount=function(){if(this.$1)for(var a in this.$1)this.$1[a]&&this.$1[a].remove(),this.$1[a]=null};d.render=function(){__p&&__p();var a=this.props.dimensions,c=a.getSize(),d=null;this.props.overlay&&(d=b("React").createElement("div",{className:"_290-"},this.props.overlay));var e=null;if(this.props.customControls)e=b("React").createElement("div",{className:this.props.enableDrag?"":"_3dfz"},this.props.customControls);else{var f=this.props.moveStatus!==void 0?this.props.moveStatus:this.state.moved;e=b("React").createElement("div",{className:(this.props.dragPosition===b("PhotoZoomCropImageConstants").DRAG_INSTRUCTION_POSITION.MIDDLE?"_6aza":"")+(this.props.dragPosition===b("PhotoZoomCropImageConstants").DRAG_INSTRUCTION_POSITION.TOP?" _3dfy":"")+(f||!this.props.enableDrag?" _3dfz":"")},b("React").createElement("span",{className:"_3df-"},b("React").createElement(b("Image.react"),{className:"_3-8_ _3df_",src:i("22701")}),h._("Faites glisser pour repositionner")))}f=this.props;var g=f.altText;f=babelHelpers.objectWithoutPropertiesLoose(f,["altText"]);return b("React").createElement("div",babelHelpers["extends"]({},f,{className:b("joinClasses")(this.props.className,"_4on5"),style:babelHelpers["extends"]({},this.props.style||{},{height:c.y,width:c.x})}),b("React").createElement(b("PhotoZoomCropImagePreview.react"),{circular:this.props.circular,dimensions:a,onKeyDown:this.$6,overlay:this.props.overlay,size:c,src:this.props.src,tabIndex:this.props.isTabbable?0:null}),e,b("React").createElement("div",{className:"_4on8"},b("React").createElement(b("Image.react"),{className:"_4on7"+(this.props.enableDrag?"":" _3mk2"),onDragStart:b("Event").prevent,onMouseDown:this.$7,onTouchStart:this.$8,src:this.props.src,alt:g,style:a.getPosition()}),d))};d.$9=function(a,b){if(this.$2)return;this.props.stopPropagation?a.stopPropagation():a.preventDefault();this.$2=b};d.$10=function(a){var b=this.$2;if(!b||!this.props.enableDrag)return;b=b.sub(a);this.props.onMove(b.x,b.y);this.setState({moved:!0});this.$2=a};return c}(b("React").Component);c.propTypes={circular:a.bool,customControls:a.element,dimensions:a.object,enableDrag:a.bool,onMove:a.func,overlay:a.element,src:a.oneOfType([a.string,a.object]),altText:a.string,moveStatus:a.bool,dragPosition:a.string,isTabbable:a.bool};c.defaultProps={circular:!1,enableDrag:!0,dragPosition:b("PhotoZoomCropImageConstants").DRAG_INSTRUCTION_POSITION.TOP,isTabbable:!0};e.exports=c}),null);
__d("PhotoZoomCropMixin",["ix","cx","invariant","xuiglyph","Image.react","React"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a={getDimensions:function(){return this._dims},resetDimensions:function(){this.setState(this.getInitialState())},_handleMove:function(a,b){this._dims.moveByPixels(a,b),this.setState(this._getDimensionsState())},_handleZoom:function(a,b){this._dims.setZoom(a[0]);var c=this._getDimensionsState();c.position=b||a[0];this.setState(c)},_getDimensionsState:function(){return{dimensions:this._dims.getPosition(),zoom:this._dims.getZoom()}},_getMessage:function(){var a,b;this.__getZoom||i(0,104);if(this.__getZoom()>1&&this.props.warningText)a=g("89108"),b=this.props.warningText;else if(this.props.messageText)a=g("89336"),b=this.props.messageText;else return null;return this._getMessageMarkup(a,b)},_getMessageMarkup:function(a,c){return b("React").createElement("div",{className:"_aym"},b("React").createElement(b("Image.react"),{className:"_a63",src:a}),c)}};e.exports=a}),null);
__d("ProfileHeaderSpinner.react",["cx","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!this.props.shown?null:b("React").createElement("div",{className:"_5mb0"},b("React").createElement(b("XUISpinner.react"),{background:"light",size:"large"}))};return c}(b("React").Component);e.exports=a}),null);
__d("ProfileHeaderViewShapes",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=a.shape({focus:a.shape({height:a.number,width:a.number}),original:a.shape({height:a.number,width:a.number}),permalinkURI:a.string,source:a.number,uri:a.string,altText:a.string});e.exports={COVER_PHOTO_DATA:c}}),null);
__d("ProfileWizardStrings",["fbt"],(function(a,b,c,d,e,f,g){a={CANCEL:g._("Annuler"),CHOOSE_FROM_MY_PHOTOS:g._("Choisir parmi mes photos"),COVER_PHOTO_CHANGE_NOTICE:g._("Modifiez votre photo de couverture \u00e0 tout moment \u00e0 partir de l\u2019ic\u00f4ne d\u2019appareil photo."),COVER_PHOTO_LEAVE_WARNING:g._("Les changements apport\u00e9s \u00e0 votre photo de couvertures n\u2019ont pas \u00e9t\u00e9 enregistr\u00e9s."),PROFILE_PICTURE_CHANGE_NOTICE:g._("Modifiez votre photo de profil \u00e0 tout moment \u00e0 partir de l\u2019ic\u00f4ne d\u2019appareil photo."),SAVE:g._("Enregistrer"),UPDATE_COVER_PHOTO:g._("Mettre \u00e0 jour la photo de couverture"),UPLOAD_PHOTO:g._("Importer une photo"),UPDATE_PROFILE_PICTURE:g._("Mettre \u00e0 jour la photo de profil")};e.exports=a}),null);
__d("ProfileHeaderCoverPhoto.react",["ix","cx","BasicVector","Image.react","PagesProfileTestID","PhotoZoomCropDimensions","PhotoZoomCropImage.react","PhotoZoomCropMixin","ProfileHeaderSpinner.react","ProfileHeaderViewShapes","ProfileWizardStrings","React","ReactComponentWithPureRenderMixin","XUIButton.react","asset"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ProfileHeaderCoverPhoto",_dims:null,mixins:[b("PhotoZoomCropMixin"),b("ReactComponentWithPureRenderMixin")],propTypes:{coverPhotoData:b("ProfileHeaderViewShapes").COVER_PHOTO_DATA.isRequired,customControls:a.element,dragPosition:a.string,emptyCover:a.element,height:a.number.isRequired,hideDefaultButtons:a.bool,index:a.number,isHidden:a.bool,isLoading:a.bool,isRequestFromContextItems:a.bool,isTabbable:a.bool,moveStatus:a.bool,onMove:a.func,previewCancelHandler:a.func,previewMode:a.bool,previewSaveHandler:a.func,width:a.number.isRequired},getDefaultProps:function(){return{hideDefaultButtons:!1,onMove:function(){},previewCancelHandler:function(){},previewSaveHandler:function(){}}},getInitialState:function(){this._updateDimensions(this.props.coverPhotoData);return babelHelpers["extends"]({},this._getUpdatedDimensionsState())},UNSAFE_componentWillReceiveProps:function(a){__p&&__p();var b=this.props.coverPhotoData;if(b.id===a.coverPhotoData.id&&this.props.previewMode===a.previewMode&&this.props.width===a.width){b=b.focus;if(!b)return;if(b.width===a.coverPhotoData.focus.width&&b.height===a.coverPhotoData.focus.height)return}this._updateDimensions(a.coverPhotoData,a.height,a.width);this.setState(babelHelpers["extends"]({},this._getUpdatedDimensionsState()))},_updateDimensions:function(a,c,d){__p&&__p();var e=a.original;if(e==null)return;var f=new(b("BasicVector"))(e.width,e.height);f=new(b("PhotoZoomCropDimensions"))(f);f.setSize(d||this.props.width,c||this.props.height);d=a.focus;d&&f.setCenter(d.width,d.height);f.setZoom(f.getSize().x/e.width);this._dims=f},_getUpdatedDimensionsState:function(){return this._getDimensionsState()},_onMove:function(a,b){this._handleMove(a,b),this.props.onMove&&this.props.onMove(a,b,this.props.index)},render:function(){__p&&__p();var a=this.props.coverPhotoData;if(a.uri){var c=!!(this.props.previewMode&&this._dims&&this._dims.isCurrentlyDragable());c=b("React").createElement(b("PhotoZoomCropImage.react"),{altText:a.altText,className:"_2oru"+(this.props.isHidden||this.props.isLoading?" _2orv":""),customControls:this.props.customControls,dimensions:this._dims,dragPosition:this.props.dragPosition,enableDrag:c,isTabbable:this.props.isTabbable,moveStatus:this.props.moveStatus,onMove:this._onMove,src:a.uri})}else if(this.props.emptyCover)c=this.props.emptyCover;else{a=this.props.isRequestFromContextItems||null;a!==null?c=b("React").createElement("div",{className:"_6ld6"},b("React").createElement(b("Image.react"),{src:g("621934")})):c=b("React").createElement("div",{className:"_2orw"})}a=null;this.props.previewMode&&!this.props.customControls&&!this.props.hideDefaultButtons&&(a=b("React").createElement("div",{className:"_1tg",id:"fbProfileHeaderCoverPhotoControl"},b("React").createElement("div",{className:"_1th"},b("React").createElement(b("XUIButton.react"),{"data-testid":b("PagesProfileTestID").COVER_PHOTO_SAVE_BUTTON,label:b("ProfileWizardStrings").SAVE,onClick:this.props.previewSaveHandler,size:"large",use:"confirm"}),b("React").createElement(b("XUIButton.react"),{label:b("ProfileWizardStrings").CANCEL,onClick:this.props.previewCancelHandler,size:"large"}))));return b("React").createElement("div",{className:"_2orx",style:{height:this.props.height,width:this.props.width}},c,a,b("React").createElement(b("ProfileHeaderSpinner.react"),{shown:this.props.isLoading}))},getOffsets:function(){var a=this.getDimensions().getPosition();return{x:a.left/a.width,y:a.top/a.height}},getCenter:function(){var a=this.getDimensions().getRect();return a.center},__getZoom:function(){return this.state.zoom}});e.exports=c}),null);
__d("PagesMessengerContextBanner.react",["cx","MercuryThreadImage.react","ProfileHeaderCoverPhoto.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=83,i=284,j=60;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.coverPhotoData?b("React").createElement(b("ProfileHeaderCoverPhoto.react"),{coverPhotoData:this.props.coverPhotoData,height:h,width:i}):null;return b("React").createElement("div",{className:"_fj3"},a,b("React").createElement("div",{className:"_2-0o"},b("React").createElement(b("MercuryThreadImage.react"),{className:"_2gye",size:j,thread:this.props.thread,viewer:this.props.viewer})))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MessengerContextBannerContainer.react",["DOMDimensions","MercuryIDs","MercuryShareAttachmentRenderLocations","MessengerContextBanner.react","MessengerContextInformationStore","MessengerParticipants.bs","PagesMessagingMercuryChatTabStore","PagesMessengerContextBanner.react","React","ReactComponentWithPureRenderMixin","ReactDOM","StoreAndPropBasedStateMixin","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;var g=b("React").createClass({displayName:"MessengerContextBannerContainer",mixins:[b("ReactComponentWithPureRenderMixin"),b("StoreAndPropBasedStateMixin")(b("MessengerContextInformationStore"),b("PagesMessagingMercuryChatTabStore"))],propTypes:{location:a.string.isRequired,onResize:a.func,otherUserFBIDs:a.arrayOf(a.string),thread:a.object,threadID:a.string,viewer:a.string.isRequired},statics:{calculateState:function(a){__p&&__p();var c=a.thread,d=null;c?d=c&&c.participants:a.otherUserFBIDs&&a.otherUserFBIDs.length===1&&(d=a.otherUserFBIDs.map(function(a){return b("MessengerParticipants.bs").getIDFromVanityOrFBID(a)}));var e=b("immutable").Map();d&&(e=e.withMutations(function(a){d&&d.forEach(function(c){a.set(c,b("MessengerParticipants.bs").getNow(c))})}));var f=null,h=null;c?(f=e.get(b("MercuryIDs").getParticipantIDFromFromThreadID(c.thread_id)),h=c.associated_object):f=d&&e.get(d[0]);c=b("PagesMessagingMercuryChatTabStore").getStateByThread(a.threadID);a=c.coverPhotoData;return babelHelpers["extends"]({associatedObject:h,contact:f,coverPhotoData:a,participantIDs:d,participants:e},g.getContextInformation(f&&f.fbid&&f.fbid.toString()))},getContextInformation:function(a){var c;a&&(c=b("MessengerContextInformationStore").getOrFetch(a.toString()));return c||{connectionContext:"",contextItems:[]}}},componentDidUpdate:function(){var a=b("ReactDOM").findDOMNode(this);if(!a)return;a=b("DOMDimensions").getElementDimensions(a).height;this.props.onResize&&this.props.onResize(a)},render:function(){if(!this.state.contact)return this.state.associatedObject&&this.props.location==b("MercuryShareAttachmentRenderLocations").MESSENGER?b("React").createElement(b("MessengerContextBanner.react"),{associatedObject:this.state.associatedObject,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer}):null;if(this.state.contact.type==="page"){if(!this.state.connectionContext&&!this.state.contextItems.length)return null;if(this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT)return b("React").createElement(b("PagesMessengerContextBanner.react"),{coverPhotoData:this.state.coverPhotoData,thread:this.props.thread,viewer:this.props.viewer})}return b("React").createElement(b("MessengerContextBanner.react"),{contactFBProfile:this.state.contact.href,contactID:this.state.contact.fbid,contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.is_verified,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer})}});e.exports=g}),null);
__d("ChatTypingIndicatorsWrapper.bs",["React","ReasonReact.bs","bs_belt_MapString","MessengerState.bs","ChatTypingIndicators.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("ChatTypingIndicatorsWrapper");function h(a,c,d,e,f,h,i){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){return b("React").createElement(b("MessengerState.bs").Provider[0],{fbid:e,children:function(g){return b("React").createElement(b("ChatTypingIndicators.react"),{indicatorClass:a,indicatorsDidShow:d,indicatorsDidHide:c,rootClassName:f,threadID:h,viewer:e,typingUserIDs:b("bs_belt_MapString").get(g[6],h),key:h})}})},g[9],g[10],g[11],g[12]]}a=b("ReasonReact.bs").wrapReasonForJs(g,function(a){return h(a.indicatorClass,a.indicatorsDidHide,a.indicatorsDidShow,a.viewer,a.rootClassName,a.threadID,[])});f.component=g;f.make=h;f.jsComponent=a}),null);
__d("MercuryMessageGroup",["MercuryActionType","MercuryAttachmentLayoutTypeHelper","MercuryAttachmentType","MercuryShareAttachmentRenderLocations","MercuryThreadlistConstants","MessengerLightweightActionUtils","MessengerMessage.bs","enumerate","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={calculateMessageGroups:function(a,c){__p&&__p();var d=[],e=null,f={value:null};a=b("enumerate")(a);var h;while(!(h=a.next()).done){var i=g.canAppendMessageToLastGroup(f.value,h.value,c);i||(e=[],d.push(e));e.push(h.value);f=h}return d},canAppendMessageToLastGroup:function(a,c,d){var e=b("MercuryThreadlistConstants").GROUPING_THRESHOLD;if(!a||h(a,d)||h(c,d)||a.author!=c.author||a.timestamp<c.timestamp-e||a.is_spoof_warning!==c.is_spoof_warning||a.page_admin_notes||c.replied_to_message)return!1;d=b("MessengerMessage.bs").getPersona(a);e=b("MessengerMessage.bs").getPersona(c);if(!d&&!e)return!0;return!b("gkx")("678634")?!0:d===null||e===null?!1:d.id===e.id}};function h(a,c){var d=a.has_attachment;d&&(c===b("MercuryShareAttachmentRenderLocations").MESSENGER||c===b("MercuryShareAttachmentRenderLocations").CHAT)&&(d=i(a));return!!(b("MessengerLightweightActionUtils").isLWAMessage(a)||a.action_type==b("MercuryActionType").LOG_MESSAGE||d||a.html_body||a.body&&a.body.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK)}function i(a){a=a.attachments[0];return!a||a.attach_type===b("MercuryAttachmentType").STICKER||a.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE||b("MercuryAttachmentLayoutTypeHelper").isAdminType(a)}e.exports=g}),null);
__d("MessengerCallLogEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GROUP_CALL_ENDED:"group_call_ended",GROUP_CALL_STARTED:"group_call_started",INVITED_TO_CALL:"invited_to_call",MISSED_CALL:"missed_call",ONE_ON_ONE_CALL_ENDED:"one_on_one_call_ended"})}),null);
__d("MessengerGrowthNewFriendBumpSubtype",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NEW_FRIEND_BUMP:"new_friend_bump",INSTANT_GAMES:"instant_games",ICEBREAKER:"icebreaker"})}),null);
__d("MessengerParticipantUtils.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(a);a=d.participants.filter(function(a){return b("bs_caml_obj").caml_notequal(a,e)});return a.filter(function(a){return b("bs_belt_Set").has(c,a)})}d=b("bs_belt_Set").has;function h(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function a(a,b,c){return h(a,b,c).length>0}function c(a,b,c){return g(a,b,c).length>0}f.findIntersection=g;f.has=d;f.participantsInGroupThread=h;f.areParticipantsInGroupThread=a;f.areParticipantsInThread=c}),null);
__d("OnlineUserIds.bs",["bs_belt_Set","ParticipantId.bs"],(function(a,b,c,d,e,f){"use strict";function a(){return b("bs_belt_Set").make([b("ParticipantId.bs").cmp])}function c(a){return b("bs_belt_Set").fromArray(a,[b("ParticipantId.bs").cmp])}f.make=a;f.fromArray=c}),null);
__d("MessengerPresenceProvider.bs",["FBID.bs","bs_curry","React","Arbiter","bs_belt_Set","bs_caml_obj","bs_belt_Array","MercuryIDs","bs_belt_Option","bs_js_primitive","OnlineUserIds.bs","ParticipantId.bs","PresenceStatus","PresencePrivacy","AvailableListConstants","MessengerPersistantViewerKeyedSubscriptionComponent.bs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["privacy-changed","privacy-availability-changed","privacy-user-presence-response"];function a(){return b("OnlineUserIds.bs").make(0)}function c(a,c){if(a){a=a[0];var d=b("bs_caml_obj").caml_equal(b("PresenceStatus").get(a),b("AvailableListConstants").ACTIVE);if(d)return b("bs_belt_Set").add(c,b("MercuryIDs").getParticipantIDFromUserID(a));else return b("bs_belt_Set").remove(c,b("MercuryIDs").getParticipantIDFromUserID(a))}else return b("bs_belt_Set").fromArray(b("bs_belt_Array").map(b("PresenceStatus").getOnlineIDs(),function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)}),[b("ParticipantId.bs").cmp])}function d(a,c){__p&&__p();b("PresencePrivacy").subscribe(g,function(){return b("bs_curry")._1(c,0)});b("bs_curry")._1(c,0);b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(a,d){if(d==null)return 0;else{a=b("FBID.bs").ofStringExn(d);return b("bs_curry")._1(c,[a])}});return 0}a=b("MessengerPersistantViewerKeyedSubscriptionComponent.bs").Make([a,c,d,"MessengerPresenceProvider"]);var h=a[0];function i(a,c,d,e,f,g){g={children:e};a!==void 0&&(g.shouldUpdate=b("bs_js_primitive").valFromOption(a));c!==void 0&&(g.remoteAction=b("bs_js_primitive").valFromOption(c));d!==void 0&&(g.fbid=b("bs_js_primitive").valFromOption(d));f!==void 0&&(g.key=b("bs_js_primitive").valFromOption(f));return g}function j(a){var c=a.subscribeToIDs,d=a.remoteAction,e=a.fbid;a=a.children;d=i(function(a,d){if(c!==void 0){d=b("bs_belt_Set").union(b("bs_belt_Set").diff(a,d),b("bs_belt_Set").diff(d,a));return!b("bs_belt_Set").isEmpty(b("bs_belt_Set").intersect(d,b("bs_js_primitive").valFromOption(c)))}else return!1},d,e,a,void 0,0);return b("React").createElement(h,d)}function e(a){var c=[b("ParticipantId.bs").cmp],d={children:a.children},e=b("bs_belt_Option").map(b("bs_js_primitive").nullable_to_opt(a.subscribeToIDs),function(a){return b("bs_belt_Set").fromArray(a,c)});e!==void 0&&(d.subscribeToIDs=b("bs_js_primitive").valFromOption(e));e=b("bs_js_primitive").nullable_to_opt(a.fbid);e!==void 0&&(d.fbid=b("bs_js_primitive").valFromOption(e));return j(d)}c=a[1];d=j;f.privacyEvents=g;f.send=c;f.makePropsOriginal=i;f.make=d;f.jsComponent=e}),null);
__d("PagesMessageListGreeting.react",["cx","FluxContainer","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("PagesMessagingMercuryChatTabStore")]};c.calculateState=function(a,c){if(c.messageCount>0)return{shouldShowGreeting:!1};a=b("PagesMessagingMercuryChatTabStore").getStateByThread(c.threadID);return{greetingContent:a.pagesGreetingContent,shouldShowGreeting:a.pagesGreetingShouldShow}};var d=c.prototype;d.componentDidMount=function(){b("PagesMessagingMercuryChatTabActions").requestGreetingConfig(this.props.threadID)};d.render=function(){return!this.state.shouldShowGreeting||!this.state.greetingContent||this.state.greetingContent.trim().length===0?null:b("React").createElement("div",{className:"_4fsh _3-8z"},this.state.greetingContent)};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("MessageList.react",["cx","CurrentUser","MercuryActionType","MercuryIDs","MercuryLogMessageType","MercuryMessageGroup","MercuryShareAttachmentRenderLocations","MessagingGenericAdminTextType","MessengerCallLogEvent","MessengerDomIDs.bs","MessengerGrowthNewFriendBumpSubtype","MessengerLightweightActionUtils","MessengerMessage.bs","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","PagesMessageListGreeting.react","React","ReactDOM","gkx","immutable","nullthrows","requireCond","cr:832269"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDomIDs.bs").ids,i=b("MessengerPresenceProvider.bs").jsComponent;a=b("React").PropTypes;var j=2,k=1e3*60*60,l=6,m=function(a){__p&&__p();var c;c=(c=a)!=null?(c=c.log_message_data)!=null?c.message_type:c:c;switch(c){case b("MessagingGenericAdminTextType").GROUP_POLL:return(c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.question_id:c:c:c;case b("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE:return(c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.game_id:c:c:c;case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_DELETE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY_BEFORE_EVENT:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY:case b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_RSVP:return(c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.event_id:c:c:c;case b("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST:c=((c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.friend_request_subtype:c:c:c)||((c=a)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.subtype:c:c:c);return!c||c.toLowerCase()!==b("MessengerGrowthNewFriendBumpSubtype").ICEBREAKER?null:p(a);case b("MessagingGenericAdminTextType").MESSENGER_ICEBREAKER_VOTE_CAST:return p(a);default:return null}},n=function(a){return b("MessengerLightweightActionUtils").isLWAMessage(a)?"lwa":null};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeMessageID:null,messageGroups:[],prevMessages:null,newMessagesGroupIndex:Infinity,lastReadTimestamp:((b=d.props.thread)==null?void 0:b.last_read_timestamp)||Infinity,newMessagesCountForDisplay:0},d.$5=function(a){d.setState(function(b){return{activeMessageID:b.activeMessageID===a?null:b.activeMessageID}})},d.$6=function(a){d.setState({activeMessageID:a})},c)||babelHelpers.assertThisInitialized(d)}c.getDerivedStateFromProps=function(a,c){__p&&__p();if(c.prevMessages!==a.messages)if(b("cr:832269")!=null){var d=c.lastReadTimestamp;c=a.location;var e=a.messages,f=a.thread,g=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());(f==null?void 0:f.snippet_sender)===g&&(d=Infinity);f=e.findLast(function(a){return a.author===g});f&&f.timestamp>d&&(d=f.timestamp);f=a.messages.filter(function(a){return a.timestamp<=d});var h=a.messages.filter(function(a){return a.timestamp>d});f=b("MercuryMessageGroup").calculateMessageGroups(f,c);c=b("MercuryMessageGroup").calculateMessageGroups(h,c);h=h.filter(function(a){return a.log_message_type==null}).size;return{messageGroups:[].concat(f,c),prevMessages:e,newMessagesGroupIndex:f.length,newMessagesCountForDisplay:h,lastReadTimestamp:d}}else return{messageGroups:b("MercuryMessageGroup").calculateMessageGroups(a.messages,a.location),prevMessages:a.messages};else return null};var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.DateBreak,e=c.forGameChat,f=c.location,g=c.MessageGroup,p=c.CollapsedLogMessageGroup,u=[],v=[],w;c=this.props.thread&&this.props.thread.solid_color;var x=c?{backgroundColor:c}:null,y=this.state.activeMessageID,z=this.state.messageGroups,A=z.length,B=this.props.readReceipts;c=B.last();var C=c?c.watermark:0,D=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),E={};for(var c=this.props.messages.size-1;c>=0;c--){var F=this.props.messages.get(c),G=m(F)||n(F);G&&!E[G]&&(E[G]=F.message_id)}var H=function(h){__p&&__p();var m=h>0?z[h-1]:null;m=m&&m.length>0?m[m.length-1]:null;var H=z[h],K=H[0],L=H[H.length-1],M=!1;b("cr:832269")!=null&&h>0&&h===a.state.newMessagesGroupIndex&&a.state.newMessagesCountForDisplay>0&&u.push(b("React").createElement("div",{ref:"newMessageDivider",key:"new-message-divider"},b("React").createElement(b("cr:832269"),{newMessagesCount:a.state.newMessagesCountForDisplay})));if(!m||K.timestamp-m.timestamp>k){M=!0;m=b("React").createElement(d,{date:new Date(K.timestamp),key:"db:"+K.message_id,ref:"db:"+K.message_id});v.length===0&&u.push(m)}m=n(K);if(m&&E[m]!==K.message_id){m=a.$1(K,E);u.push(m);return"continue"}if(K.action_type==b("MercuryActionType").LOG_MESSAGE){m=(G=K)!=null?(G=G.log_message_data)!=null?G.message_type:G:G;var N=(F=K)!=null?(F=F.log_message_data)!=null?(F=F.untypedData)!=null?F.friend_request_subtype:F:F:F,O=m===b("MessagingGenericAdminTextType").PARTIES_PRESENCE,P=m===b("MessagingGenericAdminTextType").INSTANT_GAME_UPDATE,Q=m===b("MessagingGenericAdminTextType").GROUP_POLL;N=m===b("MessagingGenericAdminTextType").MESSENGER_ICEBREAKER_VOTE_CAST||m===b("MessagingGenericAdminTextType").CONFIRM_FRIEND_REQUEST&&N&&N.toLowerCase()===b("MessengerGrowthNewFriendBumpSubtype").ICEBREAKER;var R=[b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_CREATE,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_DELETE,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TIME,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_TITLE,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_UPDATE_LOCATION,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY_BEFORE_EVENT,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_NOTIFY,b("MessagingGenericAdminTextType").LIGHTWEIGHT_EVENT_RSVP].includes(m);if((f===b("MercuryShareAttachmentRenderLocations").CHAT||f===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(K.log_message_type===b("MercuryLogMessageType").VIDEO_CALL||K.log_message_type===b("MercuryLogMessageType").PHONE_CALL||m===b("MessagingGenericAdminTextType").MESSENGER_CALL_LOG&&(((c=K)!=null?(c=c.log_message_data)!=null?(c=c.untypedData)!=null?c.event:c:c:c)===b("MessengerCallLogEvent").MISSED_CALL||((J=K)!=null?(J=J.log_message_data)!=null?(J=J.untypedData)!=null?J.event:J:J:J)===b("MessengerCallLogEvent").ONE_ON_ONE_CALL_ENDED||b("gkx")("678642")))){m=a.$2(K,D,z,A,h,B,C,L,E);u.push(m)}else{m=a.$3(K,E);w=K.message_id;!P&&!Q&&!R&&!N&&v.push(m);if(O&&b("gkx")("678643"))return"continue";(v.length===H.length||P||Q||R||N)&&(a.$4(v,u,w,x,p),v=[]);(P||Q||R||N)&&u.push(m)}return"continue"}H=b("immutable").List(H);var S=q(z,A,h,E),T=!s(B,H,S),U=r(C,L),V=t(a.props.deliveryTimestamp,L),W=H.first().author,X=b("MessengerMessage.bs").getPersona(L),Y=D===K.author;O=Y?0:l+j;var Z=a.props.maxBubbleWidth?a.props.maxBubbleWidth-O:null;u.push(b("React").createElement(i,{subscribeToIDs:W?[W]:null,key:"pp:"+K.message_id},function(c){return b("React").createElement(g,{activeMessageID:o(y,H),author:W,deliveryTimestamp:V,forGameChat:e,hasDateBreak:M,isCanonical:a.props.isCanonical,isFromViewer:Y,isPageMessage:a.props.isPageMessage,isOnline:W?b("MessengerParticipantUtils.bs").has(c,W):!1,lastReadTimestamp:U,maxBubbleWidth:Z,messages:H,nextTimestamp:S,onAttachmentLoad:a.props.onAttachmentLoad,onMessageDeselect:a.$5,onMessageSelect:a.$6,onStickerClick:a.props.onStickerClick,onReplyToMessage:a.props.onReplyToMessage,pageID:a.props.isPageMessage===!0?a.props.viewer:null,persona:b("gkx")("678634")?X:null,readReceipts:T?B:b("immutable").OrderedMap(),key:"mg:"+K.message_id,ref:function(b){return a.refs["mg:"+K.message_id]=b},thread:a.props.thread,threadID:a.props.threadID,scrollToRepliedMessage:a.props.scrollToRepliedMessage})}))};for(var I=0;I<A;I++){var J,K=H(I);if(K==="continue")continue}K=this.props.threadID||this.props.thread&&this.props.thread.thread_id||this.props.thread&&this.props.thread.thread_fbid;H=null;f===b("MercuryShareAttachmentRenderLocations").MESSENGER&&K&&this.props.isPageMessage&&(H=b("React").createElement(b("PagesMessageListGreeting.react"),{messageCount:v.length+A,threadID:K}));return b("React").createElement("div",{id:f===b("MercuryShareAttachmentRenderLocations").MESSENGER?h.CONVERSATION:null},H,u)};d.getNewMessageDivider=function(){return this.refs.newMessageDivider};d.getMessageElement=function(a,c){__p&&__p();if(c===!0){var d=this.refs["db:"+a];if(d)return b("ReactDOM").findDOMNode(d)}d=this.$7(a);if(!d)return null;d=d[0].message_id;var e=this.refs["mg:"+d];if(!e)return null;return c===!0&&d===a?b("ReactDOM").findDOMNode(e):e.getMessageElement(a)};d.getMessageComponent=function(a){var b=this.$7(a);if(!b)return null;b=b[0].message_id;b=this.refs["mg:"+b];return!b?null:b.getMessage(a)};d.$7=function(a){return this.state.messageGroups.find(function(b){return b.some(function(b){return b.message_id===a})})};d.$4=function(a,c,d,e,f){a.length!==0&&(a.length>1?c.push(b("React").createElement(f,{key:"mg:"+d,style:e},a)):c.push(b("React").createElement("div",{key:"mg:"+d},a)))};d.$2=function(a,c,d,e,f,g,h,j,k){__p&&__p();var l=this,m,n,o=this.props.MessageGroup;n=((n=a)!=null?(n=n.log_message_data)!=null?n.untypedData:n:n)||{};m=(m=a)!=null?(m=m.log_message_data)!=null?m.message_type:m:m;if(m===b("MessagingGenericAdminTextType").MESSENGER_CALL_LOG){m={message_type:b("MessagingGenericAdminTextType").MESSENGER_CALL_LOG,caller:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(n.caller_id,"caller id")),callee:b("MercuryIDs").getParticipantIDFromUserID(b("nullthrows")(n.callee_id,"callee id")),server_info_data:n.server_info,thread_id:a.thread_fbid,answered:n.event!==b("MessengerCallLogEvent").MISSED_CALL,log_message_type:n.video?b("MercuryLogMessageType").VIDEO_CALL:b("MercuryLogMessageType").PHONE_CALL,event:n.event,added_participants:null,removed_participants:null,untypedData:null,image:null,name:null};a=babelHelpers["extends"]({},a,{log_message_data:m})}n={attach_type:"share",share:{style_list:["rtc_call_log","fallback"],log_message_body:a.log_message_body,log_message_data:a.log_message_data,log_message_type:a.log_message_type,timestamp:a.timestamp}};m=babelHelpers["extends"]({},a,{attachments:[n],body:""});var p=b("immutable").List([m]),u=q(d,e,f,k),v=!s(g,p,u),w=r(h,j),x=t(this.props.deliveryTimestamp,j),y=p.first().author;return b("React").createElement(i,{subscribeToIDs:y?[y]:null,key:a.message_id},function(d){return b("React").createElement(o,{author:p.first().author,deliveryTimestamp:x,forGameChat:l.props.forGameChat,isCanonical:l.props.isCanonical,isFromViewer:c===a.author,isOnline:y?b("MessengerParticipantUtils.bs").has(d,y):!1,isPageMessage:l.props.isPageMessage,lastReadTimestamp:w,maxBubbleWidth:l.props.maxBubbleWidth,messages:p,nextTimestamp:u,onAttachmentLoad:l.props.onAttachmentLoad,onMessageDeselect:l.$5,onMessageSelect:l.$6,onStickerClick:l.props.onStickerClick,readReceipts:v?g:b("immutable").OrderedMap(),thread:l.props.thread,threadID:l.props.threadID})})};d.$3=function(a,c){var d=this.props.LogMessage,e=m(a);c=e?c[e]:null;return a.log_message_type!==b("MercuryLogMessageType").SERVER_ERROR?b("React").createElement(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,key:a.message_id,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:c===a.message_id}):null};d.$1=function(a,c){c=c[b("nullthrows")(n(a),"other group id first message")];var d=this.props.LogMessage;return b("React").createElement(d,{className:this.props.location===b("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,key:a.message_id,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:c===a.message_id})};return c}(b("React").PureComponent);c.propTypes={CollapsedLogMessageGroup:a.func.isRequired,DateBreak:a.func.isRequired,deliveryTimestamp:a.number.isRequired,forGameChat:a.bool,isCanonical:a.bool,isPageMessage:a.bool,location:a.string.isRequired,LogMessage:a.func.isRequired,loadMoreMessages:a.func,MessageGroup:a.func.isRequired,messages:a.instanceOf(b("immutable").List).isRequired,onAttachmentLoad:a.func,onStickerClick:a.func,onReplyToMessage:a.func,readReceipts:a.instanceOf(b("immutable").OrderedMap).isRequired,viewer:a.string.isRequired,thread:a.object,threadID:a.string,scrollToRepliedMessage:a.func};function o(a,b){return b.find(function(b){return b.message_id===a})?a:null}function p(a){return(a=a)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.icebreaker_type:a:a:a}function q(a,c,d,e){if(d>=c-1)return Infinity;var f=a[d+1][0],g=n(f);if(g&&e[g]!==f.message_id||((g=f)!=null?g.action_type:g)==b("MercuryActionType").LOG_MESSAGE)return q(a,c,d+1,e);else return f.timestamp}function r(a,b){return b.timestamp>a?a:Infinity}function s(a,b,c){return b.isEmpty()||!a.isEmpty()&&(a.last().action<b.first().timestamp||a.first().action>=c)}function t(a,b){return b.timestamp>a?a:Infinity}e.exports=c}),null);
__d("MessengerDateBreak.react",["cx","FBLogger","React","formatDate","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.date.getTime()!==a.date.getTime()};d.render=function(){try{var a=b("formatDate")(this.props.date,{future:"g:ia",today:"g:ia",withinWeek:"D g:ia",thisYear:"M jS, g:ia",older:"m/d/Y g:ia"});return b("React").createElement("h4",{className:b("joinClasses")(this.props.className,"_497p _2lpt")},b("React").createElement("time",{className:"_3oh-"},a))}catch(a){b("FBLogger")("messaging").mustfix("invalid timestamp: "+this.props.date.getTime());return null}};return c}(b("React").Component);c.propTypes={date:a.instanceOf(Date).isRequired};e.exports=c}),null);
__d("MessengerSignals.bs",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))(),h="resize";function a(){g.emit(h);return 0}function c(a){return g.addListener(h,a)}f.emitter=g;f.resizeEvent=h;f.resize=a;f.onResize=c}),null);
__d("MessengerFlexArea.react",["cx","CSS","Event","MessengerSignals.bs","React","ReactDOM","Style","SubscriptionsHandler","Vector","clearTimeout","getElementRect","getScrollPosition","joinClasses","requireCond","setTimeoutAcrossTransitions","throttle","cr:827709"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerFlexArea",propTypes:{limitCalculationToParent:a.bool,beforeResize:a.func,onResize:a.func,bottomOffset:a.number,maxHeight:a.oneOfType([a.number,a.oneOf[void 0,null]])},_subscriptions:null,_onResizeTimeout:null,getInitialState:function(){return{height:0}},componentDidMount:function(){var a=this,c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.recalculateHeight,51)),b("MessengerSignals.bs").onResize(function(){a.recalculateHeight()}));this._subscriptions=c;this.recalculateHeight()},componentDidUpdate:function(a){a.maxHeight!==this.props.maxHeight&&this.recalculateHeight()},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release(),b("clearTimeout")(this._onResizeTimeout)},render:function(){return b("React").createElement(b("cr:827709"),{className:b("joinClasses")(this.props.className,"_9hq"),onResize:this._handleResponsiveBlockResize,style:{height:this.state.height+"px"}},this.props.children)},recalculateHeight:function(){__p&&__p();if(!this.isMounted())return;var a=b("ReactDOM").findDOMNode(this),c=a.parentNode,d=this.state.height,e=b("Vector").getViewportDimensions().y,f=!1;c&&b("Style").get(c,"display")==="none"&&(b("Style").set(c,"display","initial"),f=!0);var g=!1;c instanceof Element&&b("CSS").hasClass(c,"hidden_elem")&&(b("CSS").removeClass(c,"hidden_elem"),g=!0);if(this.props.limitCalculationToParent===!0&&c!=null&&c instanceof Element){var h=c.getBoundingClientRect().height;this.setState({height:h},this.props.onResize);return}e-=b("Vector").getElementPosition(c||a).y;h=b("getScrollPosition")(window);e+=h.y;this.props.bottomOffset&&(e-=this.props.bottomOffset);c&&(Array.from(c.childNodes).forEach(function(a){if(a.nodeType===Node.COMMENT_NODE||b("Style").get(a,"position")==="absolute")return;e-=b("getElementRect")(a).height}),e+=b("getElementRect")(a).height);f&&b("Style").set(c,"display","");g&&c instanceof Element&&b("CSS").addClass(c,"hidden_elem");(isNaN(e)||e<0)&&(e=0);this.props.maxHeight!=null&&(e=Math.min(this.props.maxHeight,e));e!==d&&(this.props.beforeResize&&this.props.beforeResize(),this.setState({height:e},this.props.onResize))},_handleResponsiveBlockResize:b("throttle")(function(a,c){if(!this.isMounted())return;c===this.state.height&&(this.props.beforeResize&&this.props.beforeResize(),b("clearTimeout")(this._onResizeTimeout),this.props.onResize&&(this._onResizeTimeout=b("setTimeoutAcrossTransitions")(this.props.onResize,0)))},51)});e.exports=c}),null);
__d("MessengerFlexScrollableArea.react",["MessengerFlexArea.react","MessengerScrollableArea.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shouldTrackBottom:c.props.shouldStickToBottom},c.$2=function(){c.props.onScroll&&c.props.onScroll();if(!c.props.shouldStickToBottom)return;c.$3()},c.$1=function(){c.trackBottomIfRequired()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.onMount&&this.props.onMount()};d.render=function(){return b("React").createElement(b("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$1,ref:"flexArea",maxHeight:this.props.maxHeight,limitCalculationToParent:this.props.limitCalculationToParent,bottomOffset:this.props.bottomOffset},this.props.flexChildren,b("React").createElement(b("MessengerScrollableArea.react"),{height:"100%",needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$2,ref:"scrollable",tabIndex:this.props.tabIndex},this.props.children),this.props.footerChildren)};d.$3=function(){this.isScrolledToBottom()?this.setState({shouldTrackBottom:!0}):this.setState({shouldTrackBottom:!1})};d.getArea=function(){return this.refs.scrollable&&this.refs.scrollable.getArea()};d.handleResize=function(){this.refs.flexArea&&this.refs.flexArea.recalculateHeight()};d.trackBottomIfRequired=function(){this.state.shouldTrackBottom&&this.scrollToBottom()};d.overrideTrackBottom=function(a){this.setState({shouldTrackBottom:a})};d.scrollToBottom=function(a){this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};d.scrollToTop=function(a){this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};d.scrollToPosition=function(a,b,c){this.refs.scrollable&&this.refs.scrollable.scrollToPosition(a,b,c)};d.isScrolledToBottom=function(){var a=this.refs.scrollable;return a?a.isScrolledToBottom():!0};d.isScrolledToBottomWithHeight=function(a){return this.refs.scrollable.isScrolledToBottomWithHeight(a)};d.isScrolledToTop=function(){return this.refs.scrollable&&this.refs.scrollable.isScrolledToTop()};d.getScrollTop=function(){return this.refs.scrollable&&this.refs.scrollable.getScrollTop()||0};return c}(b("React").Component);c.propTypes={flexChildren:a.node,footerChildren:a.node,onMount:a.func,onScroll:a.func,shouldStickToBottom:a.bool,tabIndex:a.number,maxHeight:a.number,bottomOffset:a.number,limitCalculationToParent:a.bool};e.exports=c}),null);
__d("MessengerMessageActionsWrapper.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.wrapper=null,c.mouseOverListenerAdded=!1,c.$4=function(){c.props.onShowMenu(c.props.message.message_id,!0),c.$2()},c.$3=function(){c.props.onShowMenu(c.props.message.message_id,!1),c.$1()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1()};d.componentWillUnmount=function(){this.$2()};d.render=function(){var a=this;return b("React").createElement("div",{onMouseLeave:this.$3,className:this.props.className,ref:function(b){return a.wrapper=b}},this.props.children)};d.$1=function(){this.wrapper&&!this.mouseOverListenerAdded&&(this.wrapper.addEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!0)};d.$2=function(){this.wrapper&&this.mouseOverListenerAdded&&(this.wrapper.removeEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!1)};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerMessageSeenHeadsReact.bs",["cx","fbt","cssVar","Image.bs","React","immutable","ReasonReact.bs","joinClasses","MessengerConfig","MercuryTimestamp","MessengerMessage.bs","MercuryAttachment","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerConfig").MaxSeenHeadCount;function k(){var a=b("getViewportDimensions")().width;if(a<parseInt("920px".replace("px",""),10))if(j<8)return j;else return 8;else if(a<parseInt("1211px".replace("px",""),10)&&j>=3)return 3;else return j}var l=b("ReasonReact.bs").statelessComponent("MessengerMessageSeenHeadsReact");function m(a,c,d,e,f,g,i){__p&&__p();return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],function(){__p&&__p();if(b("MessengerMessage.bs").isSending(d)||g.isEmpty()||b("MessengerMessage.bs").hasError(d))return null;else{var i=b("immutable").Seq(g).filter(function(a){a=a.watermark>=d.timestamp&&a.watermark<e;if(a)return!0;else return!1}).sort(function(a,b){return a.action-b.action|0});if(i.isEmpty())return null;else{var l=c?j:k(0),m=i.count()>(l+1|0),n=m?i.slice(0,l):i;n=n.map(function(c,d,a){a=f.get(d);if(a==null)return null;else{c=h._("Vu par {full name} \u00e0 {seen time}",[h._param("full name",a.name),h._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(c.action))]);return b("ReasonReact.bs").element(String(d),void 0,b("Image.bs").make("_jf2",c,void 0,void 0,a.image_src,void 0,c,void 0,void 0,[]))}}).toArray();var o=n.length;if(o===0)return null;else{m=m?i.slice(l,void 0).count():0;if(m>0){i=i.slice(l,void 0).map(function(a,b,c){a=f.get(b);if(a==null)return"";else return a.name}).filter(function(a){a=a==="";if(a)return!1;else return!0}).join("\n")+" ";n.unshift(b("React").createElement("span",{key:"overflow",className:"_jf3",title:i},"+"+String(m)))}return b("React").createElement("span",{className:b("joinClasses")(a,"_jf4"+((o+m|0)===1?" _jf5":"")+(b("MercuryAttachment").isSinglePhotoGroupAttachment(d)?" _ba3":""))},n)}}}},l[9],l[10],l[11],l[12]]}a=b("ReasonReact.bs").wrapReasonForJs(l,function(a){return m(a.className,a.isFromViewer,a.message,a.nextTimestamp,a.participants,a.readReceipts,[])});f.maxSeenHeads=j;f.calculateSliceNumber=k;f.component=l;f.make=m;f.jsComponent=a}),null);
__d("MessengerSettingsStore",["CacheStorage","MessengerDotComSettingsInitialData","MessengerSettingsActions","MessengerStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("CacheStorage"))("localstorage"),h="desktopNotifsEnabled";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$MessengerSettingsStore1=babelHelpers["extends"]({},b("MessengerDotComSettingsInitialData"),{desktopNotifsEnabled:c.$MessengerSettingsStore2()});return c}var d=c.prototype;d.getSettings=function(){return this.$MessengerSettingsStore1};d.$MessengerSettingsStore2=function(){return g.get(h,!1)};d.$MessengerSettingsStore3=function(a){g.set(h,a)};d.__onDispatch=function(a){switch(a.type){case b("MessengerSettingsActions").Types.CHANGE_SETTINGS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,a.newSettings);this.emitChange();break;case b("MessengerSettingsActions").Types.CHANGE_DESKTOP_NOTIFS:this.$MessengerSettingsStore1=babelHelpers["extends"]({},this.$MessengerSettingsStore1,{desktopNotifsEnabled:a.desktopNotifsEnabled});this.$MessengerSettingsStore3(a.desktopNotifsEnabled);this.emitChange();break}};return c}(b("MessengerStore"));e.exports=new a()}),null);
__d("MessengerURIUtils.bs",["URI","MercuryIDs","CurrentUser","MessengerView","MessengerURISerializer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var c=b("MessengerURISerializer").deserialize(new(b("URI"))(window.location.href)),d=b("MessengerView").DETAIL.THREAD,e=c.queryAll;return b("MessengerURISerializer").serialize(Object.assign(Object.assign({},c),{activeThreadID:a,detailView:d,query:e?c.query:void 0}))}function a(a){return g(b("MercuryIDs").getThreadIDFromUserID(a))}function c(a){if(b("CurrentUser").isWorkUser())return g(a.thread_id).setQueryData({mid:a.message_id});else return new(b("URI"))("/m/"+a.message_id)}f.getURIForThreadID=g;f.getURIForUserID=a;f.getURIForMessage=c}),null);
__d("MessengerVideoAutoplayActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g="messenger_video",h=b("keyMirror")({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null});a={Types:h,Namespace:g,onScroll:function(a,c,d,e){b("MessengerFluxReduceDispatcher").dispatch({type:h.SCROLL,namespace:g,threadID:a,messageIDs:c,messageRectMap:d,viewportRect:e})},updateStore:function(a,c){b("MessengerFluxReduceDispatcher").dispatch({type:h.UPDATE,namespace:g,threadID:a,messageIDs:c})},deleteThread:function(a){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY,namespace:g,threadID:a})},deleteAllThreads:function(){b("MessengerFluxReduceDispatcher").dispatch({type:h.DESTROY_ALL,namespace:g})}};e.exports=a}),null);
__d("MessengerVideoAutoplayStore",["FluxReduceStore","MessengerVideoAutoplayActions","immutable","MessengerFluxReduceDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MessengerVideoAutoplayActions").Types,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.reduce=function(a,c){if(c.namespace!==b("MessengerVideoAutoplayActions").Namespace)return a;switch(c.type){case g.SCROLL:c.messageIDs&&(a=this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs));return this.$MessengerVideoAutoplayStore2(a,c.threadID,c.messageRectMap,c.viewportRect);case g.UPDATE:return this.$MessengerVideoAutoplayStore1(a,c.threadID,c.messageIDs);case g.DESTROY:return this.$MessengerVideoAutoplayStore3(a,c.threadID);case g.DESTROY_ALL:return a.clear()}return a};d.$MessengerVideoAutoplayStore1=function(a,b,c){return!c?a["delete"](b):a.set(b,new h({currentVideoMessageID:null,lastVideoMessageID:c.first(),messageIDs:c,videoVisibilityMap:null}))};d.$MessengerVideoAutoplayStore3=function(a,b){return a["delete"](b)};d.$MessengerVideoAutoplayStore4=function(a,b,c,d,e){var f=this,g=null;c=c.map(function(a){if(g)return[a,!1];else{var b=f.$MessengerVideoAutoplayStore5(a,d,e);b&&(g=a);return[a,b]}}).fromEntrySeq().toOrderedMap();return a.mergeIn([b],{currentVideoMessageID:g,videoVisibilityMap:c})};d.$MessengerVideoAutoplayStore2=function(a,b,c,d){__p&&__p();var e=a.getIn([b,"messageIDs"]);if(!e||!c||!d)return a;if(!a.getIn([b,"currentVideoMessageID"]))return this.$MessengerVideoAutoplayStore4(a,b,e,c,d);else{var f=a.getIn([b,"videoVisibilityMap"]),g=a.getIn([b,"lastVideoMessageID"]),h=a.getIn([b,"currentVideoMessageID"]);if(this.$MessengerVideoAutoplayStore5(g,c,d)){if(f&&f.first())return a}else if(this.$MessengerVideoAutoplayStore5(h,c,d))return a;a=a.setIn([b,"currentVideoMessageID"],null);return this.$MessengerVideoAutoplayStore4(a,b,e,c,d)}};d.$MessengerVideoAutoplayStore6=function(a,b){return!a?!1:a.top>b.top&&a.bottom<b.bottom};d.$MessengerVideoAutoplayStore5=function(a,b,c){b=b.get(a);return this.$MessengerVideoAutoplayStore6(b,c)};d.getVideoVisibilityMap=function(a){return this.getState().getIn([a,"videoVisibilityMap"])};d.getMessageIDs=function(a){return this.getState().getIn([a,"messageIDs"])};d.isVisible=function(a,b){return!!this.getState().getIn([a,"videoVisibilityMap",b])};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("MessengerFluxReduceDispatcher"))}),null);
__d("messengerRTLClasses",["cx","isRTL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){a=b("isRTL")(a||"");return c?a?"_4pv0":"":(a?"":"direction_ltr")+(a?" direction_rtl":"")+(a?"":" text_align_ltr")+(a?" text_align_rtl":"")+(a?" _4pv0":"")}e.exports=a}),null);
__d("MessengerMessage.react",["cssVar","cx","fbt","EmojiLikeUtils","FlexLayout.react","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercuryTimestamp","MessengerAttachmentAttribution.react","MessengerAttachmentRenderer","MessengerBubble.react","MessengerBubbleBlock.react","MessengerCodePasteUtils","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerInnerDecorators.react","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerSettingsStore","MessengerURIUtils.bs","MessengerVideoAutoplayStore","MNCommerceMessageType","React","SubscriptionsHandler","TooltipData","emptyFunction","getViewportDimensions","gkx","ifRequired","immutable","joinClasses","messengerRTLClasses","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerMessageSeenHeadsReact.bs").jsComponent;a=b("React").PropTypes;function k(a){switch(a){case b("MercuryMessageDeliveryState").SENDING:return i._("Envoi en cours");case b("MercuryMessageDeliveryState").SENT:return i._("Envoy\u00e9");case b("MercuryMessageDeliveryState").DELIVERED:return i._("Livr\u00e9");case b("MercuryMessageDeliveryState").ERROR:return i._("Erreur")}return null}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isVisible:!1,plainText:!1,shown:{}},d.$14=function(a){d.messageBody=a},d.$15=function(a){a.stopPropagation(),d.props.onSelect(d.props.message.message_id)},d.$5=function(a,b){var c;d.setState({shown:babelHelpers["extends"]({},d.state.shown,(c={},c[a]=b,c))})},d.$11=function(){d.setState({plainText:!d.state.plainText})},d.$10=function(){d.props.onSelect(d.props.message.message_id)},d.$12=function(){return b("MessengerCodePasteUtils").containsCodeBlock(d.props.message.body)||!!d.messageBody&&d.messageBody.hasFormatting()},c)||babelHelpers.assertThisInitialized(d)}c.calculateState=function(a){return{isVisible:b("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||b("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.setState(c.calculateState(this.props));var d=new(b("SubscriptionsHandler"))();d.addSubscriptions(b("MessengerVideoAutoplayStore").addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));var e=b("ifRequired")("MessengerSphericalRendererStore",function(a){return a},function(){return null});e&&d.addSubscriptions(e.addListener(function(b){b=c.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=d};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.shouldComponentUpdate=function(a,c){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!b("immutable").is(a.readReceipts,this.props.readReceipts)||!b("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||c.isVisible!==this.state.isVisible||!b("shallowEqual")(c.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad};d.render=function(){__p&&__p();var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=i._("{time}",[i._param("time",b("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]);e=b("TooltipData").propsFor(e,l(d));var f=[],g=[],h=this.props.message,k=d||!1,m=this.props.scrollToRepliedMessage;h&&!this.props.hideBeforeDecorator&&(b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(h)&&f.push(a.render(h,k,{scrollToRepliedMessage:m}))}),b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(h)&&g.push(a.getAdditionalClassNames())}));var n=this.$2(e,this.props.isSavedView===!0),o=this.$3(e,null);o&&(n=this.$2(e,!0));e=!!o&&this.$4();return b("React").createElement(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7")+(e?" _q4a":""),b("messengerRTLClasses")(a.body)].concat(g)),message:a,onShowMenu:this.$5,isFromViewer:d},f,n,o,this.$6(),this.$7(),b("React").createElement(j,{className:"_4jzq",isFromViewer:d,message:a,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts}))};d.$8=function(a){return a.every(function(a){return!a||!b("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};d.$9=function(){return this.props.message.attachments.length===1&&b("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};d.$3=function(a,c){__p&&__p();var d=this;if(this.props.message!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){c=((c=this.props.message)==null?void 0:(c=c.attachments[0])==null?void 0:(c=c.share)==null?void 0:c.style_list[0])==="wec_message"&&!((c=this.props.message)==null?void 0:(c=c.attachments[0])==null?void 0:(c=c.share)==null?void 0:(c=c.subattachments)==null?void 0:c.length);if(c)return null}if(this.props.message.is_filtered_content)return null;if(this.props.message.commerce_message_type===b("MNCommerceMessageType").RIDE_INTENT)return null;var e=[],f=[],g=this.props.message,h=this.props.isFromViewer||!1;g&&this.props.isSavedView!==!0&&b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(g,h)&&(e.push(a.render(g,h,d.props,d.state.shown[d.props.message.message_id])),f.push(a.getAdditionalClassNames()))});c=b("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$10,onUnwrap:null,pageID:this.props.pageID},e,this.props.thread);if(!c||!c.length)return null;var i=this.$8(c),j=this.props.isPageMessage?null:b("React").createElement(b("MessengerInnerDecorators.react"),{className:i?"_1z_2":"",message:g,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[this.props.message.message_id],messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.$11,hasFormatting:this.$12,isShowingOriginal:this.state.plainText}),isSavedView:this.props.isSavedView});if(a){var k=c.some(function(a){return!!a&&b("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});this.$9()&&(c=[b("React").createElement("span",{key:"AttachmentWithAttribution"},c[0],b("React").createElement(b("MessengerAttachmentAttribution.react"),{attachment:new(b("ImmutableObject"))(this.props.message.attachments[0])}))]);c=i?b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses").apply(void 0,["_3zvs"+(k?" _2-x3":"")].concat(f))}),c,e.length>1?b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_7moe"},e):e,j):c.map(function(c){return c&&b("React").cloneElement(c,a)})}k=b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);k=b("React").createElement("div",{key:"renderedAttachments",className:"_3058 _15gf"+(k?" _3duc":"")},c,g.body||i?null:j);return this.$9()?b("React").createElement(b("MessengerBubbleBlock.react"),null,k):k};d.$13=function(){return b("MessengerAttachmentRenderer").isP2PAttachment(this.props.message)};d.$2=function(a,c){var d=this.props.message,e=b("immutable").List(b("MessengerAttachmentRenderer").getAttachmentsInsideBubble(d,this.props.onAttachmentLoad)),f=d.ranges;d.profile_ranges&&d.profile_ranges.length&&(f=(f||[]).concat(d.profile_ranges.map(function(a){return babelHelpers["extends"]({},a,{url:b("MessengerURIUtils.bs").getURIForUserID(a.id)})})));var g=b("gkx")("844786")?!1:b("MessengerCodePasteUtils").containsCodeBlock(d.body)&&!this.state.plainText;if(d.is_filtered_content)return b("React").createElement("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix"},b("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(d));var h=d.body&&!b("EmojiLikeUtils").isEmojiLike(d);return h||!e.isEmpty()?b("React").createElement(b("MessengerBubble.react"),{thread:this.props.thread,attachments:e,body:d.body,bodyRef:this.$14,className:g?(this.props.isFromViewer?"_3uhm":"")+(this.props.isFromViewer?"":" _3uhn")+(d.isSelected?" _3xsz":""):"_3058 _ui9"+(d.isSelected?" _3xsz":""),containsCode:g,customColor:this.props.isFromViewer?this.props.customColor:"",customLike:d.customLike,excludeAfterDecorators:c,isFromViewer:this.props.isFromViewer,isP2PAttachment:this.$13(),ranges:f,message:d,metaRanges:d.meta_ranges,plainText:this.state.plainText,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:d.thread_id,participants:this.props.participants,wecFirstMessage:this.props.wecFirstMessage,isHovered:this.state.shown[d.message_id],onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.$11,hasFormatting:this.$12,isShowingOriginal:this.state.plainText,isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,tooltip:a}):null};d.$7=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var a=b("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===b("MercuryMessageDeliveryState").UNKNOWN)return null;var c={};this.props.customColor&&(a===b("MercuryMessageDeliveryState").SENT||a===b("MercuryMessageDeliveryState").SENDING||a===b("MercuryMessageDeliveryState").DELIVERED)&&(c.color=this.props.customColor);var d=k(a);return b("React").createElement("span",{className:"_2her"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybq":"")+(a===b("MercuryMessageDeliveryState").SENDING?" _4jzp":"")+(a===b("MercuryMessageDeliveryState").SENT?" _3zzf":"")+(a===b("MercuryMessageDeliveryState").DELIVERED?" _9ah":"")+(a===b("MercuryMessageDeliveryState").ERROR?" _5ei9":""),style:c,title:d},b("React").createElement("i",{"aria-label":d,"aria-roledescription":i._("Ic\u00f4ne Statut"),className:"_57e_",role:"img"}))};d.$6=function(){var a=this.props.message;return!b("MessengerMessage.bs").hasError(a)?null:b("React").createElement(b("MercuryMessageError.react"),{className:"_3058 _2ygi",message:a,authorFBID:this.props.authorFBID})};d.$4=function(){var a=this.props.message,b=!1;a&&(b=!!(a.reactions&&Object.keys(a.reactions).length>0));return b};return c}(b("React").Component);c.propTypes={customColor:a.string,deliveryTimestamp:a.number.isRequired,hideBeforeDecorator:a.bool,isActive:a.bool,isFromViewer:a.bool,isPageMessage:a.bool,message:a.object.isRequired,messageTimestamp:a.number,nextTimestamp:a.number.isRequired,onAttachmentLoad:a.func.isRequired,onDeselect:a.func.isRequired,onSelect:a.func.isRequired,onReplyToMessage:a.func,participants:a.instanceOf(b("immutable").Map).isRequired,readReceipts:a.instanceOf(b("immutable").OrderedMap).isRequired,showDeliveryState:a.bool,authorFBID:a.string,threadCustomColor:a.string,pageID:a.string,isSavedView:a.bool,scrollToRepliedMessage:a.func,thread:a.object,wecFirstMessage:a.bool};c.defaultProps={onAttachmentLoad:b("emptyFunction"),threadCustomColor:"#0084ff"};function l(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)||b("MessengerSettingsStore").getSettings().info_sidebar_collapsed&&a?"above":a?"right":"left"}e.exports=c}),null);
__d("MessengerPageAdminNoteList.react",["cx","fbt","LeftRight.react","MessengerBubble.react","PagesMessengerCreatorInfo.react","React","ReactComponentWithPureRenderMixin","classWithMixins","enumerate","immutable","mixin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this,c=[],d=this.calculateGroups(this.props.notes);d.forEach(function(d,e){c.push(b("React").createElement("li",{className:"_4kd2",key:"group:"+e},a.$MessengerPageAdminNoteList1(d)))});return b("React").createElement("ul",{className:"_4kd3"},c)};d.$MessengerPageAdminNoteList1=function(a){var c=this,d=[];a.forEach(function(e,f){d.push(b("React").createElement("div",{className:"_4kd4",key:"note:"+f},c.$MessengerPageAdminNoteList2(e,a)))});return d};d.$MessengerPageAdminNoteList2=function(a,c){c=b("immutable").List([b("React").createElement(b("LeftRight.react"),{className:"_561k"},b("React").createElement("div",{className:"_561l"},h._("Note priv\u00e9e")),b("React").createElement(b("PagesMessengerCreatorInfo.react"),{key:"creator_info",creator_info:c[0].creator_info,isNote:!0}))]);return b("React").createElement("div",{className:"_o46 _3i_m _nd_"},b("React").createElement("div",{className:"clearfix"},b("React").createElement(b("MessengerBubble.react"),{body:a.body.text,attachments:c,className:"_3058 _4kd5"})))};d.calculateGroups=function(a){__p&&__p();var c=[],d=null,e=null;a=b("enumerate")(a);var f;while(!(f=a.next()).done){var g=e&&e.value.creator_info.creatorID===f.value.creator_info.creatorID;g||(d=[],c.push(d));d&&d.push(f.value);e=f}return c};return c}(b("classWithMixins")(b("React").Component,b("mixin")(b("ReactComponentWithPureRenderMixin"))));c.propTypes={notes:a.arrayOf(a.shape({id:a.string,body:a.object.isRequired,creator_info:a.shape({creatorID:a.string.isRequired,creatorName:a.string.isRequired,creatorType:a.string.isRequired,labelType:a.string.isRequired,pageID:a.string.isRequired,profileURI:a.string}),timestamp:a.number.isRequired})).isRequired};e.exports=c}),null);
__d("MessengerRemovedMessageTombstone.react",["cssVar","cx","fbt","MercuryTimestamp","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerInnerDecorators.react","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerSettingsStore","React","RemovedMessageTombstoneContent","TooltipData","getViewportDimensions","immutable","joinClasses","messengerRTLClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerMessageSeenHeadsReact.bs").jsComponent;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:{}},c.$2=function(a,b){c.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.isActive,d=a.isFromViewer;a=a.message;var e=[],f=this.props.message;f&&b("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(f)&&e.push(a.getAdditionalClassNames())});var g=this.$1();return b("React").createElement(b("MessengerMessageActionsWrapper.react"),{className:b("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(c?" _-5k":"")+(d?" _3i_m":"")+(d?" _nd_":"")+(d?"":" _29_7")+"",b("messengerRTLClasses")(a.body)].concat(e)),message:a,onShowMenu:this.$2},g,b("React").createElement(j,{className:"_4jzq",isFromViewer:d,message:a,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts}))};d.$1=function(){var a=this.props.message,c=b("RemovedMessageTombstoneContent").getRemovedMessageTombstoneContent(a,this.props.participants),d=this.$3();d=b("TooltipData").propsFor(d,k(this.props.isFromViewer));return b("React").createElement("div",babelHelpers["extends"]({className:"_3058 _ui9"+(a.isSelected?" _3xsz":"")+" _7301 _hh7"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+" _s1- _52mr _3oh-"},d||{}),b("React").createElement(b("MessengerInnerDecorators.react"),{className:"_1z_2",message:a,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[a.message_id],messageProps:{},isSavedView:!1}),b("React").createElement("div",{className:"_aok",tabIndex:0,"aria-label":c},b("React").createElement("span",null,c)))};d.$3=function(){var a=this.props.message.timestamp,c=this.props.message.removed_timestamp;a=i._("Envoy\u00e9 \u00e0\u00a0: {sent time}",[i._param("sent time",b("MercuryTimestamp").getPreciseTimestamp(a))]);if(!c)return a;c=i._("Supprim\u00e9 \u00e0\u00a0: {removed time}",[i._param("removed time",b("MercuryTimestamp").getPreciseTimestamp(c))]);return a.toString()+"\n"+c.toString()};return c}(b("React").Component);c.propTypes={isActive:a.bool,isFromViewer:a.bool,message:a.object.isRequired,nextTimestamp:a.number.isRequired,onSelect:a.func.isRequired,participants:a.instanceOf(b("immutable").Map).isRequired,readReceipts:a.instanceOf(b("immutable").OrderedMap).isRequired};function k(a){return b("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)||b("MessengerSettingsStore").getSettings().info_sidebar_collapsed&&a?"above":a?"right":"left"}e.exports=c}),null);
__d("MessengerMessageGroup.react",["cx","fbt","invariant","BootloadOnRender.react","CurrentUser","Image.react","ImmutableObject","JSResource","LazyComponent.react","Link.react","MercuryIDs","MercuryParticipantSilhouettes","MessengerActions","MessengerContactActions.bs","MessengerEnvironment","MessengerMessage.react","MessengerPageAdminNoteList.react","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerRemovedMessageTombstone.react","MessengerStickerUtils","MessengerTextWithEmoticons.react","MessengerURIUtils.bs","PagesMessengerCreatorInfo.react","React","ReactDOM","SimpleXUIDialog","WorkForeignEntityType","gkx","goURI","immutable","isMessengerMessageRemoved"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerContactActions.bs").actions,k=b("MessengerProfileImageWrapperReact.bs").jsComponent;a=b("immutable").List;c=b("immutable").OrderedMap;f=b("React").PropTypes;var l=32,m=new(b("ImmutableObject"))({image_src:b("MercuryParticipantSilhouettes").neutralSilhouette,is_messenger_user:!0,name:""});g=b("React").createClass({displayName:"MessengerMessageGroup",_subscription:null,propTypes:{author:f.string.isRequired,activeMessageID:f.string,deliveryTimestamp:f.number.isRequired,hasDateBreak:f.bool,isCanonical:f.bool,isFromViewer:f.bool,isPageMessage:f.bool,lastReadTimestamp:f.number.isRequired,messages:f.instanceOf(a).isRequired,nextTimestamp:f.number.isRequired,onAttachmentLoad:f.func.isRequired,onMessageDeselect:f.func.isRequired,onMessageSelect:f.func.isRequired,persona:f.object,onReplyToMessage:f.func,readReceipts:f.instanceOf(c).isRequired,thread:f.object,pageID:f.string,scrollToRepliedMessage:f.func},getInitialState:function(){return{participants:{}}},componentDidMount:function(){this._subscription=this._computeParticipants()},shouldComponentUpdate:function(a,c){var d=a.thread,e=this.props.thread;d=Boolean(d&&e&&(d.solid_color!==e.solid_color||d.custom_nickname!==e.custom_nickname));return this.props.activeMessageID!==a.activeMessageID||this.props.isFromViewer!==a.isFromViewer||this.props.deliveryTimestamp!==a.deliveryTimestamp||this.props.lastReadTimestamp!==a.lastReadTimestamp||this.props.onAttachmentLoad!==a.onAttachmentLoad||!b("immutable").is(this.props.messages,a.messages)||this.props.messages!==a.messages||!b("immutable").is(this.props.readReceipts,a.readReceipts)||this.state.participants!==c.participants||d},componentDidUpdate:function(){var a=this,b=n(this.props);!this._subscription&&!b.every(function(b){return a.state.participants[b]})&&(this._subscription=this._computeParticipants())},componentWillUnmount:function(){this._subscription&&b("MessengerParticipants.bs").removeCallback(this._subscription)},render:function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_1t_p clearfix"+(b("MessengerStickerUtils").isStickerMessageGroup(this.props.messages)?" _5tx1":"")+(this._hasSeenHeadsAtBottom()?" _35fy":"")},this._renderProfileColumn(),b("React").createElement("div",{className:"_41ud"},this._renderName(),this._renderMessages())),this.props.isPageMessage?this._renderNotes():null)},_renderProfileColumn:function(){__p&&__p();var a;if(this.props.isFromViewer)return null;var c=this.props.messages.last();c=this.state.participants[c.author]||m;var d=c.name,e=c.image_src;this.props.persona&&(d=this.props.persona.name,e=this.props.persona.profile_picture_url);var f=h._("{name}",[h._param("name",d)]);a=(a=c)!=null?(a=a.work_foreign_entity_info)!=null?a.type:a:a;a=b("CurrentUser").isWorkUser()&&a===b("WorkForeignEntityType").FOREIGN;a=b("React").createElement(k,{className:"_1t_r",isMessengerUser:c.is_messenger_user,size:l,showBadge:a,isMultiCompany:a,tooltipContent:f},b("React").createElement(b("Image.react"),{alt:d,src:e,height:l,width:l}));if(c.fbid){f=b("MessengerURIUtils.bs").getURIForUserID(c.fbid);!this.props.persona?a=b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerAvatarActions.react").__setRef("MessengerMessageGroup.react"),placeholder:this.props.isCanonical?a:b("React").createElement(b("Link.react"),{className:"_5f0v",href:f.toString(),onClick:this._handleContactSelect.bind(this,c),tabIndex:-1},a),component:b("React").createElement(b("LazyComponent.react"),{avatar:a,contact:c,showSendMessageItem:!this.props.isCanonical,onAction:this._handleContactAction})}):this.props.isCanonical||(a=b("React").createElement(b("Link.react"),{className:"_5f0v",href:f.toString(),onClick:this._handleContactSelect.bind(this,c),tabIndex:-1},a))}return b("React").createElement("div",{className:"_1t_q"},a)},_handleContactAction:function(a,c,e){__p&&__p();switch(a){case j.MESSAGE:this._handleContactSelect(c,e);break;case j.PROFILE:a=this.state.participants[c.id];if(a&&a.href){var f=b("MessengerEnvironment").messengerdotcom;f?window.open(a.href):b("goURI")(a.href)}else this._handleContactSelect(c,e);break;case j.FREE_CALL:d(["FBRTCCore","MNRTCCallabilityStore"],function(a,d){var e=c.fbid;e||i(0,1247);a.isAvailableForWebrtcCalling(e)||d.isCallable(e)?a.startOutgoingCall(e,"messenger_group_bubble_free_call",!1):b("SimpleXUIDialog").show(h._("{firstname} est injoignable pour le moment.",[h._param("firstname",c.short_name)]),h._("Impossible de connecter l\u2019appel"))});break}},_renderMessages:function(){__p&&__p();var a=this,c=this.props.messages.size,d=[];this.props.messages.forEach(function(e,f,g){var h=e.message_id===a.props.activeMessageID,i=b("MercuryIDs").getUserIDFromParticipantID(a.props.author),j=a.props.thread?a.props.thread.solid_color:"",k=a.props.onAttachmentLoad,l=e.timestamp;if(b("isMessengerMessageRemoved")(e)){d.push(b("React").createElement(b("MessengerRemovedMessageTombstone.react"),{isActive:h,isFromViewer:a.props.isFromViewer,key:e.message_id,message:e,participants:b("immutable").Map(a.state.participants),nextTimestamp:a._getNextTimestamp(g,c,f),onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,ref:e.message_id}));return}d.push(b("React").createElement(b("MessengerMessage.react"),{thread:a.props.thread,customColor:j,deliveryTimestamp:a.props.deliveryTimestamp,isActive:h,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,key:e.message_id,message:e,messageTimestamp:l,messageActionsWrapper:a.props.messageActionWrapper,onAttachmentLoad:k,participants:b("immutable").Map(a.state.participants),nextTimestamp:a._getNextTimestamp(g,c,f),onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,showDeliveryState:e.timestamp>a.props.lastReadTimestamp,ref:e.message_id,authorFBID:i==null?void 0:i,threadCustomColor:j,pageID:a.props.pageID,scrollToRepliedMessage:a.props.scrollToRepliedMessage}));o(a.props.isPageMessage,g,f,e)&&d.push(b("React").createElement(b("PagesMessengerCreatorInfo.react"),{key:"creator_info:"+f,creator_info:e.creator_info}))});return d},_renderNotes:function(){var a=this,c=[];this.props.messages.forEach(function(d,e,f){a.props.isPageMessage&&d.page_admin_notes&&c.push(b("React").createElement(b("MessengerPageAdminNoteList.react"),{key:"notes:"+d.message_id,notes:d.page_admin_notes}))});return c},_renderName:function(){__p&&__p();var a=this.props.messages.first(),c=this.state.participants[a.author];if(!c)return null;if(a.replied_to_message)return null;var d=c.short_name,e=d;if(this.props.thread){var f=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null;c=b("MercuryIDs").getUserIDFromParticipantID(c.id);f&&c&&f[c]&&(d=f[c],e=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:f[c]}))}if(this.props.persona){f=this.state.participants[a.author];e=f?h._("{persona name} de {page name}",[h._param("persona name",this.props.persona.name),h._param("page name",f.short_name)]):this.props.persona.name;d=e.toString()}return b("React").createElement("h5",{"aria-label":d,className:"_ih3"+(this.props.isFromViewer?" accessible_elem":"")+(this.props.isCanonical&&!this.props.persona?" _-ne":"")},e)},getMessageElement:function(a){return b("ReactDOM").findDOMNode(this.refs[a])},_hasSeenHeadsAtBottom:function(){var a=this.props,b=a.messages,c=a.nextTimestamp;a=a.readReceipts;var d=b.last().timestamp,e=0;a.forEach(function(a){if(a>=d&&a<c&&++e===2)return!1});return e===2},_getNextTimestamp:function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp},_handleContactSelect:function(a,c){c&&c.preventDefault();c=b("MercuryIDs").getThreadIDFromParticipantID(a.id);c&&b("MessengerActions").selectThread(c)},_computeParticipants:function(){__p&&__p();var a=this,c=n(this.props),d={},e=[];c.forEach(function(a){var c=b("MessengerParticipants.bs").getNow(a);d[a]=c;c||e.push(a)});this.setState({participants:d});return e.length>0?b("MessengerParticipants.bs").getMulti(e,function(c){var b=Object.assign({},a.state.participants);e.forEach(function(a){b[a]=c[a]});a._subscription=null;a.setState({participants:b})}):null}});function n(a){var b=[a.messages.first().author];a.readReceipts.forEach(function(a,c){return b.push(c)});return b}function o(a,b,c,d){if(!a||!d.creator_info)return!1;if(c===b.size-1)return!0;a=b.get(c+1).creator_info;return!a?!0:d.creator_info.creatorID!==a.creatorID}e.exports=g}),null);
__d("MessengerNewMessagesNoticeReact.bs",["cx","ix","fbt","Image.bs","React","LinkReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=h("86939"),k=i._("Nouveaux messages"),l=b("ReasonReact.bs").statelessComponent("MessengerNewMessagesNoticeReact");function m(a,c,d,e){var f=d!==void 0?d:k;return[l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],function(){return b("React").createElement("div",{"aria-hidden":!a,className:"_4wzq"+(a?" _4wzr":"")+(a?"":" _4-je")},b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(void 0,void 0,void 0,"_5f0v _4wzs",void 0,void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,void 0,void 0,void 0,void 0,a?0:-1,void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_4wzt",void 0,void 0,void 0,j,void 0,void 0,void 0,void 0,[])),b("React").createElement("div",{className:"_1bqr"},f)])))},l[9],l[10],l[11],l[12]]}a=b("ReasonReact.bs").wrapReasonForJs(l,function(a){return m(a.isOpen,a.onClick,a.label,[])});f.newMessageSrc=j;f.defaultLabel=k;f.component=l;f.make=m;f.jsComponent=a}),null);
__d("MessengerPlatformSubscriptionMessageClassification",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXEMPTED_TEMPLATE_MESSAGE:"exempted_template_message",MESSAGE_WITHIN_24HRS:"message_within_24hrs",SUBSCRIPTION_MESSAGE:"subscription_message",ACCEPTABLE_EXTRA_MESSAGE:"acceptable_extra_message",UNACCEPTABLE_EXTRA_MESSAGGE:"unacceptable_extra_message",AD_MESSAGE:"ad_message",FREE_LIMIT:"FREE_LIMIT"})}),null);
__d("MessengerQuickCamOrigins",[],(function(a,b,c,d,e,f){"use strict";var g={CHAT_TAB:"chat tab",MESSENGER:"messenger",getValues:function(){return[g.CHAT_TAB,g.MESSENGER]}};e.exports=g}),null);
__d("MessengerQuickReplyUtils",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={localizeTitleIfNecessary:function(a){return a.map(function(a){return a.content_type==="location"?Object.assign(a,{title:g._("Envoyer la position")}):a})}};e.exports=a}),null);
__d("MercuryTypingAnimationReact.bs",["cx","React","ReasonReact.bs","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("ReasonReact.bs").statelessComponent("MercuryTypingAnimationReact");function a(a,c){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){return b("React").createElement("div",{className:b("joinClasses")("_4a0v _1x3z",a!==void 0?a:"")},b("React").createElement("div",{className:"_4b0g"},b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"})))},h[9],h[10],h[11],h[12]]}f.component=h;f.make=a}),null);
__d("MessengerBubbleReact.re",["react","MessengerBubble.react","ReasonReact.bs"],(function(a,b,c,d,e,f){function a(a){return b("react").createElement(b("MessengerBubble.react"),a)}f.MessengerBubbleTypeChecked=a;c=function(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerBubble.react"),{attachments:a,body:c,className:d},e)};f.make=c}),null);
__d("MessengerTypingIndicatorReact.bs",["cx","bs_block","bs_curry","Image.bs","React","bs_caml_obj","immutable","MercuryIDs","bs_belt_Option","CurrentUser","ReasonReact.bs","bs_js_primitive","MessengerPersonas.bs","MessengerParticipants.bs","WorkForeignEntityType","MessengerBubbleReact.re","MercuryTypingAnimationReact.bs","MessengerProfileImageWrapperReact.bs"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").reducerComponent("MessengerTypingIndicatorReact");function a(a,c,d,e){__p&&__p();var f=function(c,a){return b("bs_js_primitive").nullable_to_opt(b("MessengerParticipants.bs").getMulti([a],function(d){b("bs_curry")._1(c[3],b("bs_block").__(0,[b("bs_js_primitive").undefined_to_opt(d[a])]));return 0}))},g=function(){if(c==null)return void 0;else{var a=b("MercuryIDs").getUserIDFromParticipantID(c);if(a==null)return void 0;else return b("bs_js_primitive").nullable_to_opt(b("MessengerPersonas.bs").getNow(a))}};return[h[0],h[1],h[2],h[3],function(a){var d=a[1][0];if(d!==void 0||c==null)return 0;else{d=b("MessengerParticipants.bs").getNow(c);if(d==null)return b("bs_curry")._1(a[3],b("bs_block").__(1,[f(a,c)]));else return b("bs_curry")._1(a[3],b("bs_block").__(0,[d==null?void 0:b("bs_js_primitive").some(d)]))}},function(a){__p&&__p();a=a[1];var d=a[1][1][0],e=a[1][0];if(d!==void 0)return 0;else{if(e!==void 0&&(c==null||b("bs_caml_obj").caml_equal(b("bs_js_primitive").valFromOption(e).id,c)))return 0;else d=1;if(d===1)if(c==null)return 0;else return b("bs_curry")._1(a[3],b("bs_block").__(1,[f(a,c)]))}},function(a){a=a[1][1][0];if(a!==void 0)return b("MessengerParticipants.bs").removeCallback(b("bs_js_primitive").valFromOption(a));else return 0},h[7],function(c){__p&&__p();var d=g(0);if(c[1][0]===void 0&&d===void 0)return null;else{var e=c[1][0];d=d!==void 0?b("bs_js_primitive").valFromOption(d).profile_picture_url:e!==void 0?b("bs_js_primitive").nullable_to_opt(b("bs_js_primitive").valFromOption(e).image_src):void 0;e=b("bs_belt_Option").flatMap(b("bs_belt_Option").flatMap(c[1][0],function(a){return b("bs_js_primitive").nullable_to_opt(a.work_foreign_entity_info)}),function(a){return b("bs_js_primitive").some(a.type)});e=e!==void 0?b("CurrentUser").isWorkUser()&&b("bs_caml_obj").caml_equal(b("bs_js_primitive").valFromOption(e),b("WorkForeignEntityType").FOREIGN):!1;c=c[1][0];return b("React").createElement("div",{className:"_1t_p _1hbw"},b("React").createElement("div",{className:"_1t_q"},b("ReasonReact.bs").element(void 0,void 0,b("MessengerProfileImageWrapperReact.bs").make(void 0,void 0,c!==void 0?b("bs_js_primitive").valFromOption(c).is_messenger_user:!1,void 0,void 0,void 0,void 0,32,void 0,"_1t_r",e,[d!==void 0?b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,d,32,void 0,32,void 0,[])):b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,void 0,32,void 0,32,void 0,[]))]))),b("React").createElement("div",{className:"_41ud"},b("React").createElement("div",{className:"_o46 _3erg _29_7"},b("ReasonReact.bs").element(void 0,a,b("MessengerBubbleReact.re").make(b("immutable").List([b("ReasonReact.bs").element("animation",void 0,b("MercuryTypingAnimationReact.bs").make(void 0,[]))]),"","_3058",[])))))}},function(){return[c==null?void 0:b("bs_js_primitive").nullable_to_opt(b("MessengerParticipants.bs").getNow(c)),[void 0]]},h[10],function(a,c){if(a.tag){c[1][0]=a[0];return 0}else{c[1][0]=void 0;return b("bs_block").__(0,[[a[0],c[1]]])}},h[12]]}c=32;f.component=h;f.cIMAGE_SIZE=c;f.make=a}),null);
__d("MessengerTypingIndicatorReact.re",["bs_curry","MessengerTypingIndicatorReact.bs","ReasonReact.bs"],(function(a,b,c,d,e,f){a=b("ReasonReact.bs").wrapReasonForJs(b("MessengerTypingIndicatorReact.bs").component,function(a){return b("bs_curry")._4(b("MessengerTypingIndicatorReact.bs").make,a.setBubbleRef,a.userID,a.showName,a.children)});f.component=a;f["default"]=a}),null);
__d("MessengerViewerContactMethodsWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1868889766468115"};b.getQueryID=function(){return"177554543035925"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerConversation.react",["ix","csx","cx","fbt","Bootloader","BootloadOnRender.react","ChatTypingIndicatorsWrapper.bs","CSS","CurrentUser","DOM","DOMDimensions","ErrorBoundary.react","Event","EventProfiler","FantaPageGreetingLoader.react","Image.react","ImmutableObject","JSResource","KeyEventController","LazyComponent.react","Link.react","MercuryActionType","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerActions","MessengerAttachmentRenderer","MessengerBootloadedLogMessage.react","MessengerButtonReact.bs","MessengerCollapsedLogMessageGroup.react","MessengerContextBannerContainer.react","MessengerDateBreak.react","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerMessageGroup.react","MessengerNewMessagesNoticeReact.bs","MessengerPlatformSubscriptionMessageClassification","MessengerQuickCamOrigins","MessengerQuickReplyUtils","MessengerReadReceipt.bs","MessengerSpinner.react","MessengerThreadFetchLoggerUtil","MessengerTypingIndicatorReact.re","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","MessengerViewerContactMethodsWebGraphQLQuery","Parent","React","ReactDOM","SubscriptionsHandler","UserActivity","WebGraphQL","WebMessengerConstants","WorkBotLandingPageHelper","asset","emptyFunction","getPageIDFromThreadID","gkx","ifRequired","immutable","joinClasses","lazyLoadComponent","promiseDone","setImmediate","setTimeout","throttle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("ChatTypingIndicatorsWrapper.bs").jsComponent,l=b("MessengerButtonReact.bs").jsComponent,m=b("MessengerNewMessagesNoticeReact.bs").jsComponent,n=b("MessengerTypingIndicatorReact.re").component,o=b("WorkBotLandingPageHelper").shouldShowBotLandingPage;b("immutable").OrderedMap;a=b("React").PropTypes;var p=20,q=100,r=1e3,s=200,t=b("gkx")("833128"),u=b("lazyLoadComponent")(b("JSResource")("WorkChatBotConversationGreetingContainer.react").__setRef("MessengerConversation.react"));function v(a,c){return!!(b("KeyEventController").filterEventTypes(a,c)&&b("KeyEventController").filterEventModifiers(a,c)&&a.target instanceof Element&&b("Parent").bySelector(a.target,"._4_j4"))}var w={};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={readReceipts:x(d.props),scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:d.props.thread?d.props.thread.unread_count:0,width:0,viewerEmail:null,viewerPhone:null,shouldJumpToMessage:!1,isLandingPageDismissed:!1,renderScrollToBottom:!1},d.$1=null,d.$2=null,d.$3=null,d.$5=[],d.$6={originalScrollHeight:0,originalScrollTop:0},d.$16=function(){__p&&__p();var a=d.$18();if(!d.refs||!a||d.props.isLoading){d.$5=[];return}var c=b("getPageIDFromThreadID")(d.props.threadID),e=d.refs.messageList;if(!e||!c){d.$5=[];return}var f=10,g=a.getElement().getBoundingClientRect(),h=[];d.$4.forEach(function(a){var e=a.message_id,i=d.refs.messageList.getMessageElement(e);if(i){i=i.getBoundingClientRect();i.top>g.top-f&&i.bottom<g.bottom+f&&(h.push(e),d.$5.includes(e)||b("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,d){b.log(a.ad_client_token,a.ad_id,d.MESSAGE_SEEN_THREAD,!0,e,c)},"MessengerConversation.react"))}},babelHelpers.assertThisInitialized(d));d.$5=h},d.$19=function(){b("MessengerThreadFetchLoggerUtil").markerEnd(d.props.threadID,"SUCCESS"),d.$19=b("emptyFunction")},d.$38=function(){var a;return((a=d.props.contact)==null?void 0:a.user_type)==="page"&&b("getPageIDFromThreadID")(d.props.threadID)!==null},d.$40=function(){d.state.renderScrollToBottom?(d.scrollToBottom(!0),d.setState({renderScrollToBottom:!1})):b("MessengerActions").changeMid(null)},d.$39=function(){d.setState({isLandingPageDismissed:!0})},d.$9=function(){var a=d.$18();a&&a.pageUp();return!1},d.$10=function(){var a=d.$18();a&&a.pageDown();return!1},d.$11=function(a){if(a.target===document.body){d.scrollToTop();return!1}return null},d.$12=function(a){if(a.target===document.body){d.scrollToBottom();return!1}return null},d.$15=function(){__p&&__p();if(!d.refs)return;if(!d.refs.scrollable)return;var a=d.$18(),c=d.refs.quickReply;c&&b("CSS").conditionClass(c,"_1mzg",!d.isScrolledToBottom());d.$13();d.$14();a&&d.state.unreadCount&&d.$25(a)&&d.setState({showUnreadNotice:!1,unreadCount:0});a&&a.isScrolledToBottom()&&d.setState({renderScrollToBottom:!1});d.$42(a);d.$43(a);d.$8()},d.$41=function(a){a.preventDefault(),d.setState({showUnreadNotice:!1}),d.$21(!0)},d.$14=function(){if(d.props.messages.size===0||d.props.thread&&d.props.thread.unread_count===0||!d.isScrolledToBottom())return;b("UserActivity").isOnTab()&&b("UserActivity").isActive()?d.props.onRead(d.props.threadID):d.$3||(d.$3=b("UserActivity").subscribe(function(){b("UserActivity").isOnTab()&&(d.$17(),d.props.onRead(d.props.threadID))}))},d.handleResize=function(){__p&&__p();if(!d.refs)return;if(d.refs.scrollable){d.refs.scrollable.handleResize();var a=b("DOMDimensions").getElementDimensions(b("ReactDOM").findDOMNode(d.refs.scrollable)).width;a!==d.state.width&&d.setState({width:a})}a=d.refs.quickReply;a&&b("CSS").conditionClass(a,"_1mzg",!d.isScrolledToBottom());d.trackBottomIfRequired()},d.$36=function(a){d.props.messages.some(function(b){return b.message_id===a})?d.$23(a,!0):(d.setState({shouldJumpToMessage:!0}),b("MessengerActions").changeMid(a))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.handleResize,50)),b("KeyEventController").registerKey("PAGE_UP",this.$9,v),b("KeyEventController").registerKey("PAGE_DOWN",this.$10,v),b("KeyEventController").registerKey("HOME",this.$11,v),b("KeyEventController").registerKey("END",this.$12,v));this.$2=a;this.$13();this.handleResize();this.$14();this.$7=b("throttle")(this.$15,q);this.$8=b("throttle")(this.$16,r);this.$4=this.props.messages.filter(function(a){return a.is_sponsored});this.$8()};d.UNSAFE_componentWillReceiveProps=function(a){var b=a.threadID!==this.props.threadID;b&&(this.$17(),this.setState({scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:a.thread?a.thread.unread_count:0,isLandingPageDismissed:!1}));(b||a.messages!==this.props.messages)&&(this.$4=a.messages.filter(function(a){return a.is_sponsored}));this.setState({readReceipts:x(a)})};d.componentWillUnmount=function(){this.$17(),this.$2&&this.$2.release(),this.$1!=null&&window.clearTimeout(this.$1)};d.UNSAFE_componentWillUpdate=function(a){a=this.$18();a?this.$6={originalScrollHeight:a.getScrollHeight(),originalScrollTop:a.getScrollTop()}:this.$6={originalScrollHeight:0,originalScrollTop:0}};d.componentDidUpdate=function(a,c){__p&&__p();var d=this;if(!this.refs)return;if(!this.refs.scrollable)return;(!this.props.isLoading||!this.props.messages.isEmpty())&&this.$19();c=this.props.threadID!==a.threadID;if(c||y(a,this.props))this.scrollToBottom(),this.$20();else{var e=this.$18();if(e){var f=e.getScrollHeight();if(f!==this.$6.originalScrollHeight){f=e.getScrollHeight()-this.$6.originalScrollHeight+this.$6.originalScrollTop;this.refs.scrollable.scrollToPosition(f)}else this.$20()}}this.props.messages!==a.messages&&(this.$14(),this.state.scrollingToUnreadMessage&&this.$21(!1),this.$22());e=this.props.selectedMessage;this.state.shouldJumpToMessage&&e&&this.$23(e,!0,function(){d.setState({shouldJumpToMessage:!1})});this.$1=b("setTimeout")(function(){var a=d.$18();d.trackBottomIfRequired();a&&d.state.unreadCount&&!d.state.scrollingToUnreadMessage&&!d.props.isLoading&&d.props.selectedMessage==null&&(d.$24()||(d.$25(a)?d.setState({showUnreadNotice:!1,unreadCount:0}):d.props.messages.size==1&&d.props.messages.last().log_message_type!==null?d.setState({showUnreadNotice:!1,unreadCount:0}):d.setState({showUnreadNotice:!0})));d.$13();d.$8()},0);f=a.messages&&a.messages.size||0;e=this.props.messages&&this.props.messages.size||0;(c||f===0&&(e>0||!this.props.isLoading))&&b("EventProfiler").informManualInteractionTimestamp(["MessengerThredRow"],!0,"click")};d.render=function(){__p&&__p();var a=this;if(this.props.isLoading&&this.props.messages.isEmpty())return this.$26();var c=this.props.messages.last(),d=b("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),e=this.$27(c),f=this.$28(c);this.$29(c);d=c&&c.author!==d?e||f:null;e=null;if(Array.isArray(d)){f=d.every(function(b){return b.content_type==="user_email"&&a.state.viewerEmail===null||b.content_type==="user_phone_number"&&a.state.viewerPhone===null});if(!f){f=b("MessengerQuickReplyUtils").localizeTitleIfNecessary(d);e=b("React").createElement(b("BootloadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{options:f,threadID:c.thread_id,onVoiceClipCreate:this.props.onVoiceClipCreate,viewer:this.props.viewer,quickCamOriginLocation:b("MessengerQuickCamOrigins").MESSENGER,messageId:c.message_id,pageId:b("MercuryIDs").getUserIDFromParticipantID(c.author),isMessengerAdPreview:this.props.isMessengerAdPreview,isSponsored:c.is_sponsored,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone}),loader:b("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MessengerConversation.react"),placeholder:b("React").createElement("div",null)})}}d=null;f=null;e&&(d=b("React").createElement("div",{className:"_51op"},b("React").createElement("div",{className:"_51oq",onResize:this.handleResize})),f=b("React").createElement("div",{ref:"quickReply",className:"_1mzb",onResize:this.handleResize},e));c=j._("Messages");e=j._("Charger plus...");var g=this.$30();return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("MessengerFlexScrollableArea.react"),{className:this.props.className,flexChildren:this.$31(),footerChildren:f,onMount:function(){return b("setImmediate")(a.$14)},onScroll:this.props.useManualFetch?void 0:this.$7,ref:"scrollable",shouldStickToBottom:!0,tabIndex:0,bottomOffset:this.props.bottomOffset},b("React").createElement("div",{"aria-label":c,className:b("joinClasses")("__i_"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2k":""),this.props.innerClassName),role:"region"},b("React").createElement("h3",{className:"accessible_elem"},c),this.$32(),this.props.useManualFetch&&!this.props.upExhausted?b("React").createElement("div",{className:"_7fim"},b("React").createElement(l,{className:"_41jf",label:e,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP)},type:"primary",use:"default"})):null,this.$33(),this.$34()&&b("React").createElement(b("FantaPageGreetingLoader.react"),{thread:this.props.thread,threadID:this.props.threadID}),g||b("React").createElement(b("MessageList.react"),{DateBreak:b("MessengerDateBreak.react"),deliveryTimestamp:this.props.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:b("MessengerBootloadedLogMessage.react"),CollapsedLogMessageGroup:b("MessengerCollapsedLogMessageGroup.react"),MessageGroup:b("MessengerMessageGroup.react"),messages:this.props.messages,onAttachmentLoad:this.$35(this.props.threadID),onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.state.readReceipts,ref:"messageList",location:b("MercuryShareAttachmentRenderLocations").MESSENGER,viewer:this.props.viewer,thread:this.props.thread,scrollToRepliedMessage:this.$36}),this.props.useManualFetch&&!this.props.downExhausted?b("React").createElement("div",{className:"_7fim"},b("React").createElement(l,{className:"_41jf",label:e,onClick:function(){return a.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN)},type:"primary",use:"default"})):null,b("React").createElement(k,{indicatorClass:n,indicatorsDidShow:function(){a.trackBottomIfRequired()},rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer}),b("gkx")("678591")&&b("React").createElement(b("ErrorBoundary.react"),{project:"omnim"},b("React").createElement(b("BootloadOnRender.react"),{loader:b("JSResource")("OmniMSuggestionsContainer.react").__setRef("MessengerConversation.react"),placeholder:b("React").createElement("div",null),component:b("React").createElement(b("LazyComponent.react"),{threadID:this.props.threadID,trackBottom:function(){return a.trackBottomIfRequired()}})})),d)),this.$37())};d.$30=function(){if(!b("CurrentUser").isWorkUser())return null;if(!this.$38())return null;if(this.state.isLandingPageDismissed===!0)return null;return this.props.contact&&o(this.props.messages)?b("React").createElement(b("React").Suspense,{fallback:b("React").createElement(b("MessengerSpinner.react"),null)},b("React").createElement(u,{contact:this.props.contact,threadID:this.props.threadID,onDismiss:this.$39})):null};d.$37=function(){var a=this.$18();if(a){a=a.getElement().getBoundingClientRect().height;a=a-74;a+="px";a={top:a}}else a={bottom:"15%"};return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?b("React").createElement(b("Link.react"),{style:a,className:"_69xg",onClick:this.$40},b("React").createElement(b("Image.react"),{className:"_69xi",src:g("415099")})):null};d.$27=function(a){var c=null;a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);var d=a&&a.message_classification===b("MessengerPlatformSubscriptionMessageClassification").AD_MESSAGE;d&&Array.isArray(a&&a.quick_replies)&&(c=a&&a.quick_replies);return c};d.$28=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};d.$13=function(){if(this.props.useManualFetch)return;var a=this.$18();a&&a.getScrollTop()<p&&(this.props.fetchMessages(b("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP),this.$22())};d.$29=function(a){__p&&__p();var c=this;a=this.$28(a);if(!a)return;a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&b("promiseDone")(b("WebGraphQL").exec(new(b("MessengerViewerContactMethodsWebGraphQLQuery"))({})),function(a){var b;b=(b=a)!=null?(b=b.viewer)!=null?(b=b.user)!=null?b.all_phones:b:b:b;a=(a=a)!=null?(a=a.viewer)!=null?a.all_emails:a:a;var d=b?b.find(function(a){return a.is_preferred}):null;!d&&b&&(d=b[0]);b=a?a.find(function(a){return a.is_primary}):null;c.setState({viewerEmail:(a=b)!=null?a.display_email:a,viewerPhone:(b=d)!=null?(b=b.phone_number)!=null?b.universal_number:b:b})})};d.isScrolledToBottom=function(){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom())};d.isScrolledToBottomWithHeight=function(a){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(a))};d.$31=function(){return b("React").createElement(m,{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} messages non lus","_1":"1 message non lu"},[j._plural(this.state.unreadCount,"number")]),onClick:this.$41})};d.$32=function(){return!this.props.isLoaded||this.props.hideContextBanner?null:b("React").createElement(b("MessengerContextBannerContainer.react"),{location:b("MercuryShareAttachmentRenderLocations").MESSENGER,thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer})};d.$33=function(){return this.props.isLoaded?null:b("React").createElement("div",{className:"_2k8v"},this.props.isLoading?b("React").createElement(b("MessengerSpinner.react"),null):null)};d.$26=function(){return b("React").createElement("div",{className:"_4xu0"},b("React").createElement(b("MessengerSpinner.react"),{className:"_4xu1",size:b("MessengerSpinner.react").large_size}))};d.trackBottomIfRequired=function(){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired()};d.scrollToBottom=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};d.scrollToTop=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};d.$35=function(a){var b=this;if(w[a])return w[a];var c=function(){if(b.props.threadID!==a)return;b.trackBottomIfRequired()};w[a]=c;return c};d.$20=function(){var a=this;b("DOM").scry(b("ReactDOM").findDOMNode(this),"img").forEach(function(c){if(c.complete)return;var d=a.props.threadID,e=b("Event").listen(c,"load",function(){a.props.threadID===d&&a.trackBottomIfRequired(),e.remove()})})};d.$44=function(){var a=this.props.messages,b=this.state.unreadCount;return!b||b>a.size?null:a.get(a.size-b)};d.$25=function(a){__p&&__p();var b=this,c=this.props.messages,d=this.$44();if(!d)return!1;var e=a.getElement().getBoundingClientRect();return c.filter(function(a){return a&&a.timestamp<=d.timestamp}).some(function(a){a=b.refs.messageList.getMessageElement(a.message_id);if(!a)return!1;a=a.getBoundingClientRect();return a.bottom>e.top&&a.top<e.bottom})};d.$45=function(a){return!!this.props.messages.find(function(b){return b.message_id===a})};d.$24=function(){__p&&__p();if(t&&this.state.unreadCount<s){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);var a=this.refs.messageList.getNewMessageDivider(),c=this.$18();if(!a||!c)return!1;a=a.getBoundingClientRect().top;var d=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,e=c.getElement().getBoundingClientRect();if(a<e.top){a=a+Math.abs(d)-e.height*.2;c.setScrollTop(a,!1);this.setState({renderScrollToBottom:!0});return!0}}return!1};d.$21=function(a){__p&&__p();var b=this;if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:!0});var c=this.$44();if(!c){this.scrollToTop(!1);return}this.$23(c.message_id,a,function(){b.setState({scrollingToUnreadMessage:!1,unreadCount:0})})};d.$23=function(a,c,d){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=this.refs.messageList.getMessageElement(a,!0);var e=this.$18();if(!a||!e)return;a=a.getBoundingClientRect().top;var f=b("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,g=e.getElement().getBoundingClientRect().height;a=a+Math.abs(f)-g/2;e.setScrollTop(a,c,{callback:d})};d.$18=function(){if(!this.refs)return;return this.refs.scrollable&&this.refs.scrollable.getArea()};d.$17=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};d.$46=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleVideoAttachment(a)||b("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id})};d.$42=function(a){__p&&__p();var c=this.refs.messageList;if(!c||!a)return;var d=[];a=a.getElement().getBoundingClientRect();var e=b("MessengerVideoAutoplayStore").getMessageIDs(this.props.threadID),f=e||this.$46()||b("immutable").List();f.map(function(a){var e=b("MessengerAttachmentRenderer").getVideoElem(a,c);e&&d.push([a,e.getBoundingClientRect()])});d.length&&b("MessengerVideoAutoplayActions").onScroll(this.props.threadID,e?null:f,b("immutable").Map(d),a)};d.$47=function(){return this.props.messages.filter(function(a){return b("MessengerAttachmentRenderer").isSingleSphericalPhotoAttachment(a)}).map(function(a){return a.message_id})};d.$43=function(a){__p&&__p();var c=this;b("ifRequired")("MessengerSphericalRendererActions",function(d){__p&&__p();b("ifRequired")("MessengerSphericalRendererStore",function(e){__p&&__p();var f=c.refs.messageList;if(!f||!a)return;var g=[],h=a.getElement().getBoundingClientRect();e=e.getMessageIDs(c.props.threadID);e=e||c.$47()||b("immutable").List();e.map(function(a){var c=b("MessengerAttachmentRenderer").getSphericalPhotoElem(a,f);c&&g.push([a,c.getBoundingClientRect()])});g.length&&d.onScroll(c.props.threadID,e,b("immutable").Map(g),h)},function(){})},function(){})};d.$22=function(){var a=this;b("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$46());var c=this.$47();c&&c.count()!==0&&b("ifRequired")("MessengerSphericalRendererActions",function(b){b.updateStore(a.props.threadID,c)},function(){b("Bootloader").loadModules(["MessengerSphericalRendererActions","MessengerSphericalRendererStore"],function(b,d){b.updateStore(a.props.threadID,c)},"MessengerConversation.react")})};d.$34=function(){if(b("CurrentUser").isWorkUser())return!1;if(this.props.messages.size!==0)return!1;return!b("gkx")("793458")?!1:!0};return c}(b("React").PureComponent);c.propTypes={contact:a.instanceOf(b("ImmutableObject")),deliveryTimestamp:a.number.isRequired,downExhausted:a.bool,fetchMessages:a.func.isRequired,hideContextBanner:a.bool,innerClassName:a.string,isCanonical:a.bool,isLoaded:a.bool,isLoading:a.bool,isMessengerAdPreview:a.bool,messages:a.instanceOf(b("immutable").List).isRequired,onVoiceClipCreate:a.func,onReplyToMessage:a.func,readReceipts:a.any,thread:a.object,threadID:a.string.isRequired,upExhausted:a.bool,useManualFetch:a.bool,viewer:a.string.isRequired,selectedMessage:a.string,isSearchResult:a.bool};function x(a){__p&&__p();var c=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),d=b("MessengerReadReceipt.bs").getSeenTimestamps(a.readReceipts,a.threadID),e=new Set(a.thread?a.thread.participants:d.keys());e["delete"](c);var f=null;b("immutable").Seq(a.messages).reverse().forEach(function(a){if(a.action_type!==b("MercuryActionType").LOG_MESSAGE){f=a;return!1}return!0});return d.withMutations(function(c){__p&&__p();b("immutable").Seq(a.messages).reverse().forEach(function(a){__p&&__p();if(e.size===0)return!1;if(!e.has(a.author))return;c.update(a.author,function(b){if(!b)return void 0;var c=b;b.watermark<=a.timestamp&&(c={watermark:a.timestamp,action:a.timestamp});f&&f.timestamp<c.watermark&&(c={watermark:f.timestamp,action:f.timestamp});return c});e["delete"](a.author)})})}function y(a,c){var d=b("MercuryIDs").getParticipantIDFromUserID(c.viewer);return c.threadID===a.threadID&&c.messages!==a.messages&&!c.messages.isEmpty()&&c.messages.last()!==a.messages.last()&&c.messages.last().author===d}e.exports=c}),null);
__d("MessengerAudioAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"phone",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"Fill-11",d:"M12.8546683,23.0915802 C10.2003459,20.4371382 8.18827548,17.4933995 7.18895039,14.801598 C6.11677282,11.9134196 6.30082118,9.54827444 7.70754499,8.14106577 C8.38574404,7.46332572 9.22115105,6.9556194 9.80301228,6.64860076 C10.1768605,6.45174482 10.6202062,6.44887101 10.9902201,6.6495587 C12.2608248,7.33735708 14.2542027,9.8624776 14.6055242,11.228016 C14.6980277,11.5867632 14.6266131,11.9694589 14.4094936,12.2774354 L12.8029047,14.5630718 C12.7056083,14.7019726 12.682123,14.8820647 12.7415553,15.0406032 C13.4096892,16.8233229 14.2192144,18.3129141 15.9254961,20.01852 C17.6303399,21.7246049 19.1209399,22.5340612 20.904867,23.2027008 C21.0635129,23.2625718 21.2432476,23.2391024 21.3822424,23.1413929 L23.6205389,21.5679822 C23.9339963,21.3476569 24.313596,21.2868279 24.6572488,21.3696894 C26.1948195,21.7356211 28.7992956,23.6898115 29.3811568,24.9135753 C29.5474713,25.2637011 29.5388441,25.6674713 29.3576715,26.0209499 C29.0993327,26.5267404 28.5534185,27.4875506 27.8018877,28.2395308 C24.2474537,31.7915592 16.8807262,27.1187451 12.8546683,23.0915802",fill:a})))}f.make=a}),null);
__d("MessengerAudioUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"phone-missed",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-4",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"new",d:"M21.3821106,23.1416542 L23.6204291,21.5682415 C23.9343688,21.3479158 24.313493,21.2866078 24.6571492,21.3694694 C26.194735,21.7354016 28.7997159,23.6900735 29.3811036,24.9138389 C29.5474198,25.2639652 29.5387924,25.667257 29.3580973,26.0212149 C29.0997561,26.5265271 28.5538364,27.4878176 27.8022982,28.2393197 C24.24735,31.7918318 16.8805501,27.1185326 12.8549319,23.0918414 C10.200104,20.437396 8.18849316,17.4931744 7.18915824,14.8013694 C6.11649083,11.9131872 6.3010203,9.54803895 7.70775794,8.14130741 C8.38548436,7.4630875 9.22137889,6.95538051 9.80276654,6.64884044 C10.1766185,6.45150527 10.6199685,6.44911042 10.989986,6.64931941 C12.2610825,7.33759766 14.2544801,9.86224252 14.605805,11.2282617 C14.6978301,11.5865304 14.6264148,11.9692265 14.4097724,12.2776825 L12.8031678,14.5633219 C12.7053911,14.7017439 12.6823849,14.8818362 12.7418177,15.0403749 C13.4099582,16.823097 14.2194914,18.3126901 15.9253105,20.0182982 C17.6306504,21.7243853 19.1212651,22.5343216 20.9047304,23.2029622 C21.0633779,23.2623543 21.2435936,23.2388848 21.3821106,23.1416542 M29.7074342,7.70752502 L25.9144427,11.4999687 L29.7074342,15.2929126 C30.0975219,15.6835613 30.0975219,16.3168024 29.7069347,16.7074511 C29.3163475,17.0975996 28.6835163,17.0975996 28.2929291,16.7069509 L24.4999376,12.9145072 L20.7074455,16.7069509 C20.3168583,17.0975996 19.6835276,17.0975996 19.2929404,16.7074511 C18.9023532,16.3168024 18.9023532,15.6835613 19.2929404,15.2929126 L23.0859319,11.4999687 L19.2929404,7.70752502 C18.9023532,7.31687631 18.9023532,6.68363525 19.2929404,6.29348672 L19.2929404,6.29298653 C19.6835276,5.90233782 20.3168583,5.90233782 20.7074455,6.29298653 L24.4999376,10.0859304 L28.2929291,6.29298653 C28.6835163,5.90233782 29.3163475,5.90233782 29.7069347,6.29298653 L29.7074342,6.29348672 C30.0975219,6.68363525 30.0975219,7.31687631 29.7074342,7.70752502",fill:a})))}f.make=a}),null);
__d("MessengerForeignUserCompanyNameReact.bs",["React","ReasonReact.bs","bs_js_primitive"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ReasonReact.bs").statelessComponent("MessengerForeignUserCompanyNameReact");function a(a,c,d){return[g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],function(){if(c!==void 0){var d={};a!==void 0&&(d.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("span",d,c)}else return null},g[9],g[10],g[11],g[12]]}f.component=g;f.make=a}),null);
__d("MessengerInfoIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"info-circle",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Group"},b("React").createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"Fill-17",d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a}))))}f.make=a}),null);
__d("MessengerInfoPanelButtonReact.bs",["ix","cx","Image.bs","React","asset","CurrentUser","ReasonReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={height:"32px",width:"32px"};function j(a){return b("React").createElement("svg",{viewBox:"0 0 64 64"},b("React").createElement("g",void 0,b("React").createElement("g",void 0,b("React").createElement("path",{style:{fill:a},d:"M32,10c-12.2,0-22,9.8-22,22s9.8,22,22,22s22-9.8,22-22S44.2,10,32,10z M32,19c1.6,0,3,1.4,3,3s-1.4,3-3,3 c-1.6,0-3-1.4-3-3S30.4,19,32,19z M36,45h-2h-4h-2v-1h2V29h-2v-1h2h4v1v15h2V45z"}))))}function k(a){var c={fill:a};return b("React").createElement("svg",{style:{stroke:a},viewBox:"0 0 64 64"},b("React").createElement("g",void 0,b("React").createElement("polygon",{style:c,points:"34,44 34,29 34,28 30,28 28,28 28,29 30,29 30,44 28,44 28,45 30,45 34,45 36,45 36,44"}),b("React").createElement("circle",{style:c,cx:"32",cy:"22",r:"3"})),b("React").createElement("path",{style:{fill:"none",stroke:a,strokeMiterlimit:"10",strokeWidth:"2"},d:"M32,11c11.6,0,21,9.4,21,21s-9.4,21-21,21s-21-9.4-21-21S20.4,11,32,11z"}))}function a(a,c){var d=b("CurrentUser").isWorkUser();if(d)return b("React").createElement("div",{className:"_2phz"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,c?g("413962"):g("413953"),void 0,void 0,void 0,void 0,[])));else return b("React").createElement("div",{style:i},c?k(a):j(a))}f.svgWrapperStyle=i;f.selected=j;f.notSelected=k;f.make=a}),null);
__d("MessengerPresenceStatusReact.bs",["fbt","React","ReasonReact.bs","bs_js_primitive"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("ReasonReact.bs").statelessComponent("MessengerPresenceStatusReact");function i(a,c,d,e,f){return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){var f,h=0;c&&e!==void 0?f=g._("Actif sur {platform}",[g._param("platform",e)]):h=1;h===1&&(f=d!==void 0?g._("En ligne il y a {time}",[g._param("time",d)]):null);h={};a!==void 0&&(h.className=b("bs_js_primitive").valFromOption(a));return b("React").createElement("div",h,f)},h[9],h[10],h[11],h[12]]}a=b("ReasonReact.bs").wrapReasonForJs(h,function(a){return i(b("bs_js_primitive").nullable_to_opt(a.className),a.isUserActive,b("bs_js_primitive").nullable_to_opt(a.lastActive),b("bs_js_primitive").nullable_to_opt(a.platform),[])});f.component=h;f.make=i;f.jsComponent=a}),null);
__d("MessengerRTCGroupCallContactListItem.react",["cx","fbt","ix","FBRTCParticipantCallState","Image.react","Link.react","MessengerContactImageReact.bs","React","RTWebStrings","emptyFunction"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerContactImageReact.bs").jsComponent,k=(a={},a[b("FBRTCParticipantCallState").DISCONNECTED]=b("RTWebStrings").disconnected,a[b("FBRTCParticipantCallState").NO_ANSWER]=b("RTWebStrings").noAnswer,a[b("FBRTCParticipantCallState").REJECTED]=b("RTWebStrings").noAnswer,a[b("FBRTCParticipantCallState").UNREACHABLE]=b("RTWebStrings").unreachable,a[b("FBRTCParticipantCallState").CONNECTION_DROPPED]=b("RTWebStrings").connectionDropped,a[b("FBRTCParticipantCallState").CONTACTING]=b("RTWebStrings").contacting,a[b("FBRTCParticipantCallState").RINGING]=b("RTWebStrings").ringing,a[b("FBRTCParticipantCallState").CONNECTING]=b("RTWebStrings").connecting,a[b("FBRTCParticipantCallState").CONNECTED]=b("RTWebStrings").connected,a[b("FBRTCParticipantCallState").PARTICIPANT_LIMIT_REACHED]=b("RTWebStrings").participantLimitReached,a[b("FBRTCParticipantCallState").IN_ANOTHER_CALL]=b("RTWebStrings").inAnotherCall,a),l=32;c=function(a){var c=a.isSelected,d=a.onClick,e=a.user,f=a.dataTestID;a=a.participantState;return b("React").createElement(b("Link.react"),{"aria-checked":c,className:"_4nvn",onClick:o(a)?b("emptyFunction"):d,"data-testid":f,role:"checkbox"},b("React").createElement(j,{className:"_4nvr",isMessengerUser:e.isMessengerUser,isPartiesUser:e.isPartiesUser,size:l,src:e.profilePictureUrl}),b("React").createElement("div",{className:"_4nvs"},b("React").createElement("div",{className:"_4nvt"},b("React").createElement("div",{className:"_4nv_"},e.userName),b("React").createElement(m,{user:e,participantState:a})),b("React").createElement(n,{isSelected:c,participantState:a})))};var m=function(a){var c=a.user;a=a.participantState;if(a){a=k[a.state]||h._("Inconnu");return b("React").createElement("div",{className:"_4nw0"},a)}return c.vanity?b("React").createElement("div",{className:"_4nw0"},"@",c.vanity):null},n=function(a){var c=a.isSelected;a=a.participantState;if(o(a))return b("React").createElement("div",{className:"_1j79"},h._("En conversation"));else if(c)return b("React").createElement("div",{className:"_1j79"},b("React").createElement(b("Image.react"),{src:i("86852")}));return null};function o(a){if(!a)return!1;switch(a.state){case b("FBRTCParticipantCallState").CONTACTING:case b("FBRTCParticipantCallState").RINGING:case b("FBRTCParticipantCallState").CONNECTING:case b("FBRTCParticipantCallState").CONNECTED:return!0;default:return!1}}e.exports=c}),null);
__d("MessengerRTCGroupCallContactList.react",["cx","MessengerRTCGroupCallContactListItem.react","MessengerScrollableArea.react","React","VideoCallWebDriverIDs","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){var c=a.isParticipantSelected,d=a.onClick,e=a.remoteUsers;a=a.participantStates;var f=a===void 0?b("immutable").Map():a;a=e.map(function(a){return b("React").createElement(b("MessengerRTCGroupCallContactListItem.react"),{isSelected:c.get(a.FBID),key:a.FBID,onClick:function(){return d(a.FBID)},user:a,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CONTACT_LIST_ITEM+a.FBID,participantState:f.get(a.FBID)})});return b("React").createElement(b("MessengerScrollableArea.react"),{className:"_12zw"},a)};e.exports=a}),null);
__d("MessengerRTCGroupCallRingParticipantsRow.react",["cx","fbt","React","intlList"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){a=a.names;return b("React").createElement("div",{className:"_1wsd"},b("React").createElement("div",{className:"_1wse"},h._("Sonnerie\u00a0:")),b("React").createElement("div",{className:"_1wsg"},b("intlList")(a,b("intlList").CONJUNCTIONS.NONE)))};e.exports=a}),null);
__d("MercuryThreadTitle_DEPRECATED.react",["fbt","MercuryIDs","MercuryParticipantListRenderer","MessengerParticipants.bs","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.state={participantNames:""},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.$1=!0,this.$2(this.props)};d.componentWillUnmount=function(){this.$1=!1};d.componentDidUpdate=function(a){a!==this.props&&this.$2(this.props)};d.render=function(){return b("React").createElement("span",{className:this.props.className},this.props.thread.name?this.$3():this.state.participantNames,this.props.children)};d.getTitle=function(){return this.state.participantNames};d.$3=function(){var a=this.props.thread,c=this.props.maxTitle?this.props.maxTitle<a.name.length?a.name.slice(0,this.props.maxTitle)+"...":a.name:a.name;c=b("React").createElement(b("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:c});return!a.unread_count||!this.props.showUnreadCount?c:this.$4(c,a.unread_count)};d.$2=function(a){__p&&__p();var c=this;if(a.thread.name)return;this.setState({participantNames:""});var d=b("MercuryIDs").getParticipantIDFromUserID(a.viewer),e=a.thread.participants||[];e.length>1&&(e=e.filter(function(a){return a!=d}));b("MessengerParticipants.bs").getMulti(e,function(d){__p&&__p();if(!c.$1)return;var f=e.map(function(a){return d[a]}),g=a.thread.custom_nickname?{}:null,h=b("MessengerTextWithEmoticons.react");if(g)for(var i in a.thread.custom_nickname)g[i]=b("React").createElement(h,{renderEmoticons:!0,renderEmoji:!0,text:a.thread.custom_nickname[i]});h=new(b("MercuryParticipantListRenderer"))().setUseShortName(a.useShortName).setUseAndSeparator(a.useAndSeparator).setIsNewThread(a.isNewThread).setNickname(g).renderParticipantList(f);g=a.showUnreadCount&&a.thread.unread_count?c.$4(h,a.thread.unread_count):h;c.setState({participantNames:g})})};d.$4=function(a,b){return g._("{conversation-title} ({unread-count})",[g._param("conversation-title",a),g._param("unread-count",b)])};return c}(b("React").Component);a.defaultProps={isNewThread:!1,showUnreadCount:!1,useShortName:!1,useAndSeparator:!1};e.exports=a}),null);
__d("MessengerRTCGroupCallThreadRow.react",["cx","fbt","MercuryParticipantsImage.react","MercuryThreadTitle_DEPRECATED.react","MessengerProfileImageWrapperReact.bs","MessengerThreadImageReact.bs","React","RTCCallTitle.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("MessengerProfileImageWrapperReact.bs").jsComponent,j=b("MessengerThreadImageReact.bs").jsComponent,k=function(){return b("React").createElement("div",{className:"_1apf"},h._("Les personnes que vous ajoutez \u00e0 cette vid\u00e9o de groupe verront les messages pr\u00e9c\u00e9dents de cette conversation."))},l=function(){return b("React").createElement("div",{className:"_1ydy"},h._("Vous \u00eates sur le point d\u2019appeler des personnes que vous avez bloqu\u00e9es."))};a=function(a){var c=a.thread,d=a.displayAddMemberWarning,e=a.displayBlockedMemberWarning,f=a.participants,g=a.viewerID;babelHelpers.objectWithoutPropertiesLoose(a,["thread","displayAddMemberWarning","displayBlockedMemberWarning","participants","viewerID"]);return b("React").createElement("div",{className:"_5y31"},c&&c.image_src?b("React").createElement(j,{className:"_5y32",participants:f,thread:c,viewer:g}):b("React").createElement(i,{className:"_5y32",showBadge:!1},b("React").createElement(b("MercuryParticipantsImage.react"),{participants:Object.keys(f.toJS()),size:50})),b("React").createElement("div",{className:"_5y34"},c&&c.name?b("React").createElement(b("MercuryThreadTitle_DEPRECATED.react"),{className:"_5y37",thread:c,viewer:g}):b("React").createElement(b("RTCCallTitle.react"),{className:"_5y37",participants:f,viewer:g}),d?b("React").createElement(k,null):null,e?b("React").createElement(l,null):null))};e.exports=a}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialog.react",["cx","fbt","invariant","FBRTCCore","ImmutableObject","MessengerDialog.react","MessengerDialogButton.react","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.re","MessengerDialogTitleReact.re","MessengerRTCGroupCallContactList.react","MessengerRTCGroupCallRingParticipantsRow.react","MessengerRTCGroupCallThreadRow.react","React","RTCUser","RTWebLoggingCallType","RTWebLoggingComponent","RTWebLoggingSurface","RTWebUserActionLogger","URI","VideoCallWebDriverIDs","gkx","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("MessengerDialogHeaderReact.re").component,k=b("MessengerDialogTitleReact.re").component;a=b("React").PropTypes;var l=460,m=5;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={isParticipantSelected:d.props.participants.mapEntries(function(a){var b=a[0];a=a[1];return[a.fbid?a.fbid:b,d.props.participants.size<=m]})};d.$3=function(){b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:b("RTWebLoggingCallType").MW,conferenceName:d.props.conferenceName,surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:b("RTWebLoggingComponent").CANCEL})};d.$6=function(a){var c=!d.state.isParticipantSelected.get(a);d.setState(function(b){return{isParticipantSelected:b.isParticipantSelected.set(a,c)}});b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:b("RTWebLoggingCallType").MW,conferenceName:d.props.conferenceName,surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:c?b("RTWebLoggingComponent").PARTICIPANT_ROW_SELECT:b("RTWebLoggingComponent").PARTICIPANT_ROW_UNSELECT})};d.$4=function(){var a=d.$2().map(function(a){return a.fbid});b("RTWebUserActionLogger").logPreCallClick({mediaType:b("RTWebUserActionLogger").getMediaType(!d.props.hasVideo),callType:b("RTWebLoggingCallType").MW,conferenceName:d.props.conferenceName,surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:b("RTWebLoggingComponent").START_CALL});d.props.handleCall?d.props.handleCall(a):b("FBRTCCore").startGroupCall({conferenceName:d.props.conferenceName,hasVideo:d.props.hasVideo,trigger:d.props.trigger,usersToRing:a});d.props.onUnmount()};c=d.props.participants.valueSeq().toArray().map(function(a){var c=a.big_image_src||a.image_src;a.fbid||i(0,1174);return new(b("RTCUser"))({FBID:a.fbid,profileUrl:new(b("URI"))(a.href),profilePictureUrl:c,isMessengerUser:!!a.is_messenger_user,isPartiesUser:!!a.is_parties_user,userName:a.name,userShortName:a.short_name,vanity:a.vanity||""})});d.$1=c.sort(function(a,b){return a.userName.localeCompare(b.userName)});return d}var d=c.prototype;d.componentDidMount=function(){b("RTWebUserActionLogger").logPreCallImpression({mediaType:b("RTWebUserActionLogger").getMediaType(!this.props.hasVideo),callType:b("RTWebLoggingCallType").MW,conferenceName:this.props.conferenceName,surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG}),b("RTWebUserActionLogger").logImpression({surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:b("RTWebLoggingComponent").CANCEL}),b("RTWebUserActionLogger").logImpression({surface:b("RTWebLoggingSurface").GROUP_CALL_PARTICIPANT_PICKER_DIALOG,component:b("RTWebLoggingComponent").START_CALL})};d.render=function(){var a=this,c=this.props,d=c.participants,e=c.thread;c=c.viewerID;var f=this.$2();return b("React").createElement(b("MessengerDialog.react"),{onToggle:function(){a.props.onUnmount&&a.props.onUnmount()},type:"default",width:l},b("React").createElement("div",{className:"_2m1r"},b("React").createElement(j,null,b("React").createElement(b("MessengerDialogCancelButton.react"),{onClick:this.$3,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CANCEL_BUTTON}),b("React").createElement(k,{autofocus:!0},h._("Appeler les membres du groupe")),b("React").createElement(b("MessengerDialogButton.react"),{label:h._("Appeler"),onClick:this.$4,dataTestID:b("VideoCallWebDriverIDs").RTC_PICKER_DIALOG_CALL_BUTTON,disabled:f.length===0,type:"primary",use:"default"})),b("React").createElement(b("MessengerRTCGroupCallThreadRow.react"),{displayBlockedMemberWarning:b("gkx")("678352")?this.$5(f):!1,participants:d,thread:e,viewerID:c}),b("React").createElement(b("MessengerRTCGroupCallRingParticipantsRow.react"),{names:f.map(function(a){a=a.name;return a}).sort(function(a,b){return a.localeCompare(b)})}),b("React").createElement(b("MessengerRTCGroupCallContactList.react"),{remoteUsers:this.$1,isParticipantSelected:this.state.isParticipantSelected,onClick:this.$6})))};d.$5=function(a){return a.some(function(a){return a.is_messenger_blocked||a.is_facebook_blocked})};d.$2=function(){var a=this;return this.props.participants.filter(function(b,c){return a.state.isParticipantSelected.get(b.fbid?b.fbid:c)}).toArray()};return c}(b("React").Component);c.propTypes={participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")),viewerID:a.string.isRequired,trigger:a.string.isRequired,conferenceName:a.string.isRequired,hasVideo:a.bool.isRequired,handleCall:a.func,onUnmount:a.func.isRequired};e.exports=c}),null);
__d("MessengerRTCGroupCallParticipantsPickerDialogController",["DOM","MessengerRTCGroupCallParticipantsPickerDialog.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";a={_container:b("DOM").create("div"),render:function(a){var c=this,d=a.participants,e=a.thread,f=a.viewerID,g=a.trigger,h=a.conferenceName,i=a.hasVideo;a=a.handleCall;b("ReactDOM").render(b("React").createElement(b("MessengerRTCGroupCallParticipantsPickerDialog.react"),{participants:d,thread:e,viewerID:f,trigger:g,conferenceName:h,hasVideo:i,handleCall:a,onUnmount:function(){return c._onUnmount()}}),this._container)},_onUnmount:function(){b("ReactDOM").unmountComponentAtNode(this._container)}};e.exports=a}),null);
__d("MessengerRTCUnavailableDialog.react",["fbt","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","MessengerDialogs.bs","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogBodyReact.bs").jsComponent,i=b("MessengerDialogHeaderReact.re").component;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("MessengerDialog.react"),{onToggle:this.$1},b("React").createElement(i,null,g._("Appel impossible")),b("React").createElement(h,null,this.$2()),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogButton.react"),{action:"cancel",label:g._("OK"),type:"primary"})))};d.$2=function(){return b("React").createElement("div",null,g._("{name} n\u2019est pas disponible pour le moment.",[g._param("name",this.props.name)]))};d.$1=function(a){a||b("MessengerDialogs.bs").removeDialog()};return c}(b("React").Component);c.propTypes={name:a.string.isRequired};e.exports=c}),null);
__d("XWorkplaceMarketingDefaultController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/workplace/{?*path}/",{path:{type:"String",defaultValue:""},ref:{type:"String"}})}),null);
__d("MessengerRTCGroupCallUnsupportedBrowserDialog.react",["fbt","CurrentUser","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MessengerDialogBodyReact.bs").jsComponent,i=b("MessengerDialogHeaderReact.re").component;a=function(a){var c=a.browserName,d=a.hasVideo,e=a.onUnmount;a=a.hideDialog;return b("React").createElement(b("MessengerDialog.react"),{onToggle:e},b("React").createElement(i,null,j(d)),b("React").createElement(h,null,k(c,d,a)),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogButton.react"),{label:g._("OK"),onClick:a,type:"primary"})))};function j(a){return a?g._("Changez de navigateur pour passer des appels vid\u00e9os de groupe"):g._("Changez de navigateur pour passer des appels de groupe")}function k(a,c,d){return b("CurrentUser").isWorkUser()?g._({"video call":"Malheureusement, notre fonctionnalit\u00e9 Workplace Chat ne prend pas encore en charge {browser name, i.e. Internet Explorer or Safari}. Pour lancer un appel vid\u00e9o de groupe, utilisez {link to install chrome} ou l\u2019app {link to install Workplace chat desktop}.","call":"Malheureusement, notre fonctionnalit\u00e9 Workplace Chat ne prend pas encore en charge {browser name, i.e. Internet Explorer or Safari}. Pour lancer un appel vid\u00e9o de groupe, utilisez {link to install chrome} ou l\u2019app {link to install Workplace chat desktop}."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",l(d)),g._param("link to install Workplace chat desktop",m(d))]):g._({"video call":"Malheureusement, notre fonctionnalit\u00e9 d\u2019appel de groupe ne prend pas encore en charge {browser name, i.e. Internet Explorer or Safari}. Pour lancer un appel vid\u00e9o de groupe, utilisez {link to install chrome}.","call":"Malheureusement, notre fonctionnalit\u00e9 d\u2019appel de groupe ne prend pas encore en charge {browser name, i.e. Internet Explorer or Safari}. Pour passer un appel de groupe, utilisez {link to install chrome}."},[g._param("browser name, i.e. Internet Explorer or Safari",a),g._enum(c?"video call":"call",{"video call":"video call",call:"call"}),g._param("link to install chrome",l(d))])}function l(a){return b("React").createElement(b("Link.react"),{onClick:a,href:"https://www.google.com/chrome/index.html",target:"_blank"},"Google Chrome")}function m(a){var c=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return b("React").createElement(b("Link.react"),{onClick:a,href:c,target:"_blank"},"Workplace Chat")}e.exports=a}),null);
__d("MessengerRTCUnsupportedBrowserDialog.react",["cx","fbt","CurrentUser","FBRTCConfig","Link.react","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogButton.react","MessengerDialogFooter.react","MessengerDialogHeaderReact.re","React","XWorkplaceMarketingDefaultController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDialogBodyReact.bs").jsComponent,j=b("MessengerDialogHeaderReact.re").component;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.browserName,d=a.hasVideo,e=a.onUnmount;a=a.hideDialog;return b("React").createElement(b("MessengerDialog.react"),{onToggle:e},b("React").createElement(j,null,h._("Changer de navigateur pour passer des appels")),b("React").createElement(i,null,this.$1(c,d)),b("React").createElement(b("MessengerDialogFooter.react"),null,b("React").createElement(b("MessengerDialogButton.react"),{className:"_30vt",label:h._("En savoir plus"),onClick:a,type:"secondary",href:b("FBRTCConfig").unsupportedBrowserUrl(),target:"_blank"}),b("React").createElement(b("MessengerDialogButton.react"),{label:h._("OK"),onClick:a,type:"primary"})))};d.$1=function(a,c){if(b("CurrentUser").isWorkUser())return h._({"video calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels vid\u00e9o. Pour passer un appel, ouvrez Workplace Chat dans {link to install chrome}, {link to install firefox} ou l\u2019application {link to install Workplace chat desktop}.","calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels. Pour passer un appel, ouvrez Workplace Chat dans {link to install chrome}, {link to install firefox} ou l\u2019application {link to install Workplace chat desktop}."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3()),h._param("link to install Workplace chat desktop",this.$4())]);else return h._({"video calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels vid\u00e9o. Pour passer un appel, ouvrez Messenger dans {link to install chrome} ou {link to install firefox}.","calling":"Malheureusement, {browser name, i.e. Internet Explorer or Safari} n\u2019est pas encore compatible avec notre fonctionnalit\u00e9 d\u2019appels. Pour passer un appel, ouvrez Messenger dans {link to install chrome} ou {link to install firefox}."},[h._param("browser name, i.e. Internet Explorer or Safari",a),h._enum(c?"video calling":"calling",{"video calling":"video calling",calling:"calling"}),h._param("link to install chrome",this.$2()),h._param("link to install firefox",this.$3())])};d.$2=function(){return b("React").createElement(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.google.com/chrome/index.html",target:"_blank"},"Google Chrome")};d.$3=function(){return b("React").createElement(b("Link.react"),{onClick:this.props.hideDialog,href:"https://www.mozilla.org/en-US/firefox/new/",target:"_blank"},"Mozilla Firefox")};d.$4=function(){var a=b("XWorkplaceMarketingDefaultController").getURIBuilder().setString("path","chat-app").setString("ref","rtc_unsupported_dialog").getURI();return b("React").createElement(b("Link.react"),{onClick:this.props.hideDialog,href:a,target:"_blank"},"Workplace Chat")};return c}(b("React").Component);e.exports=a}),null);
__d("MessengerRTCUnsupportedBrowserDialogController",["fbt","MessengerDialogs.bs","MessengerRTCGroupCallUnsupportedBrowserDialog.react","MessengerRTCUnsupportedBrowserDialog.react","React","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={_dialog:null,_handleToggle:function(a){a||b("MessengerDialogs.bs").removeAllDialogs()},hideDialog:function(){b("MessengerDialogs.bs").removeAllDialogs()},_browserName:function(){if(b("UserAgent").isBrowser("Firefox"))return g._("Firefox");else if(b("UserAgent").isBrowser("IE"))return g._("Internet Explorer");else if(b("UserAgent").isBrowser("Safari"))return g._("Safari");else return g._("votre navigateur")},render:function(a){var c=this,d=a.hasVideo,e=a.isGroupCall;b("MessengerDialogs.bs").showDialog(function(){return e?b("React").createElement(b("MessengerRTCGroupCallUnsupportedBrowserDialog.react"),{browserName:c._browserName(),hasVideo:d,hideDialog:c.hideDialog,onUnmount:c._handleToggle}):b("React").createElement(b("MessengerRTCUnsupportedBrowserDialog.react"),{browserName:c._browserName(),hasVideo:d,hideDialog:c.hideDialog,onUnmount:c._handleToggle})})},dismiss:b("MessengerDialogs.bs").removeAllDialogs};e.exports=a}),null);
__d("RTCCallState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_ONGOING_CALL:"NO_ONGOING_CALL",AUDIO_GROUP_CALL:"AUDIO_GROUP_CALL",VIDEO_GROUP_CALL:"VIDEO_GROUP_CALL"})}),null);
__d("MessengerRTCInvokeHandler",["invariant","MercuryIDs","MercuryThreadIDMap","MessengerDialogs.bs","MessengerRTCUnavailableDialog.react","MNRTCCallabilityStore","React","RTCCallState","FBRTCLogger","RTWebLoggingCallType","RTWebLoggingSurface","RTWebUserActionLogger","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("MercuryThreadIDMap").get(),i=b("FBRTCLogger").Trigger;a={isCallable:function(a,c){var d;if(b("MercuryIDs").isGroupChat(a))d=!0;else{a=b("MercuryIDs").getUserIDFromThreadID(a);d=a!=null?b("MNRTCCallabilityStore").isCallable(a,c):!1}return d},handleStartCall:function(a,c,e,f,k,l,m){__p&&__p();m?b("MercuryIDs").isGroupChat(a)?(b("RTWebUserActionLogger").logPreCallClick({conferenceName:c.thread_fbid!=null?"GROUP:"+c.thread_fbid:null,surface:b("RTWebLoggingSurface").MESSENGER_HEADER,component:b("RTWebUserActionLogger").getAudioVideoComponent(!e),callType:b("RTWebLoggingCallType").MW,mediaType:b("RTWebUserActionLogger").getMediaType(!e)}),d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController","MessengerRTCGroupCallParticipantsPickerDialogController"],function(d,g,l,m){__p&&__p();var n=c.rtc_call_data,o=b("MercuryIDs").isGroupChat(a)&&k.size===1;if(n&&(n.call_state!==b("RTCCallState").NO_ONGOING_CALL&&n.server_info_data||o)){d.startGroupCall({conferenceName:"GROUP:"+b("nullthrows")(c.thread_fbid),hasVideo:e,serverInfoData:n.server_info_data,trigger:o?e?i.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON:n.call_state!==b("RTCCallState").AUDIO_GROUP_CALL?e?i.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_JOIN_AUDIO_CALL_AUDIO_BUTTON:e?i.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_JOIN_VIDEO_CALL_AUDIO_BUTTON});return}if(!g.isGroupCallWebtrcSupported()){j(a,c,e);l.render({hasVideo:e,isGroupCall:!0});return}var p=function(a){m.render({participants:k.filter(function(a){a=a.fbid;return a!==f}),thread:c,viewerID:f,trigger:e?i.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:i.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,conferenceName:"GROUP:"+a,hasVideo:e})};b("MercuryIDs").isLocalThread(a)?h.getServerIDFromClientID(a,function(a){return p(a)}):p(b("MercuryIDs").getThreadFBIDFromThreadID(a))})):d(["FBRTCCore","FBRTCSupport","MessengerRTCUnsupportedBrowserDialogController"],function(d,f,h){if(!f.isWebrtcSupported()){j(a,c,e);h.render({hasVideo:e,isGroupCall:!1});return}f=b("MercuryIDs").getUserIDFromThreadID(a);f!=null||g(0,2744);h=e?"messenger_dot_com_video_call":"messenger_dot_com_audio_call";d.startOutgoingCall(f,h,!e)}):(j(a,c,e),b("MessengerDialogs.bs").showDialog(function(){return b("React").createElement(b("MessengerRTCUnavailableDialog.react"),{name:l})}))}};function j(a,c,d){b("RTWebUserActionLogger").logError({callType:b("MercuryIDs").isGroupChat(a)?b("RTWebLoggingCallType").MW:b("RTWebLoggingCallType").P2P,conferenceName:c.thread_fbid!=null?"GROUP:"+c.thread_fbid:null,mediaType:b("RTWebUserActionLogger").getMediaType(!d),errorDomain:"unsupported browser"})}e.exports=a}),null);
__d("MessengerVideoAvailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"camcorder",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-8",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"original",d:"M20,27 L9,27 C6.791,27 5,25.209 5,23 L5,13 C5,10.791 6.791,9 9,9 L20,9 C22.209,9 24,10.791 24,13 L24,23 C24,25.209 22.209,27 20,27 M30.5525,23.3995 L26.829,21.536 C26.321,21.282 26,20.762 26,20.193 L26,15.808 C26,15.2395 26.321,14.719 26.829,14.465 L30.5525,12.6015 C31.218,12.269 32,12.753 32,13.497 L32,22.504 C32,23.2485 31.218,23.732 30.5525,23.3995",fill:a})))}f.make=a}),null);
__d("MessengerVideoUnavailableIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"32px",width:"32px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"camcorder-cross",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("polygon",{id:"Fill-1",points:"0 36 36 36 36 0 0 0"}),b("React").createElement("path",{id:"original",d:"M6.52219159,23.73575 C6.00847773,24.24975 5.008035,24.00175 5.008035,23.01175 L5.008035,13.00725 C5.008035,10.79725 6.79803794,9.00525 9.00680761,9.00525 L19.1191748,9.00575 C19.9062364,9.00575 20.3005168,9.95775 19.7438269,10.51425 L6.52219159,23.73575 Z M27.1966755,8.70725 L24.589128,11.31625 C24.2143368,11.69125 24.0039539,12.19925 24.0039539,12.72875 L24.0019551,23.01175 C24.0019551,25.22175 22.2149504,27.00675 20.0061808,27.00675 L9.73590149,27.00675 C9.20569683,27.00675 8.69698019,27.21725 8.32218896,27.59225 L5.20642449,30.70925 C4.81614189,31.10025 4.18249484,31.10025 3.79271195,30.70925 C3.40242935,30.31875 3.40242935,29.68575 3.79271195,29.29525 L25.782963,7.29325 C26.1727459,6.90225 26.8063929,6.90225 27.1966755,7.29325 C27.5869581,7.68375 27.5869581,8.31725 27.1966755,8.70725 Z M30.5533058,23.41125 L26.8308793,21.54725 C26.3226624,21.29275 26.0018411,20.77225 26.0018411,20.20375 L26.0018411,15.81625 C26.0018411,15.24725 26.3226624,14.72725 26.8308793,14.47275 L30.5533058,12.60875 C31.2179356,12.27575 32,12.75975 32,13.50425 L32,22.51575 C32,23.25975 31.2179356,23.74425 30.5533058,23.41125 Z",fill:a})))}f.make=a}),null);
__d("MessengerRTCVideoCallButtonReact.bs",["ix","cx","fbt","Image.bs","React","asset","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerDotComAndInboxM4Check.bs","MessengerVideoAvailableIconSVGM4React.bs","MessengerVideoUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={height:"32px",width:"32px"},k=b("ReasonReact.bs").statelessComponent("MessengerRTCVideoCallButtonReact");function l(a,c,d,e){__p&&__p();return[k[0],k[1],k[2],k[3],function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(d),component:b("RTWebLoggingComponent").AUDIO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER});return 0},k[5],k[6],k[7],function(){__p&&__p();var e=d?i._("D\u00e9marrez une discussion vid\u00e9o de groupe"):i._("D\u00e9marrez une discussion vid\u00e9o"),f=b("React").createElement("div",{"aria-label":e,className:"_2phz"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470488"),void 0,e,void 0,void 0,[]))),h;if(b("MessengerDotComAndInboxM4Check.bs").yes)h=b("React").createElement("div",{"aria-label":e,style:j,title:e},c?b("MessengerVideoAvailableIconSVGM4React.bs").make(a):b("MessengerVideoUnavailableIconSVGM4React.bs").make(a));else{var k=c?a:"#888888";k={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:k,strokeMiterlimit:"10",strokeWidth:"2"};h=b("React").createElement("div",{"aria-label":e,style:j,title:e},b("React").createElement("svg",{style:k,viewBox:"0 0 64 64"},b("React").createElement("title",void 0,e),b("React").createElement("g",void 0,b("React").createElement("g",void 0,b("React").createElement("path",{d:"M47,27.8v7.5l9,4.5V23.2L47,27.8z M37.2,17H13.8C10.6,17,8,19.6,8,22.8v17.4c0,3.2,2.6,5.8,5.8,5.8h23.3\nc3.2,0,5.8-2.6,5.8-5.8V22.8C43,19.6,40.4,17,37.2,17z"})))))}k=b("VideoCallWebDriverIDs").START_VIDEO_CALL;e=b("CurrentUser").isWorkUser();return b("React").cloneElement(e?f:h,{"data-testid":k})},k[9],k[10],k[11],k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.customColor,a.isAvailable,a.isGroupChat,[])});f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=j;f.component=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerRTCVoiceCallButtonReact.bs",["ix","cx","fbt","Image.bs","React","asset","CurrentUser","ReasonReact.bs","RTWebUserActionLogger","MessengerDotComAndInboxM4Check.bs","MessengerAudioAvailableIconSVGM4React.bs","MessengerAudioUnavailableIconSVGM4React.bs","VideoCallWebDriverIDs","RTWebLoggingComponent","RTWebLoggingSurface"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={height:"32px",width:"32px"},k=b("ReasonReact.bs").statelessComponent("MessengerRTCVoiceCallButtonReact");function l(a,c,d,e){__p&&__p();return[k[0],k[1],k[2],k[3],function(){b("RTWebUserActionLogger").logImpression({callType:b("RTWebUserActionLogger").getCallType(d),component:b("RTWebLoggingComponent").VIDEO_CALL,surface:b("RTWebLoggingSurface").MESSENGER_HEADER});return 0},k[5],k[6],k[7],function(){__p&&__p();var e=d?i._("D\u00e9marrez un appel de groupe"):i._("D\u00e9marrer un appel vocal"),f=b("React").createElement("div",{"aria-label":e,className:"_2phz"},b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,void 0,void 0,void 0,g("470545"),void 0,e,void 0,void 0,[]))),h;if(b("MessengerDotComAndInboxM4Check.bs").yes)h=b("React").createElement("div",{"aria-label":e,style:j,title:e},c?b("MessengerAudioAvailableIconSVGM4React.bs").make(a):b("MessengerAudioUnavailableIconSVGM4React.bs").make(a));else{var k=c?a:"#888888";k={clipRule:"evenodd",fill:"none",fillRule:"evenodd",stroke:k,strokeMiterlimit:"10",strokeWidth:"2"};h=b("React").createElement("div",{"aria-label":e,style:j,title:e},b("React").createElement("svg",{style:k,viewBox:"0 0 64 64"},b("React").createElement("title",void 0,e),b("React").createElement("path",{d:"M48.3,50.5c-7.7,6.5-24.2-10-24.5-10.3C23.5,39.9,7,23.4,13.5,15.7c4.8-5.7,6.3-3.4,7-2.7\nc0.6,0.5,5.7,7.8,6,9.2c0.3,1.4-2.4,4.6-2.2,5.9c0.2,1.2,3.6,5,5.1,6.5c1.5,1.5,5.3,4.9,6.5,5.1c1.2,0.2,4.4-2.5,5.9-2.2\nc1.4,0.3,8.7,5.4,9.2,6C51.6,44.2,54,45.7,48.3,50.5z"})))}k=b("VideoCallWebDriverIDs").START_VOICE_CALL;e=b("CurrentUser").isWorkUser();return b("React").cloneElement(e?f:h,{"data-testid":k})},k[9],k[10],k[11],k[12]]}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(a.customColor,a.isAvailable,a.isGroupChat,[])});f.videoCallWebDriverIDs=b("VideoCallWebDriverIDs");f.rtWebLoggingComponent=b("RTWebLoggingComponent");f.rtWebLoggingSurface=b("RTWebLoggingSurface");f.svgWrapperStyle=j;f.component=k;f.make=l;f.jsComponent=a}),null);
__d("MessengerRTCCallButton.react",["ImmutableObject","Link.react","MercuryIDs","MessengerRTCInvokeHandler","MessengerRTCVideoCallButtonReact.bs","MessengerRTCVoiceCallButtonReact.bs","MNRTCCallabilityStore","React","StoreAndPropBasedStateMixin","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("MessengerRTCVideoCallButtonReact.bs").jsComponent,h=b("MessengerRTCVoiceCallButtonReact.bs").jsComponent;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerRTCCallButton",mixins:[b("StoreAndPropBasedStateMixin")(b("MNRTCCallabilityStore"))],statics:{calculateState:function(a){return{isCallable:b("MessengerRTCInvokeHandler").isCallable(a.threadID,a.thread)}}},propTypes:{className:a.string.isRequired,customColor:a.string.isRequired,isVideo:a.bool.isRequired,participants:a.instanceOf(b("immutable").Map).isRequired,thread:a.instanceOf(b("ImmutableObject")).isRequired,threadID:a.string.isRequired,viewer:a.string.isRequired,calleeName:a.string.isRequired},render:function(){var a={customColor:this.props.customColor,isAvailable:this.state.isCallable,isGroupChat:b("MercuryIDs").isGroupChat(this.props.threadID)};return b("React").createElement(b("Link.react"),{className:this.props.className,onClick:this._handleStartCall},this.props.isVideo?b("React").createElement(g,a):b("React").createElement(h,a))},_handleStartCall:function(a){a.preventDefault(),b("MessengerRTCInvokeHandler").handleStartCall(this.props.threadID,this.props.thread,this.props.isVideo,this.props.viewer,this.props.participants,this.props.calleeName,this.state.isCallable)}});e.exports=c}),null);
__d("MessengerRTCCallButtonReact.bs",["ReasonReact.bs","MessengerRTCCallButton.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){return b("ReasonReact.bs").wrapJsForReason(b("MessengerRTCCallButton.react"),{className:a,customColor:c,isVideo:d,participants:e,thread:f,threadID:g,viewer:h,calleeName:i},j)}f.make=a}),null);
__d("MontageThreadViewContainer.react",["CurrentUser","JSResource","React","gkx","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("lazyLoadComponent")(b("JSResource")("MessengerStateMontageThreadView.react").__setRef("MontageThreadViewContainer.react")),h=b("lazyLoadComponent")(b("JSResource")("MontageThreadViewContainerImpl.react").__setRef("MontageThreadViewContainer.react"));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();if(b("gkx")("678586")&&!this.props.shouldUseRelay){var a=b("CurrentUser").getID();if(this.props.montageData!=null&&this.props.participants!=null){var c=this.props.montageData,d=this.props.participants;d=Array.from(d.values()).map(function(a){return a.fbid!=null?a.fbid:""}).filter(function(b){return b!==a});var e=d.length===0;e=e?c[a]:c[d[0]];return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(g,{montageData:e?e:[]}))}return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(g,{montageData:[]}))}return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(h,this.props))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("MontageThreadViewContainerReact.bs",["ReasonReact.bs","bs_js_null_undefined","MontageThreadViewContainer.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){return b("ReasonReact.bs").wrapJsForReason(b("MontageThreadViewContainer.react"),{threadID:a,montageData:c,onResize:b("bs_js_null_undefined").fromOption(f),participants:d,shouldUseRelay:e},g)}f.make=a}),null);
__d("WorkChatDoNotDisturbStatusReact.bs",["ReasonReact.bs","WorkChatDoNotDisturbStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){var g=b("WorkChatDoNotDisturbStatus").component;if(g==null){var h=b("ReasonReact.bs").statelessComponent("WorkChatDoNotDisturbStatusReact.re");return[h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],function(){return null},h[9],h[10],h[11],h[12]]}else return b("ReasonReact.bs").wrapJsForReason(g,{className:a,thread:c,isDoNotDisturb:d,description:e},f)}f.make=a}),null);
__d("messengerCalculateTruncationState",["Style"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();if(!e||!c)return;f=f?f.offsetWidth:0;e=Math.ceil(.5*(a.offsetWidth+e.offsetWidth));var g=a.offsetWidth-d.offsetWidth-12;if(e<=g)b("Style").set(a,"text-align","center"),b("Style").set(c,"width","auto"),b("Style").set(c,"margin-left","auto");else{document.body.dir==="rtl"?b("Style").set(a,"text-align","right"):(b("Style").set(a,"text-align","left"),b("Style").set(c,"margin-left",f+"px"));e=Math.max(a.offsetWidth-f-d.offsetWidth-11,0);b("Style").set(c,"width",e+"px")}}e.exports=a}),null);
__d("MessengerDetailViewHeaderReact.bs",["cx","fbt","FBID.bs","bs_curry","Event","React","gkx","Bootload.bs","ReactDOM","debounce","LinkReact.bs","Bootloader","bs_belt_Option","CurrentUser","ReasonReact.bs","FBRTCSupport","bs_js_primitive","MercuryConfig","MessengerDomIDs.bs","bs_js_null_undefined","MercuryThreadInfo","MessageRequestUtils","MessagingThreadType","WorkForeignEntityInfo.bs","MercuryParticipantTypes","MercuryThreadTitleReact.bs","MessengerLocalTimeReact.bs","MessengerCustomColorUtils.bs","MessengerJoinableModeType","MessengerWebDriverTestIDs","MessengerInfoIconSVGM4React.bs","MessengerRTCCallButtonReact.bs","MessengerThreadImageM4React.bs","MessengerPresenceStatusReact.bs","MessengerInfoPanelButtonReact.bs","MessengerDotComAndInboxM4Check.bs","MontageThreadViewContainerReact.bs","WorkChatDoNotDisturbStatusReact.bs","messengerCalculateTruncationState","MessengerForeignUserCompanyNameReact.bs"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){b("Bootloader").loadModules(["BootloadableMessengerUserControlsButtonReact.bs"],a,"MessengerDetailViewHeaderReact.bs");return 0}c=[a];var i=b("Bootload.bs").Create(c);function j(a){var c=b("bs_js_null_undefined").fromOption(a[0][0]),d=b("bs_js_null_undefined").fromOption(a[1][0]),e=b("bs_js_null_undefined").fromOption(a[2][0]),f=b("bs_js_null_undefined").fromOption(a[3][0]);a=b("bs_js_null_undefined").fromOption(a[4][0]);return b("messengerCalculateTruncationState")(c,d,e,f,a)}function k(a,c){c[1][3][0]=a==null?void 0:b("bs_js_primitive").some(b("ReactDOM").findDOMNode(a));return 0}function l(a,c){c[1][1][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function m(a,c){c[1][0][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function n(a,c){c[1][2][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function o(a,c){c[1][4][0]=a==null?void 0:b("bs_js_primitive").some(a);return 0}function p(a,c,d,e){if(a.has_montage&&b("MercuryConfig").MontageThreadViewer&&!b("gkx")("686397"))return b("React").createElement("div",{ref:b("bs_curry")._1(e[0],o),className:"_1cwz"},b("ReasonReact.bs").element(void 0,void 0,b("MontageThreadViewContainerReact.bs").make(a.thread_id,c,d,!1,void 0,[])));else return null}function q(a,c,d,e){__p&&__p();if(b("CurrentUser").isWorkUser()||a===void 0)return null;else{a=b("bs_js_primitive").valFromOption(a);var f=a.contact.user_type===b("MercuryParticipantTypes").PAGE;if(f){f=e[1][5][0];if(f!==void 0){e=a.contact.is_messenger_blocked;a=a.contact.fbid;f=b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._7(f[9],"_3xb9 _30yy",b("MercuryThreadInfo").isMuted(c),e,a,c.thread_id,d,[]))}else f=null;return b("React").createElement("li",void 0,f)}else return null}}function r(a,c){c=c.filter(function(b,c,d){if(b==null)return!1;else return b.fbid!==a});var d=c.count();c=c.first();if(d!==1||c==null)return null;else return b("ReasonReact.bs").element(void 0,void 0,b("MessengerLocalTimeReact.bs").make("_5eu7",b("bs_js_primitive").nullable_to_opt(c.timezone),[]))}function s(a,c){__p&&__p();var d=!b("FBRTCSupport").isMobileDevice();a=a!==void 0?b("bs_js_primitive").valFromOption(a).contact.user_type===b("MercuryParticipantTypes").PAGE:!1;var e=c!==void 0?b("bs_js_primitive").valFromOption(c).joinable_mode===b("MessengerJoinableModeType").JOINABLE:!1;if(c!==void 0){var f=b("bs_js_primitive").valFromOption(c);f=(f.participants.length>1||f.thread_type===b("MessagingThreadType").GROUP)&&b("MercuryThreadInfo").canReply(f)&&!b("MessageRequestUtils").isMessageRequest(f)}else f=!1;c=c!==void 0?b("bs_js_primitive").valFromOption(c).thread_type===b("MessagingThreadType").MARKETPLACE:!1;if(d&&!a&&!e&&f)return!c;else return!1}var t=b("MessengerDotComAndInboxM4Check.bs").yes?"_17w2 _6ybr":"_17w2",u=b("MessengerDotComAndInboxM4Check.bs").yes?"_5743 _6y4y":"_5743",v=b("MessengerDotComAndInboxM4Check.bs").yes?"_fl2 _6ymr":"_fl2",w=b("ReasonReact.bs").reducerComponent("MessengerDetailViewHeaderReact");function x(a,c,d,e,f,g,o,x,y){__p&&__p();var z=function(c){if(s(a,g)&&g!==void 0){var d=b("bs_js_primitive").valFromOption(g),e=d.thread_id;return b("React").createElement("li",void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerRTCCallButtonReact.bs").make("_30yy",b("MessengerCustomColorUtils.bs").customColorOrBlue(d),!1,f,d,e,c,a!==void 0?b("bs_js_primitive").valFromOption(a).contact.name:"",[])))}else return null},A=function(c){__p&&__p();if(s(a,g)&&g!==void 0){var d=b("bs_js_primitive").valFromOption(g),e=d.thread_id;if(a!==void 0){var h=b("bs_js_primitive").valFromOption(a).isUserActive;h=h?"_3qfl":""}else h="";return b("React").createElement("li",void 0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerRTCCallButtonReact.bs").make("_30yy",b("MessengerCustomColorUtils.bs").customColorOrBlue(d),!0,f,d,e,c,a!==void 0?b("bs_js_primitive").valFromOption(a).contact.name:"",[])),b("React").createElement("div",{className:h}))}else return null};if(a!==void 0){y=b("bs_js_primitive").valFromOption(a).availabilityStatusData;y=y==null?[!1,""]:[y.isDoNotDisturb,y.description]}else y=[!1,""];var B=y[1],C=y[0],D=a!==void 0?!b("WorkForeignEntityInfo.bs").isCoworker(b("bs_js_primitive").valFromOption(a).contact):!1,E=function(){var a=b("gkx")("678573");if(a)return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatDoNotDisturbStatusReact.bs").make("_6f6k",b("bs_js_null_undefined").fromOption(g),C,B,[]));else return null},F=function(){if(a!==void 0){var c=b("bs_js_primitive").valFromOption(a);return[!0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerPresenceStatusReact.bs").make("_2v6o",c.isUserActive,b("bs_js_primitive").nullable_to_opt(c.lastActive),b("bs_js_primitive").nullable_to_opt(c.platform),[]))]}else return[!1,null]},G=function(){if(!b("CurrentUser").isWorkUser()||!D||a===void 0)return[!1,null];else{var c=b("bs_js_primitive").valFromOption(a),d=c.contact.company_name;if(d==null)return[!1,null];else return[!0,b("ReasonReact.bs").element(void 0,void 0,b("MessengerForeignUserCompanyNameReact.bs").make("_6krh",b("bs_js_primitive").nullable_to_opt(c.contact.company_name),[]))]}};return[w[0],w[1],w[2],w[3],function(a){__p&&__p();if(!b("MessengerDotComAndInboxM4Check.bs").yes){var c=b("Event").listen(window,"resize",b("debounce")(function(){return j(a[1])},20));b("bs_curry")._1(a[4],function(){return c.remove()})}return b("bs_curry")._1(i[0],function(b){var c=a;b=b;c[1][5][0]=b;return 0})},function(a){if(b("MessengerDotComAndInboxM4Check.bs").yes)return 0;else return j(a[1][1])},w[6],w[7],function(i){if(o!==void 0&&g!==void 0){var j=b("bs_js_primitive").valFromOption(g),s=b("bs_js_primitive").valFromOption(o),w=h._("Informations sur la conversation"),y=F(0),B=y[0],H=G(0),I=E(0),J=b("MessengerCustomColorUtils.bs").customColorOrBlue(j);return b("React").createElement("div",{ref:b("bs_curry")._1(i[0],m),className:"_673w"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ynl":"")+(!H[0]&&(!B||C)?" _1_fz":"")},p(j,x,f,i),b("React").createElement("div",{key:"threadTitle",ref:b("bs_curry")._1(i[0],l),className:u},b("MessengerDotComAndInboxM4Check.bs").yes?b("React").createElement(b("MessengerThreadImageM4React.bs").make,{className:"_6ynm",size:40,thread:j,viewer:s}):null,b("React").createElement("div",{className:b("MessengerDotComAndInboxM4Check.bs").yes?"_6ynn":""},b("React").createElement("h2",{className:t,id:b("MessengerDomIDs.bs").ids.THREAD_TITLE},I,b("ReasonReact.bs").element(void 0,b("bs_curry")._1(i[0],k),b("MercuryThreadTitleReact.bs").make("_3oh-",b("bs_belt_Option").getWithDefault(d,0),j,s,void 0,void 0,void 0,void 0,[]))),C||!B||b("CurrentUser").isWorkUser()&&D?null:y[1],r(s,f),H[1])),b("React").createElement("ul",{key:"buttonsContainer",ref:b("bs_curry")._1(i[0],n),className:v},q(a,j,s,i),z(s),A(s),b("React").createElement("li",void 0,b("React").cloneElement(b("ReasonReact.bs").element(void 0,void 0,b("LinkReact.bs").make(!c,void 0,w,"_30yy",void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,void 0,void 0,"button",void 0,void 0,void 0,void 0,w,[])),{"data-testid":b("MessengerWebDriverTestIDs").INFO_PANEL_BUTTON},b("MessengerDotComAndInboxM4Check.bs").yes?c?b("React").createElement("div",{className:"_6yms"},b("MessengerInfoIconSVGM4React.bs").make(J)):b("React").createElement("div",{className:"_6yms"},b("React").createElement("div",{className:"_6y4z",style:{backgroundColor:b("MessengerCustomColorUtils.bs").customColorOrBlue(j)}}),b("MessengerInfoIconSVGM4React.bs").make(J)):b("MessengerInfoPanelButtonReact.bs").make(J,c)),b("React").createElement("div",{"aria-owns":b("MessengerDomIDs.bs").ids.THREAD_INFO_PANEL}))))}else return null},function(){return[[void 0],[void 0],[void 0],[void 0],[void 0],[void 0]]},w[10],function(a,b){return 0},w[12]]}d=b("ReasonReact.bs").wrapReasonForJs(w,function(a){return x(b("bs_js_primitive").nullable_to_opt(a.contactData),a.infoPanelCollapsed,b("bs_js_primitive").nullable_to_opt(a.maxTitle),a.onInfoPanelToggle,a.participants,b("bs_js_primitive").nullable_to_opt(a.thread),b("FBID.bs").ofString(a.viewer),a.montageData,[])});f.BootloadableMessengerUserControlsButtonReact=c;f.LoadableMessengerUserControlsButtonReact=i;f.calculateTruncationState=j;f.findMercuryTitle=k;f.findTitle=l;f.findRoot=m;f.findButtons=n;f.findMontage=o;f.renderMontageThread=p;f.renderUserControls=q;f.renderLocalTime=r;f.shouldShowCallButton=s;f.titleElemClasses=t;f.titleClasses=u;f.buttonsContainerClasses=v;f.component=w;f.make=x;f.jsComponent=d}),null);
__d("PagesReplyComposerActionKeys",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({CONTENT_CHANGE:null,INITIALIZE_STORE:null,DISABLED_CHANGED:null,RECEIVED_SERVER_CONFIG:null,TOKEN_REMOVED:null,TOGGLE_PERSONALIZATION:null,INSERT_MACRO:null,RESET_CONTENT:null,SHOW_ERROR_MESSAGE:null,RESET_ERROR_MESSAGE:null});e.exports=a}),null);
__d("PagesReplyComposerFluxUtilities",[],(function(a,b,c,d,e,f){"use strict";a={createOrGetInstanceByKey:function(a,b,c){b.has(c)||b.set(c,new a(c));return b.get(c)}};e.exports=a}),null);
__d("PagesReplyComposerDispatcher",["ExplicitRegistrationReactDispatcher","PagesReplyComposerFluxUtilities"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);c.getByKey=function(a){return b("PagesReplyComposerFluxUtilities").createOrGetInstanceByKey(c,c.dispatchersByKey,a)};function c(b){var c;c=a.call(this,{strict:!0})||this;c.$PagesReplyComposerDispatcher1=b;return c}return c}(b("ExplicitRegistrationReactDispatcher"));a.dispatchersByKey=new Map();e.exports=a}),null);
__d("PagesReplyComposerActions",["PagesReplyComposerActionKeys","PagesReplyComposerDispatcher","PagesReplyComposerFluxUtilities"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();a.getActionsByKey=function(c){return b("PagesReplyComposerFluxUtilities").createOrGetInstanceByKey(a,a.actionsByKey,c)};function a(a){this.$1=a,this.$2=b("PagesReplyComposerDispatcher").getByKey(a)}var c=a.prototype;c.notifyContentChange=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").CONTENT_CHANGE,newContent:a})};c.initializeStoreWithConfig=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").INITIALIZE_STORE,config:a})};c.notifyDisabledChanged=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").DISABLED_CHANGED,disabled:a})};c.notifyServerConfigReceived=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").RECEIVED_SERVER_CONFIG,config:a})};c.notifyTokenRemoved=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").TOKEN_REMOVED,offsetKey:a})};c.$3=function(a,b){this.$2.dispatch({type:a,isOn:b})};c.notifyToggleOn=function(a){this.$3(a,!0)};c.notifyToggleOff=function(a){this.$3(a,!1)};c.notifyAction=function(a){this.$2.dispatch({type:a})};c.notifyInsertMacro=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").INSERT_MACRO,macro:a})};c.notifyResetContent=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").RESET_CONTENT,content:a})};c.showErrorMessage=function(a){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").SHOW_ERROR_MESSAGE,message:a})};c.resetErrorMessage=function(){this.$2.dispatch({type:b("PagesReplyComposerActionKeys").RESET_ERROR_MESSAGE})};return a}();a.actionsByKey=new Map();e.exports=a}),null);
__d("PagesReplyComposerState",["EditorState","immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({isInitialized:!1,currentContent:b("EditorState").createEmpty(),disabled:!1,supportedMacros:b("immutable").List(),featureMap:{macroBrowse:!1},shouldShowMacroBrowser:!1,errorMessage:null}));e.exports=a}),null);
__d("PagesMessagingAutomationEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENABLE_INSTANT_REPLY_FROM_CTA:"ENABLE_INSTANT_REPLY_FROM_CTA",INSERT_MACRO_FROM_REPLY_COMPOSER:"INSERT_MACRO_FROM_REPLY_COMPOSER",GUESS_INTENT_FROM_USER_SEND:"GUESS_INTENT_FROM_USER_SEND",TURN_OFF_INSTANT_REPLY_FROM_CTA:"TURN_OFF_INSTANT_REPLY_FROM_CTA",AUTO_RESPONSE_SEND_FAILURE:"AUTO_RESPONSE_SEND_FAILURE",AUTO_RESPONSE_PROCESS_FAILURE:"AUTO_RESPONSE_PROCESS_FAILURE",SHOW_MESSENGER_GREETING:"SHOW_MESSENGER_GREETING",INVALID_AUTO_RESPONSE_LENGTH:"INVALID_AUTO_RESPONSE_LENGTH",MSG_LANGUAGE_DIFFERET_FROM_PAGE:"MSG_LANGUAGE_DIFFERET_FROM_PAGE",INTENT_CLASSIFIER_VERIFICATION:"INTENT_CLASSIFIER_VERIFICATION",CLASSIFIER_CONSOLE_COMPOUND_EYE_ERROR:"CLASSIFIER_CONSOLE_COMPOUND_EYE_ERROR",AIR_TOGGLE_ENABLE_SMART_REPLIES:"AIR_TOGGLE_ENABLE_SMART_REPLIES",AIR_TOGGLE_ENABLE_INTENT:"AIR_TOGGLE_ENABLE_INTENT",AIR_DETECTED_INTENT:"AIR_DETECTED_INTENT",AIR_SMART_REPLY_ELIGIBLE_FOR_SEND:"AIR_SMART_REPLY_ELIGIBLE_FOR_SEND"})}),null);
__d("PagesReplyComposerErrorMessages",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={getExceededMaxLengthMessage:function(a){return g._("Votre contenu ne doit pas d\u00e9passer {character_limit} caract\u00e8res.",[g._param("character_limit",a)])}};e.exports=a}),null);
__d("PagesReplyComposerLogger",["invariant","PagesAutomationTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.setConfig=function(a){this.$1=a};c.logEvent=function(a,c){var d=this.$1;d||g(0,5756);var e=new(b("PagesAutomationTypedLogger"))();e.setEvent(a).setPageID(d.pageID);this.$2(c,e,d);e.log()};c.$2=function(a,b,c){if(a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.addToExtraData(d,a[d].toString());b.addToExtraData("composer_key",c.composerKey)};return a}();e.exports=a}),null);
__d("PagesReplyComposerTextUtilities",["CompositeDraftDecorator","DraftModifier","DraftOffsetKey","EditorState","SelectionState","createEditorStateWithRanges","getEntityMatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new RegExp("{{(.*?)}}","ig"),h={_getMacroByKey:function(a,b){return a.find(function(a){return a.key===b})},_parseTemplateFieldTokens:function(a){__p&&__p();a=a;var b=[],c;while(c=g.exec(a)){var d={text:c[0],offset:c.index,length:c[0].length,entity:{token:c[0],key:c[1]}};b.push(d);a=a.replace(c[0],d.text);g.lastIndex=d.offset+d.length}if(b.length>0){b[0].offset===0&&(a=" "+a,b.forEach(function(a){return a.offset++}));c=b[b.length-1];c.length+c.offset===a.length&&(a+=" ")}return{ranges:b,text:a}},createEditorStateFromText:function(a,c,d,e){d=new(b("CompositeDraftDecorator"))([{strategy:b("getEntityMatcher")(function(a){return a.getType()==="TOKEN"}),component:d,props:{supportedMacros:c,onTokenRemoved:e}}]);c=h._parseTemplateFieldTokens(a);e=c.ranges;a=c.text;return b("createEditorStateWithRanges")({text:a,ranges:e,decorator:d,addEntityToContentStateFn:function(a,b){a=a.entity;return b.createEntity("TOKEN","IMMUTABLE",a)}})},insertTokenToEditorState:function(a,c){c={text:"{{"+c.key+"}}",key:c.key};var d=a.getSelection(),e=a.getCurrentContent(),f=d.getStartKey(),g=d.getStartOffset();f=e.getBlockForKey(f);f.getText().substr(g-1,1).trim().length>0?(f=b("DraftModifier").replaceText(e,d," "),d=f.getSelectionAfter(),g=b("DraftModifier").insertText(f,d,c.text,a.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",c).getLastCreatedEntityKey())):g=b("DraftModifier").replaceText(e,d,c.text,a.getCurrentInlineStyle(),e.createEntity("TOKEN","IMMUTABLE",c).getLastCreatedEntityKey());g=b("DraftModifier").insertText(g,g.getSelectionAfter()," ");f=b("EditorState").push(a,g,"insert-fragment");f=b("EditorState").forceSelection(f,f.getSelection());return f},removeTokenFromEditorState:function(a,c){a=b("DraftOffsetKey").decode(a);var d=a.blockKey;a=a.decoratorKey;a=c.getBlockTree(d).getIn([a]);d=new(b("SelectionState"))({anchorKey:d,anchorOffset:a.get("start"),focusKey:d,focusOffset:a.get("end"),isBackward:!1,hasFocus:!0});a=b("DraftModifier").removeRange(c.getCurrentContent(),d,"forward");return b("EditorState").push(c,a,"remove-range")},processMessage:function(a,b){var c=a.match(/\{{(.*?)\}}/g);c&&c.forEach(function(c){var d=c.replace("{{","").replace("}}",""),e=h._getMacroByKey(b,d);e=e?e.value:d;a=a.replace(c,e)});return a}};e.exports=h}),null);
__d("PagesReplyComposerTokenView.react",["cx","React","ReactComponentWithPureRenderMixin","XUICloseButton.react","classWithMixins","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PagesReplyComposerTokenView1=function(){c.props.onTokenRemoved(c.props.offsetKey)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.contentState.getEntity(this.props.entityKey).getData(),c=this.$PagesReplyComposerTokenView2(a);return b("React").createElement("span",{"data-hover":"tooltip","aria-label":c,"data-tooltip-content":c},b("React").createElement("span",{className:"_1mpo",contentEditable:!1,"data-offset-key":this.props.offsetKey,spellCheck:!1},this.$PagesReplyComposerTokenView3(a),b("React").createElement(b("XUICloseButton.react"),{size:"small",className:"_1mpp",onClick:this.$PagesReplyComposerTokenView1})))};d.$PagesReplyComposerTokenView4=function(a){return this.props.supportedMacros.find(function(b){return b.key===a.key})};d.$PagesReplyComposerTokenView3=function(a){var b=this.$PagesReplyComposerTokenView4(a);return b?b.value:a.key};d.$PagesReplyComposerTokenView2=function(a){a=this.$PagesReplyComposerTokenView4(a);return a?a.title:null};return c}(b("classWithMixins")(b("React").Component,b("mixin")(b("ReactComponentWithPureRenderMixin"))));e.exports=a}),null);
__d("XPagesReplyComposerServerConfigController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/reply_composer/server_config/",{})}),null);
__d("PagesReplyComposerStore",["invariant","ActorURI","AsyncRequest","EditorState","FluxReduceStore","PagesMessagingAutomationEvents","PagesReplyComposerActionKeys","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerErrorMessages","PagesReplyComposerFluxUtilities","PagesReplyComposerLogger","PagesReplyComposerState","PagesReplyComposerTextUtilities","PagesReplyComposerTokenView.react","XPagesReplyComposerServerConfigController","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getByKey=function(a){return b("PagesReplyComposerFluxUtilities").createOrGetInstanceByKey(c,c.storesByKey,a)};function c(c){var d;d=a.call(this,b("PagesReplyComposerDispatcher").getByKey(c))||this;d.$PagesReplyComposerStore1=c;d.$PagesReplyComposerStore3=b("PagesReplyComposerActions").getActionsByKey(c);d.$PagesReplyComposerStore4=new(b("PagesReplyComposerLogger"))();return d}var d=c.prototype;d.getInitialState=function(){return new(b("PagesReplyComposerState"))()};d.getCurrentComposerPlainTextContent=function(){return this.getState().currentContent.getCurrentContent().getPlainText()};d.getCurrentProcessedContentLength=function(){return this.$PagesReplyComposerStore5(this.getState().currentContent)};d.getCurrentRawContentLength=function(){return this.$PagesReplyComposerStore6(this.getState().currentContent)};d.reduce=function(a,c){__p&&__p();switch(c.type){case b("PagesReplyComposerActionKeys").CONTENT_CHANGE:return this.$PagesReplyComposerStore7(a,c);case b("PagesReplyComposerActionKeys").INITIALIZE_STORE:return this.$PagesReplyComposerStore8(a,c);case b("PagesReplyComposerActionKeys").DISABLED_CHANGED:return this.$PagesReplyComposerStore9(a,c);case b("PagesReplyComposerActionKeys").TOKEN_REMOVED:return this.$PagesReplyComposerStore10(a,c);case b("PagesReplyComposerActionKeys").RECEIVED_SERVER_CONFIG:return this.$PagesReplyComposerStore11(a,c);case b("PagesReplyComposerActionKeys").TOGGLE_PERSONALIZATION:return a.set("shouldShowMacroBrowser",c.isOn);case b("PagesReplyComposerActionKeys").INSERT_MACRO:return this.$PagesReplyComposerStore12(a,c);case b("PagesReplyComposerActionKeys").RESET_CONTENT:return this.$PagesReplyComposerStore13(a,c);case b("PagesReplyComposerActionKeys").SHOW_ERROR_MESSAGE:return a.set("errorMessage",c.message);case b("PagesReplyComposerActionKeys").RESET_ERROR_MESSAGE:return a.set("errorMessage",null);default:return a}};d.$PagesReplyComposerStore14=function(a){var c=this.$PagesReplyComposerStore2?this.$PagesReplyComposerStore2.maxCharacterLength:null;c||g(0,145);return a.set("errorMessage",b("PagesReplyComposerErrorMessages").getExceededMaxLengthMessage(c))};d.$PagesReplyComposerStore6=function(a){return a.getCurrentContent().getPlainText().length};d.$PagesReplyComposerStore5=function(a){return b("PagesReplyComposerTextUtilities").processMessage(a.getCurrentContent().getPlainText(),this.getState().supportedMacros).length};d.$PagesReplyComposerStore15=function(a){var b=this.$PagesReplyComposerStore2?this.$PagesReplyComposerStore2.maxCharacterLength:null;return!b?!1:this.$PagesReplyComposerStore5(a)>b};d.$PagesReplyComposerStore9=function(a,b){return a.set("disabled",b.disabled)};d.$PagesReplyComposerStore7=function(a,c){if(!this.$PagesReplyComposerStore15(c.newContent))return a.set("currentContent",c.newContent).set("errorMessage",null);var d=this.$PagesReplyComposerStore14(a);if(this.$PagesReplyComposerStore5(c.newContent)<=this.$PagesReplyComposerStore5(a.currentContent))return d.set("currentContent",c.newContent);c=a.currentContent;return d.set("currentContent",b("EditorState").forceSelection(c,c.getSelection()))};d.$PagesReplyComposerStore8=function(a,b){b=b.config;this.$PagesReplyComposerStore2=b;this.$PagesReplyComposerStore4.setConfig(b);a=a.set("disabled",b.initialDisabled);this.$PagesReplyComposerStore16();return a};d.$PagesReplyComposerStore10=function(a,c){return a.set("currentContent",b("PagesReplyComposerTextUtilities").removeTokenFromEditorState(c.offsetKey,a.currentContent))};d.$PagesReplyComposerStore11=function(a,c){var d=this,e=this.$PagesReplyComposerStore2;e||g(0,146);var f=h(c.config.macros);e=b("PagesReplyComposerTextUtilities").createEditorStateFromText(e.initialReply,f,b("PagesReplyComposerTokenView.react"),function(a){return d.$PagesReplyComposerStore3.notifyTokenRemoved(a)});return a.set("supportedMacros",f).set("featureMap",c.config.featureMap).set("currentContent",e).set("isInitialized",!0)};d.$PagesReplyComposerStore12=function(a,c){var d=b("PagesReplyComposerTextUtilities").insertTokenToEditorState(a.currentContent,c.macro);if(this.$PagesReplyComposerStore15(d))return this.$PagesReplyComposerStore14(a);this.$PagesReplyComposerStore4.logEvent(b("PagesMessagingAutomationEvents").INSERT_MACRO_FROM_REPLY_COMPOSER,{macro_key:c.macro.key});return a.set("currentContent",d)};d.$PagesReplyComposerStore13=function(a,c){var d=this;c=b("PagesReplyComposerTextUtilities").createEditorStateFromText(c.content,a.supportedMacros,b("PagesReplyComposerTokenView.react"),function(a){return d.$PagesReplyComposerStore3.notifyTokenRemoved(a)});return a.set("currentContent",c)};d.$PagesReplyComposerStore16=function(){var a=this,c=this.$PagesReplyComposerStore2;c||g(0,146);var d=b("XPagesReplyComposerServerConfigController").getURIBuilder().getURI();d=b("ActorURI").create(d,c.pageID);new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({other_user_id:c.otherUserID,page_id:c.pageID}).setHandler(function(b){a.$PagesReplyComposerStore3.notifyServerConfigReceived(b.payload)}).send()};return c}(b("FluxReduceStore"));a.__moduleID=e.id;a.storesByKey=new Map();e.exports=a}),null);
__d("MessengerAdPreviewConversation.react",["cx","fbt","AdsCallToActionTypes","AdsMessengerConstants","CurrentUser","ImmutableObject","MercuryActionType","MercuryAttachmentType","MercuryIDs","MessagingGenericAdminTextType","MessengerContentEditorSurface","MessengerConversation.react","MessengerDetailViewHeaderReact.bs","MessengerEnvironment","MessengerReadReceipt.bs","MNCommerceCallToActionType","React","StoryAttachmentStyle","ads-lib-urllib","emptyFunction","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("MessengerDetailViewHeaderReact.bs").jsComponent;a=b("React").Component;c=b("React").PropTypes;var j=h._("Libell\u00e9 de bouton"),k="/images/messenger_commerce/photo-add.png",l=h._("Titre du message"),m=h._("Titre de l\u2019image"),n="/images/messenger_commerce/video-add.png",o=h._("Texte du message");d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("CurrentUser").getAccountID(),c=b("MercuryIDs").getThreadIDFromUserID(a);b("MessengerEnvironment").setMessengerUI(!0);return b("React").createElement("div",{className:this.props.className},b("React").createElement("div",{className:this.props.clickable?"":"_1ist"},b("React").createElement(i,{infoPanelCollapsed:!0,maxTitle:b("AdsMessengerConstants").PREVIEW_PAGENAME_MAX_LENGTH,participants:b("immutable").Map({}),thread:new(b("ImmutableObject"))({name:this.$1(),participants:[]}),viewer:a,onInfoPanelToggle:b("emptyFunction")})),b("React").createElement(b("MessengerConversation.react"),{className:(this.props.isVisualEditorRedesign?"":"_2qop")+(this.props.isVisualEditorRedesign?" _2e74":""),deliveryTimestamp:0,fetchMessages:b("emptyFunction"),innerClassName:this.props.clickable?"":"_1ist",isCanonical:!0,isMessengerAdPreview:!0,messages:this.$2(),readReceipts:b("MessengerReadReceipt.bs").emptyReadReceipts,threadID:c,viewer:a,onRead:b("emptyFunction")}),b("React").createElement("div",{className:"_1zzy"},h._("\u00c9crivez un message...")))};d.$2=function(){__p&&__p();var a=this;if(!this.props.pageID)return b("immutable").List([]);var c="fbid:"+this.props.pageID,d=this.props.payload,e=[];this.props.surface===b("MessengerContentEditorSurface").SPONSORED_MESSAGES&&e.push(new(b("ImmutableObject"))({action_type:b("MercuryActionType").LOG_MESSAGE,author:c,key:Date.now()-2,log_message_body:h._("Sponsoris\u00e9"),log_message_data:{message_type:b("MessagingGenericAdminTextType").AD_MANAGE_MESSAGE},timestamp:Date.now()-2}));this.props.message&&e.push(new(b("ImmutableObject"))({body:this.props.message,author:c,timestamp:Date.now()-1,message_id:"text_1:"+Date.now().toString(),key:Date.now()-1,thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID())}));this.props.isTextWithQR&&this.props.textSecondMessage&&e.push(new(b("ImmutableObject"))({body:this.props.textSecondMessage,author:c,timestamp:Date.now()-1,message_id:"text_2:"+Date.now().toString(),key:Date.now()-1,thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID())}));var f=this.props.type,g=JSON.stringify(this.props.platformXMD);if(f==="template"&&d){var i=d.template_type;if(i==="generic"){var p=d.elements;p=p.map(function(c){var d=[];c.buttons&&(d=c.buttons.map(function(c,d){var e=a.props.clickable?b("ads-lib-urllib").normalize(c.url):"#";return{id:d,action_link:e,action_type:b("MNCommerceCallToActionType").OPEN_URL,title:c&&c.title||j}}));var e=a.props.isNewDesign?m:l;e=c&&c.title||e;return{name:e,title:e,thumb_url:a.props.jsonImageURL||k,metalines:{metaline_1:c&&c.subtitle},call_to_actions:d}});e.push(new(b("ImmutableObject"))({attachments:[{attach_type:b("MercuryAttachmentType").SHARE,upload_id:0,share:{style_list:[b("StoryAttachmentStyle").BUSINESS_MESSAGE_ITEMS,b("StoryAttachmentStyle").FALLBACK],target:{items:p}}}],author:c,has_attachment:!0,message_id:"generic_template:"+Date.now().toString(),key:Date.now(),timestamp:Date.now(),thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID()),platform_xmd:g}))}else if(i==="button"){p=[];d.buttons&&(p=d.buttons.map(function(c,d){var e=a.props.clickable?b("ads-lib-urllib").normalize(c.url):"#";return{id:d,action_link:e,action_type:b("MNCommerceCallToActionType").OPEN_URL,title:c&&c.title||j}}));e.push(new(b("ImmutableObject"))({attachments:[{attach_type:b("MercuryAttachmentType").SHARE,upload_id:0,share:{style_list:[b("StoryAttachmentStyle").BUSINESS_MESSAGE_ITEMS,b("StoryAttachmentStyle").FALLBACK],target:{call_to_actions:p,items:[]}}}],author:c,has_attachment:!0,message_id:"button_template:"+Date.now().toString(),key:Date.now()+1,timestamp:Date.now(),thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID()),body:d.text||o,platform_xmd:g}))}}else if(f==="video"){i=this.props.videoURL||n;if(i){p="photo";e.push(new(b("ImmutableObject"))({attachments:[{attach_type:p,thumbnail_url:i,upload_id:0,preview_height:100,preview_url:i,preview_width:160,large_preview_height:200,large_preview_url:i,large_preview_width:200}],author:c,has_attachment:!0,message_id:"video:"+Date.now().toString(),key:Date.now()+2,timestamp:Date.now(),thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID()),platform_xmd:g}))}else e.push(new(b("ImmutableObject"))({author:c,has_attachment:!1,message_id:"video:"+Date.now().toString(),key:Date.now()+3,timestamp:Date.now(),thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID()),platform_xmd:g}))}else this.props.isTextWithQR&&e.push(new(b("ImmutableObject"))({author:c,has_attachment:!1,message_id:"quick_replies:"+Date.now().toString(),key:Date.now()+3,timestamp:Date.now(),thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID()),platform_xmd:g}));!this.props.type&&this.props.imageURL&&e.push(new(b("ImmutableObject"))({attachments:[{attach_type:b("MercuryAttachmentType").SHARE,upload_id:0,share:{style_list:[b("StoryAttachmentStyle").RETAIL_PROMOTION,b("StoryAttachmentStyle").FALLBACK],target:{call_to_actions:[this.$3()],items:[{metalines:{metaline_1:this.props.description},name:this.props.name,thumb_url:this.props.imageURL}]}}}],author:c,has_attachment:!0,message_id:"image:"+Date.now().toString(),key:Date.now()+4,timestamp:Date.now(),thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID())}));d=this.props.iceBreakers;if(d!=null){f=d.map(function(a,b){return{message:a.title}});e.push(new(b("ImmutableObject"))({attachments:[{attach_type:b("MercuryAttachmentType").SHARE,upload_id:0,share:{style_list:[b("StoryAttachmentStyle").ICE_BREAKER,b("StoryAttachmentStyle").FALLBACK],target:{ice_breaker_messages:f},isVisualEditorPreview:!0}}],author:c,has_attachment:!0,message_id:"ice_breakers:"+Date.now().toString(),key:Date.now()+5,timestamp:Date.now(),thread_id:b("MercuryIDs").getThreadIDFromUserID(b("CurrentUser").getAccountID())}));p=this.props.icebreakerIndex;if(p!=null){i=d[p];if(i&&i.response!=null&&i.response.length!==0&&i.response.trim().length!==0){g=b("CurrentUser").getAccountID();e.push(new(b("ImmutableObject"))({author:"fbid:"+g,body:i.title,key:Date.now()+6,message_id:"ice_breaker:"+Date.now().toString(),timestamp:Date.now()}));e.push(new(b("ImmutableObject"))({author:c,body:i.response,key:Date.now()+7,message_id:"ice_breaker_response:"+Date.now().toString(),timestamp:Date.now()}))}}}return b("immutable").List(e)};d.$3=function(){if(!this.props.callToAction)return{};var a=b("AdsCallToActionTypes").TYPES[this.props.callToAction];return{action_link:"#",action_type:b("MNCommerceCallToActionType").OPEN_URL,translated_title:a.text}};d.$1=function(){return this.props.pageName||""};return c}(a);d.propTypes={className:c.string,description:c.string,callToAction:c.string,imageURL:c.string,iceBreakers:c.array,isNewDesign:c.bool,isTextWithQR:c.bool,jsonImageURL:c.string,message:c.string,name:c.string,pageID:c.string,pageName:c.string,payload:c.object,platformXMD:c.object,surface:c.string,textSecondMessage:c.string,type:c.string,videoURL:c.string,clickable:c.bool};e.exports=d}),null);
__d("FBKeyframesProject",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIONABLE_INSIGHTS:"actionable_insights",AD_LIBRARY:"ad_library",ADS_ANIMATOR:"ads_animator",ADS_CLIPBOARD:"ads_clipboard",ADS_LWI:"ads_lwi",ADS_SIGNALS:"ads_signals",ADS_TARGETING:"ads_targeting",AWESOME_TEXT_POSTS:"awesome_text_posts",AWESOME_TEXT_STORIES:"awesome_text_stories",BALLOT:"ballot",CIVIC_PROPOSAL:"civic_proposal",CMS:"cms",CULTURAL_MOMENTS_QP:"cultural_moments_qp",CULTURAL_MOMENTS_QP_TOOL:"cultural_moments_qp_tool",DIGITAL_LITERACY:"digital_literacy",ELECTION_PHOTO_FORWARD:"election_photo_forward",FACEBOOK_STORIES:"facebook_stories",FEEDBACK_REACTIONS:"feedback_reactions",FUN_FACTS:"fun_facts",FUNDRAISER:"fundraiser",GOODWILL_AR_BIRTHDAY:"goodwill_ar_birthday",GOODWILL_MC:"goodwill_mc",ILLUSTRATION_KIT_TEMPLATE:"illustration_kit_template",KEYFRAMES_UICE:"keyframes_uice",KEYFRAMES_UNIT_TEST:"keyframes_unit_test",LIFE_EVENTS:"life_events",MENTORSHIP:"mentorship",MESSAGING_REACTIONS:"messaging_reactions",MLE_REACTIONS:"mle_reactions",MOBIUS_LOCHA_UI:"mobius_locha_ui",NT_EXAMPLES:"nt_examples",ONCALL_DASHBOARD:"oncall_dashboard",PAGE_SURFACE:"page_surface",PIXELCLOUD:"pixelcloud",PROFILE:"profile",PRIVACY_BASICS:"privacy_basics",RECRUITING_DELIGHT:"recruiting_delight",SHOWREEL:"showreel",SOCIAL_PLAYER:"social_player",TEXT_DELIGHTS:"text_delights",TIME_IN_APP:"time_in_app",UI_INFRASTRUCTURE:"ui_infrastructure",VIDEO_HOME_SOCIAL_GLYPH:"video_home_social_glyph",VOTER_REGISTRATION_DRIVE:"voter_registration_drive",WOODHENGE_OTP:"woodhenge_otp",YOUTH_PORTAL:"youth_portal",VIDPRESSO:"vidpresso",WAGERS:"wagers"})}),null);
__d("XAdsLWIAdPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/lwi/ad_preview_generator/",{ad_account_id:{type:"FBID",required:!0},ad_preview_format:{type:"Enum",required:!0,enumType:1},creative_spec:{type:"String",required:!0}})}),null);