if (self.CavalryLogger) { CavalryLogger.start_js(["Qwn9v"]); }

__d("AdsAsyncLocationsCheckerDataProviderPlugin",["AdsAsyncLocationsCheckerDataLoader","LoadObjectMap","immutable","mapSet","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,c){a(function(a){return a.merge(b("mapSet")(c.locationsAndPageIDKeys,function(b){return[b,a.get(b).loading()]}))})}function h(a,b){a(function(a){return a.merge(b.problems)})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){g(a,{locationsAndPageIDKeys:c});var d=new Map();b("immutable").Set(c).forEach(function(a){return d.set(a,b("AdsAsyncLocationsCheckerDataLoader").load(a))});b("promiseDone")(b("promiseLoadObjects")(d),function(b){h(a,{problems:b})})})}};e.exports=a}),null);
__d("AdsAsyncLocationsCheckerDataProvider",["Laminar","AdsAsyncLocationsCheckerDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAsyncLocationsCheckerDataProviderPlugin"),"AdsAsyncLocationsCheckerDataProviderPlugin")}),null);
__d("AdsLocationBreakdownSearchSourceActionsTypeSearchEndDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationBreakdownSearchSourceActionsType_.SEARCH_END");e.exports=a}),null);
__d("AdsLocationBreakdownSearchSourceActionsTypeSearchStartDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationBreakdownSearchSourceActionsType_.SEARCH_START");e.exports=a}),null);
__d("AdsLocationMetaActionsTypeClearDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.CLEAR");e.exports=a}),null);
__d("AdsLocationMetaActionsTypeUpdateDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationMetaActionsType_.UPDATE");e.exports=a}),null);
__d("AdsLocationTreeEditorActionsTypeChangeCurrentPageIdDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeEditorActionsType.CHANGE_CURRENT_PAGE_ID");e.exports=a}),null);
__d("AdsLocationTreeEditorActionsTypeChangeCurrentPageIdDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeEditorActionsType.CHANGE_CURRENT_PAGE_ID"}}),null);
__d("AdsLocationTreeEditorActionsTypeClearCurrentPageIdDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsLocationTreeEditorActionsType.CLEAR_CURRENT_PAGE_ID");e.exports=a}),null);
__d("AdsLocationTreeEditorActionsTypeClearCurrentPageIdDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsLocationTreeEditorActionsType.CLEAR_CURRENT_PAGE_ID"}}),null);
__d("AdsPageLocationCountActionsTypeLocationCountLoadErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsPageLocationCountActionsType.LOCATION_COUNT_LOAD_ERROR");e.exports=a}),null);
__d("AdsPageLocationCountActionsTypeLocationCountLoadSuccessAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsPageLocationCountActionsType.LOCATION_COUNT_LOAD_SUCCESS");e.exports=a}),null);
__d("TargetingSentences.react",["cx","fbt","AdsGraphAPI","React","cachedGraphAPI","isValidTargetingSpec","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"TargetingSentences",propTypes:{targetingApiSpec:a.object.isRequired,accountID:a.string.isRequired},getInitialState:function(){return{sentences:[]}},UNSAFE_componentWillMount:function(){this._updateTargetingSentencesIfValid(this.props)},UNSAFE_componentWillReceiveProps:function(a){this._updateTargetingSentencesIfValid(a)},_updateTargetingSentencesIfValid:function(a){var c=this;if(!b("isValidTargetingSpec")(a.targetingApiSpec))return;b("promiseDone")(b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).adaccount(a.accountID).edge("targetingsentencelines")).get({discard_placements:!0,targeting_spec:a.targetingApiSpec}),function(a){c.isMounted()&&c.setState({sentences:a.targetingsentencelines})})},render:function(){var a=[];!this.state.sentences.length?a.push(b("React").createElement("li",{key:"all"},h._("Tout le monde"))):a=this.state.sentences.map(function(a,c){return!a.content?b("React").createElement("li",{key:a},a):b("React").createElement("li",{key:a.content+"."+c},b("React").createElement("div",null,a.content),b("React").createElement("ul",{className:"_xg0 pll"},(a.children||[]).map(function(a,c){return b("React").createElement("li",{key:a},a)})))});return b("React").createElement("div",{className:"_xg1","data-testid":"targeting-estimate-feedback"},b("React").createElement("span",{className:"_hq- fwb"},h._("R\u00e9capitulatif\u00a0:")),b("React").createElement("ul",{className:"_xg2 pll pts"},a))}});e.exports=c}),null);
__d("LegacyMapUtils",["clamp","mod"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={MIN_LATITUDE:-85.05112878,MAX_LATITUDE:85.05112878,MIN_LONGITUDE:-180,MAX_LONGITUDE:180,pows:{},MAX_ZOOM:20,BING_MAP_ZOOM_LEVEL_CITY:10,BING_MAP_ZOOM_LEVEL_REGION:6,EARTH_CIRCUMFERENCE_METERS:40074784,scale:function(a,b){b=b-a;g.pows[b]||(g.pows[b]=Math.pow(2,b));return g.pows[b]},mapSize:function(a){return 512*g.scale(1,a)},latLongToXY:function(a,c){var d=b("clamp")(a.latitude,g.MIN_LATITUDE,g.MAX_LATITUDE);a=(a.longitude+180)/360;d=Math.sin(d*Math.PI/180);d=.5-Math.log((1+d)/(1-d))/(4*Math.PI);c=g.mapSize(c);return{x:Math.floor(a*(c-1)+.5),y:Math.floor(d*(c-1)+.5)}},xyToLatLong:function(a,c){c=g.mapSize(c);var d=b("mod")(a.x,c)/c-.5;a=.5-b("clamp")(a.y,0,c-1)/c;c=90-360*Math.atan(Math.exp(-a*2*Math.PI))/Math.PI;a=360*d;return{latitude:c,longitude:a}},getViewForLatLongs:function(a,b,c,d,e,f){__p&&__p();if(!c.length)throw new Error("the proper view for zero point(s) is completely ambiguous");d=d||{t:0,r:0,b:0,l:0};e=e||1;f=f||Infinity;var h=g._getBoundingBox(c),i=d.l+d.r,j=d.t+d.b,k=g.MAX_ZOOM;if(c.length>1){c=g.mapSize(k);while(k>e&&(g._getWidth(h,c)>a-i||h.b-h.t>b-j)||k>f)h=g._rectScale(h,1,2),k--,c=g.mapSize(k)}else while(k!==g.BING_MAP_ZOOM_LEVEL_CITY)k--,h=g._rectScale(h,1,2);c=h.l-d.l;f=h.r+d.r;f<c&&(f+=g.mapSize(k));e={t:h.t-d.t,r:f,b:h.b+d.b,l:c};g.mapSize(k);i={x:(e.l+e.r)/2,y:(e.t+e.b)/2};j=g.xyToLatLong(i,k);return{center:j,width:a,height:b,zoom:k}},_getWidth:function(a,b){return g._calculateRightDistanceAToB(a.l,a.r,b)},_getBoundingBox:function(a){__p&&__p();var b=[],c=g.mapSize(g.MAX_ZOOM);for(var d=0;d<a.length;d++){var e=a[d];b.push(g.latLongToXY(e,g.MAX_ZOOM))}b.sort(function(a,b){return a.x-b.x});e=b.length-1;d=g._calculateRightDistanceAToB(b[e].x,b[0].x,c);a=0;e=e;var f=[b[0].y];for(var h=1;h<b.length;h++){f.push(b[h].y);var i=g._calculateRightDistanceAToB(b[h-1].x,b[h].x,c);i>d&&(d=i,a=h,e=h-1)}i={t:Math.min.apply(null,f),r:b[e].x,b:Math.max.apply(null,f),l:b[a].x};return i},_calculateRightDistanceAToB:function(a,b,c){if(!c)throw new Error("zero or null map width not allowed");return(c+b-a)%c},_rectScale:function(a,b,c){return{t:a.t*b/c,r:a.r*b/c,b:a.b*b/c,l:a.l*b/c}}};e.exports=g}),null);
__d("LegacyMapCoordinate",["LegacyMapUtils","Vector","mod"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.absoluteX=null,this.absoluteY=null,this.latitude=null,this.longitude=null}a.fromAbsolute=function(c,d){d===void 0&&(d=c.y,c=c.x);var e=new a();e.absoluteX=c;e.absoluteY=d;c=b("LegacyMapUtils").xyToLatLong(new(b("Vector"))(c,d),a.MAX_ZOOM);e.latitude=c.latitude;e.longitude=c.longitude;return e};a.fromLatLong=function(c,d){d===void 0&&(d=c.longitude,c=c.latitude);var e=new a();e.latitude=c;e.longitude=d;c=b("LegacyMapUtils").latLongToXY({latitude:c,longitude:d},a.MAX_ZOOM);e.absoluteX=c.x;e.absoluteY=c.y;return e};a.fromMap=function(c,d,e){e=b("LegacyMapUtils").scale(e,a.MAX_ZOOM);return a.fromAbsolute(c*e,d*e)};var c=a.prototype;c.getLatitude=function(){return this.latitude};c.getLongitude=function(){return this.longitude};c.getAbsoluteX=function(){return this.absoluteX};c.getAbsoluteY=function(){return this.absoluteY};c.getAbsoluteXY=function(){return new(b("Vector"))(this.absoluteX,this.absoluteY)};c.getMapX=function(a){return this.getMapXY(a).x};c.getMapY=function(a){return this.getMapXY(a).y};c.getMapXY=function(c){c=b("LegacyMapUtils").scale(a.MAX_ZOOM,c);var d=this.absoluteX*c;c=this.absoluteY*c;return new(b("Vector"))(d,c)};c.add=function(b,c){var d=this.getMapXY(b);return a.fromMap(d.x+c.x,d.y+c.y,b)};c.calculateDistanceSq=function(a,b){var c=this.calculateDistanceX(a,b);a=this.calculateDistanceY(a,b);return c*c+a*a};c.calculateDistanceX=function(a,c){var d=b("LegacyMapUtils").mapSize(a);c=b("mod")(c.getMapX(a)-this.getMapX(a),d);return Math.min(c,d-c)};c.calculateDistanceY=function(a,b){return Math.abs(b.getMapY(a)-this.getMapY(a))};return a}();Object.assign(a,{MAX_ZOOM:18,MIN_ZOOM:1});e.exports=a}),null);
__d("MapRects",["Rect","Vector","clamp"],(function(a,b,c,d,e,f){__p&&__p();function g(){}Object.assign(g,{containsPoint:function(a,b,c){c===void 0&&(c=0);c===void 0&&(c=0);return a.t<=b.y+c&&a.r>=b.x-c&&a.b>=b.y-c&&a.l<=b.x+c},pad:function(a,b){return g.padXY(a,b,b)},padX:function(a,b){return g.padXY(a,b,0)},padY:function(a,b){return g.padXY(a,0,b)},padXY:function(a,c,d){return new(b("Rect"))(a.t-d,a.r+c,a.b+d,a.l-c,a.domain)},collides:function(a,b){return a.t<b.b&&a.b>b.t&&a.l<b.r&&a.r>b.l},boundPoint:function(a,c){var d=new(b("Vector"))(0,0);d.x=b("clamp")(c.x,a.l,a.r);d.y=b("clamp")(c.y,a.t,a.b);return d},boundingBox:function(a,c){return new(b("Rect"))(Math.min(a.t,c.t),Math.max(a.r,c.r),Math.max(a.b,c.b),Math.min(a.l,c.l))},scale:function(a,c,d){return new(b("Rect"))(a.t*c/d,a.r*c/d,a.b*c/d,a.l*c/d)}});e.exports=g}),null);
__d("AdsTargetingLocationClusterRecord",["cx","fbt","invariant","AdsTargetingLocationMapMetaRecord","GeoCoordinates","LegacyMapCoordinate","LocationConstants","MapRects","Rect","immutable","leaflet"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("LocationConstants").Aggregation;var j=a.AGGREGATION_RADIUS,k=a.LARGE_CLUSTER_THRESHOLD,l=a.MEDIUM_CLUSTER_THRESHOLD,m=a.SMALL_CLUSTER_THRESHOLD;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromSingleRecord=function(a,d){d=this.calculateAbsoluteCenter(a.geoLocation.latitude,a.geoLocation.longitude,d);return new c({center:d,members:b("immutable").Set.of(a),radius:j,rect:new(b("Rect"))(d.y,d.x,d.y,d.x)})};c.toSingleRecordWithOptions=function(a,c,d,e,f){__p&&__p();if(d||a.members.size>1){d=b("LegacyMapCoordinate").fromMap(a.center.x,a.center.y,c);c=new(b("GeoCoordinates"))(d.getLatitude(),d.getLongitude());d=f(a);f=0;var g={center:c,key:this.keyFromKeys(a.members.map(this.memberToKey).toArray()),name:d,radius:f,type:b("LocationConstants").CUSTOM_LOCATIONS};e=this.iconForCluster(e(a));var h=a.members.map(function(a){return a.meta});return new(b("AdsTargetingLocationMapMetaRecord"))({center:c,coordinateLists:null,geoLocation:g,icon:e,meta:h,name:d,popup:null,radius:f})}return a.members.first()};c.countFromCluster=function(a){return a.members.size};c.nameFromCluster=function(a){return h._("{count} lieux",[h._param("count",a.members.size)])};c.toSingleRecord=function(a,b){return this.toSingleRecordWithOptions(a,b,!1,this.countFromCluster,this.nameFromCluster)};c.memberToKey=function(a){return a.geoLocation.key};c.keyFromKeys=function(a){return a.join("-")};c.keysFromKey=function(a){return a.split("-")};c.iconForCluster=function(a){var d=[0,18],e="_n9c",f=c.markerIconSizeForCluster(a);f=[f,f];return b("leaflet").divIcon({className:e,html:a,iconSize:f,popupAnchor:d})};c.markerIconSizeForCluster=function(a){if(a==null||a<m)return 24;else if(a<l)return 36;else if(a<k)return 48;else return 60};c.markerRadiusForCluster=function(a){if(a==null||a<=1)return 100;else if(a<m)return 1e4;else if(a<l)return 4e4;else if(a<k)return 7e4;else return 1e5};c.calculateAbsoluteCenter=function(a,c,d){return b("LegacyMapCoordinate").fromLatLong(a,c).getMapXY(d)};c.combine=function(a,c){a.asMutable()===a||i(0,800),a.rect=b("MapRects").boundingBox(a.rect,c.rect),a.radius=Math.max(a.radius,c.radius),a.center=a.rect.getCenter(),a.members=a.members.union(c.members)};return c}(b("immutable").Record({center:null,members:b("immutable").Set(),radius:0,rect:null}));e.exports=c}),null);
__d("MapAggregation",["removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();function a(){this.combine=null,this.iterations=0,this.candidates=null,this.loners=null}Object.assign(a.prototype,{aggregate:function(a,c,d){__p&&__p();this.overlap=d?d:this._overlap;this.candidates=a;this.combine=c;this.loners=[];while(this.candidates.length>0){d=this.candidates[this.candidates.length-1];do{a=d.center;this._group(d,Number.MAX_VALUE);c=a!==d.center}while(!this._isDeleted(d)&&c);this._isDeleted(d)||(b("removeFromArray")(this.candidates,d),this.loners.push(d))}return this.loners},_isDeleted:function(a){return a.center===null},_delete:function(a){b("removeFromArray")(this.candidates,a),b("removeFromArray")(this.loners,a),a.center=null},_group:function(a,b){__p&&__p();while(!0){this.iterations++;if(this.iterations>=1e4){this.iterations%1e4===0&&0;return}var c=this._nearest(a),d=c.nearest;c=c.distanceSquared;if(!d||c>b||!this.overlap(a,d))return;var e=d.center,f=a.center;this._group(d,c-1);if(this._isDeleted(a))return;c=d.center!==e;e=a.center!==f;if(!c&&!e){this.combine(a,d);this._delete(d);return}}},_nearest:function(a){__p&&__p();var b,c,d,e=null,f=Number.MAX_VALUE;for(b=0;b<this.candidates.length;b++){d=this.candidates[b];if(d===a)continue;c=this._distanceSquared(a,d);c<f&&(e=d,f=c)}for(b=0;b<this.loners.length;b++){d=this.loners[b];if(d===a)continue;c=this._distanceSquared(a,d);c<f&&(e=d,f=c)}return{nearest:e,distanceSquared:f}},_overlap:function(a,b){var c=a.radius+b.radius;return this._distanceSquared(a,b)<c*c},_distanceSquared:function(a,b){var c=a.center.x-b.center.x;a=a.center.y-b.center.y;return c*c+a*a}});e.exports=a}),null);
__d("AdsTargetingAggregatedMapUtils",["AdsTargetingLocationClusterRecord","MapAggregation","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){var f=a.map(function(a){return b("AdsTargetingLocationClusterRecord").fromSingleRecord(a,c).asMutable()}).toArray(),g=new(b("MapAggregation"))().aggregate(f,b("AdsTargetingLocationClusterRecord").combine);f=g.map(function(f){return b("AdsTargetingLocationClusterRecord").toSingleRecordWithOptions(f,c,a.size!==g.length,d||b("AdsTargetingLocationClusterRecord").countFromCluster,e||b("AdsTargetingLocationClusterRecord").nameFromCluster)});return b("immutable").Set(f)}function c(a){return b("immutable").Set(b("AdsTargetingLocationClusterRecord").keysFromKey(a))}d={aggregateMapRecords:a,extractRecordKey:b("AdsTargetingLocationClusterRecord").memberToKey,splitClusterKey:c};e.exports=d}),null);
__d("AdsTargetingAggregatedMap.react",["AdsTargetingAggregatedMapUtils","AdsTargetingLocationInlineMap.react","FbtResultBase","LeafletUtils","LeafletView","LocationConstants","React","areEqual","emptyFunction","emptyObject","immutable","AdsTargetingLocationTypeAliases"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsTargetingAggregatedMapUtils").aggregateMapRecords,h=b("AdsTargetingAggregatedMapUtils").extractRecordKey,i=b("AdsTargetingAggregatedMapUtils").splitClusterKey;a=b("React").Component;c=b("React").PropTypes;d=b("AdsTargetingLocationTypeAliases").CLICK_BEHAVIORS;f=b("LocationConstants").Aggregation;var j=f.MAX_LOCATIONS_SIZE,k=f.MIN_ZOOM_LEVEL_FOR_FILTERING;f=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$5=function(a,b){a=d.props.onLocationsSelect;if(!a)return;a(d.$4(b))};d.$6=function(a,b){d.props.onViewChange&&d.props.onViewChange(a,b);if(!b){d.props.view||d.setState({view:a});return}d.$2(d.props,a,b)};d.state={bounds:null,clusteredLocations:b("immutable").Set(),inRangeLocations:b("immutable").Set(),locationRecordMap:b("immutable").Map(),size:null,view:d.props.view};return d}var d=c.prototype;d.render=function(){return this.state.clusteredLocations.size>j?null:b("React").createElement("div",{style:{height:this.props.height}},this.$1())};d.UNSAFE_componentWillReceiveProps=function(a){this.$2(a)};d.shouldComponentUpdate=function(a,c){a=a.height!==this.props.height||!b("areEqual")(a.locationRecords,this.props.locationRecords)||!b("areEqual")(a.menuItems,this.props.menuItems)||!b("LeafletUtils").areViewEqual(a.view,this.props.view);c=c!==void 0&&(c.bounds&&!c.bounds.equals(this.state.bounds)||!b("areEqual")(c.clusteredLocations,this.state.clusteredLocations)||!b("LeafletUtils").areViewEqual(c.view,this.state.view));return a||c};d.$3=function(a,c){return c&&a?b("LeafletUtils").getViewBounds(a,{width:c.x,height:c.y}):b("LeafletUtils").WHOLE_WORLD_BOUNDS};d.$4=function(a){var b=this;a=i(a.key);return a.map(function(a){return b.state.locationRecordMap.get(a)})};d.$2=function(a,c,d){__p&&__p();c=a.view||c||this.state.view;d=d||this.state.size;var e=this.$3(c,d),f=c&&c.zoom;if(f===void 0||!e)return;var i=!1;a.disableAggregation&&(i=a.disableAggregation(f));var j;f<k?j=a.locationRecords:j=a.locationRecords.filter(function(a){return e.contains(b("LeafletUtils").toLatLng(a.center))});a=f==this.state.zoom&&(j.equals(this.state.inRangeLocations)||j.map(h).equals(this.state.inRangeLocations.map(h)));var l=this.state.locationRecordMap;a||(l=b("immutable").Map().withMutations(function(a){j.forEach(function(b){return a.set(b.geoLocation.key,b)})}));i||j.size<2?i=j:a?i=this.state.clusteredLocations:i=g(j,f,this.props.countFromCluster,this.props.nameFromCluster);this.setState({bounds:e,clusteredLocations:i,inRangeLocations:j,locationRecordMap:l,size:d,view:c})};d.$1=function(){var a=this.state.clusteredLocations.isEmpty()?this.props.locationRecords:this.state.clusteredLocations;return b("React").createElement(b("AdsTargetingLocationInlineMap.react"),babelHelpers["extends"]({addLocationMode:b("LocationConstants").INCLUDE,addingLocation:!1,centerLocations:a,clickBehavior:this.props.clickBehavior,disableCollapseButton:this.props.disableCollapseButton,disableScrollWheelZoom:this.props.disableScrollWheelZoom,enableDropPin:!1,excludedLocations:b("immutable").Set(),fitLocations:b("immutable").Set(),highlightLocations:b("immutable").Set(),locations:this.state.clusteredLocations,maxBounds:b("LeafletUtils").WHOLE_WORLD_BOUNDS,menuItems:this.props.menuItems||b("emptyObject"),onlyInclusion:!0,showPopupOnHover:!0,view:this.state.view||void 0,onAddLocationFromMap:b("emptyFunction"),onCollapseMap:b("emptyFunction"),onPopupMenuItemSelect:this.$5,onSingleNodeClick:this.props.onSingleNodeClick,onViewChange:this.$6},this.props.inlineMapProps))};return c}(a);f.propTypes={clickBehavior:c.oneOf(Object.keys(d)),countFromCluster:c.func,disableAggregation:c.func,disableCollapseButton:c.bool,disableScrollWheelZoom:c.bool,height:c.number.isRequired,inlineMapProps:c.object,locationRecords:c.instanceOf(b("immutable").Set).isRequired,menuItems:c.shape({INCLUDE:c.oneOfType([c.instanceOf(b("FbtResultBase")),c.string]),EXCLUDE:c.oneOfType([c.instanceOf(b("FbtResultBase")),c.string]),DELETE:c.oneOfType([c.instanceOf(b("FbtResultBase")),c.string])}),nameFromCluster:c.func,view:c.instanceOf(b("LeafletView")),onLocationsSelect:c.func,onViewChange:c.func};f.defaultProps={clickBehavior:d.ZOOM_TO_NEXT_RANGE,inlineMapProps:{}};e.exports=f}),null);
__d("XLocationTargetingSearchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/location_targeting_search/",{page_id:{type:"FBID",required:!0},query_text:{type:"String",required:!0},country_code:{type:"String",required:!0}})}),null);
__d("AdsLocationTargetingSearchDataManager",["XLocationTargetingSearchController","promiseAsyncRequest"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("XLocationTargetingSearchController").getURIBuilder().setFBID("page_id",a.pageID).setString("query_text",a.searchText).setString("country_code",a.countryCode).getURI();return b("promiseAsyncRequest")(a,{method:"GET",isReadOnly:!0}).then(function(a){return a?a.payload:[]})}e.exports={search:a}}),null);
__d("AdsTargetingLocationPageSetSavingErrorNotice.react",["fbt","AdsCCCategory","AdsStaticInlineNux.react","React","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("{error}",[g._param("error",b("nullthrows")(this.props.savingProgress.getError()).toString())]);return b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"notice_for_targeting_location_page_set_saving_error",textData:[{type:"PARAGRAPH",data:{text:a}}],ctaData:[{type:"BUTTON_GROUP",data:{buttonsData:[{text:this.props.message,onCallToAction:this.props.onEditFromError}]}}]}})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsTargetingLocationPageSetSavingProgressPanel.react",["cx","CenteredContainer.react","ProgressBar.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=100,i=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("CenteredContainer.react"),{vertical:!0},b("React").createElement("div",{className:"_4gba"},b("React").createElement(b("ProgressBar.react"),{max:h,min:i,value:this.props.savingProgress.getValue()||0}),this.props.message))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("FBFastPasteTextarea.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").Component;c=b("React").PropTypes;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$2=function(a){a.preventDefault(),c.setState({key:c.state.key+1}),c.props.onChange(c.props.keepValueOnPaste?a.target.value+a.nativeEvent.clipboardData.getData("text/plain"):a.nativeEvent.clipboardData.getData("text/plain"))};c.$1=function(a){a.preventDefault(),c.props.onChange(a.target.value)};c.state={key:1};return c}var d=c.prototype;d.render=function(){return b("React").createElement("textarea",babelHelpers["extends"]({},this.props,{onChange:this.$1,onPaste:this.$2,key:this.state.key}))};return c}(a);d.propTypes={onChange:c.func.isRequired};e.exports=d}),null);
__d("AdsTargetingLocationPageSetBulkAdd.react",["cx","fbt","AdsLocationBulkAddType","AdsTargetingLocationPageSetSavingErrorNotice.react","AdsTargetingLocationPageSetSavingProgressPanel.react","FBFastPasteTextarea.react","React","SUIBusinessTheme","SUIButton.react","SUICheckboxInput.react","XUIRadioList.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("XUIRadioList.react").Item;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_3-95"},b("React").createElement("p",null,h._("S\u00e9lectionnez le type de donn\u00e9es que vous voulez ajouter en lot")),b("React").createElement(b("XUIRadioList.react"),{selectedValue:this.props.bulkAddDataType,onValueChange:this.props.onBulkAddDataTypeChange},this.$1())),b("React").createElement("div",{className:"_4qoo"},this.$2()),b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("SUICheckboxInput.react"),{display:"block",label:h._("Garder les lieux pr\u00e9s\u00e9lectionn\u00e9s"),theme:b("SUIBusinessTheme"),value:this.props.preservePrevious,onChange:this.props.onPreservePreviousChange})),this.$3())};d.$3=function(){return this.props.hideActionButtons?null:b("React").createElement("div",null,b("React").createElement(b("SUIButton.react"),{disabled:this.props.bulkAddText===""||this.props.savingProgress.isLoading()||this.props.savingProgress.hasError()||this.props.locationMeta.isLoading(),label:h._("Ajouter des lieux"),theme:b("SUIBusinessTheme"),use:"confirm",onClick:this.props.onBulkAddCreateClick})," ",b("React").createElement(b("SUIButton.react"),{disabled:this.props.savingProgress.isLoading(),label:h._("Annuler"),theme:b("SUIBusinessTheme"),use:"default",onClick:this.props.onBulkAddCancelClick}))};d.$1=function(){return[b("React").createElement(i,{key:b("AdsLocationBulkAddType").STORE_NUMBER,value:b("AdsLocationBulkAddType").STORE_NUMBER},b("React").createElement("span",{className:"_5yix"},h._("Num\u00e9ros de magasins"))),b("React").createElement(i,{key:b("AdsLocationBulkAddType").ZIP_CODE,value:b("AdsLocationBulkAddType").ZIP_CODE},b("React").createElement("span",{className:"_5yix"},h._("Codes postaux")))].concat(this.props.isDMAEnabled?[b("React").createElement(i,{key:b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA,value:b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA},b("React").createElement("span",{className:"_5yix"},h._("March\u00e9s d\u00e9sign\u00e9s")))]:[])};d.$4=function(){switch(this.props.bulkAddDataType){case b("AdsLocationBulkAddType").STORE_NUMBER:return h._("Modifier les num\u00e9ros des magasins");case b("AdsLocationBulkAddType").ZIP_CODE:return h._("Modifier les codes postaux");case b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA:return h._("Modifier les DMAs");default:return h._("Modifier les entr\u00e9es")}};d.$2=function(){if(this.props.savingProgress.hasError())return b("React").createElement("div",{className:"_2pt1"},this.$5(this.$4()));return this.props.savingProgress.isLoading()?this.$6():b("React").createElement(b("FBFastPasteTextarea.react"),{className:"_4qop",keepValueOnPaste:!0,placeholder:this.$7(),value:this.props.bulkAddText,onChange:this.props.onBulkAddTextareaChange})};d.$7=function(){if(this.props.bulkAddDataType===b("AdsLocationBulkAddType").STORE_NUMBER)return h._("Copiez et collez les num\u00e9ros des magasins ici, un par ligne");else if(this.props.bulkAddDataType===b("AdsLocationBulkAddType").ZIP_CODE)return h._("Copiez et collez les codes postaux ici, un par ligne");return h._("Copiez et collez les codes des march\u00e9s d\u00e9sign\u00e9s ici, un par ligne")};d.$5=function(a){return b("React").createElement(b("AdsTargetingLocationPageSetSavingErrorNotice.react"),{message:a||h._("Modifier les sites d\u2019entreprise"),savingProgress:this.props.savingProgress,onEditFromError:this.props.onEditFromError})};d.$6=function(){return b("React").createElement(b("AdsTargetingLocationPageSetSavingProgressPanel.react"),{message:h._("T\u00c9L\u00c9CHARGEMENT DES EMPLACEMENTS"),savingProgress:this.props.savingProgress})};return c}(b("React").Component);e.exports=a}),null);
__d("AdsTargetingLocationPageSetCountrySelector.react",["fbt","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.countries,d=a.disabled,e=a.selectedCountryID;a=a.onChange;if(c.isLoading())return b("React").createElement(b("FDSSpinner.react"),{size:"small"});return c.hasError()||!(c.getValue()||[]).length?null:b("React").createElement(b("FDSDropdownSelector.react"),{isDisabled:d,value:e,onChange:a},(d=e!=null?[]:[b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:"no_country",value:null},g._("S\u00e9lectionnez un pays"))]).concat.apply(d,c.getValueEnforcing().map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.location_id,value:a.location_id},a.location_name)})))}e.exports=a}),null);
__d("AdsTargetingLocationPageSetMapPopup.react",["cx","AdsLocationNode","React","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=b("nullthrows")(this.props.node.getLocationDetails());return b("React").createElement("div",{className:"_z24"},b("React").createElement("div",{className:"_z29"},this.props.node.getLocationPageName()),b("React").createElement("div",{className:"_z2a"},a.street,b("React").createElement("br",null),a.city+" "+a.zip))};return c}(b("React").Component);c.propTypes={node:a.instanceOf(b("AdsLocationNode")).isRequired};e.exports=c}),null);
__d("AdsTargetingLocationPageSetMapUtils",["fbt","invariant","AdsTargetingLocationClusterRecord","AdsTargetingLocationMapMetaRecord","AdsTargetingLocationPageSetMapPopup.react","Cache","LeafletUtils","LocationConstants","React","immutable","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1e4,j=new(b("Cache"))(),k=new(b("Cache"))();function a(a){return a.members.reduce(function(a,b){return a+b.meta.getLocationCount()},0)}function c(a){__p&&__p();var b=a.members.first().meta;a=a.members.size;if(a===1&&!b.isLocation())return b.getLocationName();if(b.isLocation())return g._({"*":"{number} lieux","_1":"1 lieu"},[g._plural(a,"number")]);else if(b.isCity())return g._({"*":"{number} villes","_1":"1 ville"},[g._plural(a,"number")]);else if(b.isRegion())return g._({"*":"{number} r\u00e9gions","_1":"1 r\u00e9gion"},[g._plural(a,"number")]);else if(b.isCountry())return g._({"*":"{number} pays","_1":"1 pays"},[g._plural(a,"number")]);else return g._({"*":"{number} \u00e9l\u00e9ments","_1":"1 \u00e9l\u00e9ment"},[g._plural(a,"number")])}function l(a){return b("AdsTargetingLocationMapMetaRecord").fromGeoLocationCached(a.getGeolocation(),a)}function m(a){if(a.isLocation())return b("LocationConstants").LOCATION_TREE_LEVEL;else if(a.isCity())return b("LocationConstants").CITY_TREE_LEVEL;else if(a.isRegion())return b("LocationConstants").REGION_TREE_LEVEL;return b("LocationConstants").COUNTRY_TREE_LEVEL}function n(a){a=m(a)+(a.isOpen()?1:0);return b("LocationConstants").getZoomLevelForTreeDepth(a)}function d(a,c,d,e){__p&&__p();return c.filter(function(a){return a.hasCoordinates()}).filter(function(a){return d?a.getLocationCount()>0:a.getEligibleLocationCount()>0}).map(function(c){__p&&__p();var f=a.getHashCode()+"/"+c.getID();j.has(f)||j.set(f,a.getNodeHashKey(c.getID()));f=b("nullthrows")(j.get(f));c.isLocation()&&e!=null&&e!==""&&(f+="/"+e);f+=d?"/"+c.getLocationCount():"/"+c.getEligibleLocationCount();if(!k.has(f)){var g=l(c).withMutations(function(a){c.isLocation()?(a.popup=b("React").createElement(b("AdsTargetingLocationPageSetMapPopup.react"),{node:c}),c.getID()===e?a.icon=b("AdsTargetingLocationMapMetaRecord").iconForSingleLocationSelected():a.icon=b("AdsTargetingLocationMapMetaRecord").iconForSingleLocationNotSelected()):a.icon=b("AdsTargetingLocationClusterRecord").iconForCluster(d?c.getLocationCount():c.getEligibleLocationCount())});k.set(f,g)}return b("nullthrows")(k.get(f))})}function f(a,c,d){if(!a.tree.isLoaded()||!a.tree.hasRoot())return{loaded:b("immutable").Set(),toExpand:b("immutable").Set()};c=p(a,c,a.tree.getRoots(),b("LocationConstants").getTreeDepthForZoomLevel(d));d=c.loaded;c=c.toExpand;d=d;a.expandOpenSubtreeNodes&&(d=d.flatMap(function(b){return o(a,b)}));return{loaded:d,toExpand:c}}function o(a,c){__p&&__p();if(!c.isOpen()||c.isLocation())return b("immutable").Set.of(c);if(!c.hasChildren()){c.areChildrenLoading()||h(0,409);return b("immutable").Set.of(c)}c=a.tree.getChildren(c.getID());c&&c.size>0||h(0,410);return c.flatMap(function(b){return o(a,b)})}function p(a,c,d,e){return d.map(function(b){return q(a,c,b,e)}).reduce(function(a,b){var c=a.loaded;a=a.toExpand;var d=b.loaded;b=b.toExpand;return{loaded:c.union(d),toExpand:a.union(b)}},{loaded:b("immutable").Set(),toExpand:b("immutable").Set()})}function q(a,c,d,e){__p&&__p();e>=0||h(0,411);var f=b("immutable").Set.of(d),g=b("immutable").Set();if(e===0||d.getLocationType()==="location"&&e!=0)return{loaded:f,toExpand:g};if(!d.hasChildren()&&!d.areChildrenError()){c.contains(d.getLatLng())&&(g=g.add(d));return{loaded:f,toExpand:g}}d=a.tree.getChildren(d.getID());return!d?{loaded:f,toExpand:g}:d.filter(function(a){return a.hasCoordinates()}).map(function(b){return q(a,c,b,e-1)}).reduce(function(b,c){var a=b.loaded;b=b.toExpand;var d=c.loaded;c=c.toExpand;return{loaded:a.union(d),toExpand:b.union(c)}},{loaded:b("immutable").Set(),toExpand:g})}function r(a){var c;a.forEach(function(a){a=l(a).center;a=b("LeafletUtils").circleBounds(b("LeafletUtils").toLatLng(a),i);!c?c=a:c.extend(a)});return c}function s(a,c,d,e){__p&&__p();var f=n(c);if(c.isLocation())return d.setZoom(f).setCenter(l(c).center);a=a.getChildren(c.getID());if(a){c=r(a.filter(function(a){return a.hasCoordinates()}));return b("LeafletUtils").fitBounds(c,{width:e.x,height:e.y},{zoomRange:[0,f]})}return d}d={buildLocationRecords:d,countFromCluster:a,findNodes:f,getBoundsForNodes:r,getChildrenAtLevel:q,getViewForSelectedNode:s,nameFromCluster:c,recordFromNode:l,zoomLevelForNode:n};e.exports=d}),null);
__d("AdsTargetingLocationPageSetMap.react",["cx","AdsLocationNode","AdsLocationTree","AdsTargetingAggregatedMap.react","AdsTargetingAggregatedMapUtils","AdsTargetingLocationPageSetMapUtils","FDSSpinner.react","LeafletUtils","LocationConstants","React","AdsTargetingLocationTypeAliases"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsTargetingAggregatedMapUtils").extractRecordKey,i=b("AdsTargetingLocationPageSetMapUtils").buildLocationRecords,j=b("AdsTargetingLocationPageSetMapUtils").countFromCluster,k=b("AdsTargetingLocationPageSetMapUtils").findNodes,l=b("AdsTargetingLocationPageSetMapUtils").getViewForSelectedNode,m=b("AdsTargetingLocationPageSetMapUtils").nameFromCluster;a=b("React").Component;c=b("React").PropTypes;var n=b("AdsTargetingLocationTypeAliases").CLICK_BEHAVIORS;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.$4=function(a){if(!d.props.onLocationSelect)return;var b=d.props.onLocationSelect,c=a.map(h);a=d.state.nodes.filter(function(a){return c.contains(a.getLocationID())});a.forEach(function(a){return b(a)})};d.$5=function(a,b){d.setState(d.$2(d.props,{view:a,size:b}))};d.$6=function(a){return d.props.expandOpenSubtreeNodes?!1:b("LocationConstants").getTreeDepthForZoomLevel(a)<=b("LocationConstants").COUNTRY_TREE_LEVEL};var e=k(c,d.$1()),f=e.loaded;e=e.toExpand;c.expandNodes&&c.expandNodes(e);d.state={loading:!1,locations:i(c.tree,f,c.showIneligibleLocations),nodes:f};return d}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return a.tree&&a.tree.hasChildrenWithError()&&this.props.tree!==a.tree||!this.state.locations.equals(c.locations)||this.props.showIneligibleLocations!==a.showIneligibleLocations||!b("LeafletUtils").areViewEqual(c.view,this.state.view)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState(this.$2(a))};d.render=function(){return b("React").createElement("div",{className:"_2hjo"},this.state.loading&&b("React").createElement("div",null,b("React").createElement("div",{className:"_5i1"}),b("React").createElement("div",{className:"_5i2"},b("React").createElement(b("FDSSpinner.react"),{shade:"dark"}))),b("React").createElement("div",null,this.$3()))};d.$1=function(a,c){return c&&a?b("LeafletUtils").getViewBounds(a,{width:c.x,height:c.y}):b("LeafletUtils").WHOLE_WORLD_BOUNDS};d.$2=function(a,c){__p&&__p();var d=c&&c.size||this.state.size;c=c&&c.view||this.state.view;var e={};c&&a.selectedNode&&!a.selectedNode.equals(this.props.selectedNode)&&d&&(c=l(a.tree,a.selectedNode,c,d));if(a.tree.equals(this.props.tree)&&b("LeafletUtils").areViewEqual(c,this.state.view)&&a.showIneligibleLocations===this.props.showIneligibleLocations&&d==this.state.size)return e;b("LeafletUtils").areViewEqual(c,this.state.view)||(e.view=c);d!=this.state.size&&(e.size=d);var f=c&&c.zoom;if(f===void 0)return e;c=this.$1(c,d);d=k(a,c,f);c=d.loaded;f=d.toExpand;d=a.expandNodes;d&&d(f);a=i(a.tree,c,a.showIneligibleLocations,a.selectedNode?a.selectedNode.getID():null);return babelHelpers["extends"]({loading:!!d&&f.size>0,locations:a,nodes:c},e)};d.$3=function(){return b("React").createElement(b("AdsTargetingAggregatedMap.react"),{clickBehavior:this.state.loading?n.NONE:this.props.clickBehavior||n.ZOOM_TO_NEXT_RANGE,countFromCluster:j,disableAggregation:this.$6,disableCollapseButton:!0,disableScrollWheelZoom:!0,height:this.props.height,inlineMapProps:this.props.inlineMapProps,locationRecords:this.state.locations,nameFromCluster:m,view:this.state.view,onLocationsSelect:this.$4,onSingleNodeClick:this.props.onSingleNodeClick,onViewChange:this.$5})};return c}(a);d.propTypes={clickBehavior:c.oneOf(Object.keys(n)),expandNodes:c.func,expandOpenSubtreeNodes:c.bool.isRequired,selectedNode:c.instanceOf(b("AdsLocationNode")),tree:c.instanceOf(b("AdsLocationTree")).isRequired,onLocationSelect:c.func};e.exports=d}),null);
__d("AdsTargetingLocationPageSetRadius.react",["cx","fbt","AdsAccountUtils","AdsCCCategory","AdsLabeledField.react","AdsLocationMetaConstant","AdsStaticInlineNux.react","BUIAdoptionSelector.react","BUIAdoptionSelectorOption.react","BUIAdoptionUtils","FDSSpinner.react","InputLabel_DEPRECATED.react","InputLabelLabel_DEPRECATED.react","Link.react","LocationConstants","React","XUICheckboxInput.react","XUITextInput.react","getByPath","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").Component;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onLogInteraction("click"),d.props.onUpdateMeta(b("AdsLocationMetaConstant").SELECTED_RADIUS_TYPE_PATH,a.value)},d.$3=function(a){d.props.onLogInteraction("key_stroke"),d.$9(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH,b("getByPath")(a,["target","value"]),7)},d.$8=function(a){d.props.onLogInteraction("key_stroke"),d.$9(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH,b("getByPath")(a,["target","value"]),3,!0)},d.$5=function(a){d.props.onLogInteraction("key_stroke"),d.$9(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH,b("getByPath")(a,["target","value"]),3,!0)},d.$4=function(a){d.props.onLogInteraction("click"),d.props.onUpdateMeta(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH,b("getByPath")(a,["target","checked"]))},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){if(!this.props.meta.hasValue())return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var a=b("AdsAccountUtils").hasCapability(this.props.account,"ADS_MARKETING_AREA_IN_SVO"),c=b("nullthrows")(this.props.meta.getValue());return b("React").createElement("div",{className:this.props.disabled?"_55es":""},b("React").createElement(b("BUIAdoptionSelector.react"),{disabled:this.props.disabled,value:c.selectedRadiusType,onChange:b("BUIAdoptionUtils").convertSelectorXUIOnChangeToSUIOnChange(this.$1)},c.radiuses.has(b("AdsLocationMetaConstant").DISTANCE)&&b("React").createElement(b("BUIAdoptionSelectorOption.react"),{key:b("AdsLocationMetaConstant").DISTANCE,value:b("AdsLocationMetaConstant").DISTANCE},a?h._("Rayon par distance"):h._("Par distance \u00e0 partir de l\u2019emplacement")),c.radiuses.has(b("AdsLocationMetaConstant").AUDIENCE)&&b("React").createElement(b("BUIAdoptionSelectorOption.react"),{key:b("AdsLocationMetaConstant").AUDIENCE,value:b("AdsLocationMetaConstant").AUDIENCE},a?h._("Rayon par taille d\u2019audience"):h._("Par taille d\u2019audience")),a&&b("React").createElement(b("BUIAdoptionSelectorOption.react"),{key:b("AdsLocationMetaConstant").MARKETING_AREA,value:b("AdsLocationMetaConstant").MARKETING_AREA},h._("Codes postaux pr\u00e9d\u00e9finis"))),b("React").createElement("div",{className:"_1j0w"},this.renderAudiencePanel(),this.renderDistancePanel(),this.renderMarketingAreasPanel()))};d.renderAudiencePanel=function(){var a=b("nullthrows")(this.props.meta.getValue());return a.selectedRadiusType!==b("AdsLocationMetaConstant").AUDIENCE?null:b("React").createElement("div",null,b("React").createElement("div",{className:"_1j0x"},h._("Le rayon pour chaque lieu sera d\u00e9fini de mani\u00e8re dynamique en fonction du nombre de personnes \u00e0 atteindre.")),this.renderAudienceAdvancedToggle())};d.renderAudienceAdvancedToggle=function(){if(this.props.disabled)return null;var a=b("nullthrows")(this.props.meta.getValue()),c=!this.props.disabled&&a.getIn(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH);return b("React").createElement("div",null,b("React").createElement("div",{className:"_1j0x"},b("React").createElement(b("AdsLabeledField.react"),{helpText:h._("Choisissez le nombre estim\u00e9 de personnes que vous voulez atteindre dans chaque lieu. Le nombre pr\u00e9d\u00e9fini est de 100 000."),label:h._("Audience potentielle")}),b("React").createElement(b("XUITextInput.react"),{className:"_1j0y",disabled:this.props.disabled,height:"tall",value:a.getIn(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH),xuiError:this.$2(a),onChange:this.$3})),b("React").createElement("div",{className:"_1j0x"},b("React").createElement(b("InputLabel_DEPRECATED.react"),null,b("React").createElement(b("XUICheckboxInput.react"),{defaultChecked:a.getIn(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH),disabled:this.props.disabled,name:"max",value:"true",onChange:this.$4}),b("React").createElement(b("AdsLabeledField.react"),{className:"_1j0z",helpText:h._("D\u00e9terminez un rayon maximum. Si vous choisissez une trop petite taille vous risquez de ne pas toucher votre audience potentielle partout."),label:h._("Distance maximale")}))),b("React").createElement("div",{className:"_1j0x"+(a.getIn(["radiuses","audience","hasMax"])?"":" _1j10")},b("React").createElement(b("InputLabel_DEPRECATED.react"),null,b("React").createElement(b("XUITextInput.react"),{className:"_1j11",disabled:!c,height:"tall",value:a.getIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH),xuiError:a.isAudienceMaxInvalid()&&c?h._("Le champ de distance maximale ne peut pas \u00eatre vide"):null,onChange:this.$5}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),{className:"_1j0z",style:{marginLeft:"8px"}},this.$6(a)))))};d.renderDistancePanel=function(){var a=b("nullthrows")(this.props.meta.getValue());return a.selectedRadiusType!==b("AdsLocationMetaConstant").DISTANCE?null:b("React").createElement("div",null,b("React").createElement("div",{className:"_1j0x"},h._("Le rayon sera d\u00e9fini sur la m\u00eame distance pour chacun des lieux")),b("React").createElement("div",{className:"_1j0x"},b("React").createElement(b("InputLabel_DEPRECATED.react"),null,b("React").createElement(b("XUITextInput.react"),{className:"_1j11",disabled:this.props.disabled,height:"tall",value:a.getIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH),xuiError:this.$7(a),onChange:this.$8}),b("React").createElement(b("InputLabelLabel_DEPRECATED.react"),{className:"_1j0z",style:{marginLeft:"8px"}},this.$6(a)))))};d.renderMarketingAreasPanel=function(){var a=b("nullthrows")(this.props.meta.getValue());return a.selectedRadiusType!==b("AdsLocationMetaConstant").MARKETING_AREA?null:b("React").createElement("div",{className:"_1j0x"},h._("Ciblez vos pubs aupr\u00e8s de personnes situ\u00e9es dans une zone d\u00e9finie autour de codes postaux sp\u00e9cifiques. Ces codes postaux devront avoir \u00e9t\u00e9 ajout\u00e9s \u00e0 des sites individuels de l\u2019entreprise dans Business Manager. {Link to Business Manager}",[h._param("Link to Business Manager",this.props.locationManagerLink?b("React").createElement(b("Link.react"),{href:this.props.locationManagerLink,target:"_blank"},h._("G\u00e9rer les sites")):null)]),this.props.isTreeEmpty?b("React").createElement("div",{className:"_3-8z"},b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"no_business_locations_have_zip_code_targeting_setup_error",textData:[{type:"PARAGRAPH",data:{text:h._("Aucun des sites d\u2019entreprise que vous avez s\u00e9lectionn\u00e9s n\u2019a de ciblage d\u00e9fini sur le code postal.")}}]}})):null)};d.$7=function(a){__p&&__p();if(!this.props.disabled){if(a.isDistanceEmpty())return h._("Le champ de distance maximale ne peut pas \u00eatre vide");if(a.isDistanceTooLarge()){var b=Math.floor(a.getMaxDistance()*10)/10;return h._("La distance maximale ne peut pas d\u00e9passer {max distance value} {distance unit}",[h._param("max distance value",b),h._param("distance unit",this.$6(a,b))])}if(a.isDistanceTooSmall()){b=Math.floor(a.getMinDistance()*10)/10;return h._("La distance minimale ne peut pas \u00eatre inf\u00e9rieure \u00e0 {min distance value} {distance unit}",[h._param("min distance value",b),h._param("distance unit",this.$6(a,b))])}}return null};d.$2=function(a){if(this.props.disabled)return null;return a.isAudienceEmpty()||a.isAudienceTooSmall()?h._("L\u2019audience potentielle doit \u00eatre d\u2019au moins {min potential audience size}",[h._param("min potential audience size",a.getMinAudience())]):null};d.$6=function(a,c){c=c||parseInt(b("LocationConstants").RadiusInfo.getLocationSetDefaultRadius(a.distanceUnit),10);return a.distanceUnit===b("LocationConstants").KILOMETER_UNIT?h._({"*":"kilom\u00e8tres","_1":"kilom\u00e8tre"},[h._plural(c)]):h._({"*":"miles","_1":"mile"},[h._plural(c)])};d.$9=function(a,b,c,d){if(b.length>c+(d&&/\./.test(b)?1:0))return;if(d&&/^[^\.]*\.$/.test(b)){this.props.onUpdateMeta(a,b);return}c=d?parseFloat(b):parseInt(b,10);this.props.onUpdateMeta(a,isNaN(c)?b.slice(0,-1):""+c)};return c}(a);e.exports=c}),null);
__d("AdsTargetingLocationPageSetShowIneligibleLocationsToggle.react",["cx","fbt","AdsLocationMetaConstant","BUISwitch.react","FDSSimplePopover.react","React","SUIBusinessThemeContainer.react","SUITooltip.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onUpdateMeta(b("AdsLocationMetaConstant").SHOW_INELIGIBLE_LOCATIONS_PATH,!a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.meta;a=a.selectedCountry;if(!c.hasValue()||!a.hasValue())return null;c=c.getValueEnforcing();a=a.getValueEnforcing();var d=a!=null&&a.num_pages_eligible_for_store_visit_reporting>0;if(!d)return null;d=a!=null&&a.num_pages_eligible_for_store_visit_reporting===a.num_pages;a=d?h._("Les visites en point de vente peuvent \u00eatre comptabilis\u00e9es pour tous vos lieux"):null;return b("React").createElement("div",{className:"_224d"},b("React").createElement("span",{className:"_224e"},h._("Supprimer les lieux pour lesquels il ne peut y avoir des statistiques")),b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Nous ne pouvons pas calculer les visites en point de vente de certains de vos emplacements pour le moment. Vous pouvez quand m\u00eame utiliser ces emplacements dans vos publicit\u00e9s, mais vous ne pourrez pas voir le nombre de personnes qui les visitent."),contentWidthUseSparingly:288,position:"above"}),b("React").createElement("span",{className:"_224r"},b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUITooltip.react"),{position:"right",tooltip:a},b("React").createElement(b("BUISwitch.react"),{disabled:d,style:{display:"inline"},value:!c.showIneligibleLocations,onToggle:this.$1})))))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsTargetingLocationPageSetTypeaheadRow.react",["cx","fbt","React","formatNumber","maybe"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").Component;function i(a){switch(a){case"city":return h._("Ville");case"region":return h._("R\u00e9gion");case"location":return h._("Lieu professionnel")}return a}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.props.onSelect(c.props.entry)},c.$4=function(){c.props.onHighlight(c.props.entry)},c.$5=function(){c.props.onHighlight(null)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=b("maybe").unwrap(this.props.entry.getAuxiliaryData());a=this.$1(a);return b("React").createElement("div",{className:"_axt"+(this.props.isHighlighted?" _axu":""),"data-label":"location-result",title:this.$2(),onMouseDown:this.$3,onMouseEnter:this.$4,onMouseLeave:this.$5},a)};d.$1=function(a){return a?b("React").createElement("div",null,b("React").createElement("div",{className:"_axv"},this.props.entry.getTitle(),b("React").createElement("span",null,this.$6())),b("React").createElement("div",{className:"_axw"},i(a.location_type))):b("React").createElement("div",{className:"_axv"},this.props.entry.getTitle())};d.$6=function(){var a=b("maybe").unwrap(this.props.entry.getAuxiliaryData());return!a||!a.num_pages?"":h._({"*":"({number} lieux)","_1":"(1 lieu)"},[h._plural(a.num_pages,"number",b("formatNumber")(a.num_pages))])};d.$2=function(){return this.props.entry.getTitle()+" "+this.$6().toString()};return c}(a);e.exports=c}),null);
__d("AdsTargetingLocationPageSetTypeaheadViewer.react",["cx","AdsTargetingLocationPageSetTypeaheadRow.react","LocationConstants","React","ScrollableArea.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").Component;var h=250,i=50;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_4ik"},b("React").createElement(b("ScrollableArea.react"),{height:this.props.entries.length>i?h:null},this.$1()))};d.$1=function(){var a=this,c=this.props.entries;c.length>1&&(c=c.filter(function(a){return a.getUniqueID()!==b("LocationConstants").NO_RESULTS_ID}));return c.map(function(c,d){return b("React").createElement(b("AdsTargetingLocationPageSetTypeaheadRow.react"),{entry:c,isHighlighted:a.props.highlightedEntry&&c.getUniqueID()===a.props.highlightedEntry.getUniqueID(),key:d,onHighlight:a.props.onHighlight,onSelect:a.props.onSelect})})};return c}(a);e.exports=c}),null);
__d("AdsTargetingLocationPageSetPresenter",["AdsTargetingLocationPageSetTypeaheadViewer.react"],(function(a,b,c,d,e,f){"use strict";e.exports={ViewRenderer:b("AdsTargetingLocationPageSetTypeaheadViewer.react"),maxEntries:10}}),null);
__d("AdsTargetingLocationPageSetTypeahead.react",["cx","fbt","AbstractTypeahead.react","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").Component;function i(a){return!a.sourceLoading?null:b("React").createElement("div",{className:"_4gmo"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}))}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.$2=function(a){c.props.onLogInteraction&&c.props.onLogInteraction("tree_key_stroke"),c.setState({queryString:a.target.value})};c.$3=function(){c.setState({hasFocus:!0})};c.$1=function(){c.setState({hasFocus:!1})};c.$4=function(a){c.setState({queryString:""}),c.props.onSelectAttempt(a)};c.state={hasFocus:!1,queryString:"",treeRootID:b.locationTree&&b.locationTree.hasRoot()?b.locationTree.getRoot().getLocationID():null};return c}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a=a.locationTree&&a.locationTree.hasRoot()?a.locationTree.getRoot().getLocationID():null;a!==this.state.treeRootID&&this.setState({queryString:"",treeRootID:a})};d.render=function(){var a="_38jf uiContextualLayerParent"+(this.state.hasFocus?" _38jg":"");return b("React").createElement("div",{className:a},b("React").createElement(i,{sourceLoading:this.props.sourceLoading}),b("React").createElement(b("AbstractTypeahead.react"),{disabled:this.props.disabled,placeholder:h._("Entrez un pays, une r\u00e9gion ou une ville"),presenter:this.props.presenter,queryString:this.state.queryString,searchSource:this.props.searchSource,onBlur:this.$1,onChange:this.$2,onFocus:this.$3,onSelectAttempt:this.$4}))};return c}(a);e.exports=c}),null);
__d("AdsTargetingLocationPageSetTokenizer.react",["AdsTargetingLocationPageSetPresenter","AdsTargetingLocationPageSetTypeahead.react","FDSSpinner.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").Component;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return!this.props.searchSource?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("AdsTargetingLocationPageSetTypeahead.react"),{disabled:this.props.disabled,locationTree:this.props.locationTree,presenter:b("AdsTargetingLocationPageSetPresenter"),searchSource:this.props.searchSource,sourceLoading:this.props.sourceLoading,onLogInteraction:this.props.onLogInteraction,onSelectAttempt:this.props.onSelectAttempt})};return c}(a);c.defaultProps={locationTree:null};e.exports=c}),null);
__d("AdsTargetingLocationPageSetTreeItem.react",["cx","fbt","ix","AdsFBIconDownsized.react","FDSSpinner.react","Image.react","React","SUIBusinessTheme","SUITooltip.react","asset","formatNumber"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").Component;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.$1()&&c.props.onItemClick(c.props.item)},c.$6=function(){c.props.onItemRemove(c.props.item)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{"aria-expanded":this.props.item.isOpen()?"true":"false",className:(this.props.item.isCountry()?"_51w_":"")+(this.props.item.isRegion()?" _3n5a":"")+(this.props.item.isCity()?" _3n5w":"")+(this.props.item.isLocation()?" _3n5x":"")+" _51x0"+(this.$1()?" _3--t":"")+(this.$1()?"":" _3pqh")+(this.props.item.isOpen()&&!this.props.item.areChildrenLoading()?" _51x1":"")+(this.props.item.isOpen()?"":" _51x2")+(this.props.isSelected?" _21eg":""),role:"treeitem",tabIndex:"-1",onClick:this.$2},b("React").createElement("span",{className:"_51x3",role:this.$1()?"button":"",title:this.props.item.getLocationName()},b("React").createElement("span",{className:"_4oi3","data-label":this.props.item.getLocationType(),"data-locations":this.props.item.getLocationCount()},this.props.item.getLocationName()),this.$3(),this.$4(),this.props.item.areChildrenLoading()?b("React").createElement("span",{className:"_2pis"},b("React").createElement(b("FDSSpinner.react"),{size:"small"})):null),b("React").createElement("div",{className:"_51x7"},this.$5()))};d.$5=function(){if(this.props.readonly)return null;return this.props.item.areChildrenLoading()?b("React").createElement("span",{className:"_4jbd"}):b("React").createElement(b("AdsFBIconDownsized.react"),{className:"_4jbe","data-label":this.props.item.getLocationType()+"-remove",src:i("363586"),onClick:this.$6})};d.$1=function(){return this.props.item.getLocationCount()>0&&(this.props.isLocationClickable||!this.props.item.isLocation())};d.$3=function(){var a=this.props.item;if(a.isLocation())return null;a=!this.props.showEligibilityInfo||this.props.showIneligibleLocations?a.getLocationCount():a.getEligibleLocationCount();return b("React").createElement("span",{className:"_51xc"},"(",h._({"*":"{number} lieux","_1":"1 lieu"},[h._plural(a,"number",b("formatNumber")(a))]),")")};d.$4=function(){if(!this.props.showEligibilityInfo||this.props.item.getLocationType()!=="location"||this.props.item.getEligibleLocationCount()===0)return null;var a=h._("Les visites en point de vente peuvent \u00eatre comptabilis\u00e9es pour ce lieu");return b("React").createElement(b("SUITooltip.react"),{position:"right",theme:b("SUIBusinessTheme"),tooltip:a},b("React").createElement(b("Image.react"),{className:"_4oid",src:i("21900")}))};return c}(a);e.exports=c}),null);
__d("AdsTargetingLocationPageSetTree.react",["cx","fbt","AdsTargetingLocationPageSetTreeItem.react","FDSSpinner.react","LoadObject","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").Component;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=this.props,d=c.tree,e=c.selectedCountry,f=c.showEligibilityInfo;c=c.showIneligibleLocations;if(!d.isInitialized()&&d.isLoading()||c.isLoading()||e.isLoading())return b("React").createElement(b("FDSSpinner.react"),{size:"small"});if(d.isInitialized()&&!d.hasRoot())return b("React").createElement("div",{className:"_17xe"},h._("Aucun site d\u2019entreprise s\u00e9lectionn\u00e9."));if(!c.hasValue()||!e.hasValue())return null;var g=!c.hasValue()||c.getValueEnforcing();c=e.getValueEnforcing();var i=c!=null&&c.num_pages_eligible_for_store_visit_reporting>0;e=!f||g||!i?d.getList():d.getEligibleList();return b("React").createElement("div",{className:this.props.className,role:"tree"},e.map(function(c){var e=d.getNode(c);return b("React").createElement(b("AdsTargetingLocationPageSetTreeItem.react"),{isLocationClickable:a.props.isLocationClickable,isSelected:e.id===a.props.selectedNodeID,item:e,key:c,readonly:a.props.readonly,showEligibilityInfo:f&&i,showIneligibleLocations:g,onItemClick:a.props.onItemClick,onItemRemove:a.props.onItemRemove})}))};return c}(a);c.defaultProps={selectedCountry:b("LoadObject").withValue(void 0),showEligibilityInfo:!1,showIneligibleLocations:b("LoadObject").withValue(!0)};e.exports=c}),null);
__d("ApiLocationBreakdownFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LOCATION_ID:"location_id",LOCATION_NAME:"location_name",LOCATION_TYPE:"location_type",NUM_PAGES:"num_pages",NUM_PAGES_ELIGIBLE_FOR_STORE_VISIT_REPORTING:"num_pages_eligible_for_store_visit_reporting"})}),null);
__d("AdsTargetingLocationPageSet.react",["cx","fbt","AdsAccountUtils","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLearnMore.react","AdsLocationBulkAddType","AdsLocationMetaConstant","AdsLocationTree","AdsOnLeavePageDialog.react","AdsPageDropdownSelector.react","AdsStoreVisitsUtils","AdsTargetingLocationPageSetBulkAdd.react","AdsTargetingLocationPageSetCountrySelector.react","AdsTargetingLocationPageSetMap.react","AdsTargetingLocationPageSetRadius.react","AdsTargetingLocationPageSetSavingErrorNotice.react","AdsTargetingLocationPageSetSavingProgressPanel.react","AdsTargetingLocationPageSetShowIneligibleLocationsToggle.react","AdsTargetingLocationPageSetTokenizer.react","AdsTargetingLocationPageSetTree.react","AdsTargetingLocationTypeSelector","AdsTargetingWebdriverIDs","ApiLocationBreakdownFields","BUIAdoptionCloseButton.react","BUIAdoptionDialogButton.react","BUIAdoptionHorizontalLayout.react","FDSSimplePopover.react","FDSSpinner.react","Grid.react","LayerFadeOnHide","Link.react","LocationConstants","PageSetLocationsCheck","PositionEnum","React","ShimButton.react","SUIBusinessTheme","SUIButton.react","SUILink.react","SUINotice.react","SUISpinner.react","SUIText.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","createObjectFrom","nullthrows","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Grid.react").GridItem;a=b("React").Component;var j="956093091134327",k=60,l=930,m=404,n=130,o=300;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$7=function(){if(d.props.asyncLocationsProblems.isLoading()||!d.props.asyncLocationsProblems.hasValue())return;var a=d.props.asyncLocationsProblems.getValueEnforcing();a=a[b("PageSetLocationsCheck").IDENTICAL_COORDINATES];a=(a||[]).slice(1).map(function(a){return a.toString()});d.props.onForceSave(a)},d.$14=function(){return d.refs.button},d.$15=function(a){a===!0?d.props.onDialogOpen():d.props.onUnsavedLeaveAttempt()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,this.$1(),this.$2(),this.$3())};d.$1=function(){return this.props.pageSetID&&this.props.locationTree.isLoading()&&!this.props.locationTree.isInitialized()?b("React").createElement(b("SUISpinner.react"),{className:"_3-8y",size:"small",theme:b("SUIBusinessTheme")}):b("React").createElement("div",null,b("React").createElement("div",{className:"_1ekb","data-testid":b("AdsTargetingWebdriverIDs").TARGETING_PAGE_SET},this.$4(),this.$5()),this.$6())};d.$6=function(){if(this.props.asyncLocationsProblems.isLoading()||!this.props.asyncLocationsProblems.hasValue())return null;var a=this.props.asyncLocationsProblems.getValueEnforcing(),c=a[b("PageSetLocationsCheck").PERMANENTLY_CLOSED],d=a[b("PageSetLocationsCheck").NOT_IN_STRUCTURE];a=a[b("PageSetLocationsCheck").IDENTICAL_COORDINATES];c=c?c.length:0;d=d?d.length:0;a=a?a.length:0;var e=d+c+(a>1?a-1:0);return e>0?b("React").createElement(b("SUINotice.react"),{margin:"_3-8x",theme:b("SUIBusinessTheme"),type:"error"},b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",size:"meta1"},h._("Vous ne pouvez pas utiliser ce lieu pour cr\u00e9er une campagne tant que certains lieux n\u2019auront pas \u00e9t\u00e9 supprim\u00e9s."),b("React").createElement("ul",{className:"_3-8x"},c>0&&b("React").createElement("li",{className:"_3hsv"},h._({"*":"{number} lieux d\u00e9finitivement ferm\u00e9s","_1":"1 lieu d\u00e9finitivement ferm\u00e9"},[h._plural(c,"number")])),d>0&&b("React").createElement("li",{className:"_3hsv"},h._({"*":"{number} lieux ne font plus partie de cette structure de lieu","_1":"1 lieu ne fait plus partie de la structure de cet endroit"},[h._plural(d,"number")])),a>0&&b("React").createElement("li",{className:"_3hsv"},h._({"*":"{number} lieux ont exactement les m\u00eames coordonn\u00e9es","_1":"1 emplacement a exactement les m\u00eames coordonn\u00e9es"},[h._plural(a,"number")])))),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",margin:"_3-8x",size:"meta1"},b("React").createElement(b("SUILink.react"),{onClick:this.$7},h._({"*":"Supprimer {number} lieux","_1":"Supprimer 1 lieu"},[h._plural(e,"number")])))):null};d.$5=function(){return b("React").createElement("div",{className:"_1ekc"},b("React").createElement(b("ShimButton.react"),{className:"_1ekd",onClick:this.props.onDialogOpen}),this.$8("entryPoint"))};d.$9=function(){if(this.props.pageSetID&&this.props.locationTree.hasRoot()){if(this.props.totalLocations.isLoading()||this.props.locationMeta.isLoading())return b("React").createElement("div",{className:"_1eki"},b("React").createElement(b("FDSSpinner.react"),{size:"small"}));var a=this.props.locationMeta.getValueEnforcing().showIneligibleLocations;a=a?this.props.locationTree.getRoot().getLocationCount():this.props.locationTree.getRoot().getEligibleLocationCount();return b("React").createElement("div",{className:"_1eki"},h._("{selected} sur {total} lieux s\u00e9lectionn\u00e9s",[h._param("selected",a),h._param("total",this.props.totalLocations.getValue())]))}return null};d.$10=function(){return this.props.pageSetID&&this.props.locationTree.hasRoot()?b("React").createElement("div",null,b("React").createElement("div",{className:"_1ekg"},h._("Pays\u00a0: {country}",[h._param("country",this.props.locationTree.getRoot().getLocationName())])),b("React").createElement("div",{className:"_1ekg"},this.$11())):h._("Ciblez vos publicit\u00e9s pour les gens qui se trouvent \u00e0 proximit\u00e9 des sites de votre entreprise")};d.$11=function(){__p&&__p();if(this.props.locationMeta.isLoading())return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var a=this.props.locationMeta.getValueEnforcing(),c;switch(a.selectedRadiusType){case b("AdsLocationMetaConstant").MARKETING_AREA:return h._("Zone cible\u00a0: codes postaux pr\u00e9d\u00e9finis");case b("AdsLocationMetaConstant").DISTANCE:c=a.getIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH);if(!c)return null;return a.distanceUnit===b("LocationConstants").KILOMETER_UNIT?h._({"*":"Zone cible\u00a0: {number} kilom\u00e8tres par lieu","_1":"Zone cible\u00a0: 1 kilom\u00e8tre par lieu"},[h._plural(parseInt(c,10),"number",c)]):h._({"*":"Zone cible\u00a0: {number} miles par lieu","_1":"Zone cible\u00a0: 1 mile par lieu"},[h._plural(parseInt(c,10),"number",c)]);case b("AdsLocationMetaConstant").AUDIENCE:c=a.getIn(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH);return!c?null:h._({"*":"Zone cible\u00a0: {number} personnes par lieu","_1":"Zone cible\u00a0: 1 personne par lieu"},[h._plural(parseInt(c,10),"number",c)])}return null};d.$12=function(){return this.props.pageSetID?b("React").createElement(b("Link.react"),{"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_PAGE_SET_EDIT_DIALOG_LINK,ref:"button",onClick:this.props.onDialogOpen},this.$13()):b("React").createElement(b("SUIButton.react"),{"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_PAGE_SET_OPEN_DIALOG_BUTTON,height:"normal",label:this.$13(),maxWidth:o,ref:"button",theme:b("SUIBusinessTheme"),onClick:this.props.onDialogOpen})};d.$4=function(){return b("React").createElement("div",{className:"_1ekh"},this.$9(),b("React").createElement("div",{className:"_1ekj"},this.$10()),b("React").createElement("div",{className:"_1ekk"},this.$12()))};d.$13=function(){return this.props.pageSetID?h._("Modifier les sites d\u2019entreprise"):h._("S\u00e9lectionner des sites d\u2019entreprise")};d.$8=function(a){if(!this.props.locationMeta.hasValue())return null;var c,d,e,f,g=this.props.locationTree,h=this.props.locationMeta.getValueEnforcing().showIneligibleLocations;a==="modal"?(f=this.props.onNeedsChildren,c=!0,e=m):a==="entryPoint"&&(c=!1,e=n,d={hideAllControls:!0},this.props.pageSetID||(g=b("AdsLocationTree").empty));return b("React").createElement(b("AdsTargetingLocationPageSetMap.react"),{expandNodes:f,expandOpenSubtreeNodes:b("nullthrows")(c),height:b("nullthrows")(e),inlineMapProps:d,selectedNode:this.props.selectedNode,showIneligibleLocations:h,tree:g})};d.$2=function(){return!this.props.dialogShown?null:b("React").createElement(b("XUIDialog.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},causalElementRef:this.$14,hideOnEscape:!1,layerHideOnBlur:!1,shown:this.props.dialogShown,width:l,onToggle:this.$15},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},b("React").createElement("span",null,h._("S\u00e9lectionner des sites d\u2019entreprise")),this.props.savingProgress.isLoading()?null:b("React").createElement(b("BUIAdoptionCloseButton.react"),{className_DEPRECATED:"_51-t",onClick:this.props.onUnsavedLeaveAttempt})),b("React").createElement(b("XUIDialogBody.react"),{className:"_3wuo",useCustomPadding:!0},this.$16()),this.$17())};d.$3=function(){return!this.props.leaveDialogShown?null:b("React").createElement(b("AdsOnLeavePageDialog.react"),{body:h._("Vous perdrez les changements que vous avez apport\u00e9s si vous quittez la page."),cancelLabel:h._("Annuler"),confirmLabel:h._("Quitter"),shown:this.props.leaveDialogShown,title:h._("Quitter les lieux"),onCancel:this.props.onLeaveCancel,onConfirm:this.props.onLeaveConfirm})};d.$16=function(){if(!this.props.isBulkAdd){if(this.props.savingProgress.hasError())return b("React").createElement("div",{className:"_2pt1"},this.$18());if(this.props.savingProgress.isLoading())return this.$19()}return b("React").createElement(b("Grid.react"),{alignv:"top",cols:2},b("React").createElement(i,null,b("React").createElement("div",{className:"_4u4w","data-testid":b("AdsTargetingWebdriverIDs").TARGETING_PAGE_SET_DIALOG},b("React").createElement(b("AdsInfoTable.react"),{oneColumn:!1,sectionborders:!1},b("React").createElement(b("AdsInfoTableSection.react"),{className:"_5w17"},this.$20(),this.$21(),this.$22(),this.$23(),this.$24(),this.$25())))),b("React").createElement(i,null,b("React").createElement("div",{className:"_3wup"+(this.props.locationTree.hasRoot()?"":" _qdr")},b("React").createElement("div",{className:"_3wuq"},b("React").createElement("h4",{className:"_3wur"},h._("R\u00e9capitulatif des lieux")),b("React").createElement("p",{className:"_3wus"},this.$26()),b("React").createElement("p",{className:"_qds"},this.$27())),this.$8("modal"))))};d.$20=function(){if(this.props.availablePages.length===0||this.props.isBulkAdd)return null;var a=this.props.availablePages;a=b("createObjectFrom")(a.map(function(a){return a.id}),a);return b("React").createElement(b("AdsInfoTableRow.react"),{helpLink:b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Choisissez une Page que vous souhaitez utiliser en tant que source pour les sites de l\u2019entreprise."),position:b("PositionEnum").above}),label:h._("Page"),noUIContextualLayerParent:!0,useColon:!1},b("React").createElement(b("AdsPageDropdownSelector.react"),{alignment:"left",defaultLabel:h._("Choisissez une Page"),pages:a,searchBarVisible:!0,selectedActorID:this.props.pageID,showBusinessPages:!1,showPageName:!0,size:"large",suppressed:!1,onChange:this.props.onPageIDChange}))};d.$21=function(){var a=[b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA,b("AdsLocationBulkAddType").STORE_NUMBER];a=this.props.isBulkAdd&&!this.props.preservePrevious&&a.includes(this.props.bulkAddDataType);var c=this.props.locationTree.isLoading()||this.props.isBulkAdd&&this.props.preservePrevious;return b("React").createElement(b("AdsInfoTableRow.react"),{className:(this.props.isBulkAdd?"_5yiw":"")+(a?" _fzb":""),label:h._("Pays"),noUIContextualLayerParent:!0,useColon:!1},b("React").createElement(b("AdsTargetingLocationPageSetCountrySelector.react"),{countries:this.props.availableCountries,disabled:c,selectedCountryID:this.props.countryID,onChange:this.props.onChangeCountry}))};d.$19=function(){return b("React").createElement(b("AdsTargetingLocationPageSetSavingProgressPanel.react"),{message:h._("CR\u00c9ATION EN COURS"),savingProgress:this.props.savingProgress})};d.$18=function(){return b("React").createElement(b("AdsTargetingLocationPageSetSavingErrorNotice.react"),{message:h._("Modifier les sites d\u2019entreprise"),savingProgress:this.props.savingProgress,onEditFromError:this.props.onEditFromError})};d.$23=function(){var a=this;if(this.props.isBulkAdd)return null;var c=this.props.availableCountries.map(function(c){return c.find(function(c){return c[b("ApiLocationBreakdownFields").LOCATION_ID]===a.props.countryID})});return b("React").createElement(b("AdsInfoTableRow.react"),{label:h._("Vos lieux"),noUIContextualLayerParent:!0,useColon:!1},this.props.showEligibilityInfo&&b("React").createElement(b("AdsTargetingLocationPageSetShowIneligibleLocationsToggle.react"),{meta:this.props.locationMeta,selectedCountry:c,onUpdateMeta:this.props.onUpdateMeta}),b("React").createElement(b("AdsTargetingLocationPageSetTree.react"),{className:"_51w-",isLocationClickable:!1,readonly:!1,selectedCountry:c,showEligibilityInfo:this.props.showEligibilityInfo,showIneligibleLocations:this.props.locationMeta.map(function(a){return a.showIneligibleLocations}),tree:this.props.locationTree,onItemClick:this.props.onItemClick,onItemRemove:this.props.onItemRemove}),this.props.locationTree.isInitialized()&&b("React").createElement(b("AdsTargetingLocationPageSetTokenizer.react"),{disabled:this.props.locationTree.isLoading()||this.props.totalLocations.isLoading(),isBulkAddEnabled:!0,locationTree:this.props.locationTree,searchSource:this.props.searchSource,sourceLoading:this.props.sourceLoading,onLogInteraction:this.props.onLogInteraction,onSelectAttempt:this.props.onSelectAttempt}),this.$28())};d.$28=function(){return b("React").createElement("div",{style:{display:"flex"}},this.$29(),this.$30())};d.$30=function(){return b("React").createElement("div",{className:"_w00"},b("React").createElement(b("Link.react"),{onClick:this.props.onBulkAddClick},h._("Faire un ajout group\u00e9 de lieux")))};d.$29=function(){return this.props.isBulkAdd||this.props.locationTree.isLoading()||this.props.totalLocations.isLoading()||this.props.totalLocations.getValue()===this.props.locationTree.getCurrentNodeCount()?null:b("React").createElement("div",{className:"_w01"},b("React").createElement(b("Link.react"),{onClick:this.props.onResetLocationsClick},h._("Ajouter tous les lieux")))};d.$24=function(){return!this.props.isBulkAdd?null:b("React").createElement(b("AdsInfoTableRow.react"),{label:h._("Vos lieux"),noUIContextualLayerParent:!0,useColon:!1},b("React").createElement(b("AdsTargetingLocationPageSetBulkAdd.react"),{bulkAddDataType:this.props.bulkAddDataType,bulkAddText:this.props.bulkAddText,hideActionButtons:!1,isDMAEnabled:this.props.isDMAEnabled,locationMeta:this.props.locationMeta,preservePrevious:this.props.preservePrevious,savingProgress:this.props.savingProgress,onBulkAddCancelClick:this.props.onBulkAddCancelClick,onBulkAddCreateClick:this.props.onBulkAddCreateClick,onBulkAddDataTypeChange:this.props.onBulkAddDataTypeChange,onBulkAddTextareaChange:this.props.onBulkAddTextareaChange,onEditFromError:this.props.onEditFromError,onPreservePreviousChange:this.props.onPreservePreviousChange}))};d.$25=function(){if(this.props.isBulkAdd)return null;var a=b("AdsAccountUtils").hasCapability(this.props.account,"ADS_MARKETING_AREA_IN_SVO");return b("React").createElement(b("AdsInfoTableRow.react"),{helpLink:b("React").createElement(b("FDSSimplePopover.react"),{content:h._("D\u00e9finissez les zones autour de vos emplacements dans lesquelles vous voulez ciblez des personnes."),position:b("PositionEnum").above}),label:a?h._("Zone cible"):h._("Rayon"),noUIContextualLayerParent:!0,useColon:!1},b("React").createElement(b("AdsTargetingLocationPageSetRadius.react"),{account:this.props.account,disabled:!this.props.locationTree.hasRoot(),isTreeEmpty:this.props.locationTree.hasRoot()&&this.props.locationTree.getRoot().getLocationCount()===0,locationManagerLink:b("AdsStoreVisitsUtils").getLocationManagerLink(this.props.pageID),meta:this.props.locationMeta,onLogInteraction:this.props.onLogInteraction,onUpdateMeta:this.props.onUpdateMeta}))};d.$26=function(){if(this.props.locationMeta.isLoading())return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var a=this.props.locationMeta.getValueEnforcing().showIneligibleLocations;if(this.props.locationTree.hasRoot()){a=a?this.props.locationTree.getRoot().getLocationCount():this.props.locationTree.getRoot().getEligibleLocationCount();return h._("{targetedLocations} dans {targetedCountry}",[h._param("targetedLocations",b("React").createElement("strong",null,h._({"*":"{number} lieux","_1":"1 lieu"},[h._plural(parseInt(a,10),"number")]))),h._param("targetedCountry",this.props.locationTree.getRoot().getLocationName())])}return b("React").createElement("strong",null,h._({"*":"{number} lieux","_1":"1 lieu"},[h._plural(0,"number")]))};d.$27=function(){__p&&__p();if(!this.props.locationTree.hasRoot())return h._("La zone cible sera \u00e9tablie lorsque vous aurez s\u00e9lectionn\u00e9 des lieux");if(this.props.locationMeta.isLoading())return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var a=b("nullthrows")(this.props.locationMeta.getValue());if(a.selectedRadiusType===b("AdsLocationMetaConstant").MARKETING_AREA)return h._("Zone cible\u00a0: codes postaux pr\u00e9d\u00e9finis");if(a.selectedRadiusType===b("AdsLocationMetaConstant").DISTANCE){var c=a.getIn(b("AdsLocationMetaConstant").DISTANCE_VALUE_PATH);if(!c)return null;return a.distanceUnit===b("LocationConstants").KILOMETER_UNIT?h._({"*":"Zone cible\u00a0: personnes dans un rayon de {number} kilom\u00e8tres de chaque lieu","_1":"Zone cible\u00a0: personnes dans un rayon de 1 kilom\u00e8tre de chaque lieu"},[h._plural(parseInt(c,10),"number",c)]):h._({"*":"Zone cible\u00a0: personnes dans un rayon de {number} miles de chaque lieu","_1":"Zone cible\u00a0: personnes dans un rayon de 1 mile de chaque lieu"},[h._plural(parseInt(c,10),"number",c)])}c=parseInt(a.getIn(b("AdsLocationMetaConstant").AUDIENCE_VALUE_PATH),10);if(!c)return null;var d=a.getIn(b("AdsLocationMetaConstant").AUDIENCE_MAX_PATH),e=a.getIn(b("AdsLocationMetaConstant").AUDIENCE_HASMAX_PATH);return d&&e?a.distanceUnit===b("LocationConstants").KILOMETER_UNIT?h._({"*":{"*":"Zone cible\u00a0: {people} personnes par lieu avec un rayon maximal de {distance} kilom\u00e8tres","_1":"Zone cible\u00a0: {people} personnes par lieu avec un rayon maximal de 1 kilom\u00e8tre"},"_1":{"*":"Zone cible\u00a0: 1 personne par lieu avec un rayon maximal de {distance} kilom\u00e8tres","_1":"Zone cible\u00a0: 1 personne par lieu avec un rayon maximal de 1 kilom\u00e8tre"}},[h._plural(c,"people"),h._plural(parseInt(d,10),"distance",d)]):h._({"*":{"*":"Zone cible\u00a0: {people} personnes par lieu avec un rayon maximal de {distance} miles","_1":"Zone cible\u00a0: {people} personnes par lieu avec un rayon maximal de 1 mile"},"_1":{"*":"Zone cible\u00a0: 1 personne par lieu avec un rayon maximal de {distance} miles","_1":"Zone cible\u00a0: 1 personne par lieu avec un rayon maximal de 1 mile"}},[h._plural(c,"people"),h._plural(parseInt(d,10),"distance",d)]):h._({"*":"Zone cible\u00a0: {people} personnes par lieu","_1":"Zone cible\u00a0: 1 personne par lieu"},[h._plural(c,"people")])};d.$31=function(){var a=b("AdsStoreVisitsUtils").getLocationManagerLink(this.props.pageID),c=null,d=null;a&&(c=b("React").createElement(b("Link.react"),{href:a,target:"_blank"},h._("G\u00e9rer les sites")),d=b("React").createElement("div",{className:"_1pv9"}));return b("React").createElement("div",{className:"_3hnh"},c,d,b("React").createElement(b("AdsLearnMore.react"),{cmsID:j,dialogWidth:l+k,isStandalone:!0,onClick:this.$32}))};d.$17=function(){return!this.props.isBulkAdd&&(this.props.savingProgress.isLoading()||this.props.savingProgress.hasError())?null:b("React").createElement(b("XUIDialogFooter.react"),{leftContent:this.$31()},b("React").createElement(b("BUIAdoptionHorizontalLayout.react"),null,this.props.locationTree.isLoading()&&b("React").createElement("span",{className:"_2pii","data-testid":b("AdsTargetingWebdriverIDs").TARGETING_PAGE_SET_DIALOG_LOADING},b("React").createElement(b("FDSSpinner.react"),{size:"small"})),b("React").createElement(b("BUIAdoptionDialogButton.react"),{"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_PAGE_SET_DIALOG_CANCEL_BUTTON,disabled:this.props.locationTree.isLoading()||this.props.savingProgress.isLoading(),label:h._("Annuler"),layerAction:"button",onClick:this.props.onUnsavedLeaveAttempt}),b("React").createElement(b("BUIAdoptionDialogButton.react"),{"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_PAGE_SET_DIALOG_SAVE_BUTTON,disabled:this.props.savingProgress.isLoading()||this.props.savingProgress.hasError()||this.props.locationTree.isLoading()||!this.props.locationTree.hasRoot()||this.props.locationTree.getRoot().getLocationCount()===0||this.props.locationMeta.isLoading()||this.props.locationMeta.getValueEnforcing().isAudienceMaxInvalid()||this.props.locationMeta.getValueEnforcing().isDistanceEmpty()||this.props.locationMeta.getValueEnforcing().isDistanceTooLarge()||this.props.locationMeta.getValueEnforcing().isDistanceTooSmall()||this.props.locationMeta.getValueEnforcing().isAudienceEmpty()||this.props.locationMeta.getValueEnforcing().isAudienceTooSmall()||this.props.isBulkAdd,label:h._("Enregistrer"),layerAction:"confirm",use:"confirm",onClick:this.props.onSaveAttempt})))};d.$22=function(){if(this.props.isBulkAdd)return null;return this.props.locationMeta.isLoading()?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("AdsInfoTableRow.react"),{label:h._("Type de lieu"),noUIContextualLayerParent:!0,useColon:!1},b("React").createElement(b("AdsTargetingLocationTypeSelector"),{disallowHome:!0,disallowTravelling:!0,geoLocationTypes:Array.from(this.props.locationMeta.getValueEnforcing().locationTypes),key:"locationTypeSelector",size:"large",onLocationTypesChange:this.props.onLocationTypesChange}))};d.$32=function(){b("AdsInterfacesLogger").log({eventName:"ads_location_targeting_dialog_learn_more_link_click",eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})};return c}(a);e.exports=c}),null);
__d("AdsCanSeeStoreVisitMetricsSelector",["AdsMeasurableLocationKey","AdsMeasurableLocationsStore","LoadObject","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateStoreSelector")([b("AdsMeasurableLocationsStore")],function(a){a.accountID;var c=a.countryCode;a=a.pageID;if(c!=null){a=b("AdsMeasurableLocationsStore").get(new(b("AdsMeasurableLocationKey"))({pageID:a,countryCode:c}));return a.isLoading()?b("LoadObject").loading():b("LoadObject").withValue(a.hasValue()&&a.getValueEnforcing()===!0)}return b("LoadObject").withValue(!1)},e.id+".AdsCanSeeStoreVisitMetricsSelector");e.exports=a}),null);
__d("AdsLocationBreakdownSearchSourceActions",["AdsLocationBreakdownSearchSourceActionsTypeSearchEndDataAction","AdsLocationBreakdownSearchSourceActionsTypeSearchStartDataAction"],(function(a,b,c,d,e,f){"use strict";a={searchStart:function(a,c,d,e){b("AdsLocationBreakdownSearchSourceActionsTypeSearchStartDataAction").dispatch({pageID:a,countryID:c,options:d,key:e,isLoading:!0},{line:"25",module:"AdsLocationBreakdownSearchSourceActions.js"})},searchEnd:function(a,c,d,e){b("AdsLocationBreakdownSearchSourceActionsTypeSearchEndDataAction").dispatch({pageID:a,countryID:c,options:d,key:e,isLoading:!1},{line:"40",module:"AdsLocationBreakdownSearchSourceActions.js"})}};e.exports=a}),null);
__d("AdsLocationTargetingSearchParams",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({countryCode:void 0,pageID:void 0,searchText:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsLocationTargetingSearchSourceUtils",["LocationConstants","SearchableEntry","maybe"],(function(a,b,c,d,e,f){"use strict";var g={convertLocationToSearchableEntry:function(a){return new(b("SearchableEntry"))({title:a.location_name,uniqueID:a.location_id,auxiliaryData:b("maybe").Some({location_id:a.location_id,location_name:a.location_name,location_type:a.location_type,num_pages:a.num_pages,num_pages_eligible_for_store_visit_reporting:a.num_pages_eligible_for_store_visit_reporting})})},normalizeResponse:function(a){return a.length===0?[b("LocationConstants").NO_RESULTS_ENTRY]:a.map(function(a){return g.convertLocationToSearchableEntry(a)})}};e.exports=g}),null);
__d("AdsNewLocationTargetingSearchSource",["AbstractAsyncSearchSource","AdsLocationTargetingSearchDataManager","AdsLocationTargetingSearchParams","AdsLocationTargetingSearchSourceUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=":locations";function h(a,c,d,e,f){d.value&&e.countryCode&&(a&&a(e.pageID,e.countryCode,e.options,d.value+g),b("promiseDone")(b("AdsLocationTargetingSearchDataManager").search(new(b("AdsLocationTargetingSearchParams"))({countryCode:e.countryCode,pageID:e.pageID,searchText:d.value})),function(a){c&&c(e.pageID,e.countryCode,e.options,d.value+g),f(a)},function(a){c&&c(e.pageID,e.countryCode,e.options,d.value+g)}))}function i(a){return b("AdsLocationTargetingSearchSourceUtils").normalizeResponse(a)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f){return a.call(this,{queryRequests:[{pageID:b,countryCode:c}]},h.bind({},e,f),i)||this}return b}(b("AbstractAsyncSearchSource"));e.exports=a}),null);
__d("AdsLocationSearchSourceDataLoader",["AdsGraphAPI","ApiPageFields","GraphAPIPaging","LocationConstants","cachedGraphAPI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=100,h=20;a={getPageLocations:function(a,c){return b("AdsGraphAPI").get(e.id).object("page",a).edge("locations").get({fields:[b("ApiPageFields").SINGLE_LINE_ADDRESS,b("ApiPageFields").IS_ELIGIBLE_FOR_STORE_VISIT_REPORTING],filtering:c.toAPI(),limit:h})},getPageLocationsBreakdown:function(a,c,d,f){return b("cachedGraphAPI")(b("AdsGraphAPI").get(e.id).object("page",c).edge("locations_breakdown_search")).get({filtering:d?d.toAPI():null,q:a,limit:g}).then(function(a){var c=[];a=b("GraphAPIPaging").eachPage(function(a){c=c.concat(a.data.filter(function(a){return a.num_pages>0&&(a.location_type!==b("LocationConstants").COUNTRY||f!=null&&f!==""&&a.location_id===f)}))},null,function(a){return c.length>=h})(a);return a.then(function(){return{data:c}})})}};e.exports=a}),null);
__d("AdsPageLocationBreakdownSearchSource",["AbstractAsyncSearchSource","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperator","AdsGenericFilterSet","AdsLocationSearchSourceDataLoader","AdsLocationTargetingSearchSourceUtils","ApiPageFields","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=":breakdown",h=new(b("AdsGenericFilterField"))(b("ApiPageFields").LOCATION,b("AdsGenericFilterFieldType").STRING_SET);function i(a,c){var d=[];a!=null&&a!==""&&d.push(new(b("AdsGenericFilter"))(h,b("AdsGenericFilterOperator").IN,["country:"+a]));c&&c.onlyPageWithMarketingArea===!0&&d.push(new(b("AdsGenericFilter"))(new(b("AdsGenericFilterField"))("has_marketing_area",b("AdsGenericFilterFieldType").BOOLEAN),b("AdsGenericFilterOperator").EQUAL,!0));return d.length>0?new(b("AdsGenericFilterSet"))(d):null}function j(a,c,d,e,f){d.value&&(a&&a(e.pageID,e.countryID,e.options,d.value+g),b("promiseDone")(b("AdsLocationSearchSourceDataLoader").getPageLocationsBreakdown(d.value,e.pageID,i(e.countryID,e.options),e.countryID),function(a){c&&c(e.pageID,e.countryID,e.options,d.value+g),f(a)},function(a){c&&c(e.pageID,e.countryID,e.options,d.value+g)}))}function k(a){return b("AdsLocationTargetingSearchSourceUtils").normalizeResponse(a.data)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f){return a.call(this,{queryRequests:[babelHelpers["extends"]({pageID:b,options:d},c!=null&&c!==""?{countryID:c}:{})]},j.bind({},e,f),k)||this}return b}(b("AbstractAsyncSearchSource"));e.exports=a}),null);
__d("AdsLocationBreakdownSearchSourceStore",["AdsDataAtom","AdsLocationBreakdownSearchSourceActionsTypeSearchEndDataActionFlux","AdsLocationBreakdownSearchSourceActionsTypeSearchStartDataActionFlux","AdsNewLocationTargetingSearchSource","AdsPageLocationBreakdownSearchSource","CompositeSearchSource","FluxStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="all_countries";function h(a,b){b=b&&b.onlyPageWithMarketingArea?"1":"0";return(a||g)+":"+b}var i=b("gkx")("779516"),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({sourceActiveQueries:b("immutable").Set(),searchSource:null}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$AdsLocationBreakdownSearchSourceStore1=b("immutable").Map();return c}var d=c.prototype;d.__getActionTypes=function(){return i?[b("AdsLocationBreakdownSearchSourceActionsTypeSearchEndDataActionFlux").actionType,b("AdsLocationBreakdownSearchSourceActionsTypeSearchStartDataActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=a.action;switch(c.type){case b("AdsLocationBreakdownSearchSourceActionsTypeSearchEndDataActionFlux").actionType:case b("AdsLocationBreakdownSearchSourceActionsTypeSearchStartDataActionFlux").actionType:a=[c.pageID,h(c.countryID,c.options)];var d=this.$AdsLocationBreakdownSearchSourceStore1.getIn(a);if(!d)return;this.$AdsLocationBreakdownSearchSourceStore1=this.$AdsLocationBreakdownSearchSourceStore1.updateIn([].concat(a,["sourceActiveQueries"]),function(a){return c.isLoading?a.add(c.key):a["delete"](c.key)});this.__emitChange();break;default:return}};d.getSearchSource=function(a,c,d,e,f){var g=[a,h(c,d)];this.$AdsLocationBreakdownSearchSourceStore1.getIn(g)||(this.$AdsLocationBreakdownSearchSourceStore1=this.$AdsLocationBreakdownSearchSourceStore1.setIn(g,new j({searchSource:new(b("CompositeSearchSource"))([new(b("AdsPageLocationBreakdownSearchSource"))(a,c,d,e,f),new(b("AdsNewLocationTargetingSearchSource"))(a,c,d,e,f)])})));return{sourceLoading:!this.$AdsLocationBreakdownSearchSourceStore1.getIn([].concat(g,["sourceActiveQueries"])).isEmpty(),searchSource:this.$AdsLocationBreakdownSearchSourceStore1.getIn([].concat(g,["searchSource"]))}};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLocationSelectedNodeStore",["AdsDataAtom","AdsLocationTreeActionsTypeSetNodeAndAncestorsDataActionFlux","AdsLocationTreeActionsTypeToggleLocationDataActionFlux","AdsLocationTreeUtils","FluxStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;c.$AdsLocationSelectedNodeStore1=b("immutable").Map();return c}var d=c.prototype;d.__getActionTypes=function(){return g?[b("AdsLocationTreeActionsTypeSetNodeAndAncestorsDataActionFlux").actionType,b("AdsLocationTreeActionsTypeToggleLocationDataActionFlux").actionType]:null};d.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsLocationTreeActionsTypeToggleLocationDataActionFlux").actionType:this.$AdsLocationSelectedNodeStore1=this.$AdsLocationSelectedNodeStore1.set(a.campaignID,a.location.getID());this.__emitChange();break;case b("AdsLocationTreeActionsTypeSetNodeAndAncestorsDataActionFlux").actionType:a.path.length===1&&(this.$AdsLocationSelectedNodeStore1=this.$AdsLocationSelectedNodeStore1.set(a.campaignID,b("AdsLocationTreeUtils").getLocationID(a.path[0])),this.__emitChange());break;default:return}};d.getSelectedNodeID=function(a){return this.$AdsLocationSelectedNodeStore1.get(a)};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsLocationTreeEditorActions",["AdsLocationTreeEditorActionsTypeChangeCurrentPageIdDataAction","AdsLocationTreeEditorActionsTypeClearCurrentPageIdDataAction"],(function(a,b,c,d,e,f){"use strict";a={changeCurrentPageID:function(a,c){b("AdsLocationTreeEditorActionsTypeChangeCurrentPageIdDataAction").dispatch({basePageID:a,pageID:c},{line:"16",module:"AdsLocationTreeEditorActions.js"})},clearCurrentPageID:function(a){b("AdsLocationTreeEditorActionsTypeClearCurrentPageIdDataAction").dispatch({basePageID:a},{line:"22",module:"AdsLocationTreeEditorActions.js"})}};e.exports=a}),null);
__d("AdsLocationTreeEditorStore",["AdsDataAtom","AdsLocationTreeEditorActionsTypeChangeCurrentPageIdDataActionFlux","AdsLocationTreeEditorActionsTypeClearCurrentPageIdDataActionFlux","FluxMapStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[b("AdsLocationTreeEditorActionsTypeChangeCurrentPageIdDataActionFlux").actionType,b("AdsLocationTreeEditorActionsTypeClearCurrentPageIdDataActionFlux").actionType]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsLocationTreeEditorActionsTypeChangeCurrentPageIdDataActionFlux").actionType:return a.setIn([c.basePageID,"currentPageID"],c.pageID);case b("AdsLocationTreeEditorActionsTypeClearCurrentPageIdDataActionFlux").actionType:return a.remove(c.basePageID);default:return a}};d.getCurrentPageID=function(a){return this.getState().getIn([a,"currentPageID"],a)};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPageLocationCountActionsType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({LOCATION_COUNT_LOAD_ERROR:"AdsPageLocationCountActionsType.LOCATION_COUNT_LOAD_ERROR",LOCATION_COUNT_LOAD_SUCCESS:"AdsPageLocationCountActionsType.LOCATION_COUNT_LOAD_SUCCESS"});e.exports=a}),null);
__d("AdsPageLocationCountActions",["AdsPageLocationCountActionsTypeLocationCountLoadErrorAction","AdsPageLocationCountActionsTypeLocationCountLoadSuccessAction"],(function(a,b,c,d,e,f){"use strict";a={locationCountLoadSuccess:function(a){b("AdsPageLocationCountActionsTypeLocationCountLoadSuccessAction").dispatch({locationCounts:a},{line:"16",module:"AdsPageLocationCountActions.js"})},locationCountLoadError:function(a){b("AdsPageLocationCountActionsTypeLocationCountLoadErrorAction").dispatch({errors:a},{line:"22",module:"AdsPageLocationCountActions.js"})}};e.exports=a}),null);
__d("AdsPageLocationCountDataManager",["invariant","Promise","AdsLocationBreakdownDataLoader","AdsPageLocationCountActions","immutable","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.fetchLocationCount=function(a){__p&&__p();var c=a.reduce(function(a,c){c=c.split(":");var d=c[0],e=c[1];c=c[2];if(!d||!e||!c)return a;var f=e+":"+c;return a.update(d+":"+e,function(a){return a?a.add(f):b("immutable").Set([f])})},b("immutable").Map());b("promiseDone")(b("Promise").all(c.map(function(a,c){c=c.split(":");var d=c[0],e=c[1];d&&e||g(0,1797);return b("AdsLocationBreakdownDataLoader").getBreakdown(d,"page",["country","region","city"].find(function(a){return a===e}),a.toArray()).then(function(a){return{response:a,pageID:d}})}).toArray()),function(a){b("AdsPageLocationCountActions").locationCountLoadSuccess(a.reduce(function(a,b){var c=b.response,d=b.pageID;c.forEach(function(b){return a.set(d+":"+b.location_type+":"+b.location_id,b.num_pages)});return a},new Map()))},function(c){b("AdsPageLocationCountActions").locationCountLoadError(a.reduce(function(a,b){a.set(b,c);return a},new Map()))})};return a}();e.exports=new a()}),null);
__d("AdsPageLocationCountStore",["AdsDataAtom","AdsPageLocationCountActionsType","AdsPageLocationCountDataManager","FluxLoadObjectStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),b("AdsPageLocationCountActionsType").LOCATION_COUNT_LOAD_ERROR,b("AdsPageLocationCountActionsType").LOCATION_COUNT_LOAD_SUCCESS]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPageLocationCountActionsType").LOCATION_COUNT_LOAD_SUCCESS:return this.__handleMap(a,c.locationCounts);case b("AdsPageLocationCountActionsType").LOCATION_COUNT_LOAD_ERROR:return this.__handleMap(a,c.errors);default:return a}};d.__loadAll=function(a){b("AdsPageLocationCountDataManager").fetchLocationCount(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsTargetingLocationPageSetContainer.react",["cx","fbt","invariant","AdsAsyncLocationsCheckerDataProvider","AdsCanSeeStoreVisitMetricsSelector","AdsCCCategory","AdsFluxContainer","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLocationBreakdownSearchSourceActions","AdsLocationBreakdownSearchSourceStore","AdsLocationBreakdownStore","AdsLocationBulkAddType","AdsLocationMetaActionsTypeClearDataAction","AdsLocationMetaActionsTypeUpdateDataAction","AdsLocationMetaStore","AdsLocationMetaStoreKey","AdsLocationPageIDsAndRoot","AdsLocationSelectedNodeStore","AdsLocationTreeActions","AdsLocationTreeEditorActions","AdsLocationTreeEditorStore","AdsLocationTreeStore","AdsLocationTreeStoreKey","AdsPageLocationCountStore","AdsPageUtils","AdsPredefinedPlacePageSetStore","AdsSpinner.react","AdsStaticInlineNux.react","AdsTargetingLocationPageSet.react","AdsTargetingLocationPageSetCloseDialogAction","AdsTargetingLocationPageSetInteractionAction","AdsTargetingLocationPageSetInteractionDataProvider","AdsTargetingLocationPageSetOpenDialogAction","AdsUniformValue","ApiLocationBreakdownFields","FDSSimplePopover.react","LoadObject","React","maybe","nullthrows","adsPageSelector","adsSharedLocationPageSelector"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsInterfacesLogEvents").EventCategory;a=b("React").Component;var k=["US"];function l(){return b("React").createElement(b("FDSSimplePopover.react"),{content:h._("Entrez un(e) ou plusieurs \u00c9tats\/r\u00e9gions, villes ou adresses pour ajouter ou supprimer des sites d\u2019entreprise.")})}var m=b("AdsAsyncLocationsCheckerDataProvider").toFluxSelector(),n=b("AdsTargetingLocationPageSetInteractionDataProvider").toFluxSelector();c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.$21=function(a){b("AdsLocationTreeEditorActions").changeCurrentPageID(e.state.basePageID,a)},e.$22=function(){e.$19("click"),e.setState({preservePrevious:!e.state.preservePrevious})},e.$20=function(a){a=a.filter(function(a){return!a.haveChildrenLoaded()&&!a.areChildrenLoading()&&!a.isLocation()});a.size>0&&b("AdsLocationTreeActions").fetchChildren(a,e.state.treeKey)},e.$13=function(a){e.setState({dialogShown:!0}),e.$24(!0,a)},e.$24=function(a,c){a===void 0&&(a=!1),c===void 0&&(c=[]),e.state.locationMeta.hasValue()||i(0,575),e.$28(!0),a||!e.state.currentPageSetID||e.$29()?b("AdsLocationTreeActions").save(e.props.accountID,b("nullthrows")(e.state.locationMeta.getValue()),e.state.currentPageID,e.state.treeKey,c,e.$30):e.setState({bulkAddText:"",dialogShown:!1,isBulkAdd:!1,preservePrevious:!0})},e.$30=function(a,c,d){b("AdsInterfacesLogger").log({eventCategory:j.USER_ACTION,eventName:"page_set_replaced",data:{old_value:e.state.currentPageSetID,new_value:c,custom_event_type:e.state.currentPageSetType+":custom"}}),e.props.onPageSetCreated&&e.props.onPageSetCreated(a,c,d)},e.$25=function(a){if(b("maybe").isNone(a.getAuxiliaryData()))return;e.$19("tree_click");var c=e.state.locationTree.hasRoot()?e.state.locationTree.getRoot().getLocationCount():0;c=c===e.state.totalLocationsCount.getValue()?"clearAndFocus":"focus";b("AdsLocationTreeActions").addLocation("locationTypeahead",b("maybe").unwrapEnforcing(a.getAuxiliaryData()),{id:e.state.currentPageID,type:"page"},e.state.treeKey,c)},e.$14=function(a){e.$19("tree_click"),b("AdsLocationTreeActions").toggleLocation(a,e.state.treeKey)},e.$9=function(a){e.$19("click"),e.$31(a)},e.$15=function(a){a.getLocationType()==="location"&&e.$19("tree_click"),b("AdsLocationTreeActions").removeLocation(a,e.state.treeKey)},e.$27=function(a,d){b("AdsLocationMetaActionsTypeUpdateDataAction").dispatch({locationMetaKey:c.$1(e.props.campaignID,e.state.currentPageSetID),path:a,value:d},{line:"670",module:"AdsTargetingLocationPageSetContainer.react.js"})},e.$10=function(){e.setState({bulkAddText:"",dialogShown:!1,isBulkAdd:!1,preservePrevious:!0}),e.$28(!1),b("AdsLocationTreeEditorActions").clearCurrentPageID(e.state.basePageID),b("AdsLocationTreeActions").clear(e.state.treeKey),b("AdsLocationMetaActionsTypeClearDataAction").dispatch({locationMetaKey:c.$1(e.props.campaignID,e.state.currentPageSetID)},{line:"690",module:"AdsTargetingLocationPageSetContainer.react.js"})},e.$11=function(){var a=c.$2(e.state.interactionLoggerKey);e.setState({dialogShown:!0,interactionLoggerKey:a});b("AdsTargetingLocationPageSetOpenDialogAction").dispatch({entryPoint:"create",key:a},{line:"706",module:"AdsTargetingLocationPageSetContainer.react.js"})},e.$16=function(){e.setState({leaveDialogShown:!1})},e.$17=function(){e.setState({leaveDialogShown:!1}),e.$10()},e.$26=function(){e.setState({leaveDialogShown:!0})},e.$12=function(){e.$19("click"),b("AdsLocationTreeActions").closeSavingModal(e.state.treeKey)},e.$5=function(){e.$19("click"),e.setState({isBulkAdd:!0})},e.$4=function(){e.$19("click"),e.setState({bulkAddDataType:b("AdsLocationBulkAddType").STORE_NUMBER,bulkAddText:"",isBulkAdd:!1,preservePrevious:!0},function(){return b("AdsLocationTreeActions").closeSavingModal(e.state.treeKey)})},e.$8=function(a){e.$19("key_stroke"),e.setState({bulkAddText:a})},e.$7=function(a){e.$19("click"),e.setState({bulkAddDataType:a,bulkAddText:""})},e.$6=function(){e.state.locationMeta.hasValue()||i(0,576),e.$19("click",{isBulkAdd:!0}),b("AdsLocationTreeActions").saveFromBulkAdd(e.props.accountID,e.state.countryID,e.state.bulkAddText,e.state.bulkAddDataType,b("nullthrows")(e.state.locationMeta.getValue()),e.state.currentPageID,e.state.preservePrevious,e.state.treeKey,e.$30)},e.$18=function(a){e.$19("click"),e.$27(["locationTypes"],a)},e.$23=function(){e.$19("tree_click"),b("AdsInterfacesLogger").log({eventName:"reset_selected_locations",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT}),e.$31(e.state.countryID)},e.$19=function(a,c){b("AdsTargetingLocationPageSetInteractionAction").dispatch({key:e.state.interactionLoggerKey,interactionType:a,options:c},{line:"838",module:"AdsTargetingLocationPageSetContainer.react.js"})},d)||babelHelpers.assertThisInitialized(e)}c.getStores=function(){return[].concat(b("AdsCanSeeStoreVisitMetricsSelector").getStores(),[b("AdsLocationBreakdownSearchSourceStore"),b("AdsLocationBreakdownStore"),b("AdsLocationMetaStore"),b("AdsLocationSelectedNodeStore"),b("AdsLocationTreeStore"),b("AdsLocationTreeEditorStore"),b("AdsPageLocationCountStore"),b("AdsPredefinedPlacePageSetStore")],b("adsPageSelector").getStores(),b("adsSharedLocationPageSelector").getStores(),m.getStores())};c.calculateState=function(a,d){__p&&__p();var e=d.pageID?b("adsSharedLocationPageSelector")()(d.pageID):b("adsPageSelector")({accountID:d.accountID,filter:b("AdsPageUtils").hasLocations}),f=b("AdsLocationMetaStore").getParentPageID(c.$1(d.campaignID,d.pageSetID),d.pageSetID);if(f.hasError())return{error:f.getErrorEnforcing()};var g=a&&a.isBulkAdd||!1,h=a&&a.dialogShown||a&&a.hasRecentlySuccessfullyReloaded||!1;if(!g&&!h&&(!(e.hasValue()||d.pageID)||!f.hasValue()))return{isLoading:!0};e=e.hasValue()?e.getValueEnforcing():[];d.pageID||e.length>0||i(0,577);var j;e.length>1||e.length==1&&e[0].id!==d.pageID?j=!1:(j=!0,e=[]);j=j&&d.pageID||f.getValueEnforcing()||e[0].id;f=b("AdsLocationTreeEditorStore").getCurrentPageID(j);var k=f===j?d.pageSetID:void 0,l=b("AdsLocationBreakdownStore").getCountries(f,"page"),n=new(b("AdsLocationTreeStoreKey"))({campaignIDs:new(b("AdsUniformValue"))(d.campaignID),pageID:f,pageSetID:k}),o=b("AdsLocationMetaStore").getLocationMeta(c.$1(d.campaignID,k),k);if(o.hasError())return{error:o.getErrorEnforcing()};var p=b("AdsLocationTreeStore").getSavingProgress(n),q=a&&!!a.hasRecentlySuccessfullyReloaded?a.hasRecentlySuccessfullyReloaded:a!=null&&!a.isLoading&&a.savingProgress.isLoading()&&p.isDone()&&!p.hasError();if(o.isLoading())return{isLoading:!0,hasRecentlySuccessfullyReloaded:q};var r=b("AdsLocationTreeStore").getTree(f,k,n,{onlyPageWithMarketingArea:o.getValueEnforcing().isMarketingArea()}),s=r.isLoaded()&&r.hasRoot()?r.getRoot().getLocationID():a&&a.currentPageID===f?a.countryID:null,t=b("AdsLocationBreakdownSearchSourceStore").getSearchSource(f,s,r.getOptions(),b("AdsLocationBreakdownSearchSourceActions").searchStart,b("AdsLocationBreakdownSearchSourceActions").searchEnd),u=t.sourceLoading;t=t.searchSource;var v=r.hasRoot()?b("AdsPageLocationCountStore").get(f+":"+r.getRoot().getID()):b("LoadObject").empty(),w=d.isNewOrDraftCampaign&&k?m().get(new(b("AdsLocationPageIDsAndRoot"))({page_set_id:k})):b("LoadObject").empty(),x=a&&a.bulkAddText||"",y=a&&a.bulkAddDataType||b("AdsLocationBulkAddType").STORE_NUMBER;q&&(h=g,g=!1,y=b("AdsLocationBulkAddType").STORE_NUMBER,x="",q=!1);var z=a!=null&&!a.isLoading?a.leaveDialogShown:!1,A=b("AdsLocationSelectedNodeStore").getSelectedNodeID(d.campaignID);A=A?r.getNode(A):null;var B=a&&a.preservePrevious!==void 0?a.preservePrevious:!0,C=b("AdsCanSeeStoreVisitMetricsSelector")({countryCode:s,pageID:f});C=C.hasValue()&&C.getValueEnforcing()===!0;a=a&&a.interactionLoggerKey||this.$2();d=this.$3(d.accountID,f,k);return{asyncLocationsProblems:w,availableCountries:l,availablePages:e,basePageID:j,bulkAddDataType:y,bulkAddText:x,countryID:s,currentPageID:f,currentPageSetID:k,currentPageSetType:d,hasRecentlySuccessfullyReloaded:q,interactionLoggerKey:a,isBulkAdd:g,isLoading:!1,locationMeta:o,locationTree:r,preservePrevious:B,savingProgress:p,searchSource:t,selectedNode:A,showEligibilityInfo:C,sourceLoading:u||v.isLoading(),dialogShown:h,leaveDialogShown:z,totalLocationsCount:v,treeKey:n}};var d=c.prototype;d.render=function(){if(this.state.error)return b("React").createElement(b("AdsStaticInlineNux.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"targeting_location_page_set_error",textData:[{type:"PARAGRAPH",data:{text:this.state.error.message}}]}});if(this.state.isLoading&&!this.state.hasRecentlySuccessfullyReloaded)return b("React").createElement(b("AdsSpinner.react"),null);var a=!this.state.availableCountries.isLoading()&&this.state.searchSource;return b("React").createElement(b("AdsInfoTable.react"),{oneColumn:this.props.oneColumn,sectionborders:!1},b("React").createElement(b("AdsInfoTableSection.react"),{className:"_5w17"},b("React").createElement(b("AdsInfoTableRow.react"),{className:a?"_2-tc":"",helpLink:this.props.hideEditorLabel?void 0:l(),label:this.props.hideEditorLabel?void 0:h._("Lieux"),noUIContextualLayerParent:!0,rowRenderer:this.props.rowRenderer,useColon:!1},b("React").createElement(b("AdsTargetingLocationPageSet.react"),{account:this.props.account,asyncLocationsProblems:this.state.asyncLocationsProblems,availableCountries:this.state.availableCountries,availablePages:this.state.availablePages,bulkAddDataType:this.state.bulkAddDataType,bulkAddText:this.state.bulkAddText,countryID:this.state.countryID,dialogShown:this.state.dialogShown,isBulkAdd:this.state.isBulkAdd,isDMAEnabled:!!(this.state.countryID&&k.includes(this.state.countryID)),leaveDialogShown:this.state.leaveDialogShown,locationMeta:this.state.locationMeta,locationTree:this.state.locationTree,pageID:this.state.currentPageID,pageSetID:this.state.currentPageSetID,preservePrevious:this.state.preservePrevious,savingProgress:this.state.savingProgress,searchSource:this.state.searchSource,selectedNode:this.state.selectedNode,showEligibilityInfo:this.state.showEligibilityInfo,sourceLoading:this.state.sourceLoading||this.state.locationTree.isLoading("locationTypeahead"),totalLocations:this.state.totalLocationsCount,onBulkAddCancelClick:this.$4,onBulkAddClick:this.$5,onBulkAddCreateClick:this.$6,onBulkAddDataTypeChange:this.$7,onBulkAddTextareaChange:this.$8,onChangeCountry:this.$9,onDialogCancel:this.$10,onDialogOpen:this.$11,onEditFromError:this.$12,onForceSave:this.$13,onItemClick:this.$14,onItemRemove:this.$15,onLeaveCancel:this.$16,onLeaveConfirm:this.$17,onLocationTypesChange:this.$18,onLogInteraction:this.$19,onNeedsChildren:this.$20,onPageIDChange:this.$21,onPreservePreviousChange:this.$22,onResetLocationsClick:this.$23,onSaveAttempt:this.$24,onSelectAttempt:this.$25,onUnsavedLeaveAttempt:this.$26,onUpdateMeta:this.$27}))))};d.$32=function(a){!k.includes(a)&&this.state.bulkAddDataType===b("AdsLocationBulkAddType").DESIGNATED_MARKET_AREA&&this.setState({bulkAddDataType:b("AdsLocationBulkAddType").STORE_NUMBER})};d.$31=function(a){var c=this.state.availableCountries.getValue();if(c==null||a==null)return;c=c.find(function(c){return c[b("ApiLocationBreakdownFields").LOCATION_ID]===a});if(c==null)return;this.$32(a);b("AdsLocationTreeActions").addLocation("countrySelector",c,{id:this.state.currentPageID,type:"page"},this.state.treeKey)};d.$28=function(a){b("AdsTargetingLocationPageSetCloseDialogAction").dispatch({key:this.state.interactionLoggerKey,isSuccessful:a},{line:"846",module:"AdsTargetingLocationPageSetContainer.react.js"});a=n().get(this.state.interactionLoggerKey);b("AdsInterfacesLogger").log({eventCategory:j.USER_ACTION,eventName:"targeting_location_pageset_dialog_interactions",data:{new_value:JSON.stringify(a)}})};c.$1=function(a,c){return new(b("AdsLocationMetaStoreKey"))({campaignIDs:new(b("AdsUniformValue"))(a),pageSetID:c})};c.$2=function(a){if(!a)return Date.now()+"-0";a=a.split("-");var b=a[0];a=a[1];return b+"-"+(parseInt(a,10)+1)};d.$29=function(){var a=n().get(this.state.interactionLoggerKey);return a.clickCount>0||a.keyStrokeCount>0||a.treeClickCount>0};c.$3=function(a,c,d){if(!d)return"none";var e=b("AdsPredefinedPlacePageSetStore").isMostRecent(a,c,d);if(e.hasValue()&&e.getValueEnforcing()===!0)return"recent";a=b("AdsPredefinedPlacePageSetStore").isDefaultPageset(a,c,d);if(a.hasValue()&&a.getValueEnforcing()===!0)return"default";return e.isLoading()||a.isLoading()?"undetermined":"custom"};return c}(a);e.exports=b("AdsFluxContainer").create(c,{withProps:!0,name:e.id+".exports"})}),null);