if (self.CavalryLogger) { CavalryLogger.start_js(["uOl0u"]); }

__d("concatMap",[],(function(a,b,c,d,e,f){function a(a,b){var c=-1,d=b.length,e=[],f;while(++c<d)f=a(b[c],c,b),Array.isArray(f)?Array.prototype.push.apply(e,f):Array.prototype.push.call(e,f);return e}e.exports=a}),null);
__d("LitestandEllipsis",["BinarySearch","DOMQuery","concatMap","getElementText","isTextNode"],(function(a,b,c,d,e,f){__p&&__p();var g,h="\u2026";function i(a,b,c){a=a.slice(0,b).join(" ")+h;c===0&&(a=a.trimLeft());return a}function j(a,b,c){a=a.substr(0,b).trimRight()+h;c===0&&(a=a.trimLeft());return a}a={add:function(a,c,d){__p&&__p();d=d||a;b("DOMQuery").scry(a,"br").forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)});var e=d.offsetHeight||0;if(e<=c)return;var f=l(a),g=f.length-1,m=c+1;e=function(){__p&&__p();var a=b("getElementText")(f[g]).split(/[\n\s]/g),c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],i(a,b,g));return d.offsetHeight||0},m,0,a.length,function(a,b){return a-b});if(c>0){k(f[g],i(a,c,g));return"break"}c=b("BinarySearch").greatestLowerBound(function(b){k(f[g],j(a[0],b,g));return d.offsetHeight||0},m,0,a[0].length-h.length-2,function(a,b){return a-b});if(c>-1){k(f[g],j(a[0],c,g));return"break"}k(f[g],"");g--};while(g>=0){a=e();if(a==="break")break}}};function k(a,b){g=g||(a.textContent!=null?"textContent":"innerText"),a[g]=b}function l(a){return b("isTextNode")(a)?[a]:b("concatMap")(l,Array.from(a.childNodes))}e.exports=a}),null);
__d("MainThreadPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MainThreadPerformanceLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setArtilleryTraceID=function(a){this.$1.artillery_trace_id=a;return this};c.setEventDurationMs=function(a){this.$1.event_duration_ms=a;return this};c.setFrameDrops=function(a){this.$1.frame_drops=a;return this};c.setLargeFrameDrops=function(a){this.$1.large_frame_drops=a;return this};c.setMaxFrameDrops=function(a){this.$1.max_frame_drops=a;return this};c.setParallelActions=function(a){this.$1.parallel_actions=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSampleRate=function(a){this.$1.sample_rate=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action:!0,artillery_trace_id:!0,event_duration_ms:!0,frame_drops:!0,large_frame_drops:!0,max_frame_drops:!0,parallel_actions:!0,sample_rate:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ArtilleryInteractionTraceName",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DETAILS_PAGE_LOADING:"Details Page Loading",FBPKG_UI:"fbpkg_ui",BACKBONE_UI:"backbone_ui",ADS_INTERFACES_INTERACTION:"ADS_INTERFACES_INTERACTION",ADS_PERF_SCENARIO:"ads_perf_scenario",ADS_WAIT_TIME:"ads_wait_time",INTERN_NOTIFY_INBOX_PAGE_LOAD:"intern_notify_inbox_page_load",INTERN_NOTIFY_JEWEL_LIST_LOAD:"intern_notify_jewel_list_load",MAIN_THREAD_PERFORMANCE:"main_thread_performance",PAGES_INBOX_WWW_LOADING_ITEM:"pages_inbox_www.loading_item",SEVMANAGER_POWERSEARCH_INITIAL_PAGE_LOAD:"sevmanager_powersearch_initial_page_load",WATCH_SECTIONS_LOAD_MORE:"watch_sections_load_more",WATCH_DISCOVER_SCROLL:"watch_discover_scroll",WATCH_CAROUSEL_LEFT_SCROLL:"watch_carousel_left_scroll",WATCH_CAROUSEL_RIGHT_SCROLL:"watch_carousel_right_scroll",VIDEO_STALL:"video_stall",VIDEO_PSR:"video_psr",EVENT:"Event",DAIQUERY_INTERACTIVE_QUERY:"daiquery_interactive_query",TASKS_INITIAL_PAGE_LOAD:"tasks_initial_page_load",DO_NOT_USE_JUST_FOR_TESTING:"__test_interaction",PIXELCLOUD_VIEW_PERFORMANCE:"pixelcloud_view_performance"})}),null);
__d("MainThreadPerformanceMonitorActionEntry",["ArtilleryInteractionTraceName","FeedQuickLogModule","MainThreadPerformanceTypedLogger","QuickPerformanceLogger","TimeSliceInteraction","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(c,d,e){this.$4=0,this.$5=0,this.$7=0,this.$2=c,this.$10=e,this.$8=b("performanceNow")(),this.$6=new Set(d),this.$9=b("TimeSliceInteraction").create(b("ArtilleryInteractionTraceName").MAIN_THREAD_PERFORMANCE),this.$9.trace().addStringAnnotation("action",this.$2),this.$3=a.$1++,b("QuickPerformanceLogger").markerStart(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,this.$3),b("QuickPerformanceLogger").annotateMarkerString(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"ACTION",c,this.$3),b("QuickPerformanceLogger").setSampleRateForInstance(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,e,this.$3)}var c=a.prototype;c.addLargeFrameDrops=function(a){if(a<=0)return this;this.$4+=a;this.$9.inform("large_frame_drop",{pointGroup:"large_frame_drops"}).addStringAnnotation("quantity",a.toString());return this};c.addFrameDrops=function(a){if(a<=0)return this;this.$5=Math.max(this.$5,a);this.$7+=a;return this};c.addParallelAction=function(a){this.$6.add(a);return this};c.log=function(){__p&&__p();if(this.$7>0){var a=b("performanceNow")()-this.$8;new(b("MainThreadPerformanceTypedLogger"))().setFrameDrops(this.$7).setLargeFrameDrops(this.$4).setMaxFrameDrops(this.$5).setAction(this.$2).setEventDurationMs(Math.round(a)).setParallelActions(this.$6).setArtilleryTraceID(this.$9.getTraceID()).setSampleRate(this.$10).log()}a=Array.from(this.$6);this.$4>0&&(this.$9.trace().addSetAnnotation("parallel_actions",a),this.$9.finish());b("QuickPerformanceLogger").annotateMarkerStringArray(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"PARALLEL_ACTIONS",a,this.$3);b("QuickPerformanceLogger").annotateMarkerDouble(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"LARGE_FRAME_DROPS",this.$4,this.$3);b("QuickPerformanceLogger").annotateMarkerDouble(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"FRAME_DROPS",this.$7,this.$3);b("QuickPerformanceLogger").markerEnd(b("FeedQuickLogModule").MAIN_THREAD_PERFORMANCE,"SUCCESS",this.$3)};return a}();a.$1=0;e.exports=a}),null);
__d("MainThreadPerformanceMonitor",["MainThreadPerformanceMonitorActionEntry","MainThreadPerformanceMonitorConfig","Random","Run","SubscriptionsHandler","Visibility","clearTimeout","gkx","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MainThreadPerformanceMonitorConfig").actionMaxDuration||12e4,h=1,i=4;a=60;var j=1e3/a,k=j*60,l=new Map(),m={},n,o,p=new(b("SubscriptionsHandler"))();function q(){p&&p.release(),u(),l.clear()}function r(){t(),p.addSubscriptions(b("Run").onLeave(q),b("Visibility").addListener(b("Visibility").VISIBLE,function(){return t()}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){return u()}))}function s(a){__p&&__p();if(o){var c=a-o;if(c<k){c=Math.max(Math.round(c/j)-1,0);var d=c>=h?c/h:0,e=c>=i?c/i:0;l.forEach(function(a){return a.addFrameDrops(d).addLargeFrameDrops(e)})}}o=a;n=b("requestAnimationFrame")(s)}function t(){n||(o=0,n=b("requestAnimationFrame")(s))}function u(){cancelAnimationFrame(n),n=null}c={isEnabled:function(){return b("gkx")("678737")},start:function(a){__p&&__p();var c=this;if(l.has(a))return!0;if(!this.isEnabled())return!1;l.forEach(function(b){return b.addParallelAction(a)});var d=b("MainThreadPerformanceMonitorConfig").actionSamplingRates[a]||0;if(!b("Random").coinflip(d))return!1;l.size===0&&r();l.set(a,new(b("MainThreadPerformanceMonitorActionEntry"))(a,l.keys(),d));m[a]=b("setTimeout")(function(){return c.stop(a)},g);return!0},stop:function(a){__p&&__p();if(!this.isEnabled())return;var c=l.get(a);if(!c)return;c.log();l["delete"](a);b("clearTimeout")(m[a]);delete m[a];l.size===0&&q()}};e.exports=c}),null);
__d("MainThreadPerformanceLoggerActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCROLL:"scroll",TAIL_LOAD:"tail_load"})}),null);