if (self.CavalryLogger) { CavalryLogger.start_js(["fkcv9"]); }

__d("AdsBillingEventOptionUtils",["fbt","AdsAPIBidStrategies","AdsAPIBillingEvents","AdsBillingEventState","AdsBillingEventStrings","AdsBulkValueUtils","AdsIntelligentBadge.react","CpaAdgroupApiRuleSetting","FDSSimplePopover.react","InlineBlock.react","Link.react","React","SUIBusinessTheme","SUIText.react","Tooltip","formatCurrency"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={renderAppInstallBillingEventIneligibleInfoNux:function(a){return a===!0?null:b("React").createElement(b("FDSSimplePopover.react"),{content:b("React").createElement("div",null,b("React").createElement("div",null,g._("{=App Install Ads}",[g._param("=App Install Ads",b("React").createElement("b",null,g._("Publicit\u00e9s d\u2019installation d\u2019apps")))])),b("React").createElement("ol",{style:{marginLeft:-30}},b("React").createElement("li",null,b("AdsBillingEventStrings").getIneligibelErrorMessage("no_sdk"),b("React").createElement(b("Link.react"),{href:"https://developers.facebook.com/docs/app-ads/getting-started",style:{marginLeft:4},target:"_blank"},g._("En savoir plus"))),b("React").createElement("li",null,b("AdsBillingEventStrings").getIneligibelErrorMessage("no_enough_history"),b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/business/help/120684068612884",style:{marginLeft:4},target:"_blank"},g._("En savoir plus"))))),contentWidthUseSparingly:318})},renderOptions:function(a,c,d,e,f,i,j,k,l){__p&&__p();d=[];for(var m=0;m<i.length;m++){var n=b("AdsBulkValueUtils").getUniformValue(e)||j[m]!==b("AdsBillingEventState").ENABLED,o=b("AdsBillingEventStrings").getDescription(i[m]);o&&(o=b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")}," ","- ",o));var p=i[m]===b("AdsAPIBillingEvents").THRUPLAY?b("React").createElement(b("InlineBlock.react"),null,b("React").createElement(b("AdsIntelligentBadge.react"),{messageID:"completeview_new_badge",type:"NEW"})):null,q=b("AdsBillingEventStrings").getLabel(i[m]);p=b("React").createElement("span",{"data-testid":"campaign-billing-event-selector-label"},q,p,o);if(j[m]!==b("AdsBillingEventState").ERROR_MESSAGE){var r=b("AdsBulkValueUtils").getUniformValue(k,null);r=h.getDisabledTooltipString(i[m],r,l);var s=r!==null?b("Tooltip").propsFor(r):null,t="campaign-billing-event-selector-"+i[m];s={tooltip:s,tooltipString:r,dataTestId:t,disabled:n,value:i[m],label:q,content:p,nux:null}}else{r=b("CpaAdgroupApiRuleSetting").setting.minimun_spend*a;r=b("formatCurrency")(r,c);t=g._("Vous devez d\u2019abord d\u00e9penser au moins {amount of money in currency} dans ce compte publicitaire.",[g._param("amount of money in currency",r)]);r=b("Tooltip").propsFor(t);if(i[m]===b("AdsAPIBillingEvents").APP_INSTALLS){q=b("AdsBillingEventStrings").getLabel(i[m]);p=b("React").createElement("span",{"data-testid":"campaign-billing-event-selector-label"},q,b("React").createElement(b("SUIText.react"),{"data-testid":"bid-amount-info",shade:"light",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"}," ","- ",b("AdsBillingEventStrings").getIneligibleLabel(i[m])),o);o=h.renderAppInstallBillingEventIneligibleInfoNux(f);s={tooltip:null,tooltipString:null,dataTestId:null,disabled:n,value:i[m],label:q,content:p,nux:o}}else s={tooltip:r,tooltipString:t,dataTestId:null,disabled:n,value:i[m],label:q,content:p,nux:null}}d.push(s)}return d},getDisabledTooltipString:function(a,c,d){switch(a){case b("AdsAPIBillingEvents").APP_INSTALLS:return c!==b("AdsAPIBidStrategies").LOWEST_COST_WITH_BID_CAP?d?b("AdsBillingEventStrings").getAppInstallAvailableForMaximumBidTooltipString():b("AdsBillingEventStrings").getAppInstallAvailableForBidCapTooltipString():null;case b("AdsAPIBillingEvents").LINK_CLICKS:case b("AdsAPIBillingEvents").TWO_SECOND_CONTINUOUS_VIDEO_VIEWS:case b("AdsAPIBillingEvents").VIDEO_VIEWS:case b("AdsAPIBillingEvents").THRUPLAY:case b("AdsAPIBillingEvents").PAGE_LIKES:return c===b("AdsAPIBidStrategies").COST_CAP?b("AdsBillingEventStrings").getBillingEventDisabledForCostCapTooltipString(b("AdsBillingEventStrings").getBillingEventNameForTooltipString(a)):null;default:return null}}};e.exports=h}),null);
__d("AdsBillingEventField.react",["cx","AdObjectLevels","AdsAPIBillingEvents","AdsAPICampaignPaths","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsBillingEventOptionUtils","AdsBillingEventStrings","AdsBillingEventUtils","AdsBulkEditDialogTypes","AdsBulkEditTestIDs","AdsBulkEditViewAndEditLink.react","AdsBulkRadioList.react","AdsBulkValueUtils","AdsDeliveryContainerUtils","AdsEmptySetMixedBulkValueTypes","AdsEmptyValue","AdsGeodesicAdoption","AdsInterfacesLogger","AdsMixedValue","AdsOptimizationStrings","AdsPathLink","AdsStrings","AdsUniformValue","FDSRadioList.react","FDSRadioListItem.react","FDSText.react","Link.react","React","XUIError.react","emptyFunction","gkx","immutable","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsGeodesicAdoption").AdsGeodesicAdoptionContext;var h=b("AdsBulkRadioList.react").Item;c=b("React").PropTypes;var i=b("AdsPathLink").Field,j=b("immutable").List([b("AdsAPICampaignPaths").BILLING_EVENT]);d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isExpanded:!1},d.$8=function(a){d.setState({isExpanded:!1}),d.props.onBillingEventChange(a.getValue())},d.$6=function(a){d.setState({isExpanded:!1}),d.props.onBillingEventChange(a)},d.$10=function(){d.setState({isExpanded:!0}),b("AdsInterfacesLogger").log({eventName:"expand_billing_event_options"},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("AdsDeliveryContainerUtils").logDeliveryImpressionLegacy(c.displayName)};d.render=function(){return b("React").createElement("div",{"data-testid":"campaign-billing-event"},b("React").createElement(b("XUIError.react"),{xuiError:this.props.xuiError},this.$1()),b("React").createElement(b("AdsBulkEditViewAndEditLink.react"),{adObjectIDs:this.props.campaignIDs,adObjectLevel:b("AdObjectLevels").CAMPAIGN,dialogType:b("AdsBulkEditDialogTypes").BILLING_EVENT,webDriverID:b("AdsBulkEditTestIDs").BULK_EDIT_BILLING_EVENT_LINK}))};d.$2=function(a,c,d){var e=this.context,f=b("gkx")("800344");return e===!0?b("React").createElement("div",{className:(f?"_3-97":"")+(f?"":" _3-8w")},b("React").createElement(b("FDSRadioList.react"),{label:f?b("AdsOptimizationStrings").getBillingEventLabel():null,tooltipText:b("AdsOptimizationStrings").getBillingEventHelpText(),value:!0,onChange:b("emptyFunction")},b("React").createElement(b("FDSRadioListItem.react"),{isDisabled:!0,label:d,value:!0}))):b("React").createElement(i,{paths:j},b("React").createElement(b("FDSText.react"),{"data-testid":c,margin:a,size:"meta1"},d))};d.$1=function(){__p&&__p();var a=this.context,c=!!this.props.xuiError,d="_3-8h",e=c?d:null,f=this.$3(),g=b("AdsBillingEventStrings").getLabel(b("AdsAPIBillingEvents").NONE),h="";if(!this.props.isEditable)return this.$2(e,h,f);var k=b("AdsBillingEventUtils").getBillingEventSets(this.props.billingEvent,this.props.buyingType,this.props.objective,this.props.optimizationGoal,this.props.originalBulkCampaignBillingEvent,this.props.isCPAEligible);k=b("AdsBulkValueUtils").aggregate(k,b("AdsEmptySetMixedBulkValueTypes"));if(k instanceof b("AdsEmptyValue"))return this.$2(d,h,g);else if(k instanceof b("AdsMixedValue"))return this.$2(e,h,f);else{k=k.getValues()[0]||[];k.length===0&&this.$2(d,h,g);if(k.length===1){h="campaign-billing-event-"+k[0];return b("React").createElement("span",null,this.$2(e,h,b("AdsBillingEventStrings").getLabel(k[0])))}b("AdsBulkValueUtils").assertAllSameLength([this.props.objective,this.props.optimizationGoal]);b("AdsBulkValueUtils").assertAllOrNothingNull([this.props.objective,this.props.optimizationGoal]);d=this.props.originalBulkCampaignBillingEvent||b("AdsEmptyValue").instance();g=b("AdsBillingEventUtils").getShouldEnableShareEvents(this.props.billingEvent,this.props.objective,this.props.optimizationGoal,d,this.props.isAutobid,this.props.isAveragePricePacing,!0,this.props.isCPAEligible,k,this.props.someCampaignGroupsHaveBudget,this.props.bidStrategy);e=b("AdsBillingEventOptionUtils").renderOptions(this.props.accountCurrencyRatioToUsd,this.props.currency,this.props.isAutobid,this.props.isAveragePricePacing,this.props.isCPAEligible,k,g,this.props.bidStrategy,this.props.canUseCostCap);if(this.state.isExpanded||this.props.billingEvent instanceof b("AdsEmptyValue")||this.$4()||this.$5()){if(a===!0&&this.props.billingEvent instanceof b("AdsUniformValue")){d=this.props.billingEvent.getValue();k=b("gkx")("800344");return b("React").createElement("div",{className:(k?"_3-97":"")+(k?"":" _3-8w")},b("React").createElement(b("FDSRadioList.react"),{"data-testid":"campaign-billing-event-selector",label:k?b("AdsOptimizationStrings").getBillingEventLabel():null,tooltipText:b("AdsOptimizationStrings").getBillingEventHelpText(),value:d,onChange:this.$6},this.$7(e)))}return b("React").createElement("div",null,b("React").createElement("div",null,b("React").createElement(i,{paths:j},b("React").createElement(b("AdsBulkRadioList.react"),{className:"_44z6"+(c?" _2phz":""),"data-testid":"campaign-billing-event-selector",selectedValue:this.props.billingEvent,onValueChange:this.$8},this.$9(e)))))}return b("React").createElement("div",{className:"_44z6"+(c?" _2phz":"")},b("React").createElement("div",{className:"_3-94"},this.$2(null,h,f)),b("React").createElement("div",null,b("React").createElement(b("Link.react"),{"data-testid":"campaign-billing-event-more-options",onClick:this.$10},b("AdsBillingEventStrings").MORE_OPTIONS)))}};d.$9=function(a){var c=[];a.forEach(function(a){c.push(b("React").createElement(h,babelHelpers["extends"]({},a.tooltip,{"data-testid":a.dataTestId,disabled:a.disabled,key:a.value,value:a.value}),a.content,a.nux))});return c};d.$7=function(a){var c=[];a.forEach(function(a){c.push(b("React").createElement(b("FDSRadioListItem.react"),{"data-testid":a.dataTestId,disabledMessage:a.tooltipString,isDisabled:a.disabled,key:a.value,label:a.label,value:a.value}))});return c};d.$4=function(){var a=this.props.objective instanceof b("AdsUniformValue")?this.props.objective.getValue():null;return a===b("AdsAPIObjectives").VIDEO_VIEWS};d.$5=function(){var a=this.props.optimizationGoal?this.props.optimizationGoal.getValues():null;a=!!a&&a.some(function(a){return a===b("AdsAPIOptimizationGoals").POST_ENGAGEMENT});return!a?!1:b("AdsBillingEventUtils").shouldUsePostEngagementImpressionBilling(b("AdsAPIOptimizationGoals").POST_ENGAGEMENT)};d.$3=function(){return this.props.billingEvent instanceof b("AdsMixedValue")?b("AdsStrings").MixedValuePlaceholder:b("AdsBillingEventStrings").getLabel(b("AdsBulkValueUtils").getUniformValueOrDefault(this.props.billingEvent,b("AdsAPIBillingEvents").NONE))};return c}(b("React").PureComponent);d.displayName="AdsBillingEventField";d.propTypes={accountCurrencyRatioToUsd:c.number.isRequired,canUseCostCap:c.bool.isRequired,currency:c.string.isRequired,isCPAEligible:c.bool,isEditable:c.bool,someCampaignGroupsHaveBudget:c.bool.isRequired,onBillingEventChange:c.func.isRequired};d.defaultProps={isEditable:!0};d.contextType=a;e.exports=d}),null);
__d("AdsDeliveryBillingEventEditor.react",["AdsAPIAccountPaths","AdsAPIBillingEvents","AdsAPICampaignPaths","AdsAPIOptimizationGoals","AdsBillingEventField.react","AdsDeliveryEditorFactory","AdsEmptyValue","AdsOptimizationStrings","AdsOptimizationUtils","AdsPromotedObjectTypes","AdsUniformValue","React","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").Component;c=b("React").PropTypes;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=d.context.getExtraData(),e=c.account,f=c.objective;c=c.promotedObjectType;var g=d.props.onChangeBillingEvent;g({billingEvent:new(b("AdsUniformValue"))(a),account:e,canUseBidStrategyInCallback:!0,objective:f,promotedObjectType:c?c:new(b("AdsUniformValue"))(b("AdsPromotedObjectTypes").NONE)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.context.getExtraData(),c=this.context.getApiSpec(),d=a.account,e=a.buyingType,f=a.inCampaignGroupBudgetBeta;a=a.objective;var g=this.props.errorSpec,h=this.props.isEditable,i=b("getByPath")(d,b("AdsAPIAccountPaths").CURRENCY),j=b("getByPath")(d,b("AdsAPIAccountPaths").ACCOUNT_CURRENCY_RATIO_TO_USD),k=c.getIn(b("AdsAPICampaignPaths").BID_STRATEGY,b("AdsEmptyValue").instance()),l=c.getIn(b("AdsAPICampaignPaths").BILLING_EVENT,new(b("AdsUniformValue"))(b("AdsAPIBillingEvents").NONE)),m=c.getIn(b("AdsAPICampaignPaths").IS_AUTOBID,new(b("AdsUniformValue"))(!1)),n=c.getIn(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,new(b("AdsUniformValue"))(!1));c=c.getIn(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,new(b("AdsUniformValue"))(b("AdsAPIOptimizationGoals").NONE));g=b("getByPath")(g,b("AdsAPICampaignPaths").BILLING_EVENT);d=b("AdsOptimizationUtils").canUseCostCap(d);return b("React").createElement(b("AdsBillingEventField.react"),{accountCurrencyRatioToUsd:j,bidStrategy:k,billingEvent:l,buyingType:e,campaignIDs:this.props.campaignIDs,canUseCostCap:d,currency:i,inCampaignGroupBudgetBeta:f,isAutobid:m,isAveragePricePacing:n,isCPAEligible:this.props.isCPAEligible,isEditable:h,isNewCampaign:this.props.isNewCampaign,objective:a,optimizationGoal:c,originalBulkCampaignBillingEvent:this.props.originalBulkCampaignBillingEvent,someCampaignGroupsHaveBudget:this.props.someCampaignGroupsHaveBudget,xuiError:g,onBillingEventChange:this.$1})};return c}(a);d.contextTypes={getApiSpec:c.func.isRequired,getExtraData:c.func.isRequired};d.displayName="AdsDeliveryBillingEventEditor";d.webdriverID="campaign-billing-event";d.getLabel=function(){return b("AdsOptimizationStrings").getBillingEventLabel()};d.getHelpText=function(){return b("AdsOptimizationStrings").getBillingEventHelpText()};e.exports=b("AdsDeliveryEditorFactory").create(d)}),null);