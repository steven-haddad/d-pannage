if (self.CavalryLogger) { CavalryLogger.start_js(["joSEx"]); }

__d("AdsAccountAudienceOverviewLocationBreakdownChangeBreakdownDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("breakdown",b.breakdown)}};e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownChangeBreakdownDataAction",["Laminar","AdsAccountAudienceOverviewLocationBreakdownChangeBreakdownDataReducerPlugin","AdsInsightsAudienceOverviewLocationBreakdownProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountAudienceOverviewLocationBreakdownChangeBreakdownDataReducerPlugin"),b("AdsInsightsAudienceOverviewLocationBreakdownProvider"),{})]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.CHANGE_BREAKDOWN");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownChangeMetricDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("metric",b.metric)}};e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownChangeMetricDataAction",["Laminar","AdsAccountAudienceOverviewLocationBreakdownChangeMetricDataReducerPlugin","AdsInsightsAudienceOverviewLocationBreakdownProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountAudienceOverviewLocationBreakdownChangeMetricDataReducerPlugin"),b("AdsInsightsAudienceOverviewLocationBreakdownProvider"),{})]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.CHANGE_METRIC");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownClickNavigationLinkDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.CLICK_NAVIGATION_LINK");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownLoadFailDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.LOAD_FAIL");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownMountedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.MOUNTED");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownToggleSelectorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.TOGGLE_SELECTOR");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownViewTooltipDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.VIEW_TOOLTIP");e.exports=a}),null);
__d("AdsAccountAudienceOverviewLocationBreakdownWillMountDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.AUDIENCE_OVERVIEW.LOCATION_BREAKDOWN.WILL_MOUNT");e.exports=a}),null);
__d("AdsCMAudienceOverviewLocationNavLinkContainer.react",["AdsAccountAudienceOverviewLocationBreakdownClickNavigationLinkDataAction","AdsCMAccountOverviewNavLinkContainer.react","AdsCMFilter","AdsCMFilterSet","AdsCMFilterSetStore","AdsCMFilterSetUtil","AdsCMPresetFilterConfigUtil","AdsFluxContainer","AdsGenericFilterOperatorConfig","AdsInsightsAudienceOverviewChartUtil","AdsInsightsLocationTypeahead","AdsObjectTypes","React","expectationViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("AdsInsightsAudienceOverviewChartUtil").getLocationEntry(d.props.locationDatum);a&&b("AdsAccountAudienceOverviewLocationBreakdownClickNavigationLinkDataAction").dispatch({logData:{new_value:a}},{line:"105",module:"AdsCMAudienceOverviewLocationNavLinkContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("AdsCMFilterSetStore")]};c.calculateState=function(a,c){__p&&__p();a=c.locationDatum;c=b("AdsCMFilterSetStore").getFieldConfigs();c=(c=c)!=null?(c=c.DELIVERY_LOCATION)!=null?c.field:c:c;if(!c){b("expectationViolation")("Cannot find delivery location field");return{}}var d=a.key,e=a.name;a=b("AdsInsightsAudienceOverviewChartUtil").getLocationEntry(a);if(!(typeof d==="string"&&typeof e==="string"&&typeof a==="string"))return{};b("AdsInsightsLocationTypeahead").addNameForID(d,e);d=b("AdsCMPresetFilterConfigUtil").getDeliveryStatusAnyFilterSetForLevel(b("AdsObjectTypes").CAMPAIGN);if(!d){b("expectationViolation")("Cannot find delivery location field");return{}}e=b("AdsCMFilterSetUtil").mergeByField(new(b("AdsCMFilterSet"))([new(b("AdsCMFilter"))(c,b("AdsGenericFilterOperatorConfig").ANY.operator,[a])]),d,!0);if(!e){b("expectationViolation")("Cannot find delivery location field");return{}}return{filterSet:e}};var d=c.prototype;d.render=function(){return!this.state.filterSet?null:b("React").createElement(b("AdsCMAccountOverviewNavLinkContainer.react"),{filterSet:this.state.filterSet,objectCount:this.props.objectCount,objectType:b("AdsObjectTypes").CAMPAIGN,onClick:this.$1})};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsInsightsAudienceOverviewLocationBreakdownSelector.react",["AdsInsightsBreakdown","AdsInsightsBreakdowns","React","SUIRadioList.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("SUIRadioList.react").Item,h=[b("AdsInsightsBreakdown").COUNTRY,b("AdsInsightsBreakdown").REGION_PREDICTION,b("AdsInsightsBreakdown").DMA];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return b("React").createElement(b("SUIRadioList.react"),{value:this.props.value,onChange:this.$1},h.map(function(a){return b("React").createElement(g,{key:a,value:a},b("AdsInsightsBreakdowns").getConfig(a).label)}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsAudienceOverviewLocationNavLinkContainer.react",["AdsAccountAudienceOverviewLocationBreakdownClickNavigationLinkDataAction","AdsAccountOverviewNavLink.react","AdsFluxContainer","AdsGenericFilter","AdsGenericFilterSet","AdsInsightsAudienceOverviewChartUtil","AdsInsightsLocationTypeahead","AdsObjectTypes","AdsPEFilterConfigStore","AdsPEFilterConfigUtils","AdsPEFilterOperatorConfig","React","expectationViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=b("AdsInsightsAudienceOverviewChartUtil").getLocationEntry(d.props.locationDatum);a!=null&&a!==""&&b("AdsAccountAudienceOverviewLocationBreakdownClickNavigationLinkDataAction").dispatch({logData:{new_value:a}},{line:"95",module:"AdsAudienceOverviewLocationNavLinkContainer.react.js"})},c)||babelHelpers.assertThisInitialized(d)}c.getStores=function(){return[b("AdsPEFilterConfigStore")]};c.calculateState=function(a,c){__p&&__p();a=c.locationDatum;c=b("AdsPEFilterConfigStore").getFilterFieldConfig();c=(c=c)!=null?(c=c.DELIVERY_LOCATION)!=null?c.field:c:c;if(!c){b("expectationViolation")("Cannot find delivery location field");return{}}var d=a.key,e=a.name;a=b("AdsInsightsAudienceOverviewChartUtil").getLocationEntry(a);if(!(typeof d==="string"&&typeof e==="string"&&typeof a==="string"))return{};b("AdsInsightsLocationTypeahead").addNameForID(d,e);d=[new(b("AdsGenericFilter"))(c,b("AdsPEFilterOperatorConfig").ANY.operator,[a])];e=b("AdsPEFilterConfigUtils").getDeliveryStatusAnyFilterForCampaign();e!=null&&d.push(e);return{filterSet:new(b("AdsGenericFilterSet"))(d)}};var d=c.prototype;d.render=function(){return!this.state.filterSet?null:b("React").createElement(b("AdsAccountOverviewNavLink.react"),{filterSet:this.state.filterSet,objectCount:this.props.objectCount,objectType:b("AdsObjectTypes").CAMPAIGN,onClick:this.$1})};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsInsightsLocationDataUtil",["AdsInsightsBreakdown","AdsInsightsField","LocationConstants","expectationViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=(a={},a[b("AdsInsightsField").COUNTRY]=["Unknown"],a[b("AdsInsightsField").DMA_CODE]=["0","-1"],a[b("AdsInsightsField").REGION_PREDICTION_ID]=["0"],a),h=(c={},c[b("AdsInsightsBreakdown").COUNTRY]=b("AdsInsightsField").COUNTRY,c[b("AdsInsightsBreakdown").DMA]=b("AdsInsightsField").DMA_CODE,c[b("AdsInsightsBreakdown").REGION_PREDICTION]=b("AdsInsightsField").REGION_PREDICTION_ID,c),i=(d={},d[b("AdsInsightsBreakdown").DMA]=b("LocationConstants").GEO_MARKETS,d[b("AdsInsightsBreakdown").REGION_PREDICTION]=b("LocationConstants").REGIONS,d[b("AdsInsightsBreakdown").COUNTRY]=b("LocationConstants").COUNTRIES,d);f={getLocationKeyForBreakdownKey:function(a,c,d){__p&&__p();var e=h[c];if(!e){b("expectationViolation")("Cannot find field for location key");return null}d=d.get(a,e).getValue();if(typeof d!=="string"){b("expectationViolation")("Invalid location key found");return null}switch(c){case b("AdsInsightsBreakdown").DMA:return"DMA:"+d;case b("AdsInsightsBreakdown").COUNTRY:case b("AdsInsightsBreakdown").REGION_PREDICTION:return d;default:b("expectationViolation")("%s is not a supported location breakdown",c);return null}},getBreakdownsForAPI:function(a){switch(a){case b("AdsInsightsBreakdown").COUNTRY:return[b("AdsInsightsBreakdown").COUNTRY];case b("AdsInsightsBreakdown").DMA:return[b("AdsInsightsBreakdown").DMA,b("AdsInsightsBreakdown").DMA_CODE];case b("AdsInsightsBreakdown").REGION_PREDICTION:return[b("AdsInsightsBreakdown").REGION_PREDICTION,b("AdsInsightsBreakdown").REGION_PREDICTION_ID];default:b("expectationViolation")("%s is not a supported location breakdown",a);return null}},getLocationTypeForBreakdown:function(a){var c=i[a];c||b("expectationViolation")("%s is not a supported location breakdown",a);return c},isBreakdownKeyForUnknownLocation:function(a,c,d){c=h[c];d=d.get(a,c).getValue();if(typeof d!=="string"){b("expectationViolation")("Invalid location key found");return!1}return(g[c]||[]).includes(d)}};e.exports=f}),null);
__d("d3-old/scale/category",["d3-old/scale/ordinal"],(function(a,b,c,d,e,f){__p&&__p();a=function(){return b("d3-old/scale/ordinal")().range(g)};a.category20=function(){return b("d3-old/scale/ordinal")().range(h)};a.category20b=function(){return b("d3-old/scale/ordinal")().range(i)};a.category20c=function(){return b("d3-old/scale/ordinal")().range(j)};var g=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],h=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],i=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],j=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];e.exports=a}),null);
__d("d3-old/scale/identity",["d3-old/scale/linear"],(function(a,b,c,d,e,f){__p&&__p();var g=b("d3-old/scale/linear")._linearTicks,h=b("d3-old/scale/linear")._linearTickFormat;a=function(){return i([0,1])};function i(a){__p&&__p();function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};b.ticks=function(b){return g(a,b)};b.tickFormat=function(b){return h(a,b)};b.copy=function(){return i(a)};return b}e.exports=a}),null);
__d("d3-old/scale/log",["d3-old/scale/linear","d3-old/scale/nice","d3-old/scale/scale","d3-old/core/format"],(function(a,b,c,d,e,f){__p&&__p();var g=b("d3-old/scale/nice")._nice,h=b("d3-old/scale/nice")._niceDefault,i=b("d3-old/scale/scale")._scaleExtent,j=b("d3-old/scale/linear")._linearRebind;a=function(){return k(b("d3-old/scale/linear")(),m)};function k(a,b){__p&&__p();var c=b.pow;function d(c){return a(b(c))}d.invert=function(b){return c(a.invert(b))};d.domain=function(e){if(!arguments.length)return a.domain().map(c);b=e[0]<0?n:m;c=b.pow;a.domain(e.map(b));return d};d.nice=function(){a.domain(g(a.domain(),h));return d};d.ticks=function(){__p&&__p();var d=i(a.domain()),e=[];if(d.every(isFinite)){var f=Math.floor(d[0]),g=Math.ceil(d[1]),h=c(d[0]);d=c(d[1]);if(b===n){e.push(c(f));for(;f++<g;)for(var j=9;j>0;j--)e.push(c(f)*j)}else{for(;f<g;f++)for(var j=1;j<10;j++)e.push(c(f)*j);e.push(c(f))}for(f=0;e[f]<h;f++);for(g=e.length;e[g-1]>d;g--);e=e.slice(f,g)}return e};d.tickFormat=function(a,e){arguments.length<2&&(e=l);if(!arguments.length)return e;var f=Math.max(.1,a/d.ticks().length),g=b===n?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil),h;return function(a){return a/c(g(b(a)+h))<=f?e(a):""}};d.copy=function(){return k(a.copy(),b)};return j(d,a)}var l=b("d3-old/core/format")(".0e");function m(a){return Math.log(a<0?0:a)/Math.LN10}function n(a){return-Math.log(a>0?0:-a)/Math.LN10}m.pow=function(a){return Math.pow(10,a)};n.pow=function(a){return-Math.pow(10,-a)};e.exports=a}),null);
__d("d3-old/scale/pow",["d3-old/scale/linear","d3-old/scale/nice"],(function(a,b,c,d,e,f){__p&&__p();var g=b("d3-old/scale/linear")._linearTicks,h=b("d3-old/scale/linear")._linearTickFormat,i=b("d3-old/scale/nice")._nice,j=b("d3-old/scale/linear")._linearNice,k=b("d3-old/scale/linear")._linearRebind;a=function(){return l(b("d3-old/scale/linear")(),1)};function l(a,b){__p&&__p();var c=m(b),d=m(1/b);function e(b){return a(c(b))}e.invert=function(b){return d(a.invert(b))};e.domain=function(b){if(!arguments.length)return a.domain().map(d);a.domain(b.map(c));return e};e.ticks=function(a){return g(e.domain(),a)};e.tickFormat=function(a){return h(e.domain(),a)};e.nice=function(){return e.domain(i(e.domain(),j))};e.exponent=function(a){if(!arguments.length)return b;var f=e.domain();c=m(b=a);d=m(1/b);return e.domain(f)};e.copy=function(){return l(a.copy(),b)};return k(e,a)}function m(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}e.exports=a}),null);
__d("d3-old/core/ascending",[],(function(a,b,c,d,e,f){a=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN};e.exports=a}),null);
__d("d3-old/core/quantile",[],(function(a,b,c,d,e,f){a=function(a,b){b=(a.length-1)*b+1;var c=Math.floor(b),d=+a[c-1];b=b-c;return b?d+b*(a[c]-d):d};e.exports=a}),null);
__d("d3-old/scale/quantile",["d3-old/core/ascending","d3-old/core/bisect","d3-old/core/quantile"],(function(a,b,c,d,e,f){__p&&__p();a=function(){return g([],[])};function g(a,c){__p&&__p();var d;function e(){var e=0,g=c.length;d=[];while(++e<g)d[e-1]=b("d3-old/core/quantile")(a,e/g);return f}function f(a){return isNaN(a=+a)?NaN:c[b("d3-old/core/bisect")(d,a)]}f.domain=function(c){if(!arguments.length)return a;a=c.filter(function(a){return!isNaN(a)}).sort(b("d3-old/core/ascending"));return e()};f.range=function(a){if(!arguments.length)return c;c=a;return e()};f.quantiles=function(){return d};f.copy=function(){return g(a,c)};return e()}e.exports=a}),null);
__d("d3-old/scale/quantize",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){return g(0,1,[0,1])};function g(a,b,c){__p&&__p();var d,e;function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function h(){d=c.length/(b-a);e=c.length-1;return f}f.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return h()};f.range=function(a){if(!arguments.length)return c;c=a;return h()};f.copy=function(){return g(a,b,c)};return h()}e.exports=a}),null);
__d("d3-old/scale/sqrt",["d3-old/scale/pow"],(function(a,b,c,d,e,f){a=function(){return b("d3-old/scale/pow")().exponent(.5)};e.exports=a}),null);
__d("d3-old/scale/threshold",["d3-old/core/bisect"],(function(a,b,c,d,e,f){__p&&__p();a=function(){return g([.5],[0,1])};function g(a,c){__p&&__p();function d(d){return c[b("d3-old/core/bisect")(a,d)]}d.domain=function(b){if(!arguments.length)return a;a=b;return d};d.range=function(a){if(!arguments.length)return c;c=a;return d};d.copy=function(){return g(a,c)};return d}e.exports=a}),null);
__d("d3-old/d3.scale",["d3-old/scale/scale","d3-old/scale/linear","d3-old/scale/log","d3-old/scale/pow","d3-old/scale/sqrt","d3-old/scale/ordinal","d3-old/scale/category","d3-old/scale/quantile","d3-old/scale/quantize","d3-old/scale/threshold","d3-old/scale/identity"],(function(a,b,c,d,e,f){b("d3-old/scale/scale").linear=b("d3-old/scale/linear"),b("d3-old/scale/scale").log=b("d3-old/scale/log"),b("d3-old/scale/scale").pow=b("d3-old/scale/pow"),b("d3-old/scale/scale").sqrt=b("d3-old/scale/sqrt"),b("d3-old/scale/scale").ordinal=b("d3-old/scale/ordinal"),b("d3-old/scale/scale").category10=b("d3-old/scale/category"),b("d3-old/scale/scale").category20=b("d3-old/scale/category").category20,b("d3-old/scale/scale").category20b=b("d3-old/scale/category").category20b,b("d3-old/scale/scale").category20c=b("d3-old/scale/category").category20c,b("d3-old/scale/scale").quantile=b("d3-old/scale/quantile"),b("d3-old/scale/scale").quantize=b("d3-old/scale/quantize"),b("d3-old/scale/scale").threshold=b("d3-old/scale/threshold"),b("d3-old/scale/scale").identity=b("d3-old/scale/identity"),e.exports=b("d3-old/scale/scale")}),null);
__d("AdsInsightsAudienceOverviewLocationMap.react",["cx","AdsAccountOverviewUtils","AdsApplicationUtils","AdsAudienceOverviewLocationNavLinkContainer.react","AdsCMAudienceOverviewLocationNavLinkContainer.react","AdsInsightsAudienceOverviewBreakdownHoverCardContent.react","AdsInsightsField","AdsInsightsLocationDataUtil","AdsInsightsObjectStatsUtil","FBTilesMap.react","GeoCoordinates","LeafletMultiPolygon.react","LeafletPopup.react","LeafletUtils","LeafletView","React","TilesMapConfig","TilesMapTheme","d3-old/d3.scale","immutable","isEmpty","leaflet"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("immutable").List,i=b("TilesMapConfig").ZOOM_RANGE,j="transparent",k="#094ed9",l="#ecf1ff",m=20,n=new(b("LeafletView"))({center:b("LeafletUtils").fromLatLng(b("LeafletUtils").WHOLE_WORLD_BOUNDS.getCenter()),zoom:i.MIN}),o={maxBounds:b("LeafletUtils").WHOLE_WORLD_BOUNDS,smoothFactor:1},p={autoPan:!1,closeButton:!1,closeOnClick:!1,offset:b("leaflet").point(0,15)},q={color:"#adadad",fillOpacity:.65,weight:1},r={noWrap:!0},s={horizontal:"right",vertical:"bottom"};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.state={canScrollWheelZoom:!1,view:n};c.$2={};c.$3={};c.$13=function(a){c.setState({view:a})};c.$7=function(a){c.$14((a=a)!=null?(a=a.layer)!=null?(a=a.options)!=null?a.breakdownKey:a:a:a)};c.$11=function(a){c.$15(),c.$16(!1)};c.$8=function(a){c.$15(),c.$16(!1)};c.$9=function(a){c.$15(),c.$16(!0)};c.$6=function(a){c.$15(),c.$16(!0)};c.$10=function(a){c.$16(!0)};c.$12=function(a){c.$15(),c.$16(!0)};c.$5={click:c.$6,mouseover:c.$7};c.$4={blur:c.$8,click:c.$9,dragstart:c.$10,mouseout:c.$11,zoomstart:c.$12};return c}var d=c.prototype;d.$16=function(a){this.setState({canScrollWheelZoom:a})};d.$14=function(a){this.$1==null&&(this.$1=b("AdsAccountOverviewUtils").getTooltipViewStartTime()),this.setState({lastHoveredBreakdownKey:a})};d.$15=function(){this.$1!=null&&(b("AdsAccountOverviewUtils").handleTooltipView(this.$1,this.props.onViewTooltip),this.$1=null),this.setState({lastHoveredBreakdownKey:null})};d.UNSAFE_componentWillMount=function(){this.$17(this.props),this.$18(this.props)};d.UNSAFE_componentWillReceiveProps=function(a){this.$17(a),this.$18(a)};d.$19=function(a){var b=this.props,c=b.group;b=b.metric;if(!c)return j;var d=this.$2[b];c=c.get(a,b).orNull();return d&&typeof c==="number"?d(c):j};d.$20=function(){var a=this,c=this.props.breakdownKeys;return!c?null:c.map(function(c){var d=a.$3[c];return!d?null:b("React").createElement(b("LeafletMultiPolygon.react"),{coordinateLists:d,eventHandlers:a.$5,key:c,options:babelHelpers["extends"]({},q,{breakdownKey:c,fillColor:a.$19(c)})})})};d.$21=function(a){return a.sort(function(a,b){return b.length-a.length}).slice(0,m)};d.$17=function(a){__p&&__p();var c=this,d=a.breakdown,e=a.breakdownKeys,f=a.group,g=a.locationData;a=a.metric;if(!e||!f||!g)return;e.forEach(function(a){__p&&__p();var e;if(c.$3[a])return;var i=b("AdsInsightsLocationDataUtil").getLocationTypeForBreakdown(d),j=b("AdsInsightsLocationDataUtil").getLocationKeyForBreakdownKey(a,d,f);i=i&&j&&((e=g)!=null?(e=e[i])!=null?(e=e[j])!=null?e.polygons:e:e:e);if(!i)return;j=c.$21(i);c.$3[a]=h(j.map(function(a){return h(a.map(function(a){var c=a.lat;a=a.lng;return new(b("GeoCoordinates"))(+c,+a)}))}))});e=b("AdsInsightsObjectStatsUtil").getMinAndMaxBreakdownValueByMetric(f,e,a);var i=e.max;e=e.min;this.$2[a]=b("d3-old/d3.scale").linear().domain(e==i?[e-1,i]:[e,i]).range([l,k])};d.$22=function(a){var c=this.props,d=c.breakdown,e=c.group;c=c.locationData;if(!e||!c)return null;var f=b("AdsInsightsLocationDataUtil").getLocationTypeForBreakdown(d);a=b("AdsInsightsLocationDataUtil").getLocationKeyForBreakdownKey(a,d,e);return f&&a?(d=c)!=null?(d=d[f])!=null?d[a]:d:d:null};d.$23=function(){__p&&__p();var a=this.state.lastHoveredBreakdownKey,c=this.props,d=c.breakdownKeys,e=c.currencyCode,f=c.group;c=c.metric;if(!a||!f)return null;var g=this.$22(a);if(!g)return null;var h=typeof g.name==="string"?g.name:null,i=f.get(a,b("AdsInsightsField").NUM_CAMPAIGNS).orNull(),j=b("AdsApplicationUtils").isPowerEditor()?b("AdsAudienceOverviewLocationNavLinkContainer.react"):b("AdsCMAudienceOverviewLocationNavLinkContainer.react");j=i!=null?b("React").createElement(j,{locationDatum:g,objectCount:+i}):null;return b("React").createElement(b("LeafletPopup.react"),{coordinates:new(b("GeoCoordinates"))(+g.latitude,+g.longitude),key:"popup",options:p},b("React").createElement(b("AdsInsightsAudienceOverviewBreakdownHoverCardContent.react"),{breakdownKey:a,breakdownKeyLabel:h,breakdownKeys:d,currencyCode:e,group:f,metrics:[c],navLink:j}))};d.$18=function(a){__p&&__p();var c=this,d=a.breakdownKeys,e=a.height;a=a.width;if(b("isEmpty")(this.$3)||!d)return;d=b("leaflet").latLngBounds(h(d).map(function(a){return c.$3[a]}).filter(function(a){return!!a}).flatten(2).map(b("LeafletUtils").toLatLng).toArray());if(!d.isValid())return;d=b("LeafletUtils").fitBounds(d,{height:e,width:a},{zoomRange:[i.MIN,i.MAX]});this.setState({view:d})};d.render=function(){var a=this.props,c=a.height;a=a.width;var d=this.state,e=d.canScrollWheelZoom;d=d.view;return b("React").createElement("div",{className:"_4p31"},b("React").createElement(b("FBTilesMap.react"),{eventHandlers:this.$4,options:babelHelpers["extends"]({},o,{scrollWheelZoom:e}),setZoomPosition:s,showReportButton:!1,showZoomControls:!0,style:{height:c,width:a},theme:b("TilesMapTheme").LIVE_MAPS,tileOptions:r,view:d,onViewChange:this.$13},this.$20(),this.$23()))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsInsightsMetricsColorIndicator.react",["cx","AdsInsightsFields","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.min,d=a.max,e=a.currencyCode;a=a.metric;a=b("AdsInsightsFields").getFormatter(a,e);return b("React").createElement("div",{className:"_1s49"},b("React").createElement("div",{className:"_1s51"}),b("React").createElement("div",{className:"_1s5b"},b("React").createElement("span",null,a(c)),b("React").createElement("span",null,a(d))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsInsightsAudienceOverviewLocationMapContainer.react",["cx","AdsAccountAudienceOverviewLocationBreakdownLoadFailDataAction","AdsAccountAudienceOverviewLocationBreakdownLoadSuccessDataAction","AdsAccountAudienceOverviewLocationBreakdownViewTooltipDataAction","AdsAccountAudienceOverviewLocationBreakdownWillMountDataAction","AdsFluxContainer","AdsInsightsAccountOverviewLocationDefaultMetrics","AdsInsightsAudienceOverviewLocationMap.react","AdsInsightsBreakdown","AdsInsightsEmptySection.react","AdsInsightsEmptySectionContainer.react","AdsInsightsEmptySectionReason","AdsInsightsField","AdsInsightsLocationDataUtil","AdsInsightsMetricsColorIndicator.react","AdsInsightsObjectStatsStore","AdsInsightsObjectStatsUtil","AdsInsightsSectionShim.react","AdsInsightsTableViewStore","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsLocationDataFields","AdsLocationDataStore","React","adsInsightsAccountInfoSelector","mergeDeep"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("AdsInsightsObjectStatsStore"),b("AdsInsightsTableViewStore"),b("AdsLocationDataStore")].concat(b("adsInsightsAccountInfoSelector").getStores())};c.fetchLocationData=function(a,c,d,e){__p&&__p();e=a.map(function(a){return b("AdsInsightsLocationDataUtil").getLocationKeyForBreakdownKey(a,c,d)}).filter(function(a){return!!a});a=b("AdsInsightsLocationDataUtil").getLocationTypeForBreakdown(c);if(!a)return{loadState:b("AdsLoadState_LEGACY").ERROR};var f=new Map(),g=0;while(g<e.length){var h,i=e.slice(g,g+b("AdsLocationDataFields").map_render_locations_limit);f.set(g,b("AdsLocationDataStore").getMetadata((h={},h[a]=i,h),!0));g+=i.length}if(b("AdsLoadStateUtils_LEGACY").allLoaded(f)){h={loadState:b("AdsLoadState_LEGACY").LOADED};for(var i=f,g=Array.isArray(i),e=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(e>=i.length)break;a=i[e++]}else{e=i.next();if(e.done)break;a=e.value}a=a;a=a[1];h=b("mergeDeep")(h,a)}return h}else return{loadState:b("AdsLoadStateUtils_LEGACY").mergeLoadStatesForMap(f)}};c.filterBreakdownKey=function(a,c,d,e){return!b("AdsInsightsLocationDataUtil").isBreakdownKeyForUnknownLocation(a,c,d)&&+d.get(a,e).getValue()>0};c.calculateState=function(a,c){__p&&__p();var d=this,f=c.breakdown,g=c.metric;a=b("adsInsightsAccountInfoSelector")();if(!a.isDone()||!a.hasValue())return{breakdownDataLoadStatus:a.hasError()?b("AdsLoadState_LEGACY").ERROR:b("AdsLoadState_LEGACY").LOADING,ready:!1};c=a.getValueEnforcing();a=b("AdsInsightsTableViewStore").get();var h=a.filter;a=a.timeRange;var i=[g,b("AdsInsightsAccountOverviewLocationDefaultMetrics").static_location_metrics],j=b("AdsInsightsLocationDataUtil").getBreakdownsForAPI(f);if(!j)return{breakdownDataLoadStatus:b("AdsLoadState_LEGACY").ERROR,ready:!1};var k=b("AdsInsightsObjectStatsStore").getGroup(h,a,{currentRange:a},j,i,[],c,[e.id+".fetchBreakdownData"]);h=k.statusOfFields(i);if(h!==b("AdsLoadState_LEGACY").LOADED)return{breakdownDataLoadStatus:h,ready:!1};a=k.getKeys([]).orElse(function(){return[]});j=a.filter(function(a){return d.filterBreakdownKey(a,f,k,g)});i=this.fetchLocationData(j,f,k,g);a=i.loadState;var l=a===b("AdsLoadState_LEGACY").LOADED&&h===b("AdsLoadState_LEGACY").LOADED;return l?{breakdownDataLoadStatus:h,breakdownKeys:j,currencyCode:c.currencyCode,group:k,locationData:i,locationDataLoadState:a,ready:!0}:{breakdownDataLoadStatus:h,locationDataLoadState:a,ready:!1}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("AdsAccountAudienceOverviewLocationBreakdownWillMountDataAction").dispatch({},{line:"253",module:"AdsInsightsAudienceOverviewLocationMapContainer.react.js"})};d.componentDidMount=function(){this.state.ready&&b("AdsAccountAudienceOverviewLocationBreakdownLoadSuccessDataAction").dispatch({object_count:this.state.breakdownKeys.length},{line:"259",module:"AdsInsightsAudienceOverviewLocationMapContainer.react.js"}),(this.state.breakdownDataLoadStatus===b("AdsLoadState_LEGACY").ERROR||this.state.locationDataLoadState===b("AdsLoadState_LEGACY").ERROR)&&b("AdsAccountAudienceOverviewLocationBreakdownLoadFailDataAction").dispatch({},{line:"269",module:"AdsInsightsAudienceOverviewLocationMapContainer.react.js"})};d.componentDidUpdate=function(a,c){this.state.ready&&!c.ready&&b("AdsAccountAudienceOverviewLocationBreakdownLoadSuccessDataAction").dispatch({object_count:this.state.breakdownKeys.length},{line:"278",module:"AdsInsightsAudienceOverviewLocationMapContainer.react.js"}),(this.state.breakdownDataLoadStatus===b("AdsLoadState_LEGACY").ERROR&&c.breakdownDataLoadStatus===b("AdsLoadState_LEGACY").LOADING||this.state.locationDataLoadState===b("AdsLoadState_LEGACY").ERROR&&c.locationDataLoadState===b("AdsLoadState_LEGACY").LOADING)&&b("AdsAccountAudienceOverviewLocationBreakdownLoadFailDataAction").dispatch({},{line:"290",module:"AdsInsightsAudienceOverviewLocationMapContainer.react.js"})};d.render=function(){__p&&__p();var a=this.props,c=a.height,d=a.width,e=a.breakdown;a=a.metric;var f,g;if(!this.state.ready)f=b("React").createElement(b("AdsInsightsAudienceOverviewLocationMap.react"),{breakdown:e,height:c,metric:a,width:d});else{var h=this.state,i=h.breakdownKeys,j=h.currencyCode,k=h.group;h=h.locationData;f=b("React").createElement(b("AdsInsightsAudienceOverviewLocationMap.react"),{breakdown:e,breakdownKeys:i,currencyCode:j,group:k,height:c,locationData:h,metric:a,width:d,onViewTooltip:this.$1});e=b("AdsInsightsObjectStatsUtil").getMinAndMaxBreakdownValueByMetric(k,i,a);h=e.max;k=e.min;g=b("React").createElement("div",{className:"_3ea_"},b("React").createElement(b("AdsInsightsMetricsColorIndicator.react"),{currencyCode:j,max:h,metric:a,min:k}))}var l;i=this.state;e=i.breakdownDataLoadStatus;j=i.locationDataLoadState;h=j===b("AdsLoadState_LEGACY").ERROR||e===b("AdsLoadState_LEGACY").ERROR;if(h)l=b("React").createElement("div",{style:{height:c,width:d}},b("React").createElement(b("AdsInsightsEmptySection.react"),{reason:b("AdsInsightsEmptySectionReason").ERROR}));else if(!this.state.ready)l=b("React").createElement(b("AdsInsightsSectionShim.react"),{height:c,width:d});else{a=this.state.breakdownKeys;a.length||(l=b("React").createElement("div",{style:{height:c,width:d}},b("React").createElement(b("AdsInsightsEmptySectionContainer.react"),null)))}return b("React").createElement("div",{className:"_4u1_"},f,g,b("React").createElement("div",{className:"_4u20"},l))};d.$1=function(a){b("AdsAccountAudienceOverviewLocationBreakdownViewTooltipDataAction").dispatch({logData:{insights_tooltip_view_time:a}},{line:"387",module:"AdsInsightsAudienceOverviewLocationMapContainer.react.js"})};return c}(b("React").PureComponent);a.defaultProps={breakdown:b("AdsInsightsBreakdown").COUNTRY,height:0,metric:b("AdsInsightsField").REACH,width:0};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsInsightsAudienceOverviewLocationBreakdown.react",["cssVar","cx","fbt","AdsInsightsAccountOverviewModule.react","AdsInsightsAudienceOverviewLocationBreakdownSelector.react","AdsInsightsAudienceOverviewLocationMapContainer.react","AdsInsightsMetricsSearchableSelectorContainer.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=1,k=200,l=parseInt("44px",10),m=i._("Lieu");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.height,d=a.width,e=a.breakdown,f=a.metric,g=a.onChangeBreakdown,h=a.onChangeMetric;a=a.onToggleSelector;return b("React").createElement(b("AdsInsightsAccountOverviewModule.react"),{title:m},b("React").createElement("div",{className:"_2jfe"},b("React").createElement("div",{className:"_2jff _2ph_"},b("React").createElement(b("AdsInsightsAudienceOverviewLocationBreakdownSelector.react"),{value:e,onChange:g})),b("React").createElement("div",{className:"_2s6w"},b("React").createElement(b("AdsInsightsAudienceOverviewLocationMapContainer.react"),{breakdown:e,height:c-l-j,metric:f,width:d-k}),b("React").createElement("div",{className:"_2s6y"},b("React").createElement(b("AdsInsightsMetricsSearchableSelectorContainer.react"),{layerBehaviors:{ContextualLayerAutoFlip:null},metric:f,onChange:h,onToggle:a})))))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsInsightsAudienceOverviewLocationBreakdownContainer.react",["AdsAccountAudienceOverviewLocationBreakdownChangeBreakdownDataAction","AdsAccountAudienceOverviewLocationBreakdownChangeMetricDataAction","AdsAccountAudienceOverviewLocationBreakdownMountedDataAction","AdsAccountAudienceOverviewLocationBreakdownToggleSelectorDataAction","AdsAccountDataLoader","AdsAccountStore","AdsFluxContainer","AdsInsightsAudienceOverviewLocationBreakdown.react","AdsInsightsAudienceOverviewLocationBreakdownProvider","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInsightsAudienceOverviewLocationBreakdownProvider").toFluxStore();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("AdsAccountAudienceOverviewLocationBreakdownChangeBreakdownDataAction").dispatch({breakdown:a,logData:{new_value:a,old_value:d.state.breakdown}},{line:"57",module:"AdsInsightsAudienceOverviewLocationBreakdownContainer.react.js"})},d.$2=function(a){b("AdsAccountAudienceOverviewLocationBreakdownChangeMetricDataAction").dispatch({logData:{new_value:a,old_value:d.state.metric},metric:a},{line:"66",module:"AdsInsightsAudienceOverviewLocationBreakdownContainer.react.js"}),b("AdsAccountDataLoader").postUserSettings(b("AdsAccountStore").getSelectedAccountID(),{default_account_overview_location_metrics:[a]})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){b("AdsAccountAudienceOverviewLocationBreakdownMountedDataAction").dispatch({},{line:"40",module:"AdsInsightsAudienceOverviewLocationBreakdownContainer.react.js"})};c.getStores=function(){return[g]};c.calculateState=function(){return{breakdown:g.getState().breakdown,metric:g.getState().metric}};d.render=function(){return b("React").createElement(b("AdsInsightsAudienceOverviewLocationBreakdown.react"),babelHelpers["extends"]({},this.props,{breakdown:this.state.breakdown,metric:this.state.metric,onChangeBreakdown:this.$1,onChangeMetric:this.$2,onToggleSelector:this.$3}))};d.$3=function(a){b("AdsAccountAudienceOverviewLocationBreakdownToggleSelectorDataAction").dispatch({logData:{new_value:a}},{line:"94",module:"AdsInsightsAudienceOverviewLocationBreakdownContainer.react.js"})};return c}(b("React").PureComponent);e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);