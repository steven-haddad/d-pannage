if (self.CavalryLogger) { CavalryLogger.start_js(["ChChA"]); }

__d("AdsDraftDraftFragmentHasErrorsListLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsDraft.DRAFT_FRAGMENT.HAS_ERRORS.LIST.LOAD_ERROR"}}),null);
__d("AdsDraftDraftFragmentHasErrorsListLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsDraft.DRAFT_FRAGMENT.HAS_ERRORS.LIST.LOADED"}}),null);
__d("AdsCampaignGroupDeletedValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdCampaignGroupFields","AdsAPICampaignGroupPaths","AdsError","AdsRunStatus","expandPaths","getByPath","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[b("AdsAPIAdCampaignGroupFields").STATUS,b("AdsAPIAdCampaignGroupFields").NAME];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getName=function(){return e.id};d.getDependencies=function(){return{campaignGroup:b("expandPaths")([b("AdsAPICampaignGroupPaths").STATUS]),changedFields:null,isCampaignGroupNew:null,originalCampaignGroup:b("expandPaths")([b("AdsAPICampaignGroupPaths").STATUS])}};d.shouldValidate=function(a){var c=a.campaignGroup,d=a.isCampaignGroupNew;a=a.originalCampaignGroup;a=b("getByPath")(a,b("AdsAPICampaignGroupPaths").STATUS);c=b("getByPath")(c,b("AdsAPICampaignGroupPaths").STATUS);return d!==!0&&(c===b("AdsRunStatus").ARCHIVED||a===b("AdsRunStatus").ARCHIVED)};d.validate=function(a){var c=a.campaignGroup;a=a.changedFields;var d=[];if(a){a=b("immutable").Set(a).subtract(i);c=b("getByPath")(c,b("AdsAPICampaignGroupPaths").STATUS);(a.size>0||c!==b("AdsRunStatus").ARCHIVED&&c!==b("AdsRunStatus").DELETED)&&d.push(this.$AdsCampaignGroupDeletedValidator1())}return d};d.$AdsCampaignGroupDeletedValidator1=function(){return new(b("AdsError"))(1487566,h._(function(a,b){return a._("Cette campagne a \u00e9t\u00e9 supprim\u00e9e, vous ne pouvez donc modifier que son nom. Si vous voulez modifier d\u2019autres champs, vous pouvez dupliquer cette campagne\u00a0: une nouvelle campagne sera cr\u00e9\u00e9e avec les m\u00eames param\u00e8tres que vous pourrez ensuite modifier.")},{}),{level:b("AdsError").Level.WARN,path:b("AdsAPICampaignGroupPaths").STATUS})};return c}(b("AdsAbstractValidator"));e.exports=new a()}),null);
__d("AdsCampaignGroupLabelValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPICampaignGroupPaths","AdsError","AdsValidationConfig","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=[],j=[new(b("AdsError"))(1815046,h._(function(a,b){return a._("Vous essayez d\u2019utiliser trop d\u2019\u00e9tiquettes. Veuillez en supprimer certaines.")},{}),{level:b("AdsError").Level.WARN,path:b("AdsAPICampaignGroupPaths").AD_LABELS})];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getName=function(){return e.id};d.getDependencies=function(){return{campaignGroup:b("expandPaths")([b("AdsAPICampaignGroupPaths").AD_LABELS])}};d.shouldValidate=function(a){return!0};d.validate=function(a){a=a.campaignGroup;a=b("getByPath")(a,b("AdsAPICampaignGroupPaths").AD_LABELS);return a&&a.length>b("AdsValidationConfig").constants.MAX_LABELS_PER_OBJECT?j:i};return c}(b("AdsAbstractValidator"));e.exports=new a()}),null);
__d("AdsCampaignGroupValidationStore",["AdsAccountStore","AdsActionTypes","AdsApplicationUtils","AdsBaseValidationStore","AdsCampaignGroupCombinedStore","AdsCampaignGroupDeletedValidator","AdsCampaignGroupDraftFragmentStore","AdsCampaignGroupLabelValidator","AdsCampaignGroupNameValidator","AdsCampaignGroupOriginalStore","AdsCampaignGroupSplitTestScheduleValidator","AdsCampaignGroupSplitTestVariableValidator","AdsCampaignGroupUnsupportedReasonStore","AdsDataAtom","AdsLoadState_LEGACY","AdsObjectTypes","AdsUVProfiler.re","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("AdsAccountStore"),b("AdsCampaignGroupCombinedStore"),b("AdsCampaignGroupDraftFragmentStore"),b("AdsCampaignGroupOriginalStore"),b("AdsCampaignGroupUnsupportedReasonStore")],h=g.map(function(a){return a.getDispatchToken()});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__onDispatch=function(c){a.prototype.__onDispatch.call(this,c),b("AdsDataAtom").waitFor(h),g.some(function(a){return a.hasChanged()})&&this.__emitChange()};d.__getValidators=function(){return[b("AdsCampaignGroupDeletedValidator"),b("AdsCampaignGroupLabelValidator"),b("AdsCampaignGroupNameValidator"),b("AdsCampaignGroupSplitTestScheduleValidator"),b("AdsCampaignGroupSplitTestVariableValidator")]};d.__shouldValidate=function(a){return b("AdsCampaignGroupDraftFragmentStore").hasDraft(a)};d.__getValidatorProfiling=function(){return b("AdsUVProfiler.re").getJSProfile({storeName:this.constructor.__moduleID})};d.__shouldValidateData=function(a,c,d){var e=b("AdsCampaignGroupUnsupportedReasonStore").get(a);e=e?!1:c.shouldValidate(d);this.__logShouldValidateData(a,c,d,e);return e};d.__shouldUseCombinedValidation=function(){return b("AdsApplicationUtils").isPowerEditor()};d.__getDraftFragmentStore=function(){return b("AdsCampaignGroupDraftFragmentStore")};d.__getData=function(a){__p&&__p();var c=b("AdsCampaignGroupCombinedStore").getCached(a).getValue();if(!c)return null;var d=b("AdsAccountStore").getSelectedAccount_LEGACY();if(d.loadState!==b("AdsLoadState_LEGACY").LOADED)return null;var e=b("AdsCampaignGroupOriginalStore").get(a).getValue();if(e==null)return null;var f=b("AdsCampaignGroupDraftFragmentStore").isNew(a);a=b("AdsCampaignGroupDraftFragmentStore").getChangedFields(a);return{account:d,campaignGroup:c,changedFields:a,isCampaignGroupNew:f,originalCampaignGroup:e}};d.__areEqual=function(a,c){return b("shallowEqual")(a,c)};d.__getAdsObjectType=function(){return b("AdsObjectTypes").CAMPAIGN_GROUP};d.__canUseReasonValidators=function(){return!0};d.__prepareScenarioLoggerData=function(a){var b;return b={},b.current_action_campaign_groups_count=a,b};return c}(b("AdsBaseValidationStore"));a.__moduleID=e.id;c=new a(b("AdsActionTypes").CAMPAIGN_GROUP.ASYNC_VALIDATION.LOADED);e.exports=c}),null);
__d("AdsObjectLevelToValidationStore",["AdObjectLevels","AdsAdgroupValidationStore","AdsCampaignGroupValidationStore","AdsCampaignValidationStore","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map([[b("AdObjectLevels").CAMPAIGN_GROUP,b("AdsCampaignGroupValidationStore")],[b("AdObjectLevels").CAMPAIGN,b("AdsCampaignValidationStore")],[b("AdObjectLevels").ADGROUP,b("AdsAdgroupValidationStore")]]);e.exports=a}),null);
__d("AdsPEDraftFragmentValidationStore",["AdDraftFragmentValidationStatus","AdObjectLevels","AdsAdgroupDraftFragmentStore","AdsAdgroupValidationStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupDraftFragmentStore","AdsCampaignGroupValidationStore","AdsCampaignValidationStore","AdsDataAtom","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchLoadedDataActionFlux","AdsDraftDraftFragmentBatchUpdatedDataActionFlux","AdsDraftDraftFragmentHasErrorsListLoadedDataActionFlux","AdsDraftDraftFragmentHasErrorsListLoadErrorDataActionFlux","AdsDraftDraftFragmentListPartialLoadDataActionFlux","AdsDraftDraftFragmentValidatedDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftUtils","AdsError","AdsErrorUtils","AdsObjectLevelToFragmentStore","AdsObjectLevelToValidationStore","AdsPEDraftFragmentFilteredListDataManager","FluxStore","PEAppLogger","PowerEditorConfig","PowerEditorEventCategory","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=[b("AdsCampaignGroupDraftFragmentStore"),b("AdsCampaignDraftFragmentStore"),b("AdsAdgroupDraftFragmentStore"),b("AdsCampaignGroupValidationStore"),b("AdsCampaignValidationStore"),b("AdsAdgroupValidationStore")];var g=a.map(function(a){return a.getDispatchToken()}),h=[];c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;c.$AdsPEDraftFragmentValidationStore1=!1;return c}var d=c.prototype;d.__onDispatch=function(a){__p&&__p();a=a.action;if(!b("AdsDraftUtils").isApplicationIDPowerEditor(a.adsApplicationID))return;b("AdsDataAtom").waitFor(g);switch(a.type){case b("AdsDraftDraftFragmentBatchLoadedDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchUpdatedDataActionFlux").actionType:case b("AdsDraftDraftFragmentValidatedDataActionFlux").actionType:case b("AdsDraftDraftFragmentListPartialLoadDataActionFlux").actionType:this.$AdsPEDraftFragmentValidationStore1=!1;this.handleServerValidationStatus(a.fragments);break;case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:this.$AdsPEDraftFragmentValidationStore1=!0;if(b("gkx")("829575"))break;a=a.draftID;b("AdsPEDraftFragmentFilteredListDataManager").loadHasErrorsFor(a);break;case b("AdsDraftDraftFragmentHasErrorsListLoadedDataActionFlux").actionType:case b("AdsDraftDraftFragmentHasErrorsListLoadErrorDataActionFlux").actionType:this.$AdsPEDraftFragmentValidationStore1=!1;break}};d.isFetchingErrors=function(){return this.$AdsPEDraftFragmentValidationStore1};d.handleServerValidationStatus=function(a){__p&&__p();var c=this;a.forEach(function(a){__p&&__p();var d=a.active_errors,e=a.ad_object_id,f=a.ad_object_type,g=a.publish_error,h=a.validation_status;g=g?[g]:d;d=c.getIsDirty(f,e);h=h!==b("AdDraftFragmentValidationStatus").NEEDS_VALIDATION;if(d||!h)return;d=c.getShouldLogValidation(f);if(!d)return;h=b("AdsErrorUtils").getAllErrorsAtLevel(c.getClientValidationErrors(f,e),b("AdsError").Level.WARN);(h.length||g&&g.length)&&Math.random()>=1-b("PowerEditorConfig").config.PEZ.LOG_SAMPLE_RATE&&c.logClientServerValidationErrors(a,h)})};d.getShouldLogValidation=function(a){switch(a){case b("AdObjectLevels").CAMPAIGN_GROUP:case b("AdObjectLevels").CAMPAIGN:case b("AdObjectLevels").ADGROUP:return!0;default:return!1}};d.getClientValidationErrors=function(a,c){a=b("AdsObjectLevelToValidationStore").get(a);return a?a.getErrors(c):h};d.getIsDirty=function(a,c){a=b("AdsObjectLevelToFragmentStore").get(a);return!!a&&a.isDirty(c)};d.logClientServerValidationErrors=function(a,c){var d=a.account_id,e=a.active_errors,f=a.ad_draft_id,g=a.ad_object_type,h=a.id;a=a.publish_error;a=a?[a]:e;b("PEAppLogger").logForAnalytics(b("PowerEditorEventCategory").PEZ,"fragment_client_server_validation",(e={},e.ad_account_id=d,e.draft_id=f,e.fragment_id=h,e.object_level=g,e.validation_error_keys=[].concat(c.map(function(a){return"c-"+a.key}),(a||[]).map(function(a){return"s-"+a.error_code})),e))};return c}(b("FluxStore"));c.__moduleID=e.id;e.exports=new c()}),null);