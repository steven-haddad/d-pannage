if (self.CavalryLogger) { CavalryLogger.start_js(["KCmJ0"]); }

__d("AdsPromotableConnectionTypeBatchLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_Connection_TYPE.BATCH_LOAD");e.exports=a}),null);
__d("AdsPromotableConnectionTypeBatchLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PROMOTABLE_Connection_TYPE.BATCH_LOAD"}}),null);
__d("AdsPromotableEventListBatchLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PROMOTABLE_EVENT.LIST.BATCH_LOAD_ERROR"}}),null);
__d("AdsPromotableEventListBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_EVENT.LIST.BATCH_LOADED");e.exports=a}),null);
__d("AdsPromotableEventListPartialLoadDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PROMOTABLE_EVENT.LIST.PARTIAL_LOAD");e.exports=a}),null);
__d("AdsPromotableEventListPartialLoadDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PROMOTABLE_EVENT.LIST.PARTIAL_LOAD"}}),null);
__d("AdsTargetingConnectionsDeprecationUtils.react",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getCountryFromLocation:function(a){__p&&__p();if(a.countries!=null&&a.countries.length>0)return a.countries[0];if(a.regions!=null&&a.regions.length>0)return a.regions[0].country;if(a.cities!=null&&a.cities.length>0)return a.cities[0].country;if(a.electoral_districts!=null&&a.electoral_districts.length>0)return a.electoral_districts[0].country;if(a.political_districts!=null&&a.political_districts.length>0)return a.political_districts[0].country;if(a.zips!=null&&a.zips.length>0)return a.zips[0].country;if(a.zips!=null&&a.zips.length>0)return a.zips[0].country;if(a.custom_locations!=null&&a.custom_locations.length>0)return a.custom_locations[0].country;if(a.places!=null&&a.places.length>0)return a.places[0].country;if(a.large_geo_areas!=null&&a.large_geo_areas.length>0)return a.large_geo_areas[0].country;if(a.medium_geo_areas!=null&&a.medium_geo_areas.length>0)return a.medium_geo_areas[0].country;if(a.small_geo_areas!=null&&a.small_geo_areas.length>0)return a.small_geo_areas[0].country;if(a.metro_areas!=null&&a.metro_areas.length>0)return a.metro_areas[0].country;if(a.subcities!=null&&a.subcities.length>0)return a.subcities[0].country;if(a.neighborhoods!=null&&a.neighborhoods.length>0)return a.neighborhoods[0].country;if(a.subneighborhoods!=null&&a.subneighborhoods.length>0)return a.subneighborhoods[0].country;if(a.location_cluster_ids!=null&&a.location_cluster_ids.length>0)return a.location_cluster_ids[0].country;return a.country_groups!=null&&a.country_groups.length>0?a.country_groups[0].country_codes[0]:null}};e.exports=a}),null);
__d("XPromotableConnectionTypeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/targeting/promotable_connection_type/",{connection_ids:{type:"FBIDVector",required:!0}})}),null);
__d("AdsPromotableConnectionTypeDataManager",["AdsBaseDataManager","AdsPromotableConnectionTypeBatchLoadDataAction","AsyncRequest","XPromotableConnectionTypeAsyncController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadAll=function(a){var c=this;a=b("XPromotableConnectionTypeAsyncController").getURIBuilder().setFBIDVector("connection_ids",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){Object.entries(a.payload).forEach(function(a){var b=a[0];a=a[1];return c.__handleSuccess(["load"],b,null,{id:b,type:a})})}).send()};d.__onBatchLoaded=function(a){b("AdsPromotableConnectionTypeBatchLoadDataAction").dispatch({responses:a},{line:"37",module:"AdsPromotableConnectionTypeDataManager.js"})};return c}(b("AdsBaseDataManager"));e.exports=new a()}),null);
__d("AdsPromotableConnectionTypeStore",["AdsBaseDataStore","AdsDataAtom","AdsLoadState_LEGACY","AdsPromotableConnectionTypeBatchLoadDataActionFlux","AdsPromotableConnectionTypeDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsPromotableConnectionTypeDataManager")};d.__getActionTypes=function(){return g?[b("AdsPromotableConnectionTypeBatchLoadDataActionFlux").actionType]:null};d.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsPromotableConnectionTypeBatchLoadDataActionFlux").actionType:this.__handleData(a.responses,b("AdsLoadState_LEGACY").LOADED);break}};return c}(b("AdsBaseDataStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsTargetingConnectionsLoggingEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CHANGE_TARGETING_TYPE:"connections_change_targeting_type",CLEAR_TARGETING:"connections_clear_targeting",CLOSED_VIDEO_NUX:"connections_video_nux_closed",CLOSED_CONNECTIONS_UI_NUX:"connections_ui_nux_closed",PE_TARGETING_DIALOG_CANCELLED:"pe_targeting_dialog_cancelled",PE_TARGETING_DIALOG_CONFIRMED:"pe_targeting_dialog_confirmed",PE_TARGETING_DIALOG_OPENED:"pe_targeting_dialog_opened",SELECT_MENU:"connections_select_menu",UPDATE_ENGAGEMENT_SPECS:"connections_update_engagement_specs",UPDATE_EXCLUDED_CONNECTIONS:"connections_update_excluded_connections",UPDATE_EXCLUDED_ENGAGEMENT_SPECS:"connections_update_excluded_engagement_specs",UPDATE_FRIENDS_OF_CONNECTIONS:"connections_update_friends_of_connections",UPDATE_INCLUDED_CONNECTIONS:"connections_update_included_connections",ALL_CONNECTIONS:"all_connections",VIDEO_INFOS_LOAD_TIME:"video_infos_load_time",VIDEOS_LOAD_TIME:"videos_load_time",PAGES_LOAD_TIME:"pages_load_time",VIDEO_LOADING_INFO:"video_loading_info",VIDEOS_FETCHING_ERROR:"video_fetching_error"});e.exports=a}),null);
__d("AdsTargetingConnectionsMenuOptions",["AdsTargetingConnectionsLabels"],(function(a,b,c,d,e,f){"use strict";a="connectedToApp";c="connectedToEvent";d="connectedToPage";f="excludeConnectedToApp";var g="excludeConnectedToEvent",h="excludeConnectedToPage",i="friendsConnectedToApp",j="friendsConnectedToEvent",k="friendsConnectedToPage",l="viewedThreeSeconds",m="viewedNintyFivePercent",n="excludeViewedThreeSeconds",o="excludeViewedNintyFivePercent",p="impressionedAd",q="dwelledOnAd",r="clickedOnAd",s="excludeImpressionedAd",t="excludeDwelledOnAd",u="excludeClickedOnAd",v="menu_separator",w="pageEventViewers",x="pageEventAttendees",y=Object.freeze({ADVANCED:"advanced",ALL:"all",APPS:"apps",EVENTS:"events",EVENTS_ENGAGEMENT:"events_engagement",NONE:"none",PAGES:"pages",VIDEOS:"videos",ADS:"ads"}),z={name:b("AdsTargetingConnectionsLabels").advancedCombinations,toggleName:"advancedCombinations"},A={name:b("AdsTargetingConnectionsLabels").apps,toggleName:"apps",children:[{name:b("AdsTargetingConnectionsLabels").connectedToApp,toggleName:a},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToApp,toggleName:i},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToApp,toggleName:f}]},B={name:b("AdsTargetingConnectionsLabels").apps,toggleName:"apps",children:[{name:b("AdsTargetingConnectionsLabels").connectedToApp,toggleName:a},{name:b("AdsTargetingConnectionsLabels").lookalikeConnectedToApp,toggleName:i},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToApp,toggleName:f}]},C={name:b("AdsTargetingConnectionsLabels").events,toggleName:"events",children:[{name:b("AdsTargetingConnectionsLabels").connectedToEvent,toggleName:c},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToEvent,toggleName:j},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToEvent,toggleName:g}]},D={name:b("AdsTargetingConnectionsLabels").events,toggleName:"events_with_engagement",children:[{name:b("AdsTargetingConnectionsLabels").connectedToEvent,toggleName:c},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToEvent,toggleName:j},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToEvent,toggleName:g},{name:v},{name:b("AdsTargetingConnectionsLabels").pageEventViewers,toggleName:w},{name:b("AdsTargetingConnectionsLabels").pageEventAttendees,toggleName:x}]},E={name:b("AdsTargetingConnectionsLabels").pages,toggleName:"events_engagement",children:[{name:b("AdsTargetingConnectionsLabels").pageEventViewers,toggleName:w},{name:b("AdsTargetingConnectionsLabels").pageEventAttendees,toggleName:x}]},F={name:b("AdsTargetingConnectionsLabels").pages,toggleName:"pages",children:[{name:b("AdsTargetingConnectionsLabels").connectedToPage,toggleName:d},{name:b("AdsTargetingConnectionsLabels").friendsConnectedToPage,toggleName:k},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToPage,toggleName:h}]},G={name:b("AdsTargetingConnectionsLabels").pages,toggleName:"pages",children:[{name:b("AdsTargetingConnectionsLabels").connectedToPageEngagement,toggleName:d},{name:b("AdsTargetingConnectionsLabels").lookalikeConnectedToPageEngagement,toggleName:k},{name:b("AdsTargetingConnectionsLabels").excludeConnectedToPageEngagement,toggleName:h}]},H={name:b("AdsTargetingConnectionsLabels").videos,toggleName:"videos",children:[{name:b("AdsTargetingConnectionsLabels").viewedThreeSeconds,toggleName:l},{name:b("AdsTargetingConnectionsLabels").viewedNintyFivePercent,toggleName:m},{name:v,toggleName:v},{name:b("AdsTargetingConnectionsLabels").excludeViewedThreeSeconds,toggleName:n},{name:b("AdsTargetingConnectionsLabels").excludeViewedNintyFivePercent,toggleName:o}]};b={name:b("AdsTargetingConnectionsLabels").ads,toggleName:"ads",children:[{name:b("AdsTargetingConnectionsLabels").impressionedAd,toggleName:p},{name:b("AdsTargetingConnectionsLabels").dwelledOnAd,toggleName:q},{name:b("AdsTargetingConnectionsLabels").clickedOnAd,toggleName:r},{name:v,toggleName:v},{name:b("AdsTargetingConnectionsLabels").excludeImpressionedAd,toggleName:s},{name:b("AdsTargetingConnectionsLabels").excludeDwelledOnAd,toggleName:t},{name:b("AdsTargetingConnectionsLabels").excludeClickedOnAd,toggleName:u}]};var I=[F,A,E,C,H,b,{name:v,toggleName:v},z],J=[G,B,E,C,H,b,{name:v,toggleName:v},z],K=Object.freeze({VIDEO_VIEW_ACTION:"video_view",VIDEO_COMPLETED_ACTION:"video_completed",FBEVENT_VIEW_ACTION:"fbevent_view",FBEVENT_RESPONSE_ACTION:"fbevent_response",AD_IMPRESSION_ACTION:"ad_impression",AD_DWELL_ACTION:"ad_dwell_time",AD_CLICK_ACTION:"ad_click"});e.exports={connectionStatuses:y,menuOptions:{advancedOptions:z,appOptions:A,eventOptions:C,eventWithEngagementOptions:D,eventEngagementOptions:E,pageOptions:F,videoOptions:H,adsOptions:b,allOptions:I},deprecationMenuOptions:{advancedOptions:z,appOptions:B,eventOptions:C,eventWithEngagementOptions:D,eventEngagementOptions:E,pageOptions:G,videoOptions:H,adsOptions:b,allOptions:J},optionName:{connectedToApp:a,connectedToEvent:c,connectedToPage:d,excludeConnectedToApp:f,excludeConnectedToEvent:g,excludeConnectedToPage:h,friendsConnectedToApp:i,friendsConnectedToEvent:j,friendsConnectedToPage:k,menuSeparator:v,viewedThreeSeconds:l,viewedNintyFivePercent:m,excludeViewedThreeSeconds:n,excludeViewedNintyFivePercent:o,impressionedAd:p,dwelledOnAd:q,clickedOnAd:r,excludeImpressionedAd:s,excludeDwelledOnAd:t,excludeClickedOnAd:u,pageEventViewers:w,pageEventAttendees:x},deprecationOptionName:{connectedToApp:a,connectedToEvent:c,connectedToPage:d,excludeConnectedToApp:f,excludeConnectedToEvent:g,excludeConnectedToPage:h,friendsConnectedToApp:i,friendsConnectedToEvent:j,friendsConnectedToPage:k,menuSeparator:v,viewedThreeSeconds:l,viewedNintyFivePercent:m,excludeViewedThreeSeconds:n,excludeViewedNintyFivePercent:o,impressionedAd:p,dwelledOnAd:q,clickedOnAd:r,excludeImpressionedAd:s,excludeDwelledOnAd:t,excludeClickedOnAd:u,pageEventViewers:w,pageEventAttendees:x},connectionsType:{excludedConnection:"excludedConnections",includedConnection:"includedConnections",friendsOfConnection:"friendsOfConnections"},engagementActions:K}}),null);
__d("AdsConnectionsUIUtils",["AdsAPIObjectives","AdsAppUtils","AdsDestinationTypes","AdsInterfacesLogger","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","AdsPromotableAppStore","AdsPromotableConnectionTypeStore","AdsPromotableEventStore","AdsPromotablePageStore","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","AdsTargetingConnectionsMenuOptions","compactArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsTargetingConnectionsMenuOptions").connectionStatuses,h=b("AdsTargetingConnectionsMenuOptions").connectionsType,i=b("AdsTargetingConnectionsMenuOptions").deprecationMenuOptions,j=b("AdsTargetingConnectionsMenuOptions").menuOptions,k=b("AdsTargetingConnectionsMenuOptions").optionName,l="exclude",m="friends";function a(a,c){__p&&__p();c=b("AdsPromotableConnectionTypeStore").getAll(c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(c))return!1;c=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c);c=x(c);var d=c.pageIDs,e=c.appIDs;c=c.eventIDs;d=b("AdsPromotablePageStore").getAllFor(a,d);c=b("AdsPromotableEventStore").getAllFor(a,c);a=b("AdsPromotableAppStore").getAllFor(a,e);return!b("AdsLoadStateUtils_LEGACY").anyLoading(d,c,a)}function n(a,b){if(b===null)return a;if(b===g.ADVANCED)return g.ADVANCED;return a===g.ALL?b:a}function o(a){return a==="includedConnections"||a==="excludedConnections"||a==="friendsOfConnections"||a==="engagementSpecs"||a==="excludedEngagementSpecs"}function c(a,c,d){__p&&__p();var e=[];for(var f in c){var i=c[f];i.length>0&&o(f)&&e.push({type:f,destinations:i})}if(e.length>1)return g.ADVANCED;if(e.length===0)return n(g.ALL,d);i=e[0];switch(i.type){case h.includedConnection:case h.friendsOfConnection:case h.excludedConnection:if(d&&d!==g.ALL)return d;c=p(a,i.destinations);return c===b("AdsLoadState_LEGACY").LOADING?c:n(c,d)}return d===g.VIDEOS||d===g.ADS||d===g.EVENTS_ENGAGEMENT?d:g.ADVANCED}function p(a,c){__p&&__p();var d=c.map(function(a){return a.id});d=b("AdsPromotableConnectionTypeStore").getAll(d);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d))return b("AdsLoadState_LEGACY").LOADING;d=b("AdsLoadStateUtils_LEGACY").getLoadedValues(d);d=x(d);var e=d.pageIDs,f=d.appIDs;d=d.eventIDs;f=b("AdsPromotableAppStore").getAllFor(a,f);e=b("AdsPromotablePageStore").getAllFor(a,e);a=b("AdsPromotableEventStore").getAllFor(a,d);if(b("AdsLoadStateUtils_LEGACY").anyLoading(f,a,e))return b("AdsLoadState_LEGACY").LOADING;d=b("AdsLoadStateUtils_LEGACY").getLoadedValues(f);f=b("AdsLoadStateUtils_LEGACY").getLoadedValues(e);e=b("AdsLoadStateUtils_LEGACY").getLoadedValues(a);if(d.length!==0&&d.length===c.length)return g.APPS;if(f.length!==0&&f.length===c.length)return g.PAGES;return e.length!==0&&e.length===c.length?g.EVENTS:g.ADVANCED}function d(a,b,c){__p&&__p();var d=b.excludedConnections||[],e=b.includedConnections||[];b=b.friendsOfConnections||[];if(d.length!==0){switch(a){case g.APPS:return k.excludeConnectedToApp;case g.PAGES:return k.excludeConnectedToPage;case g.EVENTS:return k.excludeConnectedToEvent}return null}if(e.length!==0){switch(a){case g.APPS:return k.connectedToApp;case g.PAGES:return k.connectedToPage;case g.EVENTS:return k.connectedToEvent}return null}if(b.length!==0){switch(a){case g.APPS:return k.friendsConnectedToApp;case g.PAGES:return k.friendsConnectedToPage;case g.EVENTS:return k.friendsConnectedToEvent}return null}return c}function f(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_CANCELLED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function q(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_CONFIRMED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function r(){b("AdsInterfacesLogger").log({eventName:b("AdsTargetingConnectionsLoggingEvents").PE_TARGETING_DIALOG_OPENED},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)}function s(a,c,d,e){a=c===b("AdsAPIObjectives").EVENT_RESPONSES;b("AdsAppUtils").isMobileAppObjective(c,e);d=c===b("AdsAPIObjectives").EVENT_RESPONSES;return{canSeeEventEngagementOptions:a,canQueryEvents:d}}function t(a,b){return!!a&&!!b&&b instanceof String&&b.indexOf(l)>-1}function u(a,b){return!!a&&!!b&&b.indexOf(m)>-1}function v(a,b){return t(a,b)}function w(a,c){var d=a&&a.shouldHideEventFriendsOfConnections;c=c?i:j;var e=d?z(c.eventOptions,!1,!0):c.eventOptions;d=d?z(c.eventWithEngagementOptions,!1,!0):c.eventWithEngagementOptions;d=b("compactArray")([c.pageOptions,c.appOptions,a&&a.canSeeEventEngagementOptions?d:e,a&&a.canSeeVideoOptions?c.videoOptions:void 0,a&&a.canSeeAdsOptions?c.adsOptions:void 0,{name:k.menuSeparator},c.advancedOptions]);a&&(d=A(d,!!a.shouldHideExcludedConnections,!!a.shouldHideFriendsOfConnections));return d}function x(a){var b=a.filter(function(a){return a.type==="page"}).map(function(a){return a.id}),c=a.filter(function(a){return a.type==="app"}).map(function(a){return a.id});a=a.filter(function(a){return a.type==="event"}).map(function(a){return a.id});return{pageIDs:b,appIDs:c,eventIDs:a}}function y(a,c){__p&&__p();c=b("AdsPromotableConnectionTypeStore").getAll(c);if(b("AdsLoadStateUtils_LEGACY").anyLoading(c))return[];c=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c);c=x(c);var d=c.pageIDs,e=c.appIDs;c=c.eventIDs;d=b("AdsPromotablePageStore").getAllFor(a,d);c=b("AdsPromotableEventStore").getAllFor(a,c);a=b("AdsPromotableAppStore").getAllFor(a,e);if(b("AdsLoadStateUtils_LEGACY").anyLoading(d,c,a))return[];e=b("AdsLoadStateUtils_LEGACY").getLoadedValues(d);d=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c);c=b("AdsLoadStateUtils_LEGACY").getLoadedValues(a);a=e.map(function(a){return{id:a.id,name:a.name}}).concat(d.map(function(a){return{id:a.id,name:a.name}})).concat(c.map(function(a){return{id:a.id,name:a.name}}));return a}function z(a,b,c){var d={name:a.name,toggleName:a.toggleName,children:[]};a.children&&(d.children=a.children.filter(function(a){var d=t(b,a.toggleName);a=u(c,a.toggleName);return!d&&!a}));return d}function A(a,b,c){return a.map(function(a){return z(a,b,c)})}function B(a,c,d){d=d?i:j;return{label:b("AdsTargetingConnectionsLabels").apps,options:z(d.appOptions,a,c),placeholder:b("AdsTargetingConnectionsLabels").addApp,searchSourceOptionsValidEntryTypes:[b("AdsDestinationTypes").APP],searchSourceOptionTypes:[b("AdsDestinationTypes").APP],secondPlaceholder:b("AdsTargetingConnectionsLabels").addAnotherApp}}function C(a,c,d){return{label:b("AdsTargetingConnectionsLabels").events,options:z(j.eventOptions,a,c),placeholder:b("AdsTargetingConnectionsLabels").addEvent,searchSourceOptionsValidEntryTypes:[b("AdsDestinationTypes").EVENT],searchSourceOptionTypes:[b("AdsDestinationTypes").EVENT],secondPlaceholder:b("AdsTargetingConnectionsLabels").addAnotherEvent}}function D(a,c,d){d=d?i:j;return{label:b("AdsTargetingConnectionsLabels").pages,options:z(d.pageOptions,a,c),placeholder:b("AdsTargetingConnectionsLabels").addPage,searchSourceOptionsValidEntryTypes:[b("AdsDestinationTypes").PAGE,b("AdsDestinationTypes").PLACE,b("AdsDestinationTypes").PAGE_AND_PLACE],searchSourceOptionTypes:[b("AdsDestinationTypes").PAGE],secondPlaceholder:b("AdsTargetingConnectionsLabels").addAnotherPage}}function E(a,c){return{label:b("AdsTargetingConnectionsLabels").videos,options:z(j.videoOptions,a,c)}}function F(a,c){var d=j.adsOptions;return{label:b("AdsTargetingConnectionsLabels").ads,options:z(d,a,c)}}function G(a,c,d,e){__p&&__p();c=!!c;d=!!d;switch(a){case g.ALL:case g.NONE:return{label:b("AdsTargetingConnectionsLabels").addConnection};case g.ADVANCED:return{label:b("AdsTargetingConnectionsLabels").advancedCombinations};case g.APPS:return B(c,d,e);case g.EVENTS:case g.EVENTS_ENGAGEMENT:return C(c,d,e);case g.PAGES:return D(c,d,e);case g.VIDEOS:return E(c,d);case g.ADS:return F(c,d)}return{}}a={areConnectionsLoaded:a,getConfig:G,getConnectionsProperties:s,getConnectionStatus:c,getSelectedOption:d,getMenuOptions:w,loadConnections:y,logDialogCancelled:f,logDialogConfirmed:q,logDialogOpened:r,shouldHideOption:v};e.exports=a}),null);
__d("AdsFIGBasicTokenizer.react",["cx","AdsBasicBrowseTokenizerMixin","AdsFIGBasicTypeahead.react","AdsFIGBasicTypeaheadEntriesView.react","AdsSearchBrowseTokenizerList.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"AdsFIGBasicTokenizer",mixins:[b("AdsBasicBrowseTokenizerMixin")],propTypes:{className:a.string,entries:a.array,shouldDisableAddingEntry:a.bool,shouldShowIDInTitle:a.bool,onEntriesChange:a.func.isRequired,onNewEntryAdded:a.func},render:function(){var a={ViewRenderer:b("AdsFIGBasicTypeaheadEntriesView.react"),maxEntries:50,useLayer:!0,extraRendererProps:{shouldShowIDInTitle:this.props.shouldShowIDInTitle}},c=b("joinClasses")("_5w0x",this.props.className);return b("React").createElement("div",{className:c},b("React").createElement(b("AdsSearchBrowseTokenizerList.react"),{entries:this._getEntries(),isFlat:!0,newEntriesSet:{},shouldDisableAddingEntry:this.props.shouldDisableAddingEntry,onRemoveEntry:this._onRemoveEntryAttempt}),this.props.shouldDisableAddingEntry?null:b("React").createElement(b("AdsFIGBasicTypeahead.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5w0y"),excludedEntries:this._getExcludedEntries(),presenter:a,onAddEntryAttempt:this._onAddEntryAttempt,onRemoveEntryAttempt:this._onRemoveEntryAttempt})))}});e.exports=c}),null);
__d("AdsTargetingConnectionsSectionNUX.react",["AdsInterfacesLogger","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","React","SimpleNUXMessage","XUIAmbientNUX.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="387683724758581",h="771095616319245";a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),i=0;i<e;i++)f[i]=arguments[i];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){var c=b("SimpleNUXMessage").hasUserSeenMessage(d.$2());if(c||!d.$3())return!1;else if(a){b("SimpleNUXMessage").markMessageSeenByUser(d.$2());return!1}else return!0},d.$2=function(){return d.props.canSeeVideo?"434002046758336":"1540728442877433"},d.$3=function(){return b("SimpleNUXMessage").hasUserSeenMessage(h)&&!b("SimpleNUXMessage").hasUserSeenMessage(g)},d.$5=function(){d.$4(),b("SimpleNUXMessage").markMessageSeenByUser(d.$2()),d.setState({shouldShowNux:!1})},d.renderLayers=function(){var a=d.props.canSeeVideo?b("AdsTargetingConnectionsLabels").connectionsSectionNUX:b("AdsTargetingConnectionsLabels").connectionsSectionWithoutVideoNUX;return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return d.refs.ref},position:"right",shown:d.state.shouldShowNux,onCloseButtonClick:d.$5,key:"ambientNUX"},a)},d.state={shouldShowNux:d.$1(d.props.disableNUX)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillReceiveProps=function(a){a!==this.props&&this.setState({shouldShowNux:this.$1(a.disableNUX)})};d.$4=function(){var a=this.props.canSeeVideo===!0?b("AdsTargetingConnectionsLoggingEvents").CLOSED_VIDEO_NUX:b("AdsTargetingConnectionsLoggingEvents").CLOSED_CONNECTIONS_UI_NUX;b("AdsInterfacesLogger").log({eventName:a},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};d.render=function(){return b("React").createElement("span",null,b("React").createElement("span",{ref:"ref"}),this.renderLayers())};return c}(b("React").Component);c.propTypes={account:a.object.isRequired,canSeeVideo:a.bool.isRequired,disableNUX:a.bool.isRequired};c.defaultProps={canSeeVideo:!1,disableNUX:!1};e.exports=c}),null);
__d("AdsEngagementSpecsUIUtils",["AdsTargetingConnectionsMenuOptions","keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsTargetingConnectionsMenuOptions").connectionStatuses,h=b("AdsTargetingConnectionsMenuOptions").engagementActions,i=b("AdsTargetingConnectionsMenuOptions").optionName,j=b("keyMirror")({ENGAGEMENT_SPECS:null,EXCLUDED_ENGAGEMENT_SPECS:null});function a(a,b){return a.map(function(a){if(a&&a["action.type"]&&a["action.type"]===b)return a.page_id})}function c(a,b){__p&&__p();switch(a){case j.ENGAGEMENT_SPECS:switch(b){case h.VIDEO_VIEW_ACTION:return i.viewedThreeSeconds;case h.VIDEO_COMPLETED_ACTION:return i.viewedNintyFivePercent;case h.AD_IMPRESSION_ACTION:return i.impressionedAd;case h.AD_DWELL_ACTION:return i.dwelledOnAd;case h.AD_CLICK_ACTION:return i.clickedOnAd}break;case j.EXCLUDED_ENGAGEMENT_SPECS:switch(b){case h.VIDEO_VIEW_ACTION:return i.excludeViewedThreeSeconds;case h.VIDEO_COMPLETED_ACTION:return i.excludeViewedNintyFivePercent;case h.AD_IMPRESSION_ACTION:return i.excludeImpressionedAd;case h.AD_DWELL_ACTION:return i.excludeDwelledOnAd;case h.AD_CLICK_ACTION:return i.excludeClickedOnAd}break}return null}function d(a,b){__p&&__p();var c=[],d=[];if(!a.length)return{engagementSpecs:c,excludedEngagementSpecs:d};switch(b){case i.pageEventViewers:c=a.map(function(a){return{"action.type":h.FBEVENT_VIEW_ACTION,page_id:a.id}});break;case i.pageEventAttendees:c=a.map(function(a){return{"action.type":h.FBEVENT_RESPONSE_ACTION,page_id:a.id}});break;case i.viewedThreeSeconds:c=k(a);break;case i.viewedNintyFivePercent:c=l(a);break;case i.impressionedAd:c=m(a);break;case i.dwelledOnAd:c=n(a);break;case i.clickedOnAd:c=o(a);break;case i.excludeViewedThreeSeconds:d=k(a);break;case i.excludeViewedNintyFivePercent:d=l(a);break;case i.excludeImpressionedAd:d=m(a);break;case i.excludeDwelledOnAd:d=n(a);break;case i.excludeClickedOnAd:d=o(a);break}return{engagementSpecs:c,excludedEngagementSpecs:d}}function k(a){return a.map(function(a){return{"action.type":h.VIDEO_VIEW_ACTION,post:a.id}})}function l(a){return a.map(function(a){return{"action.type":h.VIDEO_COMPLETED_ACTION,post:a.id}})}function m(a){return a.map(function(a){return babelHelpers["extends"]({},a,{"action.type":h.AD_IMPRESSION_ACTION,impression_count:1,retention_seconds:2592e3})})}function n(a){return a.map(function(a){return babelHelpers["extends"]({},a,{"action.type":h.AD_DWELL_ACTION,dwell_time:3,retention_seconds:2592e3})})}function o(a){return a.map(function(a){return babelHelpers["extends"]({},a,{"action.type":h.AD_CLICK_ACTION,retention_seconds:2592e3})})}function p(a,b){return!a||a.length<=0||!b?-1:a.findIndex(function(a){return a["action.type"]===b["action.type"]&&a.post===b.post&&a.page_id===b.page_id&&a.campaign_group_id===b.campaign_group_id&&a.campaign_id===b.campaign_id&&a.ad_group_id===b.ad_group_id&&a.impression_count===b.impression_count&&a.retention_seconds===b.retention_seconds})}function f(a){if(!a)return"";switch(a["action.type"]){case h.FBEVENT_VIEW_ACTION:return i.pageEventViewers;case h.FBEVENT_RESPONSE_ACTION:return i.pageEventAttendees}return""}function q(a,b){b=p(a,b);b!==-1&&a.splice(b,1)}function r(a){switch(a){case i.viewedThreeSeconds:case i.viewedNintyFivePercent:case i.excludeViewedThreeSeconds:case i.excludeViewedNintyFivePercent:return g.VIDEOS;case i.impressionedAd:case i.dwelledOnAd:case i.clickedOnAd:case i.excludeImpressionedAd:case i.excludeDwelledOnAd:case i.excludeClickedOnAd:return g.ADS}return null}function s(a){switch(a){case i.viewedThreeSeconds:case i.viewedNintyFivePercent:case i.impressionedAd:case i.dwelledOnAd:case i.clickedOnAd:return j.ENGAGEMENT_SPECS;case i.excludeViewedThreeSeconds:case i.excludeViewedNintyFivePercent:case i.excludeImpressionedAd:case i.excludeDwelledOnAd:case i.excludeClickedOnAd:return j.EXCLUDED_ENGAGEMENT_SPECS;default:return null}}function t(a){var b=Object.keys(a),c=null;b.findIndex(function(b,d){c=b;return a[c]&&a[c].menuItems&&a[c].menuItems.length>0});return c}e.exports={adsEngagementSpecsTypesMap:j,engagementDetailsToEngagementSpecs:d,getCurrentEngagementKey:t,getEngagementType:f,getNewEngagementType:s,getNewSpecIndex:p,getPageIDsOfActionTypeFromEngagementSpecs:a,getSelectedMode:r,getTargetingLabel:c,spliceAnEntry:q}}),null);
__d("AdsPromotableEventListDataManager",["AdsBaseListDataManager","AdsGraphAPI","AdsPromotableEventListBatchLoadedDataAction","AdsPromotableEventListBatchLoadErrorDataAction","AdsPromotableEventListPartialLoadDataAction","GraphAPIPaging","GraphEventFields","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=["picture",b("GraphEventFields").COVER,b("GraphEventFields").DESCRIPTION,b("GraphEventFields").HAS_TICKET_ONSALE_FOR_VIEWER,b("GraphEventFields").ID,b("GraphEventFields").IS_VIEWER_ADMIN,b("GraphEventFields").NAME,b("GraphEventFields").PLACE,b("GraphEventFields").START_TIME,b("GraphEventFields").TICKET_URI,b("GraphEventFields").OWNER];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.loadFor=function(a){this.$AdsPromotableEventListDataManager1(a,!0),this.$AdsPromotableEventListDataManager1(a,!1)};d.$AdsPromotableEventListDataManager1=function(a,c){var d=this;b("promiseDone")(b("AdsGraphAPI").get(e.id).me().edge("promotable_events").get({is_page_event:c,fields:g}).then(b("GraphAPIPaging").eachPage(function(c){return b("AdsPromotableEventListPartialLoadDataAction").dispatch({accountID:a,promotableEvents:c.data},{line:"62",module:"AdsPromotableEventListDataManager.js"})})),function(b){return d.__handleSuccess(["load"],a,null,b)},function(b){return d.__handleError(["load"],a,null,b)})};d.__onBatchLoaded=function(a){a.forEach(function(a,c){b("AdsPromotableEventListBatchLoadedDataAction").dispatch({accountID:c,promotableEvents:a.data},{line:"77",module:"AdsPromotableEventListDataManager.js"})})};d.__onBatchLoadError=function(a){a.forEach(function(a,c){b("AdsPromotableEventListBatchLoadErrorDataAction").dispatch({accountID:c},{line:"86",module:"AdsPromotableEventListDataManager.js"})})};return c}(b("AdsBaseListDataManager"));e.exports=new a()}),null);
__d("AdsPromotableEventListStore",["AdsBaseConnectionObjectListStore","AdsConnectionObjectUtils","AdsEditorConfig","AdsLoadState_LEGACY","AdsPromotableEventListBatchLoadedDataActionFlux","AdsPromotableEventListBatchLoadErrorDataActionFlux","AdsPromotableEventListDataManager","AdsPromotableEventListPartialLoadDataActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsPromotableEventListDataManager")};d.__onDispatch=function(c){b("AdsEditorConfig").empl_show_all_pages&&a.prototype.__onDispatch.call(this,c);c=c.action;switch(c.actionType){case b("AdsPromotableEventListBatchLoadedDataActionFlux").actionType:this.__handleDataFor(c.accountID,c.promotableEvents,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsPromotableEventListPartialLoadDataActionFlux").actionType:this.__handleDataFor(c.accountID,c.promotableEvents,b("AdsLoadState_LEGACY").LOADING);break;case b("AdsPromotableEventListBatchLoadErrorDataActionFlux").actionType:this.__handleDataFor(c.accountID,null,b("AdsLoadState_LEGACY").ERROR);break}};d.__filterConnectionObject=function(a){return b("AdsConnectionObjectUtils").isEvent(a)};return c}(b("AdsBaseConnectionObjectListStore"));e.exports=new a()}),null);
__d("ads-destinationType",["fbt","AdsDestinationTypes"],(function(a,b,c,d,e,f,g){__p&&__p();a={};a[b("AdsDestinationTypes").EXTERNAL_WEBPAGE]=g._("URL");a[b("AdsDestinationTypes").PAGE]=g._("Page");a[b("AdsDestinationTypes").APP]=g._("Application");a[b("AdsDestinationTypes").EVENT]=g._("\u00c9v\u00e8nement");a[b("AdsDestinationTypes").GROUP]=g._("Groupe");a[b("AdsDestinationTypes").REVIEW]=g._("R\u00e9vision");a[b("AdsDestinationTypes").PLACE]=g._("Lieu");a[b("AdsDestinationTypes").DOMAIN]=g._("Domaine");a[b("AdsDestinationTypes").SEARCH]=g._("Rechercher");a[b("AdsDestinationTypes").ENTER_URL]=g._("Recherche par URL");a[b("AdsDestinationTypes").SEARCH_BY_ID]=g._("Recherche par identifiant de destination");c={};c[b("AdsDestinationTypes").EXTERNAL_WEBPAGE]=g._("URL");c[b("AdsDestinationTypes").PAGE]=g._("Pages");c[b("AdsDestinationTypes").APP]=g._("Applications");c[b("AdsDestinationTypes").EVENT]=g._("\u00c9v\u00e8nements");c[b("AdsDestinationTypes").GROUP]=g._("Groupes");c[b("AdsDestinationTypes").REVIEW]=g._("Critiques");c[b("AdsDestinationTypes").PLACE]=g._("Lieux");c[b("AdsDestinationTypes").DOMAIN]=g._("Domaines");c[b("AdsDestinationTypes").PAGE_AND_PLACE]=g._("Pages et lieux");c[b("AdsDestinationTypes").SEARCH]=g._("Rechercher");c[b("AdsDestinationTypes").ENTER_URL]=g._("Recherche par URL");c[b("AdsDestinationTypes").SEARCH_BY_ID]=g._("Recherche par identifiant de destination");e.exports={DEST_TYPE_TO_NAME:a,DEST_TYPE_TO_NAME_PLURAL:c}}),null);
__d("AdsTargetingConnectionObjectSearchSource",["Promise","AdsDestinationTypes","AdsLoadStateUtils_LEGACY","AdsPageSelectorProvider","AdsPromotableAppListStore","AdsPromotableAppStore","AdsPromotableEventListStore","AdsPromotableEventStore","AdsPromotablePageListStore","AdsPromotablePageStore","AdsStaticSearchSource","ApiPageFields","CurrentUser","GraphEventFields","ads-destinationType","adsStorePromiseAsyncGetForSyncStore","flattenArray","isNumberLike"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPageSelectorProvider").toFluxStore(),h=new Map();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.getInstance=function(a,b){var d=c.getInstanceID(a,b);h.has(d)||h.set(d,new c(a,b));return h.get(d)};c.getInstanceID=function(a,b){a=String(a);b&&b.canQueryEvents&&(a+="_canQueryEvents");return a};function c(b,d){var e={getSubtitle:function(a){return a.__typeString||""}};e=a.call(this,b,e)||this;var f=c.getInstanceID(b,d);h.has(f);d&&(e.$AdsTargetingConnectionObjectSearchSource2=d.canQueryEvents);e.$AdsTargetingConnectionObjectSearchSource1=b;return e}var d=c.prototype;d.searchImpl=function(a,c,d){__p&&__p();var e=this;if(!a){c([],a);return}var f=d&&d.searchForTypes;b("Promise").all(this.$AdsTargetingConnectionObjectSearchSource3(a,f)).then(function(f){f=b("flattenArray")(f).filter(function(a){return!!a.name});d=Object.assign(d||{},{searchByID:!0,shouldFilter:!1});f=e.getEntries(f||[],a,d);c(f,a)})["catch"](function(b){c([],a)})};d.$AdsTargetingConnectionObjectSearchSource3=function(a,c){var d=this,e=null;c&&(e=c.map(function(c){switch(c){case b("AdsDestinationTypes").PAGE:return d.$AdsTargetingConnectionObjectSearchSource4(a);case b("AdsDestinationTypes").APP:return d.$AdsTargetingConnectionObjectSearchSource5(a);case b("AdsDestinationTypes").EVENT:return d.$AdsTargetingConnectionObjectSearchSource6(a);default:return null}}).filter(Boolean));return e||[this.$AdsTargetingConnectionObjectSearchSource4(a),this.$AdsTargetingConnectionObjectSearchSource5(a),this.$AdsTargetingConnectionObjectSearchSource6(a)]};d.$AdsTargetingConnectionObjectSearchSource4=function(a){__p&&__p();var c=this;return b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPromotablePageListStore"),function(){return b("AdsPromotablePageListStore").getFor(c.$AdsTargetingConnectionObjectSearchSource1)}).then(function(d){var e=[].concat(d.list);b("CurrentUser").isEmployee()&&(e=e.concat(g.getState().unownedPageIDs),b("isNumberLike")(a)&&!e.includes(a)&&e.push(a));return b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPromotablePageStore"),function(){return b("AdsPromotablePageStore").getAllFor(c.$AdsTargetingConnectionObjectSearchSource1,e)})}).then(function(a){return b("AdsLoadStateUtils_LEGACY").getLoadedValues(a).map(function(a){a=babelHelpers["extends"]({},a);a[b("ApiPageFields").NAME]=a[b("ApiPageFields").GLOBAL_BRAND_PAGE_NAME]||a[b("ApiPageFields").NAME];return babelHelpers["extends"]({},a,{__typeString:b("ads-destinationType").DEST_TYPE_TO_NAME[b("AdsDestinationTypes").PAGE]})})})};d.$AdsTargetingConnectionObjectSearchSource5=function(a){var c=this;return b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPromotableAppListStore"),function(){return b("AdsPromotableAppListStore").getFor(c.$AdsTargetingConnectionObjectSearchSource1)}).then(function(a){var d=a.list;return b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPromotableAppStore"),function(){return b("AdsPromotableAppStore").getAllFor(c.$AdsTargetingConnectionObjectSearchSource1,d)})}).then(function(a){return b("AdsLoadStateUtils_LEGACY").getLoadedValues(a).map(function(a){return babelHelpers["extends"]({},a,{__typeString:b("ads-destinationType").DEST_TYPE_TO_NAME[b("AdsDestinationTypes").APP]})})})};d.$AdsTargetingConnectionObjectSearchSource6=function(a){__p&&__p();var c=this,d=new Set();return b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPromotableEventListStore"),function(){return b("AdsPromotableEventListStore").getFor(c.$AdsTargetingConnectionObjectSearchSource1)}).then(function(e){var f=[].concat(e.list);d=new Set(f);c.$AdsTargetingConnectionObjectSearchSource2&&b("isNumberLike")(a)&&!f.includes(a)&&f.push(a);return b("adsStorePromiseAsyncGetForSyncStore")(b("AdsPromotableEventStore"),function(){return b("AdsPromotableEventStore").getAllFor(c.$AdsTargetingConnectionObjectSearchSource1,f)})}).then(function(a){a=b("AdsLoadStateUtils_LEGACY").getLoadedValues(a);return a.filter(function(a){return c.$AdsTargetingConnectionObjectSearchSource7(d,a)}).map(function(a){return babelHelpers["extends"]({},a,{__typeString:b("ads-destinationType").DEST_TYPE_TO_NAME[b("AdsDestinationTypes").EVENT]})})})};d.$AdsTargetingConnectionObjectSearchSource7=function(a,c){return a.has(c[b("GraphEventFields").ID])||this.$AdsTargetingConnectionObjectSearchSource2&&c[b("GraphEventFields").IS_VIEWER_ADMIN]};return c}(b("AdsStaticSearchSource"));e.exports=a}),null);
__d("AdsTargetingEventEngagementComponent.react",["cx","AdsDestinationTypes","AdsEngagementSpecsUIUtils","AdsFIGBasicTokenizer.react","AdsInterfacesLogger","AdsLoadStateUtils_LEGACY","AdsPromotablePageStore","AdsTargetingConnectionObjectSearchSource","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","AdsTargetingConnectionsMenuOptions","React","ReactFragment","SearchableEntry","SubscriptionsHandler","XUISelector.react","XUISelectorButton.react","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsTargetingConnectionsMenuOptions").engagementActions,i=b("AdsTargetingConnectionsMenuOptions").menuOptions,j=b("AdsTargetingConnectionsMenuOptions").optionName,k=b("XUISelector.react").Option;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={secondaryOptionSelected:null},d.$1=function(){var a=i.eventEngagementOptions;if(!a||!a.children||!a.children.length)return null;var c={};a.children.forEach(function(a){c[a.toggleName]=b("React").createElement(k,{key:String(a.toggleName)+"_option",value:a.toggleName},a.name)});return c},d.$2=function(){if(d.state.secondaryOptionSelected)return d.state.secondaryOptionSelected;var a=i.eventEngagementOptions;return!a||!a.children||!a.children.length?"":a.children[0].toggleName},d.$3=function(a){d.setState({secondaryOptionSelected:a.value})},d.$4=function(a){switch(a){case j.pageEventViewers:return d.$7(j.pageEventViewers);case j.pageEventAttendees:return d.$7(j.pageEventAttendees)}return[]},d.$7=function(a){return d.$8(d.props.accountID,d.props.engagementSpecs||[],a)},d.$6=function(a){switch(a){case j.pageEventViewers:return d.$9;case j.pageEventAttendees:return d.$10}},d.$9=function(a){d.$11(a,j.pageEventViewers)},d.$10=function(a){d.$11(a,j.pageEventAttendees)},d.$11=function(a,c){a=a.map(function(a){return{id:a.getUniqueID()}});a=b("AdsEngagementSpecsUIUtils").engagementDetailsToEngagementSpecs(a,c);a=a?a.engagementSpecs:[];var e=d.props.engagementSpecs||[];d.$12(e,a,c)},d.$13=function(a,c,d){return a.filter(function(a){return b("AdsEngagementSpecsUIUtils").getEngagementType(a)!==d||b("AdsEngagementSpecsUIUtils").getNewSpecIndex(c,a)!==-1})},d.$14=function(a,c){return c.filter(function(c){c=b("AdsEngagementSpecsUIUtils").getNewSpecIndex(a,c);return c===-1})},d.$5=function(a,b){return b.validEntryTypes&&b.validEntryTypes.length&&b.validEntryTypes.indexOf(a.type)===-1?!1:!0},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.subscriptions=new(b("SubscriptionsHandler"))(),this.subscriptions.addSubscriptions(b("AdsPromotablePageStore").addListener(this.forceUpdate.bind(this,b("emptyFunction"))))};d.componentWillUnmount=function(){this.subscriptions.release()};d.render=function(){var a=this.$1();if(!a)return null;var c=this.$2();return b("React").createElement("div",null,b("React").createElement(b("XUISelector.react"),{className:"_3-8x",value:c,onChange:this.$3},b("React").createElement(b("XUISelectorButton.react"),{maxwidth:0,size:this.props.buttonSize}),b("ReactFragment").create(a)),b("React").createElement(b("AdsFIGBasicTokenizer.react"),{entries:this.$4(c),placeholder:b("AdsTargetingConnectionsLabels").addPage,searchSource:b("AdsTargetingConnectionObjectSearchSource").getInstance(this.props.accountID,{}),searchSourceOptions:{shouldFilter:!0,filterEntry:this.$5,validEntryTypes:[b("AdsDestinationTypes").PAGE,b("AdsDestinationTypes").PLACE,b("AdsDestinationTypes").PAGE_AND_PLACE],searchForType:b("AdsDestinationTypes").PAGE},size:this.props.buttonSize,onEntriesChange:this.$6(c)}))};d.$8=function(a,c,d){__p&&__p();var e=null;switch(d){case j.pageEventViewers:e=h.FBEVENT_VIEW_ACTION;break;case j.pageEventAttendees:e=h.FBEVENT_RESPONSE_ACTION;break}if(!e||!c)return[];d=b("AdsEngagementSpecsUIUtils").getPageIDsOfActionTypeFromEngagementSpecs(c,e);if(d.length===0)return[];c=b("AdsPromotablePageStore").getAllFor(a,d);e=b("AdsLoadStateUtils_LEGACY").getLoadedValues(c)||[];return e.map(function(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name})})};d.$12=function(a,c,d){d=this.$13(a,c,d);a=d.length!==a.length;c=this.$14(d,c);a=a||!!c.length;d.push.apply(d,c);a&&(this.props.changeEngagements&&this.props.changeEngagements(d,null),b("AdsInterfacesLogger").log({eventName:b("AdsTargetingConnectionsLoggingEvents").UPDATE_ENGAGEMENT_SPECS},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP));return a};return c}(b("React").Component);c.propTypes={accountID:a.string.isRequired,changeEngagements:a.func,engagementSpecs:a.array,buttonSize:a.string};c.defaultProps={changeEngagements:b("emptyFunction"),engagementSpecs:[],size:"large"};e.exports=c}),null);
__d("XAdsTargetingConnectionsLookalikeBuilderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/targeting/connections/lookalike_builder/",{account_id:{type:"String",required:!0},source_id:{type:"String",required:!0},name:{type:"String",required:!0},countries:{type:"StringVector",required:!0}})}),null);
__d("XAdsTargetingCustomAudienceBuilderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/targeting/connections/ca_builder/",{account_id:{type:"String",required:!0},source_id:{type:"String",required:!0},name:{type:"String",required:!0}})}),null);
__d("AdsTargetingConnectionsEditorV2.react",["cx","errorCode","fbt","invariant","AdsAccountStore_DEPRECATED","AdsAccountUtils","AdsCCCategory","AdsCFNavigationWizardSectionNavigateByErrorKeyDataAction","AdsCommonTargetingActions","AdsCommonTargetingField","AdsCommonTargetingFields","AdsConnectionsUIUtils","AdsDestinationTypes","AdsFIGBasicTokenizer.react","AdsGeodesicAdoption","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsInterfacesLogger","AdsLearnMore.react","AdsLoadState_LEGACY","AdsPromotableAppStore","AdsPromotableConnectionTypeStore","AdsPromotableEventStore","AdsPromotablePageStore","AdsStaticInlineNux.react","AdsTargetingConnectionsDeprecationUtils.react","AdsTargetingConnectionsLabels","AdsTargetingConnectionsLoggingEvents","AdsTargetingConnectionsMenuOptions","AdsTargetingConnectionsSectionNUX.react","AdsTargetingEventEngagementComponent.react","AdsTargetingLoadTimeActions","AdsTargetingWebdriverIDs","AsyncRequest","BUIAdoptionCloseButton.react","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSDropdownSelectorOptionGroup.react","FDSDropdownSelectorSeparator.react","FDSGuidanceCard.react","FDSGuidanceCardContent.react","FDSGuidanceCardContentLink.react","FDSGuidanceCardContentText.react","FDSGuidanceCardHeader.react","FDSSimplePopover.react","FDSSpinner.react","React","SearchableEntry","SubscriptionsHandler","XAdsTargetingConnectionsLookalikeBuilderController","XAdsTargetingCustomAudienceBuilderController","emptyFunction","performanceNow","setImmediate","suiMargin"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=b("AdsGeodesicAdoption").AdsGeodesicAdoptionContext;var k=b("AdsTargetingConnectionsMenuOptions").connectionStatuses,l=b("AdsTargetingConnectionsMenuOptions").connectionsType,m=b("AdsTargetingConnectionsMenuOptions").menuOptions,n=b("AdsTargetingConnectionsMenuOptions").optionName,o={NONE:0,LOADING:1,READY:2,ERROR:3},p={APP_TARGETING:100,MAIN:101,CUSTOM_CMS_ID:"1819812758298988"},q=i._("Voir l\u2019audience"),r=i._("Entrer un lieu");i._("En savoir plus");function s(a){return a.map(function(a){return new(b("SearchableEntry"))({uniqueID:a.id,title:a.name||a.id})})}function t(a){return a.map(function(a){return{id:a.getUniqueID(),name:a.getTitle()}})}function u(a){__p&&__p();var c=a.onClick;a=a.audience;if(a==null||(a==null?void 0:a.id)==="0")return null;if((a==null?void 0:a.lookalike_spec)==null){var d=i._("Audience personnalis\u00e9e cr\u00e9\u00e9e"),e=i._("Your new audience, {=[audience_name]} was added to this ad set. With a Custom Audience, you have more options to manage who sees your ads.",[i._param("=[audience_name]",b("React").createElement("strong",null,i._("{audience_name}",[i._param("audience_name",a==null?void 0:a.name)])))]);return b("React").createElement(b("FDSGuidanceCard.react"),{category:"success",margin:"_3-8x"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,d),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,e),b("React").createElement(b("FDSGuidanceCardContentLink.react"),{onPress:c},q)))}else{d=i._("Lookalike Audience Created");e=i._("Your new audience, {=[audience_name]} was added to this ad set. With a lookalike audience, you'll be able to reach people similar to those who engaged with your Page\/used your app.",[i._param("=[audience_name]",b("React").createElement("strong",null,i._("{audience_name}",[i._param("audience_name",a==null?void 0:a.name)])))]);return b("React").createElement(b("FDSGuidanceCard.react"),{category:"success",margin:"_3-8x"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,d),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,e),b("React").createElement(b("FDSGuidanceCardContentLink.react"),{onPress:c},q)))}}function v(a){a=a.onClick;var c=i._("Location is Missing"),d=i._("To create a lookalike audience for this connection, you need to enter a location.");return b("React").createElement(b("FDSGuidanceCard.react"),{category:"error",margin:"_3-8x"},b("React").createElement(b("FDSGuidanceCardHeader.react"),null,c),b("React").createElement(b("FDSGuidanceCardContent.react"),null,b("React").createElement(b("FDSGuidanceCardContentText.react"),null,d),b("React").createElement(b("FDSGuidanceCardContentLink.react"),{onPress:a},r)))}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.$1=!1;e.$2={includedConnections:null,excludedConnections:null,friendsOfConnections:null};e.$7=function(){var a=e.$5(e.props.accountID,e.props.targetingData,e.state.connectionStatus,{secondaryConnectionsOption:e.state.secondaryOption});e.setState(a)};e.$14=function(a,c){__p&&__p();var d=[],f=[],g=[],h=c.includedConnections.filter(function(a){if(!a.name){d.push(a.id);return!1}return!0}),i=c.friendsOfConnections.filter(function(a){if(!a.name){f.push(a.id);return!1}return!0});c=c.excludedConnections.filter(function(a){if(!a.name){g.push(a.id);return!1}return!0});e.props.changeConnections({includedConnections:h.concat(b("AdsConnectionsUIUtils").loadConnections(a,d)),friendsOfConnections:i.concat(b("AdsConnectionsUIUtils").loadConnections(a,f)),excludedConnections:c.concat(b("AdsConnectionsUIUtils").loadConnections(a,g))})};e.$19=function(a){__p&&__p();a=t(a);if(e.state.shouldUseConnectionsDeprecation&&a.length===1){e.$17(a,!0,!1);return}var c={includedConnections:a,excludedConnections:e.props.targetingData.excludedConnections};a=e.$15(e.props.targetingData.excludedConnections,a);a.length!==e.props.targetingData.excludedConnections.length&&(c.excludedConnections=a);e.$20(b("AdsTargetingConnectionsLoggingEvents").UPDATE_INCLUDED_CONNECTIONS,c);e.props.changeConnections(c)};e.$21=function(a){__p&&__p();a=t(a);if(e.state.shouldUseConnectionsDeprecation&&a.length==1){e.$17(a,!1,!1);return}var c={excludedConnections:a,includedConnections:e.props.targetingData.includedConnections};a=e.$15(e.props.targetingData.includedConnections,a);a.length!==e.props.targetingData.includedConnections.length&&(c.includedConnections=a);e.$20(b("AdsTargetingConnectionsLoggingEvents").UPDATE_EXCLUDED_CONNECTIONS,c);e.props.changeConnections(c)};e.$22=function(a){a=t(a);if(e.state.shouldUseConnectionsDeprecation&&a.length===1){e.$17(a,!1,!0);return}a={friendsOfConnections:a};e.$20(b("AdsTargetingConnectionsLoggingEvents").UPDATE_FRIENDS_OF_CONNECTIONS,a);e.props.changeConnections(a)};e.$24=function(a){__p&&__p();var c=e.$23(a),d=e.state.connectionStatus;if(c===a&&a!==m.advancedOptions.toggleName)return;if(c===d&&a===e.state.secondaryOption)return;var f=e.$25(c);(d===k.ADVANCED||d===k.APPS||d===k.EVENTS||d===k.PAGES)&&(e.$2={includedConnections:e.props.targetingData.includedConnections,excludedConnections:e.props.targetingData.excludedConnections,friendsOfConnections:e.props.targetingData.friendsOfConnections});(d===k.EVENTS_ENGAGEMENT&&e.props.canSeeEventEngagementOptions||d===k.ADVANCED&&e.$26())&&(e.$3=e.props.targetingData.engagementSpecs||[],e.$4=e.props.targetingData.excludedEngagementSpecs||[]);var g={},h;switch(c){case m.advancedOptions.toggleName:var i=e.$2||{};g={includedConnections:i.includedConnections||[],excludedConnections:i.excludedConnections||[],friendsOfConnections:i.friendsOfConnections||[]};e.$26()&&(i=e.$3||[],h=e.$4||[],e.props.changeEngagements(i,h));break;case m.appOptions.toggleName:case m.eventOptions.toggleName:case m.pageOptions.toggleName:f===d?e.$27(a):g=e.$28();e.$26()&&(e.$3=[],e.$4=[],e.props.changeEngagements([],[]));break;case m.eventEngagementOptions.toggleName:g=e.$28();e.$26()&&(e.$2=g,f!==d&&e.props.changeEngagements([],[]));break;default:return}e.$20(b("AdsTargetingConnectionsLoggingEvents").SELECT_MENU,{menuName:c});e.props.changeConnections(g);var j=c===a?null:a;b("setImmediate")(function(){e.setState({connectionStatus:f,secondaryOption:j,disableNUX:!0})})};e.$18=function(){e.$20(b("AdsTargetingConnectionsLoggingEvents").CLEAR_TARGETING,{connectionStatus:k.ALL}),e.$2={},e.$26()&&(e.$3=[],e.$4=[],e.props.changeEngagements([],[])),e.props.changeConnections(e.$28()),b("setImmediate")(function(){e.setState({connectionStatus:k.ALL,secondaryOption:null,disableNUX:!0})})};e.$27=function(a){__p&&__p();if(b("AdsConnectionsUIUtils").shouldHideOption(e.props.shouldHideExcludedConnections,a)){e.setState({secondaryOption:null});return}b("setImmediate")(function(){e.setState({secondaryOption:a})});var c=e.props.targetingData.includedConnections.concat(e.props.targetingData.excludedConnections,e.props.targetingData.friendsOfConnections),d=e.$28();switch(e.$43(a)){case l.includedConnection:d.includedConnections=c;break;case l.excludedConnection:d.excludedConnections=c;break;case l.friendsOfConnection:d.friendsOfConnections=c;break}e.$20(b("AdsTargetingConnectionsLoggingEvents").CHANGE_TARGETING_TYPE,d);e.props.changeConnections(d)};d=e.$5(c.accountID,c.targetingData,null,{secondaryConnectionsOption:null});d.disableNUX=!1;e.state=d;e.$6(c.onFinishedLoading);return e}var d=c.prototype;d.$6=function(a){!this.$1&&!this.state.isLoading&&(this.$1=!0,b("AdsTargetingLoadTimeActions").componentDidFinishLoadingEntries("AdsCommonTargetingConnectionsEditor",b("performanceNow")()),a())};d.UNSAFE_componentWillMount=function(){var a=this;this.subscriptions=new(b("SubscriptionsHandler"))();var c=[b("AdsAccountStore_DEPRECATED"),b("AdsPromotableAppStore"),b("AdsPromotableEventStore"),b("AdsPromotablePageStore"),b("AdsPromotableConnectionTypeStore")];c.forEach(function(b){a.subscriptions.addSubscriptions(b.addListener(a.$7))})};d.componentWillUnmount=function(){this.subscriptions.release()};d.componentDidUpdate=function(){this.$6(this.props.onFinishedLoading)};d.$5=function(a,c,d,e){__p&&__p();var f=null,g=b("AdsAccountStore_DEPRECATED").get(a),h=this.$8(c);if(h&&!this.$9(a,c))return{isLoading:!0};e&&(f=e.secondaryConnectionsOption);e=b("AdsConnectionsUIUtils").getConnectionStatus(a,c,d);if(e===b("AdsLoadState_LEGACY").LOADING)return{isLoading:!0};if(g.loadState===b("AdsLoadState_LEGACY").LOADING)return{connectionStatus:e,isLoading:!0};a=null;e!=null&&(a=b("AdsConnectionsUIUtils").getSelectedOption(e,c,f));d=b("AdsAccountUtils").hasCapability(b("AdsAccountStore_DEPRECATED").get(this.props.accountID),"DEPRECATE_CONNECTIONS_TARGETING");return{account:g,connectionStatus:e,secondaryOption:a,isLoading:!1,shouldLoadData:h,shouldUseConnectionsDeprecation:d}};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.$10(a)?null:this.state.connectionStatus;a=this.$5(a.accountID,a.targetingData,b,{secondaryConnectionsOption:this.state.secondaryOption});this.setState(a)};d.$10=function(a){return this.props.selectedCampaignID!==a.selectedCampaignID};d.$11=function(){return s(this.props.targetingData.includedConnections)};d.$12=function(){return s(this.props.targetingData.excludedConnections)};d.$13=function(){return s(this.props.targetingData.friendsOfConnections)};d.$8=function(a){return(a.includedConnections||[]).concat(a.friendsOfConnections||[]).concat(a.excludedConnections||[]).some(function(a){return!a.name})};d.$9=function(a,c){c=(c.includedConnections||[]).concat(c.friendsOfConnections||[]).concat(c.excludedConnections||[]).reduce(function(a,b){b.name||a.push(b.id);return a},[]);return b("AdsConnectionsUIUtils").areConnectionsLoaded(a,c)};d.$15=function(a,b){var c=new Set(b.map(function(a){return a.id}));return a.filter(function(a){return!c.has(a.id)})};d.$16=function(a){return a==k.APPS||a==k.PAGES||a==k.EVENTS||a==k.ADVANCED};d.$17=function(a,c,d){__p&&__p();var e=this,f=a[0].id;a=a[0].name;var g=this.state.connectionStatus;if(this.$16(g)){this.setState({replacingCustomAudience:o.LOADING});if(d){g!=k.EVENTS||j(0,14224);g=b("AdsTargetingConnectionsDeprecationUtils.react").getCountryFromLocation(this.props.targetingData.geoLocations);if(g==null||g&&g.length==0){this.$18();this.setState({replacingCustomAudience:o.ERROR});return}g=b("XAdsTargetingConnectionsLookalikeBuilderController").getURIBuilder().setString("account_id",this.props.accountID).setString("source_id",f).setString("name",a).setStringVector("countries",[g]).getURI();new(b("AsyncRequest"))().setURI(g).setHandler(function(a){var c=a.payload;if(c.id==="0")return;b("AdsCommonTargetingActions").includeAudience(e.props.targetingData.customAudiences||[],e.props.targetingData.excludedCustomAudiences||[],a.payload,0,!1,!1,e.props.accountID);e.$18();e.setState({replacingCustomAudience:o.READY,replacedAudience:c})}).setErrorHandler(function(a){}).send()}else{g=b("XAdsTargetingCustomAudienceBuilderController").getURIBuilder().setString("account_id",this.props.accountID).setString("source_id",f).setString("name",a).getURI();new(b("AsyncRequest"))().setURI(g).setHandler(function(a){a=a.payload;if(a.id==="0")return;c?(b("AdsCommonTargetingActions").includeAudience(e.props.targetingData.customAudiences||[],e.props.targetingData.excludedCustomAudiences||[],a,0,!1,!1,e.props.accountID),e.$18()):!c&&!d&&(b("AdsCommonTargetingActions").excludeAudience(e.props.targetingData.customAudiences||[],e.props.targetingData.excludedCustomAudiences||[],a,0,!1,e.props.accountID),e.$18());e.setState({replacingCustomAudience:o.READY,replacedAudience:a})}).send()}}};d.$23=function(a){var b=null;m.allOptions.forEach(function(c){c.toggleName&&a===c.toggleName?b=c.toggleName:c.children&&c.children.length&&c.children.forEach(function(d){d.toggleName&&a===d.toggleName&&(b=c.toggleName)})});return b};d.$28=function(){return{includedConnections:[],excludedConnections:[],friendsOfConnections:[]}};d.$25=function(a){switch(a){case m.advancedOptions.toggleName:return k.ADVANCED;case m.appOptions.toggleName:return k.APPS;case m.eventOptions.toggleName:return k.EVENTS;case m.eventEngagementOptions.toggleName:return k.EVENTS_ENGAGEMENT;case m.pageOptions.toggleName:return k.PAGES}return k.NONE};d.$26=function(){return this.props.canSeeEventEngagementOptions};d.$29=function(){b("AdsCFNavigationWizardSectionNavigateByErrorKeyDataAction").dispatch({eventName:"wizard_section_navigate_by_error_key",errorKey:1885364,errorDesc:q,shouldIncludeSectionsWithNoErrors:!0},{line:"883",module:"AdsTargetingConnectionsEditorV2.react.js"})};d.render=function(){__p&&__p();var a=this;if(this.state.isLoading)return b("React").createElement(b("FDSSpinner.react"),null);if(this.state.replacingCustomAudience===o.LOADING){var c=i._("Cr\u00e9ation d\u2019audience"),d=i._("It will populate in Custom Audiences field above when ready.");return b("React").createElement(b("FDSSpinner.react"),{subtitle:d,title:c})}this.state.shouldLoadData&&this.$14(this.props.accountID,this.props.targetingData);d=this.state.connectionStatus;d!=null&&this.$30(b("AdsTargetingConnectionsLoggingEvents").ALL_CONNECTIONS,{connectionStatus:d,secondaryOptions:this.state.secondaryOption,isFromPermutationMode:this.props.isFromPermutationMode});c=this.state.secondaryOption!==n.friendsConnectedToEvent;var e=this.props.shouldHideFriendsOfConnections;c&&(e=e||d===k.EVENTS||d===k.EVENTS_ENGAGEMENT);var f={};d!=null&&(f=b("AdsConnectionsUIUtils").getConfig(d,this.props.shouldHideExcludedConnections,e,this.state.shouldUseConnectionsDeprecation));if(d===k.ADVANCED)var g=b("React").createElement("div",{className:"_3-8w",key:"advanced_options"},this.$31(l.includedConnection),this.$31(l.friendsOfConnection),this.$31(l.excludedConnection),this.$32(d));else if(d===k.APPS||d===k.EVENTS||d===k.PAGES)var h=this.$33(f);else d===k.EVENTS_ENGAGEMENT&&(h=this.$32(d));e=b("AdsConnectionsUIUtils").getMenuOptions({canSeeEventEngagementOptions:this.$34(),objective:this.props.objectiveData.objective,shouldHideExcludedConnections:this.props.shouldHideExcludedConnections,shouldHideFriendsOfConnections:this.props.shouldHideFriendsOfConnections,shouldHideEventFriendsOfConnections:c},this.state.shouldUseConnectionsDeprecation);c=b("React").createElement(b("BUIAdoptionCloseButton.react"),{key:"reset_button",margin:"_3-9a",onClick:this.$18});var j=this.state.replacingCustomAudience===o.READY?b("React").createElement(u,{audience:this.state.replacedAudience,onClick:this.$29}):null,m=this.state.replacingCustomAudience===o.ERROR?b("React").createElement(v,{onClick:this.$29}):null,q=this.context;return b("React").createElement("div",{className:"uiContextualLayerParent _50hk",style:{width:q?"100%":this.props.width}},b("React").createElement(b("AdsInfoTable.react"),{oneColumn:q?!0:this.props.oneColumn,sectionborders:!0},b("React").createElement(b("AdsInfoTableSection.react"),{key:p.MAIN},b("React").createElement(b("AdsInfoTableRow.react"),{helpLink:b("React").createElement(b("FDSSimplePopover.react"),{content:this.$35(),contentWidthUseSparingly:268,position:"above"}),label:b("AdsTargetingConnectionsLabels").connections,rowRenderer:this.props.rowRenderer,useFDS:q},b("React").createElement(b("AdsCommonTargetingField"),{className:q?"":"_1p1j","data-testid":b("AdsTargetingWebdriverIDs").TARGETING_CONNECTIONS,id:b("AdsCommonTargetingFields").CONNECTIONS},b("React").createElement(b("FDSDropdownSelector.react"),{canCollapseGroups:!1,label:f.label,margin:q?void 0:"_3-8x",value:this.$36(),onChange:this.$24},e.map(function(c){if(c.children&&c.children.length)return a.$37(c);return c.name===n.menuSeparator?b("React").createElement(b("FDSDropdownSelectorSeparator.react"),{key:"menu_separator"}):a.$38(c)})),d===k.ALL?null:c,b("React").createElement(b("AdsTargetingConnectionsSectionNUX.react"),{account:this.state.account,disableNUX:this.state.disableNUX,key:"nux"}),g,h,j,m)))))};d.$37=function(a){return b("React").createElement(b("FDSDropdownSelectorOptionGroup.react"),{key:a.name,label:a.name},a.children.map(this.$38))};d.$38=function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.toggleName,value:a.toggleName},a.name)};d.$36=function(){return this.state.connectionStatus===k.ALL?null:this.state.secondaryOption};d.$35=function(){return b("React").createElement("div",null,b("AdsTargetingConnectionsLabels").connectionsHelplink," ",b("React").createElement("div",{className:"_2pid"},b("React").createElement(b("AdsLearnMore.react"),{cmsID:p.CUSTOM_CMS_ID,isStandalone:!0})))};d.$34=function(){if(!this.props.canSeeEventEngagementOptions)return!1;var a=b("AdsTargetingConnectionsMenuOptions").engagementActions;return this.props.targetingData.engagementSpecs.some(function(b){return b["action.type"]===a.FBEVENT_VIEW_ACTION||b["action.type"]===a.FBEVENT_RESPONSE_ACTION})};d.$32=function(a){return!this.$34()?null:b("React").createElement(b("AdsTargetingEventEngagementComponent.react"),{accountID:this.props.accountID,changeEngagements:this.props.changeEngagements,engagementSpecs:this.props.targetingData.engagementSpecs,key:"events_engagement_options",size:this.props.size})};d.$31=function(a){__p&&__p();var c=null;a===l.friendsOfConnection?c=b("AdsTargetingConnectionsLabels").addAppOrPage:this.props.canQueryEvents?c=b("AdsTargetingConnectionsLabels").addAppOrPageOrEventOrEventID:c=b("AdsTargetingConnectionsLabels").addAppOrEventOrPage;var d=null,e=null,f=null,g=null,h=null,i=null;switch(a){case l.includedConnection:f=this.$11();g=this.$19;h=this.$39();d=b("AdsTargetingConnectionsLabels").peopleConnectedTo;e=b("AdsTargetingConnectionsLabels").peopleConnectedToHelpLink;break;case l.excludedConnection:if(this.props.shouldHideExcludedConnections)return null;f=this.$12();g=this.$21;h=this.$39();d=b("AdsTargetingConnectionsLabels").excludePeopleConnectedTo;e=b("AdsTargetingConnectionsLabels").excludePeopleConnectedToHelpLink;break;case l.friendsOfConnection:if(this.props.shouldHideFriendsOfConnections)return null;f=this.$13();g=this.$22;d=this.state.shouldUseConnectionsDeprecation?b("AdsTargetingConnectionsLabels").lookalikesOfPeopleConnectedTo:b("AdsTargetingConnectionsLabels").friendsOfPeopleConnectedTo;e=this.state.shouldUseConnectionsDeprecation?b("AdsTargetingConnectionsLabels").lookalikesOfPeopleConnectedToHelpLink:b("AdsTargetingConnectionsLabels").friendsOfPeopleConnectedToHelpLink;i={searchForTypes:[b("AdsDestinationTypes").PAGE,b("AdsDestinationTypes").APP]};break;default:return null}return b("React").createElement("div",null,b("React").createElement("div",{className:"_3-94"},d,b("React").createElement(b("FDSSimplePopover.react"),{content:e,contentWidthUseSparingly:268,position:"above"})),b("React").createElement(b("AdsFIGBasicTokenizer.react"),{className:"_1p1k",entries:f,excludedEntries:h,placeholder:c,searchSource:this.props.searchSource,searchSourceOptions:i,shouldShowIDInTitle:!0,size:this.props.size,onEntriesChange:g}))};d.$33=function(a){var c=a.options||{};if(!c||!c.children||!c.children.length)return null;var d={shouldFilter:!0,filterEntry:this.$40,validEntryTypes:a.searchSourceOptionsValidEntryTypes,searchForTypes:a.searchSourceOptionTypes},e=this.state.secondaryOption;c=b("React").createElement(b("FDSDropdownSelector.react"),{key:"secondary_selector",margin:"_3-8x",value:e,onChange:this.$27},c.children.map(function(a){return b("React").createElement(b("FDSDropdownSelectorOption.react"),{key:a.toggleName,value:a.toggleName},a.name)}));var f=this.$41(e);a=!f||f.length===0?a.placeholder:a.secondPlaceholder;return b("React").createElement("div",{key:"secondary_options"},c,b("React").createElement(b("AdsFIGBasicTokenizer.react"),{className:"_1p1k",entries:f,key:"tokenizer",placeholder:a,searchSource:this.props.searchSource,searchSourceOptions:d,shouldShowIDInTitle:!0,size:this.props.size,onEntriesChange:this.$42(e)}))};d.$43=function(a){switch(a){case n.connectedToApp:case n.connectedToEvent:case n.connectedToPage:return l.includedConnection;case n.excludeConnectedToApp:case n.excludeConnectedToEvent:case n.excludeConnectedToPage:return l.excludedConnection;case n.friendsConnectedToApp:case n.friendsConnectedToEvent:case n.friendsConnectedToPage:return l.friendsOfConnection}return""};d.$41=function(a){switch(this.$43(a)){case l.includedConnection:return this.$11();case l.excludedConnection:return this.$12();case l.friendsOfConnection:return this.$13()}return[]};d.$42=function(a){switch(this.$43(a)){case l.includedConnection:return this.$19;case l.excludedConnection:return this.$21;case l.friendsOfConnection:return this.$22}return null};d.$40=function(a,b){return b.validEntryTypes&&b.validEntryTypes.length&&b.validEntryTypes.indexOf(a.type)===-1?!1:!0};d.$20=function(a,c){b("AdsInterfacesLogger").log({eventName:a},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};d.$30=function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:(a={},a.targeting_ui_event_data=JSON.stringify(c),a)},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP)};d.$39=function(){var a=this.props.targetingData.includedConnections,b=this.props.targetingData.excludedConnections;a=a.concat(b);var c={};a.forEach(function(a){c[a.id]=!0});return c};return c}(b("React").Component);c.contextType=a;c.defaultProps={canQueryEvents:!1,canSeeEventEngagementOptions:!1,shouldHideFriendsOfConnections:!1,shouldHideExcludedConnections:!1,onFinishedLoading:b("emptyFunction")};e.exports=c}),null);
__d("AdsTargetingGenderSelector.react",["cx","AdsAPICampaignPaths","AdsPathLink","AdsTargetingConstants","BoostedComponentClientEvent","BoostedComponentTestElement","BUIAdoptionUtils","FDSButton.react","FDSToggleButtonGroup.react","React","ReactComponentWithPureRenderMixin","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsTargetingConstants").ALL_LABEL,i=b("AdsTargetingConstants").GENDERS,j=b("AdsTargetingConstants").MEN_LABEL,k=b("AdsTargetingConstants").WOMEN_LABEL,l=b("AdsPathLink").Field;a=b("React").PropTypes;var m=b("immutable").List([b("AdsAPICampaignPaths").TARGETING.GENDERS]);c=b("React").createClass({displayName:"AdsTargetingGenderSelector",mixins:[b("ReactComponentWithPureRenderMixin")],propTypes:{cfSection:a.string,dataTestIDForWomen:a.string,disabled:a.bool,initialGender:a.number,selectedUse:a.oneOf(["primary","default","special","flat","flatWhite"]),size:a.oneOf(["small","medium","large","xlarge","xxlarge"]),onDataUpdate:a.func.isRequired},getDefaultProps:function(){return{disabled:!1,initialGender:i.All,selectedUse:"primary"}},_onClick:function(a){this.props.onDataUpdate(b("BoostedComponentClientEvent").UPDATE_GENDER,a)},render:function(){var a="_5v_d";return b("React").createElement("div",{className:a,"data-testid":b("BoostedComponentTestElement").GENDER_SELECTOR},b("React").createElement(l,{paths:m},b("React").createElement(b("FDSToggleButtonGroup.react"),{isDisabled:this.props.disabled,use:this.props.selectedUse,value:this.props.initialGender,onChange:this._onClick},b("React").createElement(b("FDSButton.react"),{label:h,size:b("BUIAdoptionUtils").convertSizeToFDSSize(this.props.size),type:"button",value:i.All}),b("React").createElement(b("FDSButton.react"),{label:j,size:b("BUIAdoptionUtils").convertSizeToFDSSize(this.props.size),type:"button",value:i.Men}),b("React").createElement(b("FDSButton.react"),{"data-testid":this.props.dataTestIDForWomen,label:k,size:b("BUIAdoptionUtils").convertSizeToFDSSize(this.props.size),type:"button",value:i.Women}))))}});e.exports=c}),null);
__d("AdsTargetingGenderEditor.react",["cx","fbt","AdsAPISpec","AdsCommonTargetingField","AdsCommonTargetingFields","AdsGeodesicAdoption","AdsInfoTable.react","AdsInfoTableRow.react","AdsInfoTableSection.react","AdsRegulatedCategoryDisableCard.react","AdsTargetingConstants","AdsTargetingGenderSelector.react","AdsTargetingWebdriverIDs","FDSSimplePopover.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("AdsGeodesicAdoption").AdsGeodesicAdoptionContext;var i=b("AdsAPISpec").GENDERS;c=b("React").PropTypes;d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a,b){a=b===i.ALL?[]:[b];c.props.changeGender(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.context;return b("React").createElement("div",{style:{width:this.props.width}},b("React").createElement(b("AdsInfoTable.react"),{oneColumn:a?!0:this.props.oneColumn,sectionborders:!0},b("React").createElement(b("AdsInfoTableSection.react"),null,b("React").createElement(b("AdsCommonTargetingField"),{"data-testid":b("AdsTargetingWebdriverIDs").TARGETING_GENDER,id:b("AdsCommonTargetingFields").GENDER},this.$1()))))};d.$1=function(){var a=this.context,c=this.props.tooltip||h._("Choisissez Tout \u00e0 moins que vous ne vouliez montrer votre publicit\u00e9 seulement aux hommes ou aux femmes."),d=this.props.gender||i.ALL,e=null;if(this.props.suggestedGender){var f=this.props.suggestedGender===1?h._("hommes"):h._("femmes");e=h._("La majorit\u00e9 des personnes qui aiment votre Page sont des {audience_gender}{link_to_insights}",[h._param("audience_gender",f),h._param("link_to_insights",this.props.insightsLink)])}f=b("React").Children.map([c,e],function(a,c){return!a?null:b("React").createElement("div",{className:"_1vor",key:c},a)});c=this.props.selectedRegulatedCategory===!0?b("React").createElement(b("AdsRegulatedCategoryDisableCard.react"),{text:h._("Tous"),tooltip:h._("Le genre est une option de ciblage prot\u00e9g\u00e9e lors de la diffusion de publicit\u00e9s pour de l\u2019immobilier ou du logement. Cette option est fixe et ne peut pas \u00eatre personnalis\u00e9e.")}):b("React").createElement(b("AdsTargetingGenderSelector.react"),{cfSection:this.props.cfSection,dataTestIDForWomen:b("AdsTargetingWebdriverIDs").TARGETING_GENDER_SELECTOR_WOMEN,initialGender:d,selectedDepressed:this.props.selectedDepressed,selectedUse:this.props.selectedUse,size:this.props.size,onDataUpdate:this.$2});return b("React").createElement(b("AdsInfoTableRow.react"),{helpLink:b("React").createElement(b("FDSSimplePopover.react"),babelHelpers["extends"]({content:f,contentWidthUseSparingly:300,position:this.props.helpLinkPosition||"above"},this.props.tooltipConfig)),label:b("AdsTargetingConstants").GENDER_LABEL,rowRenderer:this.props.rowRenderer,selectionSize:this.props.selectionSize,useColon:!1,useFDS:a},b("React").createElement("div",{className:"_3g0s"},c,this.props.bulkEditLink))};return c}(b("React").Component);d.propTypes={bulkEditLink:c.node,cfSection:c.string,changeGender:c.func.isRequired,gender:c.number,insightsLink:c.object,oneColumn:c.bool,rowRenderer:c.func,selectedDepressed:c.bool,selectedUse:c.oneOf(["primary","default","special","flat","flatWhite"]),selectionSize:c.number,size:c.oneOf(["medium","large","xlarge"]),suggestedGender:c.number,tooltip:c.string,tooltipConfig:c.object,width:c.number};d.defaultProps={size:"large"};d.contextType=a;e.exports=d}),null);