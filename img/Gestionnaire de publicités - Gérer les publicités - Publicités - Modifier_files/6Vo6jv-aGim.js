if (self.CavalryLogger) { CavalryLogger.start_js(["BqkcF"]); }

__d("AdsImageSelectorV2AddSelectedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_IMAGE_SELECTOR_V2_ADD_SELECTED");e.exports=a}),null);
__d("AdsImageSourceImages.react",["cx","AdsImageSelectorV2Types","AdsImageSourceImageBoxContainer.react","PhotoArrange","React","ResponsiveBlock.react","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();b("AdsImageSelectorV2Types").ImageSourceImageSpec;var h=2*24,i=64,j=0,k=4;function l(a){var c=a.imageID,d=a.size,e=a.onClick,f=a.imageSpecs;a=a.placementSpecs;return b("React").createElement("div",{className:"_3rkd"},b("React").createElement(b("AdsImageSourceImageBoxContainer.react"),{imageID:c,imageSpecs:f,placementSpecs:a,size:d,onClick:e}))}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.$1=function(a){return c.setState({width:a})};c.state={width:null};return c}var d=c.prototype;d.render=function(){var a=this,c=this.props.imageSizes;this.props.usePhotoArrange&&this.state.width!=null&&this.state.width!==0&&(c=b("PhotoArrange").solve({containerWidth:Math.max(0,this.state.width-h),marginPerImage:k,maxImageHeight:this.props.maxImageHeight,minImageHeight:i,minImageWidth:j},this.props.imageSizes.toArray()));c=this.props.imageIDs.toList().zipWith(function(a,b){return{imageID:a,size:b}},b("immutable").List(c));c=c.map(function(c){return b("React").createElement(l,{imageID:c.imageID,imageSpecs:a.props.imageSpecs,key:c.imageID.getSignature(),placementSpecs:a.props.placementSpecs,size:c.size,onClick:a.props.onClick})});return b("React").createElement(b("ResponsiveBlock.react"),{className:"_3rke",onResize:this.$1},c)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsMediaPickerImageCurrentSelectionItemContainer.react",["AdsImageIDClasses","AdsImageInfoStore","AdsMediaPickerCurrentSelectionBarItem.react","AdsMediaPickerUtils","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageIDClasses").AdsExternalImageID,h=b("AdsImageIDClasses").AdsShutterstockImageID,i=b("AdsMediaPickerUtils").simpleStateCache;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("AdsImageInfoStore")]};c.calculateState=function(a,c){var d=b("AdsImageInfoStore").getNameSelector(),e=b("AdsImageInfoStore").getThumbnailSelector();c.id instanceof h?e=b("AdsImageInfoStore").getPreviewSelector():c.id instanceof g&&(e=b("AdsImageInfoStore").getThumbnailURLSelector(),e(c.id).isEmpty()&&(e=b("AdsImageInfoStore").getFullSizeSelector()));d={id:c.id,key:c.id.getSignature(),title:d(c.id),thumbnail:e(c.id).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a})};return i(a,d)};var d=c.prototype;d.render=function(){return b("React").createElement(b("AdsMediaPickerCurrentSelectionBarItem.react"),{item:this.state,onRemoveItem:this.props.onRemoveItem})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("AdsMediaPickerDialogImageErrorContext",["react"],(function(a,b,c,d,e,f){"use strict";e.exports=b("react").createContext({imageSpecs:null,placementSpecs:null})}),null);
__d("AdsMediaPickerImageGridItemContainer.react",["AdsImageIDClasses","AdsImageInfoStore","AdsMediaPickerDialogImageErrorContext","AdsMediaPickerGridDisplayItem.react","AdsMediaPickerUtils","FluxContainer","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageIDClasses").AdsExternalImageID,h=b("AdsImageIDClasses").AdsShutterstockImageID,i=b("AdsMediaPickerUtils").simpleStateCache;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("AdsImageInfoStore")]};c.calculateState=function(a,c){var d=b("AdsImageInfoStore").getNameSelector(),e=b("AdsImageInfoStore").getFullSizeSelector(),f=b("AdsImageInfoStore").getThumbnailSelector();c.id instanceof h?f=b("AdsImageInfoStore").getPreviewSelector():c.id instanceof g&&(f=b("AdsImageInfoStore").getThumbnailURLSelector());e={id:c.id,key:c.id.getSignature(),size:e(c.id).map(function(a){return{height:a.height,width:a.width}}),title:d(c.id),thumbnail:f(c.id).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a})};return i(a,e)};var d=c.prototype;d.render=function(){var a=this;return b("React").createElement(b("AdsMediaPickerDialogImageErrorContext").Consumer,null,function(c){var d=c.imageSpecs;c=c.placementSpecs;return b("React").createElement(b("AdsMediaPickerGridDisplayItem.react"),{errors:b("AdsMediaPickerUtils").calculateImageErrors(d,c,b("AdsImageInfoStore").getFullSize(a.props.id)),isDisabled:a.props.isDisabled,isSelected:a.props.isSelected,item:a.state,onSelect:a.props.onSelect})})};return c}(b("React").PureComponent);e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("AdsImageSourceImagesContainer.react",["AdsFluxContainer","AdsImageIDClasses","AdsImageInfoStore","AdsImageSelectorV2StateStore","AdsImageSelectorV2Types","AdsImageSourceImages.react","AdsMediaPickerConstants","AdsMediaPickerDialogContext","AdsMediaPickerImageCurrentSelectionItemContainer.react","AdsMediaPickerImageGridItemContainer.react","AdsStockImageSourceUtils","JSResource","React","gkx","immutable","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageIDClasses").AdsShutterstockImageID;b("AdsImageSelectorV2Types").ImageSourceImageSpec;var h=b("AdsStockImageSourceUtils").estimatePreviewDimensions,i=b("lazyLoadComponent")(b("JSResource")("AdsMediaPickerCurrentSelectionBar.react").__setRef("AdsImageSourceImagesContainer.react")),j=b("lazyLoadComponent")(b("JSResource")("AdsMediaPickerGridDisplay.react").__setRef("AdsImageSourceImagesContainer.react")),k=b("gkx")("729526");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){return c.props.onClick(c.state.selectedImageIDs.includes(a),a)},c.$2=function(a){return a.forEach(function(a){return c.props.onClick(c.state.selectedImageIDs.includes(a),a)})},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("AdsImageInfoStore"),b("AdsImageSelectorV2StateStore")]};c.calculateState=function(a,c){var d=[];k||c.imageIDs.forEach(function(a){var e,f;c.usePhotoArrange&&(a instanceof g?(e=b("AdsImageInfoStore").getPreview(a),e.hasValue()&&(f=h(e.getValueEnforcing()))):(e=b("AdsImageInfoStore").getFullSize(a),e.hasValue()&&(f=e.getValueEnforcing())));d.push(f||c.size)});d=b("immutable").List(d);var e=b("AdsImageSelectorV2StateStore").getSelectedImageIDs();return{imageSizes:a&&b("immutable").is(a.imageSizes,d)?a.imageSizes:d,selectedImageIDs:e}};var d=c.prototype;d.render=function(){if(k&&this.props.onEndReached){var a,c={allowMultiUpload:this.props.allowMultiUpload,hasNextPage:this.props.hasNextPage,isLoading:this.props.isLoading,itemIDs:this.props.imageIDs,itemRenderer:b("AdsMediaPickerImageGridItemContainer.react"),maxSelectionCount:(a=this.props.maxSelectedImageIDs)!=null?a:1,mediaType:b("AdsMediaPickerConstants").IMAGE,selectedItems:this.state.selectedImageIDs,uploadFailReason:this.props.uploadFailReason,onSelect:this.$1,onEndReached:this.props.onEndReached,onUpload:this.props.onUpload};return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("AdsMediaPickerDialogContext").Consumer,null,function(){return b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(j,c))}),b("React").createElement(b("React").Suspense,{fallback:b("React").createElement("div",null)},b("React").createElement(i,{itemIDs:this.state.selectedImageIDs,itemRenderer:b("AdsMediaPickerImageCurrentSelectionItemContainer.react"),maxSelectionCount:(a=this.props.maxSelectedImageIDs)!=null?a:1,onRemoveItems:this.$2})))}return b("React").createElement(b("AdsImageSourceImages.react"),{imageIDs:this.props.imageIDs,imageSizes:this.state.imageSizes,imageSpecs:this.props.imageSpecs,maxImageHeight:this.props.size.height,placementSpecs:this.props.placementSpecs,usePhotoArrange:this.props.usePhotoArrange,onClick:this.props.onClick})};return c}(b("React").PureComponent);a.defaultProps={allowMultiUpload:!1,uploadFailReason:null};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsImageDialogFilterFieldConfig",["fbt","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterOperatorConfig"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=.01,i=16/9,j=9/16,k=4/5,l=1/1,m={TITLE:"title",WIDTH:"width",HEIGHT:"height",ASPECT_RATIO:"aspect_ratio"},n={ASPECT_RATIO_16_OVER_9:"16:9",ASPECT_RATIO_9_OVER_16:"9:16",ASPECT_RATIO_4_OVER_5:"4:5",ASPECT_RATIO_1_OVER_1:"1:1",HEIGHT_GREATER_THAN_340:"greater than 340px",HEIGHT_GREATER_THAN_1067:"greater than 1067px",WIDTH_GREATER_THAN_600:"greater than 600px"};d=(c={},c[m.TITLE]={text:g._("Nom de l\u2019image"),field:new(b("AdsGenericFilterField"))(m.TITLE,b("AdsGenericFilterFieldType").STRING),operators:[b("AdsGenericFilterOperatorConfig").CONTAIN],values:"",allowDuplication:!1},c[m.WIDTH]={text:g._("Largeur"),field:new(b("AdsGenericFilterField"))(m.WIDTH,b("AdsGenericFilterFieldType").STRING_SET),operators:[b("AdsGenericFilterOperatorConfig").EQUAL],values:[{value:n.WIDTH_GREATER_THAN_600}],allowDuplication:!1},c[m.HEIGHT]={text:g._("Taille"),field:new(b("AdsGenericFilterField"))(m.HEIGHT,b("AdsGenericFilterFieldType").STRING_SET),operators:[b("AdsGenericFilterOperatorConfig").EQUAL],values:[{value:n.HEIGHT_GREATER_THAN_340},{value:n.HEIGHT_GREATER_THAN_1067}],allowDuplication:!1},c[m.ASPECT_RATIO]={text:g._("Proportions"),field:new(b("AdsGenericFilterField"))(m.ASPECT_RATIO,b("AdsGenericFilterFieldType").STRING_SET),operators:[b("AdsGenericFilterOperatorConfig").EQUAL],values:[{value:n.ASPECT_RATIO_16_OVER_9},{value:n.ASPECT_RATIO_9_OVER_16},{value:n.ASPECT_RATIO_4_OVER_5},{value:n.ASPECT_RATIO_1_OVER_1}],allowDuplication:!1},c);var o=Object.freeze({minAspectRatio:null,maxAspectRatio:null,name:"",minWidth:0,minHeight:0});function a(a){__p&&__p();return!a?o:a.values.reduce(function(a,b){__p&&__p();var c=b.field.name;b=b.value;switch(c){case m.TITLE:a.name=b;break;case m.WIDTH:switch(b){case n.WIDTH_GREATER_THAN_600:a.minWidth=600;break}break;case m.HEIGHT:switch(b){case n.HEIGHT_GREATER_THAN_340:a.minHeight=340;break;case n.HEIGHT_GREATER_THAN_1067:a.minHeight=1067;break}break;case m.ASPECT_RATIO:switch(b){case n.ASPECT_RATIO_16_OVER_9:a.minAspectRatio=i-h;a.maxAspectRatio=i+h;break;case n.ASPECT_RATIO_9_OVER_16:a.minAspectRatio=j-h;a.maxAspectRatio=j+h;break;case n.ASPECT_RATIO_4_OVER_5:a.minAspectRatio=k-h;a.maxAspectRatio=k+h;break;case n.ASPECT_RATIO_1_OVER_1:a.minAspectRatio=l-h;a.maxAspectRatio=l+h;break}break}return a},babelHelpers["extends"]({},o))}e.exports={AdsImageDialogFilterFieldConfig:d,AdsImageDialogFilterFieldNames:m,AdsImageDialogFilterFieldValues:n,parseApiFilters:a}}),null);
__d("AdsImageDialogFilterValueText",["fbt","AdsImageDialogFilterFieldConfig"],(function(a,b,c,d,e,f,g){"use strict";a=b("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldValues;d=(c={},c[a.HEIGHT_GREATER_THAN_340]=g._("Plus de 340 px"),c[a.HEIGHT_GREATER_THAN_1067]=g._("Plus de 1 067 px"),c[a.WIDTH_GREATER_THAN_600]=g._("Plus de 600 px"),c[a.ASPECT_RATIO_16_OVER_9]="16:9",c[a.ASPECT_RATIO_9_OVER_16]="9:16",c[a.ASPECT_RATIO_4_OVER_5]="4:5",c[a.ASPECT_RATIO_1_OVER_1]="1:1",c);e.exports=d}),null);
__d("AdsImageDialogFilter.react",["cx","AdsImageDialogFilterFieldConfig","AdsImageDialogFilterValueText","AdsImageDialogPanelLoggerEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsMediaDialogFilter.react","AdsMediaDialogFilterConstants","AdsMediaPickerFilterSelector.react","React","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldConfig;a=b("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames;c=b("AdsMediaDialogFilterConstants").FilteringAction;var i=b("gkx")("729526"),j=(d={},d[c.ADD]=(f={},f[a.TITLE]=b("AdsImageDialogPanelLoggerEvents").CLICK_ADD_TITLE_IMAGE_FILTER,f[a.WIDTH]=b("AdsImageDialogPanelLoggerEvents").CLICK_ADD_WIDTH_IMAGE_FILTER,f[a.HEIGHT]=b("AdsImageDialogPanelLoggerEvents").CLICK_ADD_HEIGHT_IMAGE_FILTER,f),d[c.DELETE]=(g={},g[a.TITLE]=b("AdsImageDialogPanelLoggerEvents").CLICK_DELETE_TITLE_IMAGE_FILTER,g[a.WIDTH]=b("AdsImageDialogPanelLoggerEvents").CLICK_DELETE_WIDTH_IMAGE_FILTER,g[a.HEIGHT]=b("AdsImageDialogPanelLoggerEvents").CLICK_DELETE_HEIGHT_IMAGE_FILTER,g),d[c.UPDATE]=(f={},f[a.TITLE]=b("AdsImageDialogPanelLoggerEvents").CLICK_UPDATE_TITLE_IMAGE_FILTER,f[a.WIDTH]=b("AdsImageDialogPanelLoggerEvents").CLICK_UPDATE_WIDTH_IMAGE_FILTER,f[a.HEIGHT]=b("AdsImageDialogPanelLoggerEvents").CLICK_UPDATE_HEIGHT_IMAGE_FILTER,f),d),k=b("AdsImageDialogFilterValueText");function l(a){return a==null?h:a.reduce(function(a,b){a[b]=h[b];return a},{})}function m(a,c){a=j[a];if(!a)return;a=a[c.getField().name];if(!a)return;b("AdsInterfacesLogger").log({eventName:a,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}g=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a,b){return c.props.onApplyFilters(b,null,null)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){return i?b("React").createElement(b("AdsMediaPickerFilterSelector.react"),{fieldConfig:l(this.props.whitelistedFilters),valueLabelMap:k,onApplyFilters:this.$1,onLogFilterChange:m}):b("React").createElement("div",{className:"_6_gs"},b("React").createElement(b("AdsMediaDialogFilter.react"),{fieldConfig:l(this.props.whitelistedFilters),loggerMap:j,valueLabelMap:k,onApplyFilters:this.props.onApplyFilters}))};return c}(b("React").PureComponent);e.exports=g}),null);
__d("AdsMediaPickerImageSortConfig",["AdsAPIImageFields","AdsMediaPickerConstants"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaPickerConstants").sortKeys;c="_ascending";d="_descending";e.exports=(f={},f[a.CLEAR]="",f[a.HEIGHT_ASC]=""+b("AdsAPIImageFields").HEIGHT+c,f[a.HEIGHT_DSC]=""+b("AdsAPIImageFields").HEIGHT+d,f[a.WIDTH_ASC]=""+b("AdsAPIImageFields").WIDTH+c,f[a.WIDTH_DSC]=""+b("AdsAPIImageFields").WIDTH+d,f)}),null);