if (self.CavalryLogger) { CavalryLogger.start_js(["\/Hwfr"]); }

__d("AdsReviewApiAdReviewApiRequestCompleteDataAction",["Laminar","AdsReviewApiAdReviewApiRequestCompleteDataReducerPlugin","AdsReviewApiAdReviewApiRequestCompleteDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsReviewApiAdReviewApiRequestCompleteDataReducerPlugin"),b("AdsReviewApiAdReviewApiRequestCompleteDataProvider"),{})]},function(){return[]},"AD_VALIDATION.AD_REVIEW_API_REQUEST_COMPLETE");e.exports=a}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataProvider",["Laminar","AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin"),"AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin")}),null);
__d("AdsCFReviewAPIDataDispatcher",["Promise","AdContentFeedbackTypes","AdsAPIAdgroupFields","AdsCFUnifiedLoggerInternal","AdsReviewApiAdReviewApiRequestCompleteDataAction","AdsReviewAPIBatchingQueue","AdsReviewIPCUtils","AdsRunStatus","BusinessIntegrityIPCCallsite","IntegrityAPIConversions","mergeDeep","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.validateAd=function(a,c,d,e){__p&&__p();var f=this;c=c.map(function(a){a=f.getAdgroupAPIReviewSpec(a,d);return a}).map(function(c){return b("AdsReviewAPIBatchingQueue").addAdgroupCreateItem(a,c,e,b("BusinessIntegrityIPCCallsite").ADS_MANAGER)});b("promiseDone")(b("Promise").all(c).then(function(a){return a.reduce(function(a,c){var d=a.feedback;c.feedback===b("AdContentFeedbackTypes").REJECT&&(d=b("AdContentFeedbackTypes").REJECT);var f=new Map(a.imageUniqueIdentifierToBoxesAndPolicy);c.imageUniqueIdentifierToBoxesAndPolicy.forEach(function(a,b){return f.set(b,a)});return{adHash:e,data:b("mergeDeep")(a.data,c.data),warningData:b("mergeDeep")(a.warningData,c.warningData),feedback:d,imageUniqueIdentifierToBoxesAndPolicy:f,creativeID:c.creativeID,action_list:c.action_list}},b("IntegrityAPIConversions").getApprovedFeedback(e))}),function(a){b("AdsReviewApiAdReviewApiRequestCompleteDataAction").dispatch({adFeedback:a},{line:"90",module:"AdsCFReviewAPIDataDispatcher.js"})})};c.getAdgroupAPIReviewSpec=function(a,c){var d;return d={},d[b("AdsAPIAdgroupFields").STATUS]=b("AdsRunStatus").PAUSED,d[b("AdsAPIAdgroupFields").CREATIVE]=a.creative,d[b("AdsAPIAdgroupFields").NAME]=a.name,d[b("AdsAPIAdgroupFields").ADSET_SPEC]=c,d[b("AdsAPIAdgroupFields").REVIEW_CONFIG]={review_session_id:b("AdsReviewIPCUtils").getAdsInterfaceReviewSessionID(String(b("AdsCFUnifiedLoggerInternal").getSessionCounter()))},d};return a}();c=new a();e.exports=c}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils",["AdsAccountStore","AdsAPIAdgroupPaths","AdsCFAdgroupProviderStore","AdsCFAdgroupStateUtils","AdsCFCampaignStateUtils","AdsCFReviewAPIDataDispatcher","adsCFCampaignStateSelector","adsCFGetActiveCampaignIDState_HACK","areEqual","debounce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c=h(a),d=c.adgroupSpec,e=c.campaignObject;if(!e||!d||d[0].creative===null||d[0].creative!=null&&Object.keys(d[0].creative).length===0||i(a,c))return a;a.data=c;return a.feedback.maybeValidateAdArray(c.accountID,d,e,a,b("debounce")(g,0))}function c(a,b){return a.feedback.maybeSetFeedback(a,b)}function g(a,c,d,e){b("AdsCFReviewAPIDataDispatcher").validateAd(a,c,d,e)}function h(a){__p&&__p();a=b("AdsAccountStore").getSelectedAccountIDX();var c=b("AdsCFAdgroupStateUtils").getAdgroupRecords(b("AdsCFAdgroupProviderStore").getState()),d;if(c&&c.length>0){var e;c=c.map(function(a){return a.removeIn(b("AdsAPIAdgroupPaths").MANUAL_REVIEW_REQUESTED).removeIn(b("AdsAPIAdgroupPaths").REVIEW_CONFIG.path)});e=(e=c[0].creative)==null?void 0:e.object_story_id;e&&e.contains("LOADING")&&(c[0]=c[0].removeIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).removeIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_ACTOR_ID));d=c.map(function(a){return a.toJS()})}e=b("AdsCFCampaignStateUtils").getFirstSelectedRecordNullable(b("adsCFCampaignStateSelector")(),b("adsCFGetActiveCampaignIDState_HACK")());return{accountID:a,adgroupSpec:d,campaignObject:e?e.toJS():null}}function i(a,c){return b("areEqual")(a.data,c)}e.exports={maybeSetFeedbackImm:c,maybeValidateCurrentAd:a,validateAd:g}}),null);
__d("AdsReviewAPIFeedbackHelper",["AdContentFeedbackTypes","AdsReviewAPIUtils","CROWCompsType","IntegrityAPIConversionsConstants","immutable","md5","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("IntegrityAPIConversionsConstants").TEXT_OVERLAY_REASONS_ORDERED,h=b("IntegrityAPIConversionsConstants").TEXT_PENALTY_REASONS,i=b("immutable").Map({bannerProps:b("immutable").Map({title:"DUMMY_TITLE",body:"DUMMY_BODY"}),actionProps:b("immutable").Map({action1:b("immutable").Map({uhh:"something"})})});a=function(a){return function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record(babelHelpers["extends"]({},a)))};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.maybeValidateAdArray=function(a,d,e,f,g){var h=this.$AdsReviewAPIFeedbackHelper1(d,e);if(h===this.adHash)return f;g(a,d,e,h);return{data:f.data,feedback:new c({adHash:h}),renderData:b("immutable").Map()}};d.maybeSetFeedback=function(a,b){return b.adHash===a.feedback.adHash?this.$AdsReviewAPIFeedbackHelper2(a,b):a};d.getIsTextPenaltyViolation=function(){var a=this.getMaybeTextOverlayViolation();return!!a&&h.has(a)};d.getMaybeTextOverlayViolation=function(){var a=this.policies,b=g.findIndex(function(b){return a.has(b)});return b===-1?null:g[b]};d.getViolatingImageIdentifiers=function(a){var c=this;return Array.from(this.imageUniqueIdentifierToBoxesAndPolicy.keys()).filter(function(d){d=c.imageUniqueIdentifierToBoxesAndPolicy.get(d);return b("nullthrows")(d).policyWarning===a})};d.getViolatingImageIdentifiersForTextPenalty=function(){var a=this;return Array.from(this.imageUniqueIdentifierToBoxesAndPolicy.keys()).filter(function(c){c=a.imageUniqueIdentifierToBoxesAndPolicy.get(c);return h.has(b("nullthrows")(c).policyWarning)})};d.getTextOverlayBoxesForIdentifier=function(a){if(a==null||!this.imageUniqueIdentifierToBoxesAndPolicy.has(a))return[];a=this.imageUniqueIdentifierToBoxesAndPolicy.get(a);return!a||!a.boxes?[]:a.boxes};d.getTextPenaltyWarningsForIdentifier=function(a){__p&&__p();var c=null;if(a==null||!this.imageUniqueIdentifierToBoxesAndPolicy.has(a))return c;a=this.imageUniqueIdentifierToBoxesAndPolicy.get(a);if(!a)return c;a=a.policyWarning;if(this.reviewFeedback){var d=this.reviewFeedback.warningData[b("CROWCompsType").PROACTIVE_AD_IMAGE];!!d&&Object.prototype.hasOwnProperty.call(d,a)&&(c=d[a].feedback_info.description)}return c};d.$AdsReviewAPIFeedbackHelper1=function(a,c){return b("md5")(JSON.stringify(Object.assign({},{spec:a},c)))};d.$AdsReviewAPIFeedbackHelper2=function(a,b){var d=this.$AdsReviewAPIFeedbackHelper3(b.warningData),e=d.policies;d=d.crowCompTypeToMessages;if(!this.$AdsReviewAPIFeedbackHelper4(b))return babelHelpers["extends"]({},a,{feedback:new c({adHash:a.feedback.adHash,policies:e,reviewFeedback:b,imageUniqueIdentifierToBoxesAndPolicy:b.imageUniqueIdentifierToBoxesAndPolicy,crowCompTypeToMessages:d}),renderData:i});var f=this.$AdsReviewAPIFeedbackHelper3(b.data);e=e.union(f.policies);d=d.mergeDeep(f.crowCompTypeToMessages);return babelHelpers["extends"]({},a,{feedback:new c({adHash:a.feedback.adHash,policies:e,reviewFeedback:b,imageUniqueIdentifierToBoxesAndPolicy:b.imageUniqueIdentifierToBoxesAndPolicy,crowCompTypeToMessages:d,action_list:b.action_list}),renderData:i})};d.$AdsReviewAPIFeedbackHelper3=function(a){__p&&__p();var c=b("immutable").Map(),d=b("immutable").Set();Object.keys(a).forEach(function(e){e=b("AdsReviewAPIUtils").getCROWType(e);var f=a[e],g=b("immutable").List();Object.keys(f).forEach(function(a){d=d.add(a);a=f[a];a.feedback_info&&(g=g.push(a.feedback_info.description))});c=c.set(e,g)});return{policies:d,crowCompTypeToMessages:c}};d.$AdsReviewAPIFeedbackHelper4=function(a){return!!a&&!!a.feedback&&a.feedback===b("AdContentFeedbackTypes").REJECT};return c}(a({actionList:b("immutable").Map(),adHash:"",reviewFeedback:null,crowCompTypeToMessages:b("immutable").Map(),disapprovalReasonToAction:b("immutable").Map(),imageUniqueIdentifierToBoxesAndPolicy:b("immutable").Map(),policies:b("immutable").Set()}));e.exports=c}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataProviderPlugin",["AdsCFAdgroupProviderStore","AdsDataAtom","AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils","AdsReviewAPIFeedbackHelper","AdsSelectorUtils","adsCFCampaignStateSelector","immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:{data:{accountID:"",adgroupSpec:null,campaignObject:null},feedback:new(b("AdsReviewAPIFeedbackHelper"))(),renderData:b("immutable").Map()},legacyFluxReduce:function(a,c){b("AdsDataAtom").waitFor([].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsCFCampaignStateSelector")]),[b("AdsCFAdgroupProviderStore").getDispatchToken()]));return b("AdsCFAdgroupProviderStore").hasChanged()||b("AdsSelectorUtils").hasAnyStoreChanged([b("adsCFCampaignStateSelector")])?b("AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils").maybeValidateCurrentAd(a):a}};e.exports=a}),null);
__d("AdsReviewApiAdReviewApiRequestCompleteDataReducerPlugin",["AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("AdsReviewApiAdReviewApiRequestCompleteDataStoreUtils").maybeSetFeedbackImm(a,c.adFeedback)}};e.exports=a}),null);