if (self.CavalryLogger) { CavalryLogger.start_js(["LY92c"]); }

__d("MAudioUtil",["Promise","EventEmitter","FBLogger"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=new h(),k={};function l(a,b){__p&&__p();if(!a||typeof a!=="string")return null;if(!k[a]){var c=document.createElement("audio");c.style.display="none";c.volume=.4;c.preload="auto";var d=document.createElement("source");d.setAttribute("src",a);d.setAttribute("type",b||"audio/mp4");c.appendChild(d);c.addEventListener("ended",function(){j.emit("end-"+a)},!1);k[a]=c}return k[a]}function m(a){try{i("mweb:audio").warn("Audio file %s missing.",a)}catch(a){}}e.exports={prepare:function(a,b){if(a&&a.length)for(var c=0;c<a.length;c++)a[c]&&l(a[c],b)},play:function(a){__p&&__p();return new g(function(b,c){__p&&__p();var d=l(a);if(!d||!d.play){m(a);c();return}var e="end-"+a,f=!1;c=function(){if(!f){f=!0;d.currentTime=0;d.play();var a,c=function(){a&&a.remove(),b()};a=j.once(e,c)}};var g=j.listeners(e);g&&g.length?b():c()})}}}),null);
__d("MAudioController",["Promise","MAudioUtil"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=!0;function j(a,b,c){a&&c&&(b[a]=function(){return!i?new g(function(a){a()}):h.play(c)})}function k(a,b){var c=[];Object.keys(a).forEach(function(d){if(!b[d]){var e=a[d];j(d,b,e);c.push(e)}});h.prepare(c)}var l={setEnabled:function(a){i=a},prepare:function(a,b,c){this.setEnabled(c);l[a]=l[a]||{};c=k(b,l[a]);l[a]=Object.assign({},l[a],c)},play:function(a,b){l[a]&&typeof l[a][b]==="function"&&l[a][b]()}};e.exports=l}),null);
__d("XLynxAsyncCallbackController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/si/linkclick/ajax_callback/",{lynx_uri:{type:"String"}})}),null);
__d("FBLynxLogging",["BanzaiODS","MRequest","XLynxAsyncCallbackController"],(function(a,b,c,d,e,f,g,h,i){"use strict";a={log:function(a){var b=i.getURIBuilder().getURI();b=new h(b).setData({lynx_uri:a});b.listen("error",function(a){a.code?(a.isHandled=!0,g.bumpEntityKey("linkshim","click_log.post.fail."+a)):g.bumpEntityKey("linkshim","click_log.post.fail.unknown")});b.send()}};e.exports=a}),null);
__d("FBLynxBase",["FBLynxLogging","LinkshimHandlerConfig","URI","$","isLinkshimURI"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();function l(a){if(!k(a))return null;a=a.getQueryData().u;return!a?null:a}var m={logAsyncClick:function(a){m.swapLinkWithUnshimmedLink(a);a=a.getAttribute("data-lynx-uri");if(!a)return;g.log(a)},originReferrerPolicyClick:function(a){var b=j("meta_referrer");b.content=h.switched_meta_referrer_policy;m.logAsyncClick(a);setTimeout(function(){b.content=h.default_meta_referrer_policy},100)},swapLinkWithUnshimmedLink:function(a){var b=a.href,c=l(new i(b));if(!c)return;a.setAttribute("data-lynx-uri",b);a.href=c},revertSwapIfLynxURIPresent:function(a){var b=a.getAttribute("data-lynx-uri");if(!b)return;a.removeAttribute("data-lynx-uri");a.href=b}};e.exports=m}),null);
__d("LynxMsiteJSMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ORIGINLAZY:"MLynx_originlazy",ASYNCLAZY:"MLynx_asynclazy"})}),null);
__d("MLynx",["FBLynxBase","LynxMsiteJSMode","Stratcom","URI","isLinkshimURI"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l={alreadySetup:!1,setupDelegation:function(a){__p&&__p();a===void 0;if(l.alreadySetup)return;l.alreadySetup=!0;i.listen("click",h.ORIGINLAZY,function(a){a=a.getNode(h.ORIGINLAZY);a instanceof HTMLAnchorElement&&g.originReferrerPolicyClick(a)});i.listen("click",h.ASYNCLAZY,function(a){a=a.getNode(h.ASYNCLAZY);a instanceof HTMLAnchorElement&&g.logAsyncClick(a)})},isShimmedLink:function(a){var b=a.getAttribute("href");b=b?k(new j(b)):!1;return b||a.hasAttribute("data-lynx-uri")}};e.exports=l}),null);
__d("MNotificationClick",["CSS","MLegacyDataStore","MRequest","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k="notification",l="list_",m="acw",n="aclb",o={},p=!1;e.exports={init:function(){if(p)return;j.listen("click",k,q);j.listen("m:page:render:cache:complete",null,r);p=!0}};function q(a){var b=a.getNode("touchable");if(!b)return;var c=h.get(b).notif_id;if(!c)return;new i("/a/jewel_notifications_log.php").addData({click_type:"notification_click",id:c,target_id:h.get(b).target_id}).send();s(a)}function r(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in o)t(b)}function s(a){__p&&__p();a=a.getNode("marea");if(!a)return;a=a.getAttribute("id");if(!a)return;t(a);var b=a.startsWith(l)?a.substring(l.length):l+a;t(b);o[a]=!0;o[b]=!0}function t(a){a=document.getElementById(a);a&&(g.addClass(a,m),g.removeClass(a,n))}}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["ActorURI","BanzaiLogger","CancelableEventListener","CSS","DOM","MAudioController","MBlockingTouchable","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","clearTimeout","cx","fbt","gkx","setTimeout"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){__p&&__p();var D=[1,2,4,3,7,8],E=17,F="_ft_",G={top:.3,bottom:.6},H,I=[],J=function(){"use strict";__p&&__p();function a(a){__p&&__p();var b=this;this.autoHideOnScroll=function(a){__p&&__p();a=b.flyout;if(!a||!a.isShown()){t.removeCurrentListener();return}var c;window.innerHeight?c=window.innerHeight:document.body&&(c=document.body.clientHeight);if(!c)return;var d=a.getContext().getBoundingClientRect().top,e=c*G.top,f=c*G.bottom;(d<e||d>f)&&a.hide()};this.onUnload=function(){b.onHide(),b.pageSubscriptions.release()};this.onClick=function(a){a=a.getNode("reaction-item");a instanceof HTMLElement&&b.select(a)};this.onScreenReaderTrigger=function(a){__p&&__p();a=a.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;b.flyout.setContext(a);b.setSupported();b.flyout.show();b.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",b.onClick));a=o.get(n.get(b.flyout.getContext()).feedbackTarget).getData();a=a.viewerreaction;var c=null;for(var d=0,e=b.reactionElements.length;d<e;d++){var f=n.get(b.reactionElements[d]);f=f.reaction;f===a&&(c=b.reactionElements[d])}c||(c=b.reactionElements[0]);c.focus()};this.onClickTrigger=function(a){__p&&__p();a=a.getTarget();if(!(a instanceof HTMLElement))return;var c=b.flyout;if(c.isShown()){c.hide();return}t.hasSigil(a,"like-reaction-flyout")||(a=p.bySigil(a,"like-reaction-flyout"));a&&b.setupFlyout(c,a)};this.onClickCapture=function(a){__p&&__p();var c=b.flyout;if(c){var d=n.get(c.getContext());d=d.kaiOSReactions;if(d&&c.isShown()){c.hide();return}}a.stop()};this.onTouchStart=function(a){__p&&__p();var c=b.flyout;if(!c.isShown()){var d=document;d=d.body;d&&j.addClass(d,"_70ol");b.touchStartX=a.getTouch().clientX;b.timing.touchStartTime=Date.now();b.preventScrollTimeout=C(function(){b.canScroll=!1},200);b.longpressTimeout=C(function(){b.timing.shownTime=Date.now();var d=a.getTarget();if(!(d instanceof HTMLElement))return;t.hasSigil(d,"like-reaction-flyout")||(d=p.bySigil(d,"like-reaction-flyout"));d&&b.setupFlyout(c,d)},300)}};this.onTouchMove=function(a){__p&&__p();var c=b.flyout,d=c.getContext()&&n.get(c.getContext()).isComment;b.canScroll||(d?a.kill():a.prevent());if(!c.isShown())return;a=a.getTouch();var e=a.clientX;a=a.clientY;a=document.elementFromPoint(e,a);if(a){var f=a.nodeName==="I"||a.nodeName==="IMG";if(!(f||b.canScrub)){b.canScrub=Math.abs(b.touchStartX-e)>=25;return}c.getContentRoot().setAttribute("data-longpress",!0);if(c.getContentRoot().contains(a)){if(f){a=(e=a)!=null?(e=e.parentNode)!=null?e.parentNode:e:e}b.active!==a&&n.get(a).reaction&&(b.isUpdatedDock||d?b.showOverlay(b.overlay&&b.overlay.slide):b.showOverlay(b.overlay&&b.overlay.dots),b.removeActive(),b.active=a,a&&a.setAttribute("data-active","true"))}else(!b.overlay||!b.overlay.container.contains(a))&&(b.removeActive(),b.showOverlay(b.overlay&&b.overlay.release))}};this.onTouchEnd=function(a){__p&&__p();var c=b.active;if(c)b.log({finalReaction:n.get(c).reaction,viaScrubbing:!0}),b.select(c);else{c=a.getTouch();a=c.clientX;c=c.clientY;a=document.elementFromPoint(a,c);c=b.flyout;a&&!(c.getContentRoot().contains(a)||c.getContext().contains(a)||b.overlay&&b.overlay.container.contains(a))&&c.hide()}};this.onWindowClick=function(a){var c;a=a.getNode("reaction-item");a&&(c=n.get(a).reaction);b.log({finalReaction:c,viaScrubbing:!1})};this.onWindowTouchEnd=function(){var a=b.flyout;a.isShown()?(b.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(b.canScroll=!0,y(b.longpressTimeout),y(b.preventScrollTimeout))};this.onHide=function(){__p&&__p();var a=document;a=a.body;a&&j.addClass(a,"_70ol");b.canScroll=!0;b.canScrub=!1;b.removeActive();b.removeUFIOverlay();b.flyout.hide();b.flyoutSubscriptions.release();b.flyoutSubscriptions=new u()};this.onWindowTouchMove=function(){b.flyout.isShown()||(b.canScroll=!0,y(b.longpressTimeout),y(b.preventScrollTimeout))};this.flyout=a;this.active=null;this.canScroll=!0;this.canScrub=!1;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.timing={touchStartTime:null,touchEndTime:null,shownTime:null};this.touchStartX=0;this.isUpdatedDock=q.hasUpdatedDock;this.pageSubscriptions=new u();this.flyoutSubscriptions=new u();this.assignFlyoutContent();this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),t.listen("m:page:unload",null,this.onUnload),t.listen("m:viewport:orientation-change",null,this.onHide),t.listen(v.END,null,this.onWindowTouchEnd),t.listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),i.listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove,!0));I.forEach(function(a){return b.addAnchor(a)});H&&this.setNUXTooltip(H);q.hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(t.listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(t.listen("touchmove",null,this.onWindowTouchMove))}var b=a.prototype;b.addAnchor=function(a){var b=t.hasSigil(a,"kaios-like-react-trigger");b?this.pageSubscriptions.addSubscriptions(i.listen(a,"click",null,this.onClickTrigger,!0)):this.pageSubscriptions.addSubscriptions(i.listen(a,v.START,null,this.onTouchStart,!0));q.hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(i.listen(a,"touchmove","like-reaction-flyout",this.onTouchMove,!0),i.listen(a,"touchmove","reaction-item",this.onTouchMove,!0))};b.assignFlyoutContent=function(){(!this.reactionElements||this.reactionElements.length===0)&&(this.reactionElements=document.getElementsByClassName("_1-kd"),Array.prototype.forEach.call(this.reactionElements,function(a){return m.init(a)}))};b.setupFlyout=function(a,b){__p&&__p();B("676818")&&l.play("reactions","openReactionsFlyout");var c=n.get(b);a.setContext(b);this.setSupported();b=this.nuxTooltip;b&&b.hide();b=a.getContentRoot();b=p.bySigil(b,"m-layer-root");b&&(this.isUpdatedDock&&!c.isComment&&(this.applyMultilineFlyout(),j.addClass(b,"_5xt_")),c.isComment&&j.addClass(b,"_31rl"));a.show();b=n.get(a.getContext());a=b.kaiOSReactions;a||this.createUFIOverlay();this.isUpdatedDock||c.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(t.listen("click","reaction-item",this.onClick),t.listenCapture("click","like-reaction-flyout",this.onClickCapture),t.listenCapture("click",null,this.onWindowClick));a&&this.flyoutSubscriptions.addSubscriptions(t.listen("scroll",null,this.autoHideOnScroll));q.hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(t.listen("touchend","like-reaction-flyout",this.onTouchEnd),t.listen("touchend","reaction-item",this.onTouchEnd))};b.select=function(a){__p&&__p();var b=this.flyout;b.hide();B("676818")&&l.play("reactions","selectReactionFromFlyout");if(!a)return;a=n.get(a);a=a.reaction;b=b.getContext();var c=n.get(b),d=c.feedbackTarget;c=c.isComment;var e=o.get(d).getData();if(e.viewerreaction===a)return;if(c){c=b.getAttribute("data-uri")||b.getAttribute("href");c=s.getURI(c);c.addQueryData("reaction_comment_id",d.split("_")[1]);c.addQueryData("viewer_reaction",a);s.send(d,r.getReactionDataForComment(e,a),c)}else{c=e.actor_for_post;c!==0&&!c&&(c=null);var f=p.bySigil(b,"story-div"),h=null;if(f){f=n.get(f).linkdata;if(f&&B("816008")){var i;h=(i={},i[F]=f,i)}}i=Object.assign({},(f={},f[g.PARAMETER_ACTOR]=c,f.ft_ent_identifier=d,f.reaction_type=a,f.feedback_source=new w(b.getAttribute("data-uri")).getQueryData().feedback_source,f),h);s.send(d,r.getReactionData(e,a),x.getURIBuilder().getURI(),i,r.getConfigForBackgroundRetry(d))}};b.removeActive=function(){var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};b.applyMultilineFlyout=function(){__p&&__p();var a=this.flyout,b=a.getContext();b=p.bySigil(b,"mufi-inline");a=a.getContentRoot();b=k.scry(b,"div","reactions-bling-bar");if(b.length==0){j.addClass(a,"_5xu1");return}b=b[0].getBoundingClientRect().height;b>E?j.addClass(a,"_5xu0"):b<E?j.addClass(a,"_5xu1"):(j.removeClass(a,"_5xu0"),j.removeClass(a,"_5xu1"))};b.showOverlay=function(a){var b=this.overlay;if(b&&a){j.show(a);for(var c in b){var d=b[c];d!=a&&d!=b.container&&j.hide(d)}}};b.log=function(a){var b=o.get(n.get(this.flyout.getContext()).feedbackTarget).getData(),c=b.ft_ent_identifier;b=b.viewerreaction;var d=this.timing,e=d.touchEndTime,f=d.touchStartTime;d=d.shownTime;if(!e||!f||!d)return;e=e-f;h.log("UserReactionsLoggerConfig",{feedback_id:c,final_reaction:a.finalReaction||b,initial_reaction:b,"interface":"mTouch",long_press_duration:e>0?e:0,time_spent:Date.now()-d,via_scrubbing:a.viaScrubbing})};b.createUFIOverlay=function(){__p&&__p();var a=this.flyout.getContext(),b=n.get(a),c=b.feedbackTarget;b=b.isComment;c=o.get(c).getData().supportedreactions||D;var d=document.createElement("div");d.style.display="none";d.className="_403o";c=Math.round(c.length*1.3);for(var e=0;e<c;++e){var f=document.createElement("div");f.className="_403p";d.appendChild(f).className="_403p"}f=document.createElement("div");f.style.display="none";f.className="_5xu2";f.textContent=A._("Appuyez pour choisir votre r\u00e9action").toString();e=document.createElement("div");e.style.display="none";e.className="_5xu2";e.textContent=A._("Balayez avec votre doigt").toString();c=document.createElement("div");c.style.display="none";c.className="_5xu2";c.textContent=A._("Rel\u00e2chez pour annuler").toString();var g=document.createElement("div");g.className="_403n";b&&j.addClass(g,"_31ru");g.appendChild(d);g.appendChild(c);(this.isUpdatedDock||b)&&(g.appendChild(f),g.appendChild(e));b=p.bySigil(a,"ufi-inline-actions");b||(b=p.bySigil(a,"ufi-inline-comment-actions"));b?(b.insertBefore(g,b.firstChild),this.overlay={container:g,tap:f,slide:e,release:c,dots:d}):this.overlay=null};b.removeUFIOverlay=function(){var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};b.setSupported=function(){var a=n.get(this.flyout.getContext());a=o.get(a.feedbackTarget).getData().supportedreactions||D;var b=this.reactionElements;for(var c=0,d=b.length;c<d;++c){var e=b[c],f=n.get(e);f=f.reaction;j.conditionShow(e,a.indexOf(f)>=0)}};b.setNUXTooltip=function(a){this.nuxTooltip=a};return a}(),K;e.exports={init:function(a){K=new J(a)},addAnchor:function(a){if(K){K.addAnchor(a);return}I.push(a)},initNUX:function(a){H=a,K&&K.setNUXTooltip(a)}}}),null);
__d("MUFIComposerFocus",["DOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l="mufi-composer-focus",m;function n(a){var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function o(a,b){var c=Math.min(a.length,b.length)-1;for(var c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function p(a){__p&&__p();if(!a)return null;var b=i.bySigil(a,"story-div")||i.bySigil(a,"snowflake-root")||i.bySigil(a,"notes-root");if(!b)return null;b=g.scry(b,"*","mufi-composer").filter(function(a){return!i.bySigil(a,"m-inline-reply-composer")});if(b.length===1)return b[0];var c=n(a);a=b.reduce(function(a,b,d){d=n(b);d=o(c,d);return d>=a[0]?[d,b]:a},[-1,null]);return a[1]}function q(a){var b=a.getNode(l);if(!(b instanceof HTMLElement))return;b=p(b);b&&(a.prevent(),b.focus())}function a(a){if(!a||!m)return!1;a=k.hasSigil(a,l)?a:i.bySigil(a,l);return!!p(a)}function r(a){__p&&__p();a=a.getNode(l);if(!(a instanceof HTMLElement))return;var b=p(a);if(b){var c=i.bySigil(a,"touchable");c&&(h.get(c).nativeClick=!0);c=j.byTag(a,"a");c instanceof HTMLAnchorElement&&(c.href="#"+g.uniqID(b))}}function b(){m||(k.listen("touchstart",l,r),k.listen("click",l,q),m=!0)}e.exports={init:b,isInitialized:function(){return m},isComposerFocusTrigger:a}}),null);
__d("MUFILikeButton",["ActorURI","CSS","DOM","MLegacyDataStore","MLiveData","MParent","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","cx","emptyFunction"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s={is_like:1},t={is_like:0};a=function(){"use strict";__p&&__p();function a(a,b,c,d){this.$1=a,this.$2=k.get(b),this.$4=b,this.$5=c||{log:r},this.$6=d,this.$7=m.getConfigForBackgroundRetry(b),this.$3=new p(),this.$3.addSubscriptions(i.listen(this.$1,"click",null,this.onClick.bind(this)),this.$2.listen("change",this.onChange.bind(this)),o.listen("m:page:unload",null,this.onUnload.bind(this)))}var b=a.prototype;b.onChange=function(){var a=this.$2.getData();if(a.request_id===this.$6)return;a=a.has_viewer_liked;h.conditionClass(this.$1,"_77la",a);o.removeSigil(this.$1,a?"like":"unlike");o.addSigil(this.$1,a?"unlike":"like")};b.getFeedbackData=function(){var a=this.$2.getData(),b=a.has_viewer_liked,c=b?a.like_count-1:a.like_count+1,d=a.reduced_like_count;isNaN(d)||(d=c.toString());return{has_viewer_liked:!b,like_count:c,like_counts:[a.like_counts[1]||null,a.like_counts[0]],like_friend_sentences:[a.like_friend_sentences[1]||null,a.like_friend_sentences[0]],like_sentences:[a.like_sentences[1]||null,a.like_sentences[0]],reduced_like_count:d}};b.getRequestData=function(){return null};b.onClick=function(a){__p&&__p();a.prevent();var b=a.getNode("tag:a");b||(b=a.getNode("tag:div"));if(!b)return;a=n.getURI(b.getAttribute("href")||b.getAttribute("data-uri"));this.$2.getData().has_viewer_liked?(a.addQueryData("ul",!0),a.removeQueryData("reaction_type")):a.removeQueryData(["ul","reaction_type"]);b=l.bySigil(this.$1,"feed-ufi-metadata");if(b){b=j.get(b).actor_id;b&&(a=g.create(a,String(b)))}n.send(this.$4,this.getFeedbackData(),a,this.getRequestData(),this.$7);this.$5.log("like",void 0,this.$2.getData().has_viewer_liked?t:s)};b.onUnload=function(){this.$3.release(),this.$3=null};return a}();e.exports=a}),null);
__d("UFIUIEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ActionAddComment:"UFIUIEvents/ufiActionAddComment",ActionLinkLike:"UFIUIEvents/ufiActionLinkLike",Blur:"ufi/blur",Changed:"ufi/changed",Comment:"ufi/comment",CommentChanged:"ufi/commentChanged",CommentPager:"CommentUFI.Pager",CommentPivot:"ufi/comment_pivot",Focus:"ufi/focus",InputHeightChanged:"ufi/inputHeightChanged",PageCleared:"ufi/page_cleared",PhotoPreviewHeightChanged:"ufi/photoPreviewHightChanged",TranslationRendered:"ufi/translationRendered",ReactionButtonClicked:"ufi/reactionButtonClicked"})}),null);
__d("MUFIReactionButton",["CSS","DOM","MAudioController","MLiveData","MUFILikeButton","MUFIReactionsUtils","Stratcom","Style","UFIReactionIcons","UFIReactionTypes","UFIUIEvents","createIxElement","cx","fbt","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v=1,w=0,x=16;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h){__p&&__p();g=a.call(this,b,c,d,e)||this;g.$MUFIReactionButton1=b;g.$MUFIReactionButton2=j.get(c);g.$MUFIReactionButton3=c;g.$MUFIReactionButton4=e;g.$MUFIReactionButton5=f||x;g.$MUFIReactionButton6=!!h;b.href&&b.setAttribute("data-uri",b.href);b.removeAttribute("href");return g}var c=b.prototype;c.onChange=function(){__p&&__p();var a=this.$MUFIReactionButton2.getData();if(a.request_id===this.$MUFIReactionButton4)return;var b,c;a=a.viewerreaction;var d=!!a;a&&!p.reactions[a]&&(a=null);if(!a)b="inherit",c=t._("J\u2019aime"),this.$MUFIReactionButton6&&(c=h.create("span",{className:"_780q"},c));else{var e=null;if(a!==v){var f=o[a][this.$MUFIReactionButton5];f||(f=o[a][x]);e=r(f);g.addClass(e,"_4h-b")}b=p.reactions[a].color;f=p.reactions[a].display_name;this.$MUFIReactionButton6&&(f=h.create("span",{className:"_780q"},f));c=[e,f]}h.setContent(this.$MUFIReactionButton1,c);this.$MUFIReactionButton1.setAttribute("aria-pressed",d);g.conditionClass(this.$MUFIReactionButton1,"_77ld",d&&a!==v);g.conditionClass(this.$MUFIReactionButton1,"_77la",d&&a===v);n.set(this.$MUFIReactionButton1,"color",b);m.removeSigil(this.$MUFIReactionButton1,d?"like":"unlike");m.addSigil(this.$MUFIReactionButton1,d?"unlike":"like");m.invoke(q.ReactionButtonClicked,null,this.getRequestData())};c.getFeedbackData=function(){var a=this.$MUFIReactionButton2.getData();return l.getReactionData(a,a.has_viewer_liked||a.viewerreaction?w:v)};c.getRequestData=function(){var a=this.$MUFIReactionButton2.getData(),b=a.has_viewer_liked||a.viewerreaction;return{reaction_type:b?w:v,ft_ent_identifier:a.ft_ent_identifier}};c.onClick=function(b){var c=this.$MUFIReactionButton2.getData().viewerreaction;c===w&&(u("676818")&&i.play("reactions","like"));if(m.hasSigil(this.$MUFIReactionButton1,"kaios-like-react-trigger")){c=this.$MUFIReactionButton2.getData();c.viewerreaction&&b.stop()}a.prototype.onClick.call(this,b)};return b}(k);e.exports=a}),null);
__d("BanzaiBase",["BanzaiAdapter","BanzaiConsts","BanzaiLazyQueue","ErrorUtils","FBLogger"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=g,m="ods:banzai",n="send_via_beacon_failure",o=0,p=1,q=2,r=null,s,t=[],u=null,v=[];function w(a,b){a.__meta.status=o,a[3]=(a[3]||0)+1,!a.__meta.retry&&b>=400&&b<600&&t.push(a)}var x={adapter:l,SEND:h.SEND,OK:h.OK,ERROR:h.ERROR,SHUTDOWN:h.SHUTDOWN,VITAL_WAIT:h.VITAL_WAIT,BASIC_WAIT:h.BASIC_WAIT,VITAL:{delay:l.config.MIN_WAIT||h.VITAL_WAIT},BASIC:{delay:l.config.MAX_WAIT||h.BASIC_WAIT},isEnabled:function(a){return l.config.gks&&l.config.gks[a]},post:function(a,b,c){__p&&__p();a||k("banzai").mustfix("Banzai.post called without specifying a route");c=c||{};var d=c.retry;if(l.config.disabled)return;var e=l.config.blacklist;if(e&&(e.indexOf&&(typeof e.indexOf=="function"&&e.indexOf(a)!=-1)))return;var f=x._wrapData(a,b,x._getEventTime(),d);c.callback&&(f.__meta.callback=c.callback);c.compress!=null&&(f.__meta.compress=c.compress);e=c.delay;e==null&&(e=h.BASIC_WAIT);if(c.signal){f.__meta.status=p;b=[{user:x._getUserId(),page_id:x._getPageId(),posts:[f],trigger:a}];l.send(b,function(){f.__meta.status=q,f.__meta.callback&&f.__meta.callback()},function(a){w(f,a)},!0);if(!d)return}t.push(f);(x._schedule(e)||!u)&&(u=a);c=i.flushQueue();c.forEach(function(a){return x.post.apply(x,a)})},registerToSendWithBeacon:function(a,b,c,d){if(!(navigator&&navigator.sendBeacon&&l.isOkToSendViaBeacon()))return!1;if(!a){k("banzai").mustfix("Banzai.registerToSendWithBeacon called without specifying a route");return!1}v.push({cb:b,route:a,onSuccess:c,onFailure:d});return!0},flush:function(b,c){a.clearTimeout(r),r=null,x._sendWithCallbacks(b,c)},subscribe:l.subscribe,canUseNavigatorBeacon:function(){return navigator&&navigator.sendBeacon&&l.isOkToSendViaBeacon()},_canSend:function(a){return a[2]>=x._getEventTime()-(l.config.EXPIRY||h.EXPIRY)},_getPostBuffer:function(){return t},_clearPostBuffer:function(){t=[]},_schedule:function(b){var c=x._getEventTime()+b;if(!s||c<s){s=c;r&&a.clearTimeout(r);r=a.setTimeout(function(){x._sendWithCallbacks()},b);return!0}return!1},_sendWithCallbacks:function(a,b,c){__p&&__p();s=null;x._schedule(x.BASIC.delay);if(!l.readyToSend()){b&&b();return}if(x.isEnabled("flush_storage_periodically")||x.isEnabled("error_impact_test")){var d=x._getStorage();j.applyWithGuard(d.flush,d)}l.inform(h.SEND);d=[];var e=[];t=x._gatherWadsAndPostsFromBuffer(d,e,!0,t,c);if(d.length<=0){l.inform(h.OK);a&&a();return}d[0].trigger=u;u=null;d[0].send_method="ajax";d.map(l.prepWadForTransit);l.send(d,function(){e.forEach(function(a){a.__meta.status=q,a.__meta.callback&&a.__meta.callback()}),a&&a()},function(a){e.forEach(function(b){w(b,a)}),b&&b()})},_gatherWadsAndPostsFromBuffer:function(a,b,c,d,e){__p&&__p();e===void 0&&(e=null);var f={},g=d.length,h=!1;return d.filter(function(d,i){__p&&__p();if(h)return!0;var j=d.__meta;if(j.status>=q||!x._canSend(d))return!1;if(j.status>=p)return!0;var k=j.compress!=null?j.compress:!0,l=j.pageID+j.userID+(k?"compress":""),m=f[l];m||(m={user:j.userID,page_id:j.pageID,posts:[],snappy:k},f[l]=m,a.push(m));j.status=p;m.posts.push(d);b.push(d);e!=null&&e>0&&(e--,e==0&&(h=!0,i<g-1&&x._schedule(0)));return c&&j.retry})},_resetPostStatus:function(a){a.__meta.status=o},_store:function(a){a=x._getStorage();j.applyWithGuard(a.store,a)},_restore:function(a){a=x._getStorage();j.applyWithGuard(a.restore,a);x._schedule(l.config.RESTORE_WAIT||h.VITAL_WAIT)},_wrapData:function(a,b,c,d){a=[a,b,c,0];a.__meta={pageID:x._getPageId(),userID:x._getUserId(),retry:d===!0,status:o};return a},_tryToSendViaBeacon:function(){__p&&__p();if(!(navigator&&navigator.sendBeacon&&l.isOkToSendViaBeacon()))return!1;var b=[],c=[];t=x._gatherWadsAndPostsFromBuffer(b,c,!1,t);if(b.length<=0)return!1;b[0].send_method="beacon";b.map(l.prepWadForTransit);b=new Blob([l.addRequestAuthData(l.prepForTransit(b))],{type:"application/x-www-form-urlencoded"});b=a.navigator.sendBeacon(x.adapter.endpoint,b);if(!b){c.forEach(function(a){t.push(a)});t.push(x._wrapData(m,(b={},b[n]=[1],b),x._getEventTime()));return!1}return!0},_processCallbacksAndSendViaBeacon:function(){__p&&__p();var b=[];v.forEach(function(a){var c=a.cb();c.forEach(function(c){var d=a.route;if(d){d=x._wrapData(d,c,x._getEventTime());d.__meta.onSuccess=a.onSuccess;d.__meta.onFailure=a.onFailure;b.push(d)}})});v=[];var c=[],d=[];x._gatherWadsAndPostsFromBuffer(c,d,!0,b);if(c.length>0){c[0].send_method="beacon";c.map(l.prepWadForTransit);c=new Blob([l.addRequestAuthData(l.prepForTransit(c))],{type:"application/x-www-form-urlencoded"});c=a.navigator.sendBeacon(x.adapter.endpoint,c);c?d.forEach(function(a){return a.__meta&&a.__meta.onSuccess&&a.__meta.onSuccess()}):d.forEach(function(a){return a.__meta&&a.__meta.onFailure&&a.__meta.onFailure()})}},_unload:function(){navigator&&navigator.sendBeacon&&l.isOkToSendViaBeacon()&&x._processCallbacksAndSendViaBeacon(),l.cleanup(),l.inform(h.SHUTDOWN),t.length>0&&((!x.adapter.useBeacon||!x._tryToSendViaBeacon())&&x._store(!1))},_getEventTime:function(){return Date.now()},_testState:function(){return{postBuffer:t,triggerRoute:u}},_getStorage:function(){return{store:function(){},restore:function(){},flush:function(){}}},_getPageId:function(){return"0"},_getUserId:function(){return"0"},_initialize:function(){}};e.exports=x}),null);
__d("BanzaiNew",["BanzaiBase","BanzaiConsts","BanzaiStreamPayloads","CurrentUser","ExecutionEnvironment","FBJSON","NavigationMetrics","SetIdleTimeoutAcrossTransitions","TimeSlice","Visibility","WebStorage","emptyFunction","isInIframe","lowerFacebookDomain","pageID","performanceAbsoluteNow","WebStorageMutex"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w="bz:",x={_getStorage:g._getStorage,_getPageId:g._getPageId,_getUserId:g._getUserId,_initialize:g._initialize,_schedule:g._schedule,flush:g.flush,_unload:g._unload,post:g.post},y=s(),z=null,A,B,C,D,E=!1;function F(){E||(E=!0,D=q.getLocalStorage());return D}function G(){var a="check_quota";try{var b=F();if(!b)return!1;b.setItem(a,a);b.removeItem(a);return!0}catch(a){return!1}}g._getStorage=function(){__p&&__p();C||(!y?C={store:function(){var a=F();if(!a||g._getPostBuffer().length<=0)return;var b=g._getPostBuffer().map(function(a){return[a[0],a[1],a[2],a[3]||0,a.__meta]});g._clearPostBuffer();q.setItemGuarded(a,w+u+"."+g._getEventTime(),l.stringify(b))},restore:function(){__p&&__p();var a=F();if(!a)return;var c=b("WebStorageMutex"),d=function(b){__p&&__p();var c=[];for(var d=0;d<a.length;d++){var e=a.key(d);e.indexOf(w)===0&&e.indexOf("bz:__")!==0&&c.push(e)}c.forEach(function(b){__p&&__p();var c=a.getItem(b);a.removeItem(b);if(!c)return;b=l.parse(c);b.forEach(function(a){if(!a)return;var b=a.__meta=a.pop(),c=g._canSend(a);if(!c)return;c=j.getID();(b.userID===c||c==="0")&&(g._resetPostStatus(a),g._getPostBuffer().push(a))})});b&&b.unlock()};G()?new c("banzai").lock(d):n.start(d,0)},flush:function(){var a=F();if(a){z===null&&(z=parseInt(a.getItem(h.LAST_STORAGE_FLUSH),10));var b=z&&v()-z>=h.STORAGE_FLUSH_INTERVAL;b&&g._restore(!1);(b||!z)&&(z=v(),q.setItemGuarded(a,h.LAST_STORAGE_FLUSH,z.toString()))}}}:C={store:r,restore:r,flush:r});return C};g._getPageId=function(){return u};g._getUserId=function(){return j.getID()};g._initialize=function(){k.canUseDOM&&(g.adapter.useBeacon&&p.isSupported()?(p.addListener(p.HIDDEN,function(){g._getPostBuffer().length>0&&(g._tryToSendViaBeacon()||g._store(!1))}),(g.isEnabled("enable_client_logging_clear_on_visible")||g.isEnabled("error_impact_test"))&&p.addListener(p.VISIBLE,function(){g._tryToSendViaBeacon()||g._restore(!1)})):g.adapter.setHooks(g),g.adapter.setUnloadHook(g),m.addListener(m.Events.NAVIGATION_DONE,function(a,b){if(b.pageType!=="normal")return;g._restore(!1);m.removeCurrentListener()}))};g._getEventTime=function(){return v()};var H=o.guard(function(){A=null,g._sendWithCallbacks()},"Banzai.send",{propagationType:o.PropagationType.ORPHAN});g._schedule=function(a){__p&&__p();var b=g._getEventTime()+a;if(!A||b<A){A=b;n.clear(B);b=function(){B=n.start(H,a)};b();return!0}return!1};g.flush=function(a,b){n.clear(B),A=null,g._sendWithCallbacks(a,b)};g._unload=function(){i.unload(g.post),x._unload()};g.post=function(b,c,d){__p&&__p();if(g.adapter.config.disabled)return;if(!k.canUseDOM)return;if(y&&t.isValidDocumentDomain()){var e;try{e=a.top.require("Banzai")}catch(a){e=null}if(e){e.post.apply(e,arguments);return}}x.post(b,c,d)};g._initialize();e.exports=g}),null);