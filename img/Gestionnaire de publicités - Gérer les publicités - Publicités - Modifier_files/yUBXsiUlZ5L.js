if (self.CavalryLogger) { CavalryLogger.start_js(["2QDeO"]); }

__d("XArAdsEffectDialogDataFetchController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ar_ads/effect_dialog_data_fetch/",{page_id:{type:"FBID",required:!0}})}),null);
__d("AdsArEffectDataLoader",["AsyncRequest","XArAdsEffectDialogDataFetchController"],(function(a,b,c,d,e,f){"use strict";a={getEffectListByPage:function(a){a=b("XArAdsEffectDialogDataFetchController").getURIBuilder().setFBID("page_id",a).getURI();return new(b("AsyncRequest"))().setURI(a).exec().then(function(a){return a.payload===null||a.payload.effects===null?[]:a.payload.effects})}};e.exports=a}),null);
__d("AdsArAvailableEffectsProviderPlugin",["AdsArEffectDataLoader","LoadObjectMap","promiseDone"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return b("LoadObjectMap").create(function(c){a(function(a){return a.setLoading(c)}),c.forEach(function(c){b("promiseDone")(b("AdsArEffectDataLoader").getEffectListByPage(c),function(b){return a(function(a){return a.setSingleValueOrError(c,b)})})})})}};e.exports=a}),null);
__d("AdsArAvailableEffectsProvider",["Laminar","AdsArAvailableEffectsProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsArAvailableEffectsProviderPlugin"),"AdsArAvailableEffectsProviderPlugin")}),null);
__d("AdsArInlineUIDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{errorMessage:null,isSaving:!1,showModal:!1,showCloseUnsavedModal:!1}};e.exports=a}),null);
__d("AdsArInlineUIDataProvider",["Laminar","AdsArInlineUIDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsArInlineUIDataProviderPlugin"),"AdsArInlineUIDataProviderPlugin")}),null);
__d("AdsUEditorAdgroupSetArDataContainerAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsSetArDataContainerReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsUEditorAdgroupSetArDataContainerReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"AdsUEditorAdgroupSetArDataContainerActionPlugin");e.exports=a}),null);
__d("adsUEditorAdgroupArAdsIsEligibleSelector",["AdsAccountUtils","AdsAPICampaignGroupPaths","AdsArAdUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsUEditorCampaignGroupSelectors","AdsUEditorCampaignSelectors","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAccountSelector","adsUEditorCreationUIMediaFormatSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorCampaignGroupSelectors").campaignGroups.every(b("AdsArAdUtils").isEligibleObjective);c=b("adsGetUniformValueSelector")(b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").BUYING_TYPE));d=b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").pageID,null);f=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("AdsUEditorCampaignSelectors").eligibilityInformation,b("adsUEditorCreationUIMediaFormatSelector"),a,c,d],function(a,c,d,e,f,g){a=b("AdsAccountUtils").hasCapability(a,"CAN_CREATE_AR_ADS");d=b("AdsArAdUtils").isEligibleFormat(d);c=b("AdsArAdUtils").hasCompatiblePlacement(c.spec);f=f==="AUCTION";return a&&d&&e&&c&&f&&g!==null},{name:e.id+".selector"});e.exports=f}),null);
__d("AdsUEditorAdgroupArSelectors",["AdsAPIAdAssetFeedLinkURLsFields","AdsArAvailableEffectsProvider","AdsArDataContainerProvider","AdsArInlineUIDataProvider","AdsArLinkUtils","AdsAssetFeedFieldUtils","AdsBulkValueUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAdgroupArAdsIsEligibleSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin;a=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").linkURL);c=b("adsCreateSelector")([a],function(a){return b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(b("AdsBulkValueUtils").getUniformValue(a,null),b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL)},{name:e.id+".linkURLSelector"});d=b("adsCreateSelector")([c],function(a){return b("AdsArLinkUtils").getDataContainerID(a)},{name:e.id+".currentDataContainerIDSelector"});f=b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(b("AdsArLinkUtils").getDataContainerIDFromAdgroup),null);a=b("adsCreateSelector")([f,b("AdsArDataContainerProvider").toFluxSelector()],function(a,b){if(a==null)return null;b=b.get(a);return b.getValue()||null},{name:e.id+".uniformDataContainerSelector"});c=b("adsCreateSelector")([d,b("AdsArDataContainerProvider").toFluxSelector()],function(a,b){b=b.get(a);return b.getValue()||null},{name:e.id+".currentDataContainerSelector"});var h=b("AdsUEditorAdgroupSelectors").adObjectsList.every(function(a){return b("AdsArLinkUtils").isArAd(a.adgroup,g(a))}),i=b("adsCreateSelector")([b("AdsArInlineUIDataProvider").toFluxSelector()],function(a){return a.showModal},{name:e.id+".showConfigurationDialogSelector"}),j=b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").pageID,null);h=b("adsCreateSelector")([b("adsUEditorAdgroupArAdsIsEligibleSelector"),h,i],function(a,b,c){return a&&(b||c)},{name:e.id+".shouldFetchEffectSelector"});i=b("adsCreateSelector")([b("AdsArAvailableEffectsProvider").toFluxSelector(),j,h],function(a,b,c){if(b!=null&&c){c=a.get(b);return c.hasValue()?c.getValueEnforcing():[]}return[]},{name:e.id+".availableEffectsByPage"});e.exports={uniformDataContainerSelector:a,uniformDataContainerIDSelector:f,uniformPageIDSelector:j,availableEffectsByPage:i,currentDataContainerIDSelector:d,currentDataContainerSelector:c}}),null);
__d("AdsArDataContainerReducerPlugins",["AdsArAdUtils","AdsArDataContainer","AdsArDataContainerDataLoader","AdsArEffectAttachment","AdsArNewDataContainerID","AdsUEditorAdgroupSetArDataContainerAction","LoadObject","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={reduce:function(a,c){c=c.dataContainerID;var d=a.get(c),e=[];c===b("AdsArNewDataContainerID")&&e.push([c,b("LoadObject").withValue(new(b("AdsArDataContainer"))())]);if(d.hasValue()){d=d.getValueEnforcing();e.push([b("AdsArAdUtils").getBackupDataContainerID(c),b("LoadObject").withValue(d)])}return a.merge(e)}};c={reduce:function(a,c){var d=c.dataContainerID;c=c.effectAttachment;var e=a.get(d);if(e.hasValue()){e=e.getValueEnforcing();e=e.setEffectAttachment(c);return a.set(d,b("LoadObject").withValue(e))}return a}};d={reduce:function(a,c){var d=c.dataContainerID,e=a.get(d);if(e.hasValue()){e=e.getValueEnforcing();e=e.set("ctaType",c.ctaType);return a.set(d,b("LoadObject").withValue(e))}return a}};f={reduce:function(a,c){__p&&__p();var d=c.dataContainerID,e=a.get(d);if(e.hasValue()){e=e.getValueEnforcing();var f=e.set("feedUnitOverlayTextType",c.textType);if(e.isPublished){var g=c.hostID,h=c.adgroupIDs;b("promiseDone")(b("AdsArDataContainerDataLoader").createDataContainer(c.pageID,f),function(a){b("AdsUEditorAdgroupSetArDataContainerAction").dispatch({hostID:g,dataContainerID:a,adgroupIDs:h},{line:"107",module:"AdsArDataContainerReducerPlugins.js"})})}else{b("promiseDone")(b("AdsArDataContainerDataLoader").updateDataContainer(c.pageID,c.dataContainerID,f));return a.set(d,b("LoadObject").withValue(f))}}return a}};var g={reduce:function(a,c){__p&&__p();var d=c.dataContainerID,e=a.get(d);if(e.hasValue()){e=e.getValueEnforcing();var f=e.getEffectAttachment();if(f!=null){e=e.setEffectAttachment(new(b("AdsArEffectAttachment"))({effectID:f.effectID,ctaUri:c.uri}));return a.set(d,b("LoadObject").withValue(e))}}return a}},h={reduce:function(a,c){c=c.dataContainerID;var d=b("AdsArAdUtils").getBackupDataContainerID(c);d=a.get(d);if(d.hasValue()){d=d.getValueEnforcing();return a.set(c,b("LoadObject").withValue(d))}return a}},i={reduce:function(a,c){var d=c.dataContainerID;c=c.dataContainer;return a.merge([[d,b("LoadObject").withValue(c)],[b("AdsArAdUtils").getBackupDataContainerID(d),b("LoadObject").withValue(c)]])}};e.exports={OnUpdateCtaType:d,OnUpdateEffectAttachment:c,OnUpdateOverlayTextType:f,OnConfirmCloseUnsavedModal:h,OnShowInlineModal:a,OnUpdateEffectUri:g,OnReplaceDataContainerAction:i}}),null);