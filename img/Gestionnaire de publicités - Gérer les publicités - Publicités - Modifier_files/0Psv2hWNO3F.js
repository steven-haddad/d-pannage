if (self.CavalryLogger) { CavalryLogger.start_js(["LONeB"]); }

__d("AdsImageImagesDeleteDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsImageAction.IMAGES_DELETE");e.exports=a}),null);
__d("AdsImageImagesEndReachedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsImageAction.IMAGES_END_REACHED");e.exports=a}),null);
__d("AdsImageImagesSearchDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsImageAction.IMAGES_SEARCH");e.exports=a}),null);
__d("AdsImageImagesSearchDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsImageAction.IMAGES_SEARCH"}}),null);
__d("AdsImageImagesSortDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsImageAction.IMAGES_SORT");e.exports=a}),null);
__d("AdsImageImagesSortDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsImageAction.IMAGES_SORT"}}),null);
__d("AdsImageUploadApiErrorDataAction",["Laminar","AdsImageUploadLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsImageUploadLoggerPlugins.AdsImageUploadErrorDataLoggerPlugin",b("AdsImageUploadLoggerPlugins").AdsImageUploadErrorDataLoggerPlugin,{})]},"IMAGE_UPLOAD.API_ERROR");e.exports=a}),null);
__d("AdsImageUploadFormatErrorDataAction",["Laminar","AdsImageUploadLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsImageUploadLoggerPlugins.AdsImageUploadErrorDataLoggerPlugin",b("AdsImageUploadLoggerPlugins").AdsImageUploadErrorDataLoggerPlugin,{})]},"IMAGE_UPLOAD.FORMAT_ERROR");e.exports=a}),null);
__d("AdsImageUploadLoadFailDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.LOAD_FAIL"}}),null);
__d("AdsImageUploadRemoveErrorsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.REMOVE_ERRORS"}}),null);
__d("AdsImageUploadSizeErrorDataAction",["Laminar","AdsImageUploadLoggerPlugins"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsImageUploadLoggerPlugins.AdsImageUploadErrorDataLoggerPlugin",b("AdsImageUploadLoggerPlugins").AdsImageUploadErrorDataLoggerPlugin,{})]},"IMAGE_UPLOAD.SIZE_ERROR");e.exports=a}),null);
__d("AdsPageImageListImagesEndReachedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE_IMAGE_LIST.IMAGES_END_REACHED");e.exports=a}),null);
__d("AdsPageImageListImagesEndReachedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE_IMAGE_LIST.IMAGES_END_REACHED"}}),null);
__d("AdsPageImageListImagesLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE_IMAGE_LIST.IMAGES_LOADED");e.exports=a}),null);
__d("AdsPageImageListImagesLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE_IMAGE_LIST.IMAGES_LOADED"}}),null);
__d("AdsMediaDeleteImageConfirmationDialogController.react",["fbt","Promise","AdsImageListDataManager","BUIAdoptionDialogButton.react","BUIAdoptionDialogCancelButton.react","BUIAdoptionDialogOkayButton.react","BUIAdoptionHorizontalLayout.react","FDSSpinner.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogTitle.react","keyMirror","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("keyMirror")({LOADING:null,DELETE_CONFIRMATION:null,CANCEL_CONFIRMATION:null});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={dialogState:h.LOADING};return b}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.$1(this.props.images)};d.render=function(){var a=g._("Supprimer les images\u00a0?");switch(this.state.dialogState){case h.LOADING:return b("React").createElement(b("XUIDialog.react"),{shown:!0,width:445,onToggle:this.props.onToggle},b("React").createElement(b("XUIDialogTitle.react"),null,a),b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement(b("FDSSpinner.react"),null)));case h.DELETE_CONFIRMATION:return b("React").createElement(b("XUIDialog.react"),{shown:!0,width:445,onToggle:this.props.onToggle},b("React").createElement(b("XUIDialogTitle.react"),null,a),b("React").createElement(b("XUIDialogBody.react"),null,g._("Vous \u00eates sur le point de supprimer d\u00e9finitivement les images s\u00e9lectionn\u00e9es. Voulez-vous vraiment continuer\u00a0?")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("BUIAdoptionHorizontalLayout.react"),null,b("React").createElement(b("BUIAdoptionDialogButton.react"),{label:g._("Continuer"),use:"confirm",onClick:this.props.onDeleteImages}),b("React").createElement(b("BUIAdoptionDialogCancelButton.react"),{onClick:this.props.onCancel}))));case h.CANCEL_CONFIRMATION:return b("React").createElement(b("XUIDialog.react"),{shown:!0,width:445,onToggle:this.props.onToggle},b("React").createElement(b("XUIDialogTitle.react"),null,a),b("React").createElement(b("XUIDialogBody.react"),null,g._("Une erreur s\u2019est produite. Veuillez r\u00e9essayer plus tard.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("BUIAdoptionDialogOkayButton.react"),{layerAction:"cancel",onClick:this.props.onCancel})))}return null};d.$1=function(a){var c=this;b("promiseDone")(b("Promise").all(a.map(function(a){a=a.creatives;a.map(function(a){return b("AdsImageListDataManager").deleteCreative(a)})})).then(function(a){c.setState({dialogState:h.DELETE_CONFIRMATION})})["catch"](function(a){c.setState({dialogState:h.CANCEL_CONFIRMATION})}))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsMediaStandaloneLibrarySortOptions",["fbt","AdsImageConstants","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=b("immutable").Record({title:"",sortBy:""});c=[new a({title:g._("Image la plus r\u00e9cente"),sortBy:b("AdsImageConstants").CREATED_TIME_DESCENDING}),new a({title:g._("Image la plus ancienne"),sortBy:b("AdsImageConstants").CREATED_TIME_ASCENDING}),new a({title:g._("Image la plus grande"),sortBy:b("AdsImageConstants").HEIGHT_DESCENDING}),new a({title:g._("Image la plus petite"),sortBy:b("AdsImageConstants").HEIGHT_ASCENDING}),new a({title:g._("Image la plus large"),sortBy:b("AdsImageConstants").WIDTH_DESCENDING}),new a({title:g._("Image la plus \u00e9troite"),sortBy:b("AdsImageConstants").WIDTH_ASCENDING})];e.exports=c}),null);
__d("AdsAbstractImageUploadElementStates",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({IDLE:1,UPLOADING:2});e.exports=a}),null);
__d("XAdsCFImageUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/create/imageupload/",{})}),null);
__d("AdsUploadProcess",["cx","regeneratorRuntime","AdsDaoGraph","AdsImageLegacy","AdsImageUploadConstants","ArbiterMixin","DOM","GlobalCallback","ImageReader","SphericalImage","XAdsCFImageUploadController","getAsyncParams","mixin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={IFRAME_NAME:"_57mk"},i=0;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d.id=i;i++;d.file=b;d.iframe=null;d.$AdsUploadProcess1=c;return d}var d=c.prototype;d.getID=function(){return this.id};d.upload=function(a){window.FileReader?this.$AdsUploadProcess2():this.$AdsUploadProcess3(a)};d.$AdsUploadProcess2=function(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a=function(a){__p&&__p();var c=this;if(!a){this.failed();return}a=a.split(",");var d=function(a,c){if(a&&a.images){var d=this.file.name;a=new(b("AdsImageLegacy"))(a.images[d]);this.succeeded(a)}else{d=c&&c.error;this.failed(d)}}.bind(this),e=function(a){c.progressData=a,c.progressPercent=a.loaded/a.total*100,c.inform("onProgress",a)};try{b("AdsDaoGraph").add.imageForAccount.one(d,{bytes:a[1],name:this.file.name,encoding:a[0],handleError:d,accountId:this.$AdsUploadProcess1},e)}catch(a){this.failed(a.message);throw new Error(a.message)}}.bind(this);c=!1;e.prev=2;e.next=5;return b("regeneratorRuntime").awrap(b("SphericalImage").createFromBlob(this.file));case 5:d=e.sent;d.isSpherical()&&(c=!0);e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](2);case 11:b("ImageReader").read(this.file,a,b("AdsImageUploadConstants").maxWidth,b("AdsImageUploadConstants").maxHeight,c);case 12:case"end":return e.stop()}},null,this,[[2,9]])};d.$AdsUploadProcess3=function(a){__p&&__p();var c=document.createElement("iframe");c.className="_57mi";var d=h.IFRAME_NAME+this.getID();c.name=d;a.target=d;d=b("XAdsCFImageUploadController").getURIBuilder();a.action=d.getURI().getQualifiedURI().toString();var e=b("getAsyncParams")("POST");Object.assign(e,{account_id:this.$AdsUploadProcess1,callback:b("GlobalCallback").create(this.$AdsUploadProcess4.bind(this,c)),domain:document.domain});Object.keys(e).forEach(function(c){a.appendChild(b("DOM").create("input",{type:"hidden",name:c,value:e[c]}))});document.body&&document.body.appendChild(c);a.submit()};d.$AdsUploadProcess4=function(a,c,d){b("GlobalCallback").remove(c),b("DOM").remove(a),d&&d.url?this.succeeded(new(b("AdsImageLegacy"))(d)):this.failed()};d.succeeded=function(a){this.image=a,this.inform("succeeded",a)};d.failed=function(a){this.inform("failed",a)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("AdsImageUploaderDEPRECATED",["cx","fbt","invariant","Promise","AdsImageUploadApiErrorDataAction","AdsImageUploadFormatErrorDataAction","AdsImageUploadRemoveErrorsDataAction","AdsImageUploadSizeErrorDataAction","AdsImageValidation","AdsInterfaceCreativeLoggingEvents","AdsInterfacesLogger","AdsUploadProcess","ArbiterMixin","CSS","DOMEventListener","DOMQuery","Parent","React","ReactDOM","WebApiApplication","ads-lib-connect_DEPRECATED","adsFormatErrorMessage","getDOMImageSize","mixin","promiseDone"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ads-lib-connect_DEPRECATED").FB,k=a.URL||a.webkitURL,l={UPLOAD_ELEMENT:"_57mh",DRAG_OVER:"_57mj",CLICK_HIJACK:"_57mf",CLICK_HIJACK_FORM:"_5ecl"};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this)||this;e.handleFormInputMount=function(a){var c=a;c&&(b("DOMEventListener").add(c,"change",function(a){e.handleInputChange(a,c)}),e.onFormInputMount&&e.onFormInputMount(c))};e.handleInputClick=function(){e.inform("onUploadClicked")};d=d||{};d.accountId||i(0,252);e.accountId=d.accountId;e.acceptsMultiple="multiple"in d?!!d.multiple:!0;e.acceptsMultiple=window.FileReader?e.acceptsMultiple:!1;e.validateImageSize=d.validateImageSize;e.validateImageFormat=d.validateImageFormat;e.imageSpec=d.imageSpec||{minWarningWidth:0,minWarningHeight:0,width:0,height:0,cropKey:""};e.onFormInputMount=d.onFormInputMount;e.onGifUpload=d.onGifUpload;e.root=c;e.root&&(e.findAndDecorateUploadElements(),e.createDragAndDropArea(e.root));return e}var d=c.prototype;d.findAndDecorateUploadElements=function(){var a=b("DOMQuery").scry(this.root,"."+l.UPLOAD_ELEMENT);a.forEach(function(a){this.decorateUploadElement(a)},this);b("CSS").hasClass(this.root,l.UPLOAD_ELEMENT)&&this.decorateUploadElement(this.root)};d.createDragAndDropArea=function(a){b("DOMEventListener").add(a,"dragenter",function(a){a.preventDefault(),b("CSS").addClass(this,l.DRAG_OVER)}),b("DOMEventListener").add(a,"dragleave",function(a){a.preventDefault(),b("CSS").removeClass(this,l.DRAG_OVER)}),b("DOMEventListener").add(a,"dragover",function(a){a.preventDefault(),a.dataTransfer.dropEffect="copy"}),b("DOMEventListener").add(a,"drop",this.onDrop.bind(this))};d.onDrop=function(a){a.preventDefault();var c=b("DOMQuery").scry(this.root,"."+l.CLICK_HIJACK_FORM)[0];this.upload(a.dataTransfer.files,c)};d.decorateUploadElement=function(a){var c=b("WebApiApplication").getAccessToken();c=j.url("/act_"+this.accountId+"/adimages",null,c);if(b("DOMQuery").scry(a,"."+l.CLICK_HIJACK).length)return;var d=document.createElement("div");d.className=l.CLICK_HIJACK;c=b("React").createElement("form",{action:c,className:l.CLICK_HIJACK_FORM,encType:"multipart/form-data",method:"POST"},b("React").createElement("input",{accept:"image/*",className:"_57mg",multiple:this.acceptsMultiple,name:"fileToUpload",ref:this.handleFormInputMount,type:"file",onClick:this.handleInputClick}));c=b("ReactDOM").render(c,d);a.appendChild(d)};d.handleInputChange=function(a,c){a=a.target||c;c=a.files||[a.value];a=b("Parent").byTag(a,"form");a&&this.upload(c,a)};d.filterFiles=function(a){a=Array.from(a).filter(function(a){return!a.type||a.type.match(/image\.*/i)});return a};d.containsGifFile=function(a){a=Array.from(a).findIndex(function(a){return a.type!=null&&a.type.match(/gif\.*/i)});return a!==-1};d.getImageTooSmallErrorMessages=function(a){var b=h._("Image trop petite.");a=h._({"*":{"*":"Cette image est trop petite. Essayez-en une d\u2019au moins {width} x {height} pixels."}},[h._param("width",a.minWarningWidth,[0]),h._param("height",a.minWarningHeight,[0])]);return{shortMessage:b,longMessage:a}};d.getImageNotSupportedErrorMessages=function(a){var b=h._("Format d\u2019image non pris en charge.");a=a?h._("Le format d\u2019image {image format} n\u2019est pas pris en charge. Veuillez utiliser une autre image.",[h._param("image format",a)]):h._("Ce format d\u2019image n\u2019est pas pris en charge. Veuillez choisir une autre image.");return{shortMessage:b,longMessage:a}};d.$AdsImageUploaderDEPRECATED1=function(a,c){return b("AdsImageValidation").isWarningSize({getWidth:function(){return a},getHeight:function(){return c},isStockImage:function(){return!1},hasFullSizeDimensions:function(){return!0}},this.imageSpec)};d.upload=function(a,c){__p&&__p();var d=this;a=Array.from(a);var e=a.length;this.acceptsMultiple||(a=[a[0]]);a=this.filterFiles(a);var f=a.length;if(!a)return;var g=f!==e;g&&b("AdsImageUploadFormatErrorDataAction").dispatch({message:this.getImageNotSupportedErrorMessages()},{line:"391",module:"AdsImageUploaderDEPRECATED.js"});var h=[],i=[];this.validateImageFormat?a.forEach(function(a){b("AdsImageValidation").isValidFormat(a.type)?i.push(a):(b("AdsImageUploadFormatErrorDataAction").dispatch({message:d.getImageNotSupportedErrorMessages(a.type)},{line:"404",module:"AdsImageUploaderDEPRECATED.js"}),g=!0)}):i=a;this.onGifUpload!=null&&this.containsGifFile(i)&&this.onGifUpload();f=[];f=i.map(function(a){return new(b("Promise"))(function(c,e){b("getDOMImageSize")(k.createObjectURL(a),function(e,f,g){d.validateImageFormat&&e===0&&f===0?(b("AdsImageUploadFormatErrorDataAction").dispatch({message:d.getImageNotSupportedErrorMessages()},{line:"425",module:"AdsImageUploaderDEPRECATED.js"}),c(!1)):d.validateImageSize&&d.imageSpec&&!d.$AdsImageUploaderDEPRECATED1(e,f)?(b("AdsImageUploadSizeErrorDataAction").dispatch({message:d.getImageTooSmallErrorMessages(d.imageSpec)},{line:"434",module:"AdsImageUploaderDEPRECATED.js"}),b("AdsInterfacesLogger").log({eventName:b("AdsInterfaceCreativeLoggingEvents").IMAGE_TOO_SMALL_ERROR},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP),c(!1)):(h.push(new(b("AdsUploadProcess"))(a,d.accountId)),c(!0))})})});b("promiseDone")(b("Promise").all(f),function(a){a.every(function(a){return a})&&!g&&b("AdsImageUploadRemoveErrorsDataAction").dispatch({},{line:"457",module:"AdsImageUploaderDEPRECATED.js"}),d.startUploadProcesses(h,c)})};d.$AdsImageUploaderDEPRECATED2=function(a){a=b("Parent").byClass(a,l.CLICK_HIJACK);var c=a&&a.parentNode;a&&c&&(c.removeChild(a),this.decorateUploadElement(c))};d.startUploadProcesses=function(a,c){__p&&__p();var d=this;this.inform("onUploadStarted",a);var e=[],f=0;a=a.map(function(a){return new(b("Promise"))(function(d,g){a.subscribe("succeeded",function(a,c){e.push(c),d(),b("AdsInterfacesLogger").log({eventName:b("AdsInterfaceCreativeLoggingEvents").IMAGE_UPLOAD_SUCCESSFUL},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)}),a.subscribe("failed",function(a,c){a=b("adsFormatErrorMessage")(c);b("AdsImageUploadApiErrorDataAction").dispatch({message:{shortMessage:h._("Erreur d\u2019importation"),longMessage:a}},{line:"511",module:"AdsImageUploaderDEPRECATED.js"});f++;d();b("AdsInterfacesLogger").log({eventName:b("AdsInterfaceCreativeLoggingEvents").IMAGE_UPLOAD_FAILURE},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)}),a.upload(c)})});b("promiseDone")(b("Promise").all(a),function(){d.$AdsImageUploaderDEPRECATED2(c),d.uploadEnded(e,f)})};d.uploadEnded=function(a,b){this.inform("onUploadEnded",{succeededImages:a,numFailedImages:b})};return c}(b("mixin")(b("ArbiterMixin")));e.exports={AdsImageUploaderDEPRECATED:c,AdsImageUploaderConstantsDEPRECATED:l}}),null);
__d("AdsAbstractImageUploadElement.react",["cx","invariant","AdsAbstractImageUploadElementStates","AdsImageUploaderDEPRECATED","React","ReactDOM","SubscriptionsHandler","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("AdsImageUploaderDEPRECATED").AdsImageUploaderDEPRECATED;a=b("React").PropTypes;var j={};j[b("AdsAbstractImageUploadElementStates").IDLE]="_2uq";j[b("AdsAbstractImageUploadElementStates").UPLOADING]="_2ur";c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={isUploading:!1,subscriptions:new(b("SubscriptionsHandler"))()},d.$1=function(){return d.state.isUploading?b("AdsAbstractImageUploadElementStates").UPLOADING:b("AdsAbstractImageUploadElementStates").IDLE},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_2us",j[this.$1()],this.props.className),style:this.props.style},this.props.children)};d.UNSAFE_componentWillReceiveProps=function(a){};d.componentDidMount=function(){var a=this,c=new i(b("ReactDOM").findDOMNode(this),{accountId:this.props.accountId,imageSpec:this.props.imageSpec,multiple:this.props.allowMultiImage,onFormInputMount:this.props.onFormInputMount,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize});this.state.subscriptions.addSubscriptions(c.subscribe("onUploadClicked",this.props.onUploadClick),c.subscribe("onUploadStarted",function(b,c){a.setState({isUploading:!0}),a.props.onUploadStart(c)}),c.subscribe("onUploadFailed",function(){a.setState({isUploading:!1}),a.props.onUploadFail()}),c.subscribe("onUploadEnded",function(b,c){a.setState({isUploading:!1}),c.succeededImages.length&&c.succeededImages.forEach(function(b){a.props.onUploadSuccess(b)}),a.props.onUploadEnd(c.succeededImages,c.numFailedImages)}))};d.componentWillUnmount=function(){this.state.subscriptions.release()};return c}(b("React").Component);c.propTypes={accountId:a.string.isRequired,allowMultiImage:a.bool,imageSpec:a.shape({minWarningWidth:a.number.isRequired,minWarningHeight:a.number.isRequired}),onFormInputMount:a.func,onUploadClick:a.func.isRequired,onUploadEnd:a.func.isRequired,onUploadFail:a.func.isRequired,onUploadStart:a.func.isRequired,onUploadSuccess:a.func.isRequired,validateImageSize:a.bool,validateImageFormat:a.bool};c.defaultProps={allowMultiImage:!1,onUploadClick:b("emptyFunction"),onUploadEnd:b("emptyFunction"),onUploadFail:b("emptyFunction"),onUploadStart:b("emptyFunction"),onUploadSuccess:b("emptyFunction")};e.exports=c}),null);
__d("AdsAbstractImageUploadElementContent.react",["cx","AdsAbstractImageUploadElementStates","AdsImageUploaderDEPRECATED","React","getObjectValues","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsImageUploaderDEPRECATED").AdsImageUploaderConstantsDEPRECATED;c=b("React").PropTypes;var h={};h[b("AdsAbstractImageUploadElementStates").IDLE]=b("joinClasses")("_5y7b",a.UPLOAD_ELEMENT);h[b("AdsAbstractImageUploadElementStates").UPLOADING]="_5y7c";d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_5y7d",h[this.props.uploadState])},this.props.children)};return c}(b("React").Component);d.propTypes={uploadState:c.oneOf(b("getObjectValues")(b("AdsAbstractImageUploadElementStates"))).isRequired};e.exports=d}),null);
__d("AdsUploadImageBoxContent.react",["cx","fbt","ix","Image.react","InlineBlock.react","React"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=180,k=35;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.allowMultiImage===!0?h._("Glissez-d\u00e9posez plusieurs images ou cliquez pour importer des images"):h._("Glissez-d\u00e9posez une image ou cliquez pour en t\u00e9l\u00e9charger une"),c=null;this.props.isUploadingState===!0?c=h._("T\u00e9l\u00e9chargement..."):this.props.useMediaPanelRedesign===!0?c=b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_2ch8",src:i("23121")}),b("React").createElement("div",{className:"_60_7"},a)):c=b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_2ch8",src:i("22565")}),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"_60_7",height:k},a));return b("React").createElement("div",{className:"_60_8"},b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:j},c))};return c}(b("React").Component);e.exports=a}),null);
__d("AdsImageUploadErrorMessagesUtils",["fbt","adsFormatErrorMessage"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){var b=g._("Image trop petite.");a=g._({"*":{"*":"Cette image est trop petite. Essayez-en une d\u2019au moins {width} x {height} pixels."}},[g._param("width",a.minWarningWidth,[0]),g._param("height",a.minWarningHeight,[0])]);return{shortMessage:b,longMessage:a}}function c(a){var b=g._("Format d\u2019image non pris en charge.");a=a==null||a===""?g._("Ce format d\u2019image n\u2019est pas pris en charge. Veuillez choisir une autre image."):g._("Le format d\u2019image {image format} n\u2019est pas pris en charge. Veuillez utiliser une autre image.",[g._param("image format",a)]);return{shortMessage:b,longMessage:a}}function d(a){var c=g._("Erreur lors de l\u2019import");a=b("adsFormatErrorMessage")(a);return{shortMessage:c,longMessage:a}}e.exports={getImageTooSmallErrorMessages:a,getImageNotSupportedErrorMessages:c,getAPIErrorMessages:d}}),null);
__d("AdsImageUploadErrorStoreState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(b("immutable").Record({apiError:null,sizeError:null,formatError:null}));e.exports=a}),null);
__d("AdsImageUploadErrorStore",["AdsDataAtom","AdsImageUploadApiErrorDataActionFlux","AdsImageUploadErrorMessagesUtils","AdsImageUploadErrorStoreState","AdsImageUploadFormatErrorDataActionFlux","AdsImageUploadLoadFailDataActionFlux","AdsImageUploadRemoveErrorsDataActionFlux","AdsImageUploadSizeErrorDataActionFlux","AdsImageUploadTypes","AdsImageUploadUploadFailDataActionFlux","AdsImageUploadUploadSuccessDataActionFlux","FluxReduceStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageUploadErrorMessagesUtils").getImageNotSupportedErrorMessages,h=b("AdsImageUploadErrorMessagesUtils").getImageTooSmallErrorMessages,i=b("AdsImageUploadErrorMessagesUtils").getAPIErrorMessages,j=b("AdsImageUploadTypes").UploadFailedReason,k=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new(b("AdsImageUploadErrorStoreState"))()};d.__getActionTypes=function(){return k?[b("AdsImageUploadApiErrorDataActionFlux").actionType,b("AdsImageUploadFormatErrorDataActionFlux").actionType,b("AdsImageUploadLoadFailDataActionFlux").actionType,b("AdsImageUploadRemoveErrorsDataActionFlux").actionType,b("AdsImageUploadSizeErrorDataActionFlux").actionType,b("AdsImageUploadUploadFailDataActionFlux").actionType,b("AdsImageUploadUploadSuccessDataActionFlux").actionType]:null};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsImageUploadFormatErrorDataActionFlux").actionType:return a.set("formatError",c.message);case b("AdsImageUploadSizeErrorDataActionFlux").actionType:return a.set("sizeError",c.message);case b("AdsImageUploadApiErrorDataActionFlux").actionType:return a.set("apiError",c.message);case b("AdsImageUploadLoadFailDataActionFlux").actionType:return this.$AdsImageUploadErrorStore1(a,c.imageData);case b("AdsImageUploadUploadFailDataActionFlux").actionType:return this.$AdsImageUploadErrorStore2(a,c.imageData.errorMessage);case b("AdsImageUploadUploadSuccessDataActionFlux").actionType:return c.imageData?this.$AdsImageUploadErrorStore3(a):a;case b("AdsImageUploadRemoveErrorsDataActionFlux").actionType:return this.$AdsImageUploadErrorStore3(a)}return a};d.getUploadErrors=function(){var a=[];this.getState().forEach(function(b){b&&a.push(b)});return a};d.$AdsImageUploadErrorStore1=function(a,b){if(b.reasonForFail===j.INVALID_FORMAT)return a.set("formatError",g(b.file.type));else if(b.reasonForFail===j.INVALID_SIZE)return a.set("sizeError",h({minWarningWidth:b.minDimensions.width,minWarningHeight:b.minDimensions.height}));else return a};d.$AdsImageUploadErrorStore2=function(a,b){return a.set("apiError",i(b))};d.$AdsImageUploadErrorStore3=function(a){return a.merge({apiError:null,sizeError:null,formatError:null})};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsUploadImageBoxErrorContainer.react",["cx","AdsFluxContainer","AdsImageUploadErrorStore","AdsValidationIcon.react","AdsValidationIconType","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.state.inputFormDOMElement&&c.state.inputFormDOMElement.click()},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("AdsImageUploadErrorStore")]};c.calculateState=function(){return{uploadErrors:b("AdsImageUploadErrorStore").getUploadErrors()}};var d=c.prototype;d.render=function(){var a=this,c=null;if(this.state.uploadErrors.length>0){var d=this.state.uploadErrors.map(function(c,d){return b("React").createElement(b("ShimButton.react"),{key:d,onClick:a.$1},b("React").createElement(b("AdsValidationIcon.react"),{className:"_4ikq",messages:[c.longMessage],type:b("AdsValidationIconType").ERROR_IMAGE}),c.shortMessage)});c=b("React").createElement("div",{className:"_4ikr"},d)}return c};return c}(b("React").Component);e.exports=b("AdsFluxContainer").create(a,{name:e.id})}),null);
__d("AdsUploadImageBox.react",["cx","AdsAbstractImageUploadElement.react","AdsAbstractImageUploadElementContent.react","AdsAbstractImageUploadElementStates","AdsUploadImageBoxContent.react","AdsUploadImageBoxErrorContainer.react","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.setState({inputFormDOMElement:b("ReactDOM").findDOMNode(a)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=b("joinClasses")(this.props.className,"_18rp",this.props.useMediaPanelRedesign?"_18rq":"");return b("React").createElement("div",null,b("React").createElement(b("AdsAbstractImageUploadElement.react"),babelHelpers["extends"]({},this.props,{className:a,style:this.props.style,onFormInputMount:this.$1}),b("React").createElement(b("AdsAbstractImageUploadElementContent.react"),{uploadState:b("AdsAbstractImageUploadElementStates").IDLE},b("React").createElement(b("AdsUploadImageBoxContent.react"),{allowMultiImage:this.props.allowMultiImage,isUploadingState:!1,useMediaPanelRedesign:this.props.useMediaPanelRedesign})),b("React").createElement(b("AdsAbstractImageUploadElementContent.react"),{uploadState:b("AdsAbstractImageUploadElementStates").UPLOADING},b("React").createElement(b("AdsUploadImageBoxContent.react"),{allowMultiImage:this.props.allowMultiImage,isUploadingState:!0,useMediaPanelRedesign:this.props.useMediaPanelRedesign}))),b("React").createElement(b("AdsUploadImageBoxErrorContainer.react"),null))};return c}(b("React").PureComponent);c.defaultProps={style:{}};c.propTypes={accountId:a.string.isRequired,allowMultiImage:a.bool,height:a.number.isRequired,imageSpec:a.shape({minWarningWidth:a.number.isRequired,minWarningHeight:a.number.isRequired}),onUploadClick:a.func,onUploadEnd:a.func,onUploadFail:a.func,onUploadStart:a.func,onUploadSuccess:a.func,useMediaPanelRedesign:a.bool,validateImageFormat:a.bool,validateImageSize:a.bool};e.exports=c}),null);
__d("PageImageListStoreRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({pageID:"",sortBy:"",query:"",filterSet:null});e.exports=a}),null);
__d("AdsMediaStandaloneLibraryHeader.react",["ix","cx","fbt","AdsFBIconDownsized.react","AdsImageImagesInvalidatedDataAction","AdsImageImagesSortDataAction","AdsImageListStoreRecord","AdsMediaDeleteImageConfirmationDialogController.react","AdsMediaStandaloneLibrarySortOptions","AdsRichSelector.react","AdsUploadImageBox.react","BUIAdoptionDialogButton.react","BUIAdoptionDialogCancelButton.react","BUIAdoptionDialogOkayButton.react","DialogActions.brands","JSResource","LayerFadeOnHide","MediaLibraryPlacement","PageImageListStoreRecord","PopoverMenu.react","React","ReactFragment","ReactXUIMenu","SUIBusinessTheme","SUIModal.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","XUIButton.react","XUIPopoverButton.react","XUITextInput.react","asset","debounce","emptyFunction","ifRequired","BusinessObjectConstantNames"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactXUIMenu").Item,k=b("AdsRichSelector.react").Option,l=b("BusinessObjectConstantNames").ASSET_TYPE;a=b("React").PropTypes;var m=b("emptyFunction");c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={deleteDialogShown:!1,uploadDialogShown:!1,uploadErrorShown:!1},d.$2=function(a){a.persist(),m(a)},d.$3=function(){d.setState({uploadErrorShown:!0})},d.$4=function(){b("AdsImageImagesInvalidatedDataAction").dispatch({},{line:"138",module:"AdsMediaStandaloneLibraryHeader.react.js"}),d.$5()},d.$6=function(){d.setState({uploadDialogShown:!0})},d.$7=function(){b("DialogActions.brands").openDialog({isAsync:!0,dialogWidth:600,dialogResource:b("JSResource")("AssetLibraryImageUploaderDialogController.brands").__setRef("AdsMediaStandaloneLibraryHeader.react"),dialogProps:{accountID:d.props.accountID,onCancel:b("DialogActions.brands").closeDialog,onUploadImageEnd:d.$4}})},d.$8=function(){d.setState({deleteDialogShown:!0})},d.$1=function(a){a=a.target.value;d.props.onSearchTermChange(a)},d.$5=function(){d.setState({uploadDialogShown:!1})},d.$10=function(){return b("AdsMediaStandaloneLibrarySortOptions").map(function(a){return b("React").createElement(k,{className:"_5lrs",key:a.get("sortBy"),value:a.get("sortBy")},a.get("title"))})},d.$16=function(){var a=b("AdsMediaStandaloneLibrarySortOptions").find(function(a){return d.props.imageListRecord.sortBy===a.sortBy});a=a.title;return i._("{prefix}{selectedSortOption}",[i._param("prefix",b("React").createElement(b("SUIText.react"),{className:"_3-8_",shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},i._("Trier par\u00a0:"))),i._param("selectedSortOption",b("React").createElement(b("SUIText.react"),{shade:"medium",size:"meta1",theme:b("SUIBusinessTheme")},a))])},d.$18=function(){d.setState({uploadErrorShown:!1})},d.$20=function(){var a=[b("React").createElement(j,{disabled:d.props.disabledComponents.viewMetadataButton,key:"get_image_info",onclick:d.props.onViewImagesMetadata},i._("Get Image Info")),b("React").createElement(j,{disabled:d.props.disabledComponents.addTagsButton,key:"add_label",onclick:d.$22},i._("Ajouter une \u00e9tiquette"))];d.props.assetType!==l.PAGE&&a.push(b("React").createElement(j,{disabled:d.props.disabledComponents.deleteButton,key:"delete_img",onclick:d.$8},i._("Supprimer l\u2019image")));return b("React").createElement("div",null,b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3-90"+(d.props.disabledComponents.uploadImagesButton?" _41rd":""),label:i._("T\u00e9l\u00e9charger des images"),size:"large",use:"default",onClick:d.$7}),d.$21(),b("React").createElement(b("PopoverMenu.react"),{className:"_3-9a"+(d.props.disabledComponents.popoverMenu?" _41rd":""),menu:b("React").createElement(b("ReactXUIMenu"),null,a)},b("React").createElement(b("XUIPopoverButton.react"),{label:i._("Actions"),size:"large"})),b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3-90"+(d.props.disabledComponents.viewAllImagesButton?" _41rd":""),key:"view_all",label:i._("View All Images"),use:"default",onClick:d.props.onViewAllImages}))},d.$21=function(){return b("React").createElement(b("AdsRichSelector.react"),{className:"_3-9a"+(d.props.placement===b("MediaLibraryPlacement").BIZ_MEDIA_LIBRARY?" _3-90":"")+(d.props.disabledComponents.sortSelector?" _41rd":""),defaultValue:d.props.imageListRecord.sortBy,label:d.$16(),maxwidth:300,requireSelection:!1,size:"large",theme:"normal",onChange:d.$9},d.$10())},d.$22=function(){var a=d.$23();b("DialogActions.brands").openDialog({isAsync:!0,dialogWidth:600,dialogResource:b("JSResource")("AddTagsDialogController.brands").__setRef("AdsMediaStandaloneLibraryHeader.react"),dialogProps:{selectedObjectIDs:a,onCancelAddTags:b("DialogActions.brands").closeDialog}});b("ifRequired")("AssetLibraryLogger.brands",function(b){b.logUserAction(b.EVENT_NAME.ADD_TAG_TO_OBJECT_BUTTON_CLICK,{selectedAssets:a})})},d.$14=function(){d.setState({deleteDialogShown:!1})},d.$13=function(){d.setState({deleteDialogShown:!1}),d.props.onDeleteImages()},d.$12=function(){d.setState({deleteDialogShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){m=b("debounce")(this.$1,200)};d.$9=function(a){a=a.value;b("AdsImageImagesSortDataAction").dispatch({sortBy:a},{line:"180",module:"AdsMediaStandaloneLibraryHeader.react.js"})};d.$11=function(){return b("React").createElement(b("AdsMediaDeleteImageConfirmationDialogController.react"),{images:this.props.selectedImageList,onCancel:this.$12,onDeleteImages:this.$13,onToggle:this.$14})};d.$15=function(){var a=this,c=i._("You're trying to delete images that are being used in one or more of your ads. Click Continue to unselect the images that are still currently being used.");return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("BUIAdoptionDialogCancelButton.react"),{onClick:this.$14}),secondaryButton:b("React").createElement(b("BUIAdoptionDialogButton.react"),{label:i._("Continuer"),use:"confirm",onClick:function(){a.props.unselectImagesWithCreatives(),a.setState({deleteDialogShown:!1})}}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:i._("Impossible de supprimer certaines images")}),isShown:!0,theme:b("SUIBusinessTheme"),width:445,onHide:this.$14},c)};d.$17=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide")},footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("BUIAdoptionDialogOkayButton.react"),{layerAction:"cancel",use:"confirm",onClick:this.$5}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:i._("T\u00e9l\u00e9charger des images")}),isShown:this.state.uploadDialogShown,theme:b("SUIBusinessTheme"),width:600,onHide:this.$5},b("React").createElement(b("AdsUploadImageBox.react"),{accountId:this.props.accountID,allowMultiImage:!0,height:200,onUploadEnd:this.$4,onUploadFail:this.$3}))};d.$19=function(){var a=i._("L\u2019import a \u00e9chou\u00e9. Veuillez r\u00e9essayer.");return b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("BUIAdoptionDialogOkayButton.react"),{layerAction:"cancel",use:"confirm",onClick:this.$18}),theme:b("SUIBusinessTheme")}),header:b("React").createElement(b("SUIModalHeader.react"),{theme:b("SUIBusinessTheme"),title:i._("Upload Images Error")}),isShown:this.state.uploadErrorShown,theme:b("SUIBusinessTheme"),width:445,onHide:this.$18},a)};d.renderLayers=function(){__p&&__p();if(!this.state.deleteDialogShown&&!this.state.uploadDialogShown&&!this.state.uploadErrorShown)return null;var a=this.props.selectedImageList;a=a.some(function(a){return a.isAssociatedCreativesInAdgroups||a.isAssociatedCreativesInAdgroups===void 0});var c=null;this.state.deleteDialogShown&&(c=a?this.$15():this.$11());a=this.$17();var d=this.$19();return b("ReactFragment").create({dialog:c,uploadDialog:a,uploadError:d})};d.render=function(){var a=this.props.selectedImageList.length>1?"Images":"Image",c=i._({"Image":"Get Image Info","Images":"Get Images Info"},[i._enum(a,{Image:"Image",Images:"Images"})]);a=i._({"Image":"Supprimer image","Images":"Supprimer les images"},[i._enum(a,{Image:"Image",Images:"Images"})]);a=this.props.placement===b("MediaLibraryPlacement").BIZ_MEDIA_LIBRARY?this.$20():b("React").createElement("div",null,b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3-90"+(this.props.disabledComponents.uploadImagesButton?" _41rd":""),label:i._("T\u00e9l\u00e9charger des images"),use:"confirm",onClick:this.$6}),b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3-90"+(this.props.disabledComponents.deleteButton?" _41rd":""),label:a,use:"default",onClick:this.$8}),b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3-90"+(this.props.disabledComponents.viewMetadataButton?" _41rd":""),label:c,use:"default",onClick:this.props.onViewImagesMetadata}),b("React").createElement(b("XUIButton.react"),{className:"_3-9a _3-90"+(this.props.disabledComponents.viewAllImagesButton?" _41rd":""),label:i._("View All Images"),use:"default",onClick:this.props.onViewAllImages}));c=this.props.placement===b("MediaLibraryPlacement").BIZ_MEDIA_LIBRARY?b("React").createElement("div",{className:"_2pvy"},b("React").createElement("div",{className:"_3_k0"},i._("My Images"))):b("React").createElement("div",{className:"_2pvy"},b("React").createElement("div",{className:"_2pvz"},b("React").createElement("div",{className:"_2pv-"},i._("Compte\u00a0: {Account Name}",[i._param("Account Name",this.props.accountName)])),b("React").createElement("div",{className:"_2pv_"},i._("Images"))),b("React").createElement("div",{className:"_2pw0"},b("React").createElement("div",{className:"_15g3"+(this.props.disabledComponents.searchBox?" _41rd":"")},b("React").createElement(b("AdsFBIconDownsized.react"),{className:"_15g4",src:g("407177")}),b("React").createElement(b("XUITextInput.react"),{className:"_15g5",placeholder:i._("Search Images by Name"),onChange:this.$2})),this.$21()));return b("React").createElement("div",null,c,b("React").createElement("div",{className:"_2pw1"},a),this.renderLayers())};d.$23=function(){var a=this,b;this.props.assetType===l.PAGE?b=this.props.selectedImageList.reduce(function(a,b){return a.concat(b.getID())},[]):b=this.props.selectedImageList.reduce(function(b,c){return b.concat(a.props.accountID+":"+c.getAdAccountHash())},[]);return b};return c}(b("React").Component);c.propTypes={accountID:a.string.isRequired,accountName:a.string.isRequired,assetType:a.oneOf([l.AD_ACCOUNT,l.PAGE]),disabledComponents:a.shape({addTagsButton:a.bool,deleteButton:a.bool,popoverMenu:a.bool,searchBox:a.bool,sortSelector:a.bool,uploadImagesButton:a.bool,viewAllImagesButton:a.bool,viewMetadataButton:a.bool}).isRequired,imageListRecord:a.oneOfType([a.instanceOf(b("AdsImageListStoreRecord")),a.instanceOf(b("PageImageListStoreRecord"))]).isRequired,placement:a.string,onDeleteImages:a.func.isRequired,onViewAllImages:a.func.isRequired,onViewImagesMetadata:a.func.isRequired};c.defaultProps={placement:b("MediaLibraryPlacement").ADS_MEDIA_LIBRARY};e.exports=c}),null);
__d("AdsMediaStandaloneLibrary.react",["AdsImageImagesDeleteDataAction","AdsImageImagesEndReachedDataAction","AdsImageImagesSearchDataAction","AdsImageListStoreRecord","AdsMediaLibrary.react","AdsMediaPanelInfiniteScrollFooter.react","AdsMediaStandaloneLibraryHeader.react","BusinessObjectConstantNames","MediaLibraryPlacement","PageImageListStoreRecord","React","ReactDOM","emptyFunction","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BusinessObjectConstantNames").ASSET_TYPE;a=b("React").PropTypes;var h=150,i={containerPadding:80,maxImageHeight:250,minImageHeight:150,minImageWidth:350,marginPerImage:30},j={containerPadding:60,maxImageHeight:200,minImageHeight:160,minImageWidth:0,marginPerImage:12};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={height:window.innerHeight,lastClickedImage:null,selectedImageSet:b("immutable").Set(),showImageMetadata:!1,width:window.innerWidth},d.$1=function(){b("AdsImageImagesEndReachedDataAction").dispatch({imageListRecord:d.props.imageListRecord},{line:"168",module:"AdsMediaStandaloneLibrary.react.js"})},d.$2=function(a,b){var c=d.state.selectedImageSet;c.has(a)?c=c["delete"](a):c=c.add(a);d.state.lastClickedImage&&b&&(c=d.$3(c,d.state.lastClickedImage,a));d.setState({lastClickedImage:a,selectedImageSet:c})},d.$4=function(){var a=d.state.selectedImageSet.toArray();a=a.map(function(a){return a.getAdAccountHash()});b("AdsImageImagesDeleteDataAction").dispatch({imageList:a,imageListRecord:d.props.imageListRecord},{line:"201",module:"AdsMediaStandaloneLibrary.react.js"});d.setState({selectedImageSet:b("immutable").Set()})},d.$5=function(){d.setState({showImageMetadata:!1})},d.$6=function(){d.setState({showImageMetadata:!0})},d.$7=function(){var a=d.state.selectedImageSet;a=a.filter(function(a){return a.creatives.length===0});d.setState({selectedImageSet:a})},d.$3=function(a,b,c){__p&&__p();b=d.props.imageList.indexOf(b);c=d.props.imageList.indexOf(c);if(b>c){var e=[c,b];b=e[0];c=e[1]}for(var e=b+1;e<c;e++)b=d.props.imageList[e],a=a.add(b);return a},d.$9=function(){var a=d.refs.AdsMediaStandaloneLibrary;if(a){a=b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d));d.setState({height:window.innerHeight-a.getBoundingClientRect().top,width:window.innerWidth})}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$8=function(a){b("AdsImageImagesSearchDataAction").dispatch({query:a},{line:"234",module:"AdsMediaStandaloneLibrary.react.js"})};d.componentDidMount=function(){window.addEventListener("resize",this.$9),this.$9()};d.render=function(){var a=this.state.selectedImageSet,c=b("React").createElement(b("AdsMediaPanelInfiniteScrollFooter.react"),{fetchingNextPage:this.props.fetchingNextPage,imagesLoaded:!this.props.isLoadingInitial,onEndReached:this.$1}),d=this.state.showImageMetadata?i:j,e=this.state.showImageMetadata?a.toArray():this.props.imageList,f=this.state.showImageMetadata||a.size===0;f={deleteButton:f,addTagsButton:f,popoverMenu:this.state.showImageMetadata,searchBox:this.state.showImageMetadata,sortSelector:this.state.showImageMetadata,uploadImagesButton:this.state.showImageMetadata||this.props.assetType===g.PAGE,viewAllImagesButton:!this.state.showImageMetadata,viewMetadataButton:f};return b("React").createElement("div",null,b("React").createElement(b("AdsMediaStandaloneLibraryHeader.react"),{accountID:this.props.accountID,accountName:this.props.accountName,assetType:this.props.assetType,disabledComponents:f,imageListRecord:this.props.imageListRecord,placement:this.props.placement,selectedImageList:a.toArray(),unselectImagesWithCreatives:this.$7,onDeleteImages:this.$4,onSearchTermChange:this.$8,onViewAllImages:this.$5,onViewImagesMetadata:this.$6}),b("React").createElement(b("AdsMediaLibrary.react"),babelHelpers["extends"]({},this.props,{height:this.state.height-h,imageList:e,photoArrangeConstraints:d,photoArrangeEnabled:!0,ref:"AdsMediaStandaloneLibrary",scrollingAreaFooter:c,selectedImageList:a.toArray(),showStandaloneImageMetadata:this.state.showImageMetadata,standalone:!0,topBarHeight:this.props.topBarHeight,onImageClick:this.$2})))};return c}(b("React").Component);c.propTypes={accountID:a.string.isRequired,accountName:a.string.isRequired,assetType:a.oneOf([g.AD_ACCOUNT,g.PAGE]),fetchingNextPage:a.bool.isRequired,imageList:a.array.isRequired,isClickEnabled:a.bool.isRequired,isLoadingInitial:a.bool,onImageClick:a.func.isRequired,onImageDoubleClick:a.func,imageListRecord:a.oneOfType([a.instanceOf(b("AdsImageListStoreRecord")),a.instanceOf(b("PageImageListStoreRecord"))]).isRequired,topBarHeight:a.number,placement:a.string};c.defaultProps={onImageClick:b("emptyFunction"),placement:b("MediaLibraryPlacement").ADS_MEDIA_LIBRARY};e.exports=c}),null);
__d("AdsMediaStandaloneLibraryViewStore",["AdsDataAtom","AdsImageConstants","AdsImageImagesSearchDataActionFlux","AdsImageImagesSortDataActionFlux","FluxStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsImageConstants").CREATED_TIME_DESCENDING,h="",i=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;c.$AdsMediaStandaloneLibraryViewStore1=g;c.$AdsMediaStandaloneLibraryViewStore2=h;return c}var d=c.prototype;d.__getActionTypes=function(){return i?[b("AdsImageImagesSearchDataActionFlux").actionType,b("AdsImageImagesSortDataActionFlux").actionType]:null};d.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsImageImagesSortDataActionFlux").actionType:this.$AdsMediaStandaloneLibraryViewStore1=a.sortBy;this.__emitChange();break;case b("AdsImageImagesSearchDataActionFlux").actionType:this.$AdsMediaStandaloneLibraryViewStore2=a.query;this.__emitChange();break}};d.getSortBy=function(){return this.$AdsMediaStandaloneLibraryViewStore1};d.getQuery=function(){return this.$AdsMediaStandaloneLibraryViewStore2};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("PageImageListDataManager",["AdsGraphAPI","AdsImageLegacy","AdsPageImageListImagesLoadedDataAction","AssetLibraryAPIUtils.brands","AssetLibrarySearchUtils.brands","BizSiteIdentifier.brands","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.load=function(a){var c=this,d=a.pageID,f=a.sortBy,g=a.query,h=a.filterSet;h=h?b("AssetLibrarySearchUtils.brands").getAssetLibraryFilteringParams(h):null;var i=["images","picture","id"];i=i.concat(b("AssetLibraryAPIUtils.brands").getTagFieldsForAudiences());i={fields:i,type:"uploaded",name:g,sort:f,filtering:h,business_id:b("BizSiteIdentifier.brands").getBusinessID()};b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",d).edge("photos").get(i),function(d){var e=d.next?d.next.bind(d):null;b("AdsPageImageListImagesLoadedDataAction").dispatch({data:{imageListRecord:a,imageList:c.$1(d.data),loadNextPage:e}},{line:"61",module:"PageImageListDataManager.js"})})};c.loadNextPage=function(a,c){var d=this;b("promiseDone")(c(),function(c){var e=c.next?c.next.bind(c):null;b("AdsPageImageListImagesLoadedDataAction").dispatch({data:{imageListRecord:a,imageList:d.$1(c.data),loadNextPage:e}},{line:"78",module:"PageImageListDataManager.js"})})};c.$1=function(a){return a.map(function(a){var c=a.images.reduce(function(a,b){return a.width<b.width?b:a});return new(b("AdsImageLegacy"))({height:c.height,url:c.source,url_128:a.picture,width:c.width,id:a.id,imageType:"PAGE",business_object_tags:a.business_object_tags})})};return a}();e.exports=new a()}),null);
__d("PageImageListStore",["AdsDataAtom","AdsPageImageListImagesEndReachedDataActionFlux","AdsPageImageListImagesLoadedDataActionFlux","AssetLibraryAppConstants.brands","FluxLoadObjectStore","LoadObject","PageImageListDataManager","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AssetLibraryAppConstants.brands").ACTION,h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return h?[this.getActionTypeStartLoad(),g.ADD_TAG_TO_OBJECT_SUCCESS,b("AdsPageImageListImagesEndReachedDataActionFlux").actionType,b("AdsPageImageListImagesLoadedDataActionFlux").actionType]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPageImageListImagesLoadedDataActionFlux").actionType:return this.$PageImageListStore1(a,c.data);case b("AdsPageImageListImagesEndReachedDataActionFlux").actionType:return this.$PageImageListStore2(a,c.data);case g.ADD_TAG_TO_OBJECT_SUCCESS:a=a.clear();return a;default:return a}};d.$PageImageListStore3=function(a,c){a=a.get(c)||b("LoadObject").empty();c=a.getValue()||{};a=c.imageList||[];c=c.loadNextPage;return{imageList:a,loadNextPage:c}};d.$PageImageListStore2=function(a,c){__p&&__p();c=c.imageListRecord;var d=this.$PageImageListStore3(a,c),e=d.imageList;d=d.loadNextPage;if(d){var f=b("LoadObject").empty();f=f.setValue({imageList:e,loadNextPage:void 0}).updating();a=a.set(c,f);this.$PageImageListStore4(c,d)}return a};d.$PageImageListStore1=function(a,c){var d=c.imageListRecord,e=c.imageList;c=c.loadNextPage;var f=this.$PageImageListStore3(a,d).imageList;e=f.concat(e);f=b("LoadObject").empty();f=f.setValue({imageList:e,loadNextPage:c}).done();a=a.set(d,f);return a};d.$PageImageListStore4=function(a,c){b("PageImageListDataManager").loadNextPage(a,c)};d.__load=function(a){b("PageImageListDataManager").load(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("PageImageListPagingStore",["AdsDataAtom","AdsPageImageListImagesEndReachedDataAction","FluxDerivedStore","PageImageListStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getData=function(a){return b("PageImageListStore").get(a)};d.__computeResult=function(a,b){var c=b.getValue()||{};c=c.imageList||[];var d=b.hasValue();b=b.isUpdating();return{fetchingNextPage:b,imagesLoaded:d,imageList:c,onEndReached:this.$PageImageListPagingStore1(a)}};d.__getStores=function(){return[b("PageImageListStore")]};d.$PageImageListPagingStore1=function(a){return function(){b("AdsPageImageListImagesEndReachedDataAction").dispatch({data:{imageListRecord:a}},{line:"66",module:"PageImageListPagingStore.js"})}};return c}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsMediaStandaloneLibraryContainer.react",["AdsErrorBoundary.react","AdsFluxContainer","AdsImageLegacy","AdsImageListStore","AdsImageListStoreRecord","AdsImageStore","AdsLoadStateUtils_LEGACY","AdsMediaStandaloneLibrary.react","AdsMediaStandaloneLibraryViewStore","AssetLibrarySearchStore.brands","BusinessObjectConstantNames","PageImageListPagingStore","PageImageListStoreRecord","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("BusinessObjectConstantNames").ASSET_TYPE;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.getStores=function(){return[b("AdsImageListStore"),b("AdsImageStore"),b("AdsMediaStandaloneLibraryViewStore"),b("PageImageListPagingStore"),b("AssetLibrarySearchStore.brands")]};c.calculateState=function(a,c){__p&&__p();a=c.assetType;c=c.accountID;if(a==g.AD_ACCOUNT){a=new(b("AdsImageListStoreRecord"))({accountID:c,sortBy:b("AdsMediaStandaloneLibraryViewStore").getSortBy(),query:b("AssetLibrarySearchStore.brands").getNameFilter()||b("AdsMediaStandaloneLibraryViewStore").getQuery(),filterSet:b("AssetLibrarySearchStore.brands").getConstructedFilterSet()});var d=b("AdsImageListStore").get(a),e=d.getValue()||{};e=e.imageList||[];e=b("AdsImageStore").getAllFor(c,e);e=b("AdsLoadStateUtils_LEGACY").getLoadedValues(e).map(function(a){return new(b("AdsImageLegacy"))(a)});var f=!d.hasValue()||d.isDeleting();d=d.isUpdating();return{fetchingNextPage:d,imageList:e,imageListRecord:a,userImagesNotLoaded:f}}else{d=new(b("PageImageListStoreRecord"))({pageID:c,sortBy:b("AdsMediaStandaloneLibraryViewStore").getSortBy(),query:b("AssetLibrarySearchStore.brands").getNameFilter()||b("AdsMediaStandaloneLibraryViewStore").getQuery(),filterSet:b("AssetLibrarySearchStore.brands").getConstructedFilterSet()});e=b("PageImageListPagingStore").get(d);return{fetchingNextPage:e.fetchingNextPage,imageList:e.imageList,imageListRecord:d,userImagesNotLoaded:!e.imagesLoaded}}};var d=c.prototype;d.render=function(){return b("React").createElement(b("AdsErrorBoundary.react"),null,b("React").createElement(b("AdsMediaStandaloneLibrary.react"),{accountID:this.props.accountID,accountName:this.props.accountName,assetType:this.props.assetType,fetchingNextPage:this.state.fetchingNextPage,imageList:this.state.imageList,imageListRecord:this.state.imageListRecord,isClickEnabled:!0,isLoadingInitial:this.state.userImagesNotLoaded,placement:this.props.placement,topBarHeight:this.props.topBarHeight}))};return c}(b("React").Component);a.defaultProps={assetType:g.AD_ACCOUNT};e.exports=b("AdsFluxContainer").create(a,{withProps:!0,name:e.id})}),null);
__d("AdsCMMediaLibraryContents.react",["AdsCMTopNavContainer.react","AdsMediaStandaloneLibraryContainer.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",null,b("React").createElement(b("AdsCMTopNavContainer.react"),null),b("React").createElement(b("AdsMediaStandaloneLibraryContainer.react"),{accountID:this.props.accountID,accountName:this.props.accountName}))};return c}(b("React").Component);c.propTypes={accountID:a.string.isRequired,accountName:a.string.isRequired};e.exports=c}),null);
__d("AdsCMMediaLibraryPageContainer.react",["AdsAccountStore","AdsAPIAccountPaths","AdsCMMediaLibraryContents.react","FluxMixinLegacy","React","ReactComponentWithPureRenderMixin","getByPath"],(function(a,b,c,d,e,f){"use strict";a=b("React").createClass({displayName:"AdsCMMediaLibraryPageContainer",mixins:[b("ReactComponentWithPureRenderMixin"),b("FluxMixinLegacy")([b("AdsAccountStore")],{withProps:!0})],statics:{calculateState:function(a,c){return{accountID:b("AdsAccountStore").getSelectedAccountID(),accountName:b("getByPath")(b("AdsAccountStore").getSelectedAccount().getValue(),b("AdsAPIAccountPaths").NAME)}}},render:function(){return b("React").createElement(b("AdsCMMediaLibraryContents.react"),{accountID:this.state.accountID,accountName:this.state.accountName})}});e.exports=a}),null);