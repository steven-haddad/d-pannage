if (self.CavalryLogger) { CavalryLogger.start_js(["8\/aBX"]); }

__d("AdsImageSelectorV2ModalClosedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_IMAGE_SELECTOR_V2_MODAL_CLOSED");e.exports=a}),null);
__d("AdsUEditorAdgroupRemoveImageAtIndexDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsRemoveImageAtIndexDataReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsUEditorAdgroupRemoveImageAtIndexReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"ADS_ADGROUP_EDITOR_REMOVE_IMAGE_AT_INDEX");e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageAssetsDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsSetImageAssetsDataReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsUEditorAdgroupSetImageAssetsReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"ADS_ADGROUP_EDITOR_SET_IMAGE_ASSETS");e.exports=a}),null);
__d("AdsUEditorAdgroupSetImageCropsAtIndexDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsAdgroupDraftFragmentsSetImageCropsAtIndexDataReducerPlugin",function(a){return b("ifRequired")("AdsAdgroupDraftFragmentsDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})}),b("ifRequired")("AdsUEditorAdgroupSetImageCropsAtIndexReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"ADS_SET_IMAGE_CROPS_AT_INDEX");e.exports=a}),null);
__d("AdsUnifiedImageCompactLayout.react",["cx","fbt","ix","AdsFBIconDownsized.react","AdsImagePanelSizes","AdsImageUtils","AdsImageValidationIcon.react","AdsUnifiedImageUtils","AdsUnifiedMediaRowView.react","FBOverlayElement.react","FDSSpinner.react","FDSText.react","Image.react","Link.react","LoadObject","React","SphericalMediaGyroIcon.react","asset","objectValues"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsUnifiedImageUtils").getCroppedImageDimensions;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onCropImageClick&&c.props.onCropImageClick(c.props.assetKey)},c.$2=function(){c.props.onRemoveImageClick&&c.props.onRemoveImageClick(c.props.assetKey)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.errors,d=a.imageLoadObject,e=a.onCropImageClick,f=a.onRemoveImageClick,g=a.title;a=a.size;var k;if(d instanceof b("LoadObject")){if(d.isLoading()||!d.hasValue())return b("React").createElement(b("AdsUnifiedMediaRowView.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,disableBackgroundGradient:!0,display:"inline-block",size:this.props.allowFlexibleImageAspectRatio?{height:a.width,width:a.width}:a,thumbnailOverlay:b("React").createElement("div",{className:"_6ssn"},b("React").createElement(b("FDSSpinner.react"),null)),title:g});k=d.getValueEnforcing()}else k=d;d=[];var l=j(k);l&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"left",key:"dimentions",vertical:"bottom"},b("React").createElement("div",{className:"_2phz"},b("React").createElement(b("FDSText.react"),{color:"white",size:"meta1",textAlign:"left"},b("React").createElement("span",{className:"_6sso"},h._("{width} \u00d7 {height}",[h._param("width",l.width),h._param("height",l.height)]))))));f&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"remove_button",vertical:"top"},b("React").createElement(b("Link.react"),{onClick:this.$2},b("React").createElement(b("Image.react"),{src:i("23122")}))));k.isSphericalPhoto===!0?d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"spherical_icon",vertical:"bottom"},b("React").createElement("div",{className:"_2pih _2pim"},b("React").createElement(b("SphericalMediaGyroIcon.react"),null)))):e&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"right",key:"crop_icon",vertical:"bottom"},b("React").createElement(b("Link.react"),{onClick:this.$1},b("React").createElement("div",{className:"_6ssp"},b("React").createElement("div",{className:"_6ssq"}),b("React").createElement(b("AdsFBIconDownsized.react"),{src:i("406849")})))));c!=null&&c.length>0&&d.push(b("React").createElement(b("FBOverlayElement.react"),{horizontal:"left",key:"errors",vertical:"top"},b("React").createElement(b("AdsImageValidationIcon.react"),{className:"_3-8w _3-99",errors:c})));l=null;f=k.crops;if(f!=null){e=b("objectValues")(f);l=e.length>0?e[0]:null}c=b("AdsImageUtils").getImageTransformForBounds(k.width,k.height,a.width,a.height,l);return b("React").createElement(b("AdsUnifiedMediaRowView.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,cropTransform:c,display:"inline-block",size:this.props.allowFlexibleImageAspectRatio?{height:a.width,width:a.width}:a,thumbnailOverlay:d,thumbnailSrc:k.url,title:g})};return c}(b("React").PureComponent);a.defaultProps={assetKey:null,size:b("AdsImagePanelSizes").TINY};e.exports=a}),null);
__d("AdsImageAssetGrid.react",["ix","cx","fbt","AdsImageLegacy","AdsUnifiedImageCompactLayout.react","AdsUnifiedImageView.react","CenteredContainer.react","FDSText.react","Grid.react","React","SUIGlyphIcon.react","asset","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={hover:!1},b.$1=function(){b.setState({hover:!0})},b.$2=function(){b.setState({hover:!1})},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_2pim","_2pih"),style:this.props.size},b("React").createElement(b("CenteredContainer.react"),{className:"_fh5","data-testid":"image-select-button",horizontal:!0,key:"img_place_holder",vertical:!0,onClick:this.props.onShowImageDialog,onMouseEnter:this.$1,onMouseLeave:this.$2},b("React").createElement(b("SUIGlyphIcon.react"),{hover:this.state.hover,srcDefault:g("407431"),srcHover:g("378287")}),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"meta1",textAlign:"center"},i._("Ajouter des images"))))};return a}(b("React").Component);a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,c){d.props.onCropsChange(a,new(b("AdsImageLegacy"))(c).getCrops())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=[],d=this.props;d.hideSelectImages&&c.push(b("React").createElement(j,{key:"AddImageButton",size:d.panelSize,onShowImageDialog:d.onShowImageDialog}));d.images.forEach(function(e,f){c.push(b("React").createElement(b("AdsUnifiedImageView.react"),{allowFlexibleImageAspectRatio:a.props.allowFlexibleImageAspectRatio,assetKey:f,className:"_6zv1",cropperProps:{image:e,imageSpecs:d.imageSpecs,isSingleCropMode:!0},imageLoadObject:e,key:"img_"+f,layoutRenderer:b("AdsUnifiedImageCompactLayout.react"),size:d.panelSize,onCropImage:a.$1,onRemoveImageClick:d.onRemoveImageAsset}))});return c.length===0?null:b("React").createElement(b("Grid.react"),{cols:3,spacing:"_2phz"},c)};return c}(b("React").PureComponent);e.exports=a}),null);
__d("AdsImageDCOSelector.react",["cx","fbt","invariant","AdImageSpecsUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsImageAssetGrid.react","AdsImageIDUtils","AdsImagePanelNote.react","AdsImageSelectorV2ConfigUtils","AdsImageSelectorV2ModalClosedAction","AdsImageSelectorV2ModalContainer.react","AdsImageSelectorV2Types","AdsInterfacesLogEvents","AdsInterfacesLogger","FDSButton.react","FDSText.react","Link.react","React","URI","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsImageSelectorV2Types").AdsImageSource,k=b("immutable").Map;a=10;function l(a){return a.hideImageSpecs||a.imageSpecs.length===0?null:b("React").createElement(b("AdsImagePanelNote.react"),{fromLWI:a.fromLWI,imageSpec:b("AdImageSpecsUtils").getRecommendedImageSpec(a.imageSpecs)||a.imageSpecs[0]})}function m(a){return a.hideSelectImages?null:b("React").createElement("div",{className:"_2pin","data-testid":"dco-select-images-buttton",id:"dcoSelectImagesButton"},b("React").createElement(b("FDSButton.react"),{isDisabled:a.disabled,label:h._("S\u00e9lectionner des images"),onClick:a.onClick}))}function n(a){return b("React").createElement("div",{className:"_3-8o"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"meta1"},h._("Pour poser des questions et obtenir plus d\u2019informations, consultez les {=Facebook Ad Guidelines}.",[h._param("=Facebook Ad Guidelines",b("React").createElement(b("Link.react"),{href:new(b("URI"))("/business/ads-guide/"),target:"_blank"},h._("R\u00e8gles publicitaires Facebook")))])))}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={showChangeDialog:!1},d.$1=function(){b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").SELECT_IMAGES_DIALOG_HIDE,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),d.setState({showChangeDialog:!1}),b("AdsImageSelectorV2ModalClosedAction").dispatch({},{line:"162",module:"AdsImageDCOSelector.react.js"})},d.$2=function(){b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").SELECT_IMAGES_DIALOG_SHOW,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION}),d.setState({showChangeDialog:!0})},d.$3=function(a){a=a?a.toJSON():[];d.$4(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.images.length>0;return b("React").createElement("div",null,this.state.showChangeDialog?b("React").createElement(b("AdsImageSelectorV2ModalContainer.react"),{accountID:this.props.accountID,initialSource:j.ACCOUNT_IMAGE,isShown:!0,maxSelectedImageIDs:this.props.maxSelectedImages,selectedImageIDs:b("AdsImageIDUtils").getImageIDsFromImageInfoArray(this.props.accountID,this.$5(this.props.images)),sources:this.props.sources||this.$6(),specs:this.props.imageSpecs,onConfirmLegacy:this.$3,onHide:this.$1}):null,b("React").createElement(m,{disabled:this.props.disableSelectButtons,hideSelectImages:a&&!this.props.hideAssetsList,onClick:this.$2}),this.props.hideAssetsList?null:b("React").createElement(b("React").Fragment,null,b("React").createElement(l,{fromLWI:this.props.fromLWI,hideImageSpecs:a,imageSpecs:this.props.imageSpecs}),b("React").createElement(b("AdsImageAssetGrid.react"),{allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,hideSelectImages:a,imageSpecs:this.props.imageSpecs,images:this.props.images,panelSize:this.props.panelSize,onCropsChange:this.props.onCropsChange,onRemoveImageAsset:this.props.onRemoveImageAsset,onSelectImageAsset:this.props.onSelectImageAsset,onShowImageDialog:this.$2})),this.props.fromLWI||this.props.hideAssetsList?null:b("React").createElement(n,{hideImageSpecs:a}))};d.$6=function(){var a=b("AdImageSpecsUtils").reduceAndMergeImageSpec(this.props.imageSpecs);return b("AdsImageSelectorV2ConfigUtils").getSourcesForDCOAdgroup(this.props.accountID,a)};d.$4=function(a){a=a.map(function(a){var b=a.hash;a=a.url;if(b!=null&&b!=="")return k({hash:b});a!=null&&a!==""||i(0,6132);return k({url:a})});this.props.onSetImageAssets(a)};d.$5=function(a){return a.map(function(a){var b=a.hash;a=a.url;if(b!=null&&b!=="")return{hash:b};a!=null&&a!==""||i(0,6133);return{url:a}})};return c}(b("React").PureComponent);c.defaultProps={fromLWI:!1,maxSelectedImages:a,hideAssetsList:!1};e.exports=c}),null);
__d("AdsUEditorAdgroupImageDCOSelector.react",["AdsImageDCOSelector.react","AdsImagePanelSizes","AdsUEditorAdgroupRemoveImageAtIndexDataAction","AdsUEditorAdgroupSetImageAssetsDataAction","AdsUEditorAdgroupSetImageCropsAtIndexDataAction","AdsUEditorContextType","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){b("AdsUEditorAdgroupRemoveImageAtIndexDataAction").dispatch({hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.props.adgroupIDs,assetIndex:a},{line:"40",module:"AdsUEditorAdgroupImageDCOSelector.react.js"})},d.$2=function(a){b("AdsUEditorAdgroupSetImageAssetsDataAction").dispatch({hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.props.adgroupIDs,imageAssets:a},{line:"48",module:"AdsUEditorAdgroupImageDCOSelector.react.js"})},d.$3=function(a,c){b("AdsUEditorAdgroupSetImageCropsAtIndexDataAction").dispatch({assetIndex:a,crops:c,hostID:d.context.adgroupEditorContext.hostID,adgroupIDs:d.props.adgroupIDs},{line:"58",module:"AdsUEditorAdgroupImageDCOSelector.react.js"})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this.props.imageAssetsByIndex.valueSeq().toArray();return b("React").createElement(b("AdsImageDCOSelector.react"),{accountID:this.props.accountID,allowFlexibleImageAspectRatio:this.props.allowFlexibleImageAspectRatio,disableSelectButtons:this.props.disableSelectButtons,hideAssetsList:this.props.hideAssetsList,imageSpecs:this.props.specs,images:a,maxSelectedImages:this.props.maxSelectedImages,panelSize:this.props.allowFlexibleImageAspectRatio?b("AdsImagePanelSizes").TINY_SQUARE:b("AdsImagePanelSizes").TINY,onCropsChange:this.$3,onRemoveImageAsset:this.$1,onSetImageAssets:this.$2})};return c}(b("React").PureComponent);a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=a}),null);