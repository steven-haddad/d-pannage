if (self.CavalryLogger) { CavalryLogger.start_js(["+hosx"]); }

__d("EntstreamFeedObjectTracking",["csx","CSS","DOM","EntstreamFeedObject","Focus","ge"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map();e.exports={register:function(a){var c=this.getRoot(a.nodeID);if(!c)return;var d=b("DOM").scry(c,"._5v9_"),e=d&&d.length?d:[c];a.actorIDs.forEach(function(a){var b=[].concat(h.get(a)||[]);b.push.apply(b,e);h.set(a,b)})},hideAllFromActor:function(a){var c=this.getRoot(a.nodeID);(h.get(a.actorID)||[]).forEach(function(a){if(a===c)return;b("CSS").hide(a)})},unhideAllFromActor:function(a){var c=this.getRoot(a.nodeID);(h.get(a.actorID)||[]).forEach(function(a){b("CSS").show(a)});c&&b("Focus").setWithoutOutline(c)},getRoot:function(a){a=b("ge")(a);return a?b("EntstreamFeedObject").getRoot(a):null}}}),null);
__d("LitestandMessages",[],(function(a,b,c,d,e,f){a=Object.freeze({NEWSFEED_LOAD:"LitestandMessages/NewsFeedLoad",LEAVE_HOME:"LitestandMessages/LeaveHome",STORIES_REQUESTED:"LitestandMessages/StoriesRequested",STORIES_INSERTED:"LitestandMessages/StoriesInserted",NEWER_STORIES_REQUESTED:"LitestandMessages/NewerStoriesRequested",NEWER_STORIES_INSERTED:"LitestandMessages/NewerStoriesInserted",NEW_STORIES_CONTAINER_CREATED:"LitestandMessages/NewStoriesContainer",RHC_RELOADED:"LitestandMessages/RHCReloaded",STREAM_LOAD_ERROR:"LitestandMessages/StreamLoadError",DUPLICATE_CURSOR_ERROR:"LitestandMessages/DuplicateCursorError",STREAM_LOAD_RETRY:"LitestandMessages/StreamLoadRetry"});e.exports=a}),null);
__d("ViewableImpressionUtils",["csx","CSS"],(function(a,b,c,d,e,f,g){a={isHorizontallyOffscreen:function(a,c,d){var e=Math.max(c.x,0);d=Math.min(c.x+c.width,d.width);return d-e<c.width||b("CSS").matchesSelector(a,".desktop_hscroll_offscreen")}};e.exports=a}),null);
__d("MetricsValidationSignalTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MetricsValidationSignalLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MetricsValidationSignalLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MetricsValidationSignalLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setContext=function(a){this.$1.context=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setErrorFields=function(a){this.$1.error_fields=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setErrorMessages=function(a){this.$1.error_messages=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setErrorTypes=function(a){this.$1.error_types=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEventFields=function(a){this.$1.event_fields=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEvents=function(a){this.$1.events=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setLogVersion=function(a){this.$1.log_version=a;return this};c.setMetrics=function(a){this.$1.metrics=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setResult=function(a){this.$1.result=a;return this};c.setSystem=function(a){this.$1.system=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setType=function(a){this.$1.type=a;return this};c.setValidator=function(a){this.$1.validator=a;return this};c.setVolume=function(a){this.$1.volume=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={app_id:!0,context:!0,error_fields:!0,error_messages:!0,error_types:!0,event_fields:!0,events:!0,log_version:!0,metrics:!0,result:!0,system:!0,time:!0,type:!0,validator:!0,volume:!0,weight:!0};e.exports=a}),null);
__d("FullViewLogger",["Banzai","ScriptPath","SubscriptionsHandler","URI"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}a.logFromViewableImpressionTracker=function(b){var c=new a();c.subscribeToTrackerEvents(b)};var c=a.prototype;c.subscribeToTrackerEvents=function(a){this.subscriptionsHandler=new(b("SubscriptionsHandler"))(),this.subscriptionsHandler.addSubscriptions(a.addListener("full_view",this.onFullView,this))};c.onFullView=function(a){this.$1()&&this.$2(a);a={token:a.token,fullViewType:a.fullViewType,scriptPath:b("ScriptPath").getTopViewEndpoint()};b("Banzai").post("xtrackable:full_view",a);this.$1()&&this.$3(a)};c.$1=function(){return 0};c.$2=function(a){};c.$3=function(a){};return a}();e.exports=a}),null);
__d("PercentVisible",[],(function(a,b,c,d,e,f){e.exports={NO_VISIBLE:-1,VISIBLE_0_PCT:0,VISIBLE_50_PCT:50,VISIBLE_100_PCT:100}}),null);
__d("FullViewType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTIRE_UNIT:1,COMET:2})}),null);
__d("GHLDelay",["AdImpressionLoggingConfig"],(function(a,b,c,d,e,f){var g=null;a={getEnabled:function(){return g===null?b("AdImpressionLoggingConfig").enableDelayedHiddenCheck:g},setEnabled:function(a){g=a}};e.exports=a}),null);
__d("GHLTestElement",["csx","invariant","BanzaiODS","Parent","containsNode","getElementPosition"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a,c){__p&&__p();var d=Array.from(a.querySelectorAll("img"));d.length>0||h(0,13937);d=d.filter(i);if(d.length===0){b("BanzaiODS").bumpEntityKey("feed_ads","GHLTestElement.testElementI.skipping_check_for_incompatible_element"+c);return!1}c=d.filter(function(a){a=b("getElementPosition")(a);return a.width>0||a.height>0});d=c.length===0;return d&&!j(a)};var i=function(a){var c;return b("containsNode")(a==null?void 0:(c=a.ownerDocument)==null?void 0:c.documentElement,a)},j=function(a){return!!b("Parent").bySelector(a,k)},k=[".hidden_elem","._5ds2","._i6m"].join(",");e.exports={testElementI:a}}),null);
__d("GHLTracker",["BanzaiODS"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map();a=function(a){if(g.has(a)){b("BanzaiODS").bumpEntityKey("feed_ads","GHLTracker.element_id_duplicated");return}g.set(a,{isHidden:!1,isDelayImpLogged:!1})};c=function(a){var b=g.get(a);b!==void 0&&g.set(a,{isHidden:!0,isDelayImpLogged:b.isDelayImpLogged})};d=function(a){var b=g.get(a);b!==void 0&&g.set(a,{isHidden:b.isHidden,isDelayImpLogged:!0})};f=function(a){return g.get(a)};e.exports={track:a,markH:c,markImp:d,getState:f}}),null);
__d("ViewableSessionStore",["BanzaiODS","CurrentUser","MetricsValidationSignalTypedLogger","ge","getViewportDimensions","setTimeout"],(function(a,b,c,d,e,f){__p&&__p();var g="viewable_session_validation",h={};function a(a,c,d){try{var e=k(a);h[e]||(h[e]={context:a,isValid:!1});i(e,c,d);if(((a=h[e].boundaryDimensions)==null?void 0:a.ref)!==0)return;!h[e].isValid?j(e)&&(h[e].isValid=!0):j(e)||(h[e].isValid=!1,h[e].invalidTime=Date.now())}catch(a){b("BanzaiODS").bumpEntityKey(g,"error.onViewUpdate."+a.message)}}function i(a,b,c){__p&&__p();var d;c=c.getBoundingClientRect();var e=c.bottom,f=c.top,g=c.left;c=c.right;var i={};d=(d=(d=h[a])==null?void 0:(d=d.boundaryDimensions)==null?void 0:d.ref)!=null?d:0;switch(b){case"top":i={top:e,left:g,right:c,ref:++d};break;case"bottom":i={bottom:f,left:g,right:c,ref:--d};break}h[a]=babelHelpers["extends"]({},h[a],{boundaryDimensions:babelHelpers["extends"]({},(b=h[a])==null?void 0:b.boundaryDimensions,i)})}function j(a){a=(a=h[a])==null?void 0:a.boundaryDimensions;if(a==void 0)return!1;var c=b("ge")("pagelet_bluebar"),d=b("getViewportDimensions")(),e=d.width;d=d.height;c=c!=null?c.offsetHeight+c.offsetTop:0;return a.top!=void 0&&a.bottom!=void 0&&a.top<a.bottom&&a.top<d&&a.bottom>c&&a.left<a.right&&a.left<e&&a.right>0}function k(a){return a.postId}function l(a){var b=h[a];if(b==void 0)return!1;var c=b.invalidTime;return b.isValid===!0||c!=void 0&&Date.now()-c<1e3||j(a)}function m(a,c,d,e){__p&&__p();e===void 0&&(e=1);try{var f,i;f="event_logged."+a+"."+((f=d)!=null?f:"null")+".";i=new(b("MetricsValidationSignalTypedLogger"))().setSystem("WEB_CLIENT").setValidator("VIEWABLE_SESSION_VALIDATOR").setEvents([a]).setContext({userid:b("CurrentUser").getAccountID(),sessionKey:c,sessionDetail:JSON.stringify(h[c]),storyLocation:(i=d)!=null?i:"null"}).setType("n/a");if(l(c))i.setResult(0),b("BanzaiODS").bumpEntityKey(g,f+"pass");else{if(e>0){b("setTimeout")(function(){m(a,c,d,e-1)},500);return}i.setResult(1).setErrorFields([a]).setErrorTypes(["over-logging"]).setErrorMessages(["events are logged when component is not visible"]);b("BanzaiODS").bumpEntityKey(g,f+"overlogging")}i.log()}catch(a){b("BanzaiODS").bumpEntityKey(g,"error.onEventLogged."+a.message)}}e.exports={ViewableSessionStore:h,onViewUpdate:a,onEventLogged:m}}),null);
__d("ViewableImpressionTracker",["csx","cx","AdImpressionLoggingConfig","Banzai","BanzaiODS","BrowseClientEventLogger","DataAttributeUtils","DOM","FBSiteWhiteOps","FullViewType","GHLDelay","GHLTestElement","GHLTracker","IFrameTestingMode","NonBlockingIFrame","PercentVisible","Run","Style","URI","ViewableImpressionUtils","ViewableSessionStore","Visibility","ge","getElementPosition","getViewportDimensions","ghlTestUBT","gkx","mixInEventEmitter","randomInt","ScriptPath"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("ViewableSessionStore").onEventLogged;a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.checkAndLogImpressionIfPendingOnExit=function(){b("AdImpressionLoggingConfig").enableFlushDelayLogOnCleanup&&e.waitForDelayLogged&&(clearTimeout(e.delayedLoggingTimeout),e.delayLogImpression())};this.delayLogImpression=function(){__p&&__p();e.waitForDelayLogged=!1;var a="other";e.element.id.startsWith("hyperfeed")&&(a="16");var c=b("GHLTestElement").testElementI(e.element,".vit."+a),d=b("GHLTracker").getState(e.element.id);d&&(d.isHidden!==c&&b("BanzaiODS").bumpEntityKey("feed_ads","ViewableImpressionTracker.delayLogImpression.hidden_value_mismatch."+c+"."+d.isHidden+"."+a));b("GHLTracker").markImp(e.element.id);if(c){e.$11();b("AdImpressionLoggingConfig").logForHiddenAds&&e.logImpression(1,!0,{});return}e.logImpression(1,!1,{});e.$9()};this.id=a;this.element=c;this.config=d;this.iframe=null;this.viewableTimeout=null;this.delayedLoggingTimeout=null;this.clearSubsequentTimeout=null;this.waitForSubsequent=!1;this.waitForLogged=!1;this.waitForDelayLogged=!1;this.isNonViewableLogged=!1;this.isVisible=!1;this.iframeLogged=!1;this.banzaiLogged=!1;this.topLeftInViewport=!1;this.bottomRightInViewport=!1;this.isHidden=!1;b("Run").onUnload(this.checkAndLogImpressionIfPendingOnExit);b("Run").onLeave(this.checkAndLogImpressionIfPendingOnExit);b("ghlTestUBT")(function(a){a===!0&&b("GHLDelay").setEnabled(!0)})}var c=a.prototype;c.getID=function(){return this.id};c.getConfig=function(){return this.config};c.getPercentInViewport=function(){var a=b("getViewportDimensions")(),c=b("getElementPosition")(this.element);return this.$1(a,c)};c.$2=function(a,c,d){__p&&__p();d===void 0&&(d=0);var e=b("gkx")("833732");if(e&&(c.height===0||c.width===0))return 0;if(c.x<a.width&&c.x+c.width>0&&c.y<a.height&&c.y+c.height>d&&b("Style").get(this.element,"visibility")!=="hidden"&&b("Style").get(this.element,"opacity")!=="0"){e=Math.max(c.x,0);var f=Math.min(c.x+c.width,a.width);d=Math.max(c.y,d);a=Math.min(c.y+c.height,a.height);if(c.height*c.width===0)return 100;f=100*(f-e)*(a-d)/(c.height*c.width);return f}return 0};c.$1=function(a,c){return this.config.require_horizontally_onscreen&&b("ViewableImpressionUtils").isHorizontallyOffscreen(this.element,c,a)?0:this.$2(a,c)};c.$3=function(a,c,d){a=this.$2(a,c,d);if(a===0)return b("PercentVisible").NO_VISIBLE;else if(a<50)return b("PercentVisible").VISIBLE_0_PCT;else if(a<100)return b("PercentVisible").VISIBLE_50_PCT;else return b("PercentVisible").VISIBLE_100_PCT};c.$4=function(a,c,d){d===void 0&&(d=0);var e=Math.max(c.y,d);c=Math.min(c.y+c.height,a.height);c=100*(c-e)/(a.height-d);if(c<50)return b("PercentVisible").VISIBLE_0_PCT;else if(c<100)return b("PercentVisible").VISIBLE_50_PCT;else return b("PercentVisible").VISIBLE_100_PCT};c.$5=function(a,c){__p&&__p();var d=0,e=b("ge")("pagelet_bluebar");e&&e.offsetHeight&&(d=e.offsetHeight+e.offsetTop);if(this.config.should_log_viewport_duration){e=this.$4(a,c,d);switch(e){case b("PercentVisible").VISIBLE_0_PCT:case b("PercentVisible").VISIBLE_50_PCT:case b("PercentVisible").VISIBLE_100_PCT:this.emit("viewport_viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:e});break;default:break}}e=this.$3(a,c,d);switch(e){case b("PercentVisible").VISIBLE_0_PCT:case b("PercentVisible").VISIBLE_50_PCT:case b("PercentVisible").VISIBLE_100_PCT:this.emit("viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:e});break;default:this.emit("hidden",{id:this.getID(),token:this.getToken()});break}};c.$6=function(a,c){if(b("Style").get(this.element,"visibility")==="hidden"||b("Style").get(this.element,"opacity")==="0")return!1;var d=c.x,e=c.y,f=c.x+c.width;c=c.y+c.height;this.topLeftInViewport=this.topLeftInViewport||d>=0&&d<=a.width&&e>=0&&e<=a.height;this.bottomRightInViewport=this.bottomRightInViewport||f>=0&&f<=a.width&&c>=0&&c<=a.height;return this.topLeftInViewport&&this.bottomRightInViewport};c.$7=function(a,c){if(this.hasEmittedFullViewEvent)return;this.$6(a,c)&&(this.emit("full_view",{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:b("FullViewType").ENTIRE_UNIT}),this.hasEmittedFullViewEvent=!0)};c.onVisible=function(a){__p&&__p();var c=this;if(b("IFrameTestingMode").IsDarktestPage)return;this.isVisible=!0;a=b("getViewportDimensions")();var d=b("getElementPosition")(this.element),e=this.$1(a,d),f=e>this.config.pixel_in_percentage,g=[],h=[];(this.config.skip_imp_if_no_images||this.config.check_images_before_log)&&(g=Array.from(this.element.querySelectorAll("img")),h=Array.from(this.element.getElementsByClassName("_7cqq")),b("BanzaiODS").bumpEntityKey("feed_ads","ViewableImpressionTracker.delayLogImpression.isFeedLoadedCheck."+(g.length===0)+"."+(h.length===0)));if(this.config.skip_imp_if_no_images&&g.length===0)return;this.isHidden&&f&&!b("Visibility").isHidden()&&(this.isHidden=!1);this.emit("visible",{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:e});this.config.should_log_viewability_duration&&this.$5(a,d);this.$7(a,d);if(!f){this.$8();return}this.isLogged()?this.$9():this.$10();!this.waitForLogged&&!this.waitForDelayLogged&&!this.isLogged()&&!(b("AdImpressionLoggingConfig").blockInvisible&&b("Visibility").isHidden())&&(this.waitForLogged=!0,this.viewableTimeout=setTimeout(function(){__p&&__p();c.waitForLogged=!1;if(b("AdImpressionLoggingConfig").blockInvisible&&b("Visibility").isHidden())return;var a=c.getPercentInViewport();a=a>c.config.pixel_in_percentage;if(!a){c.$11();return}c.config.check_images_before_log&&(g.length===0&&b("BanzaiODS").bumpEntityKey("feed_ads","ViewableImpressionTracker.log_without_load."+c.config.trackable_identifier));if(b("GHLDelay").getEnabled()&&c.config.can_delay_log_impression===!0){c.waitForDelayLogged=!0;a=b("AdImpressionLoggingConfig").maxHiddenCheckDelay;a=a-c.config.duration_in_ms;a<0&&(a=0);c.delayedLoggingTimeout=setTimeout(c.delayLogImpression,a)}else c.logImpression(1,!1,{}),c.$9()},this.config.duration_in_ms))};c.onHidden=function(){var a=this;this.isHidden=!0;this.emit("hidden",{id:this.getID(),token:this.getToken()});this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged?this.logNonViewableImpression():!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible&&this.logNonViewableImpression();this.isVisible=!1;this.waitForLogged&&(this.waitForLogged=!1,clearTimeout(this.viewableTimeout));this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0&&(this.waitForSubsequent=!0,this.clearSubsequentTimeout=setTimeout(function(){a.waitForSubsequent=!1,a.reset(),a.isVisible&&a.onVisible()},this.config.subsequent_gap_in_ms));this.$11()};c.onRemoved=function(){this.isVisible=!1};c.getToken=function(){return b("DataAttributeUtils").getDataAttribute(this.element,"data-xt")};c.logImpression=function(a,c,d){__p&&__p();if(b("IFrameTestingMode").IsDarktestPage)return;if(this.isLogged())return;var e=this.getToken(),f=Math.floor(Date.now()/1e3),g=this.$12(),h=Date.now()+"_"+(b("randomInt")(0,4294967295)+1);e={xt:e,isv:a,cts:f,csp:g,hba:c,etid:h};this.config.should_log_endpoint_info&&(e.me=b("ScriptPath").getTopViewEndpoint());if(b("Banzai").isEnabled("xtrackable_clientview_batch")&&this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){a=this.config.vital_mode_for_ss?b("Banzai").VITAL:{};a.signal=this.config.signal_mode_for_ss;this.logWithBanzai(e,a);b("AdImpressionLoggingConfig").runBotDetection&&b("FBSiteWhiteOps").appendToWindow(h,"FACEBOOK_WEB_ADS","IMPRESSION")}else this.logWithIFrame(Object.assign(e,d));if(b("gkx")("876709"))try{f=JSON.parse(b("DataAttributeUtils").getDataFt(this.element));g=f.page_id;c=f.top_level_post_id;a=f.story_location;g&&c&&i("page_post_impression",c,a)}catch(a){b("BanzaiODS").bumpEntityKey("impression_logging_debug","viewable_session_validation_exception."+a.message)}};c.logNonViewableImpression=function(){if(b("IFrameTestingMode").IsDarktestPage)return;if(this.config.nonviewableEnabled){var a=this.getToken();b("Banzai").post("xtrackable:nonviewable",{xt:a})}this.isNonViewableLogged=!0};c.isLogged=function(){return b("IFrameTestingMode").IsDarktestPage?!0:this.iframeLogged||this.banzaiLogged};c.reset=function(){this.iframeLogged&&(this.iframeLogged=!1),this.iframe&&(b("DOM").remove(this.iframe),this.iframe=null),this.banzaiLogged&&(this.banzaiLogged=!1),this.isNonViewableLogged=!1,this.isVisible=!1,this.waitForLogged=!1,this.waitForDelayLogged=!1,this.waitForSubsequent=!1};c.logWithBanzai=function(a,c){this.banzaiLogged=!0,b("BrowseClientEventLogger").maybeLogClientViewEvent(a),b("Banzai").post("xtrackable:clientview_batch",a,c)};c.logWithIFrame=function(a){this.iframeLogged=!0,this.config.is_instream_story?b("NonBlockingIFrame").loadIFrame(new(b("URI"))(this.config.impressionURL).addQueryData(a).toString()):(this.iframe=b("DOM").create("iframe",{src:new(b("URI"))(this.config.impressionURL).addQueryData(a),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"}),this.iframe.setAttribute("aria-hidden","true"),b("DOM").appendContent(this.element,this.iframe))};c.$12=function(){__p&&__p();var a=b("DataAttributeUtils").getDataAttribute(this.element,"data-dedupekey");if(a===null)return null;var c=this.$13();if(c===null||c.length===0)return null;var d=c.length;while(--d>=0){var e=b("DataAttributeUtils").getDataAttribute(c[d],"data-dedupekey");if(e!==null&&a===e)break}return d+1};c.$13=function(){__p&&__p();var a=b("ge")("contentArea");if(a){var c="._5jmm";a=b("DOM").scry(a,c);return a.filter(function(a){return b("DataAttributeUtils").getDataAttribute(a,"data-dedupekey")})}else{c=b("ge")("m_newsfeed_stream");return c===null?null:c.getElementsByTagName("article")}};c.$14=function(){return 0};c.$8=function(){this.$14()&&(b("Style").set(this.element,"background-color","#abab9a"),b("Style").set(this.element,"outline","3px solid #abab9a"))};c.$10=function(){this.$14()&&(b("Style").set(this.element,"background-color","#e4f70a"),b("Style").set(this.element,"outline","3px solid #e4f70a"))};c.$11=function(){this.$14()&&(b("Style").set(this.element,"background-color",null),b("Style").set(this.element,"outline",null))};c.$9=function(){this.$14()&&(b("Style").set(this.element,"background-color","#047515"),b("Style").set(this.element,"outline","3px solid #047515"))};return a}();b("mixInEventEmitter")(a,{visible:!0,hidden:!0,full_view:!0,viewability:!0,viewport_viewability:!0,viewability_debug:!0});e.exports=a}),null);
__d("VisibilityUnitType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FEED_UNIT:"feed_unit",VIEWPORT:"viewport"})}),null);
__d("ViewabilityDurationSegmentLogger",["Banzai","PercentVisible","ViewableImpressionTracker","VisibilityUnitType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=8e3;a=function(){__p&&__p();a.logFromViewableImpressionTracker=function(b){var c=new a();c.subscribeToTrackerEvents(b)};function a(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=new Map()}var c=a.prototype;c.subscribeToTrackerEvents=function(a){a.addListener("viewability",this.onViewable.bind(this)),a.addListener("viewport_viewability",this.onViewport.bind(this)),a.addListener("hidden",this.onHidden.bind(this))};c.onViewable=function(a){__p&&__p();var c=a.id,d=a.percentVisible,e=Date.now(),f;switch(d){case b("PercentVisible").VISIBLE_0_PCT:d=this.$1.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_0_PCT,e,b("VisibilityUnitType").FEED_UNIT):this.$7(d,c,e);d=this.$2.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));d=this.$4.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_50_PCT:d=this.$1.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_0_PCT,e,b("VisibilityUnitType").FEED_UNIT):this.$7(d,c,e);d=this.$2.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,b("VisibilityUnitType").FEED_UNIT):this.$7(d,c,e);d=this.$4.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_100_PCT:d=this.$1.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_0_PCT,e,b("VisibilityUnitType").FEED_UNIT):this.$7(d,c,e);d=this.$2.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,b("VisibilityUnitType").FEED_UNIT):this.$7(d,c,e);d=this.$4.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_100_PCT,e,b("VisibilityUnitType").FEED_UNIT):this.$7(d,c,e);break}};c.onViewport=function(a){__p&&__p();var c=a.id,d=a.percentVisible,e=Date.now(),f;switch(d){case b("PercentVisible").VISIBLE_0_PCT:d=this.$3.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));d=this.$5.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_50_PCT:d=this.$3.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,b("VisibilityUnitType").VIEWPORT):this.$7(d,c,e);d=this.$5.get(c);d&&(f=this.$8(d,c,e,!0),this.$9(f,c));break;case b("PercentVisible").VISIBLE_100_PCT:d=this.$3.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_50_PCT,e,b("VisibilityUnitType").VIEWPORT):this.$7(d,c,e);d=this.$5.get(c);!d?this.$6(a,b("PercentVisible").VISIBLE_100_PCT,e,b("VisibilityUnitType").VIEWPORT):this.$7(d,c,e);break}};c.onHidden=function(a){a=a.id;var b=Date.now(),c=this.$1.get(a),d=this.$2.get(a),e=this.$3.get(a),f=this.$4.get(a),g=this.$5.get(a);c&&this.$9(this.$8(c,a,b,!0),a);d&&this.$9(this.$8(d,a,b,!0),a);e&&this.$9(this.$8(e,a,b,!0),a);f&&this.$9(this.$8(f,a,b,!0),a);g&&this.$9(this.$8(g,a,b,!0),a)};c.$6=function(a,c,d,e){d={token:a.token,startedTrackingTS:d,percentVisible:c,visibilityUnit:e,intervalMs:0,cumulativeMs:0,segmentIdx:0};switch(c){case b("PercentVisible").VISIBLE_0_PCT:this.$1.set(a.id,d);break;case b("PercentVisible").VISIBLE_50_PCT:e===b("VisibilityUnitType").FEED_UNIT?this.$2.set(a.id,d):this.$3.set(a.id,d);break;case b("PercentVisible").VISIBLE_100_PCT:e===b("VisibilityUnitType").FEED_UNIT?this.$4.set(a.id,d):this.$5.set(a.id,d);break}};c.$8=function(a,c,d,e){__p&&__p();d=d-a.startedTrackingTS;var f=d-a.cumulativeMs,g=a.percentVisible;f={token:a.token,startedTrackingTS:a.startedTrackingTS,percentVisible:g,visibilityUnit:a.visibilityUnit,intervalMs:f,cumulativeMs:d,segmentIdx:++a.segmentIdx};e&&(f.duration=d);switch(g){case b("PercentVisible").VISIBLE_0_PCT:this.$1.set(c,f);break;case b("PercentVisible").VISIBLE_50_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$2.set(c,f):this.$3.set(c,f);break;case b("PercentVisible").VISIBLE_100_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$4.set(c,f):this.$5.set(c,f);break}return f};c.$7=function(a,c,d){var e=a.intervalMs,f=d-a.startedTrackingTS-a.cumulativeMs;if(this.$10(e,f)){e=this.$8(a,c,d,!1);b("Banzai").post("xtrackable:viewability",e,b("Banzai").VITAL)}};c.$10=function(a,b){if(a>=g)return!1;if(a==0)return!0;if(a<1e3)return b>=1e3;a=a/1e3;b=b/1e3;return b>=2*a};c.$9=function(a,c){var d=a.percentVisible;switch(d){case b("PercentVisible").VISIBLE_0_PCT:this.$1["delete"](c);break;case b("PercentVisible").VISIBLE_50_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$2["delete"](c):this.$3["delete"](c);break;case b("PercentVisible").VISIBLE_100_PCT:a.visibilityUnit===b("VisibilityUnitType").FEED_UNIT?this.$4["delete"](c):this.$5["delete"](c);break}b("Banzai").post("xtrackable:viewability",a,b("Banzai").VITAL)};return a}();e.exports=a}),null);
__d("ViewableImpressionDurationLogger",["Banzai"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();a.logFromViewableImpressionTracker=function(b){var c=new a();c.subscribeToTrackerEvents(b)};function a(){this.$1=new Map()}var c=a.prototype;c.subscribeToTrackerEvents=function(a){a.addListener("visible",this.onElementVisible.bind(this)),a.addListener("hidden",this.onElementHidden.bind(this))};c.onElementVisible=function(a){if(this.$1.get(a.id))return null;var b={token:a.token,startedTrackingTS:this.getTimeNow()};this.$1.set(a.id,b);return b};c.onElementHidden=function(a){var b=this.$1.get(a.id);if(!b)return!1;b.trackingDuration=this.getTimeNow()-b.startedTrackingTS;return this.sendLog(a.id)};c.sendLog=function(a){var c=this.$1.get(a);if(!c||!c.trackingDuration)return!1;b("Banzai").post("xtrackable:duration",c);this.$1["delete"](a);return!0};c.getTimeNow=function(){return parseFloat((Date.now()/1e3).toFixed(2))};return a}();e.exports=a}),null);
__d("ViewableImpressionHeatmapLogger",["Banzai"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();a.logFromViewableImpressionTracker=function(b,c){c=new a(c);c.subscribeToTrackerEvents(b)};function a(a){this.loggingDurationMS=a,this.trackingEntries={}}var c=a.prototype;c.subscribeToTrackerEvents=function(a){this.visibleSubscription=a.addListener("visible",this.onElementVisible,this),this.hiddenSubscription=a.addListener("hidden",this.onElementHidden,this)};c.onElementVisible=function(a){var b=this.getCurrentTimestamp(),c=this.trackingEntries[a.id];c||(c=this.createTrackingEntry(a),this.beginTracking(a.id,c),b=c.startedTrackingTS);c.viewportProgressEvents.push({timestamp:b,percentInViewport:a.percentInViewport.toFixed(2)})};c.onElementHidden=function(a){var b=this.getCurrentTimestamp();a=this.trackingEntries[a.id];if(!a)return;a.viewportProgressEvents.push({timestamp:b,percentInViewport:0})};c.onTrackingCompleted=function(a){var b=this.trackingEntries[a];b.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:b.tracker.getPercentInViewport().toFixed(2)});this.$1()&&this.$2(a,b);this.logToServer(b);delete this.trackingEntries[a]};c.logToServer=function(a){a=a;delete a.tracker;b("Banzai").post("xtrackable:heatmap",a)};c.beginTracking=function(a,b){var c=this;this.trackingEntries[a]=b;setTimeout(function(){return c.onTrackingCompleted(a)},this.loggingDurationMS)};c.createTrackingEntry=function(a){return{tracker:a.tracker,token:a.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]}};c.getCurrentTimestamp=function(){return(Date.now()/1e3).toFixed(2)};c.$1=function(){return 0};c.$2=function(a,b){var c="Completed tracking for id "+a+" token="+b.token+" startedTrackingTS="+b.startedTrackingTS+"\n";b.viewportProgressEvents.forEach(function(a){c+="% in view: "+a.percentInViewport+" timestamp="+a.timestamp+"\n"})};return a}();e.exports=a}),null);
__d("ViewableImpressionEventHandler",["DataAttributeUtils","FullViewLogger","IFrameTestingMode","ViewabilityDurationSegmentLogger","ViewableImpressionDurationLogger","ViewableImpressionHeatmapLogger","ViewableImpressionTracker","VisibilityTracking"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.extraInit=function(){this.impressionTrackers={}};d.getDataFromConfig=function(b){a.prototype.getDataFromConfig.call(this,b),this.doHeatmapLogging=b.doHeatmapLogging,this.heatmapLoggingDurationMS=b.heatmapLoggingDurationMS,b.impressionURL=b.impressionURL!==void 0?b.impressionURL:"/xti.php",b.nonviewableEnabled=b.nonviewableEnabled!==void 0?b.nonviewableEnabled:!1};d.getImpressionTracking=function(a){__p&&__p();if(b("IFrameTestingMode").IsDarktestPage)return null;var c=this.getElementID(a),d=this.impressionTrackers[c];if(!d){var e=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);d=new(b("ViewableImpressionTracker"))(c,a,e);this.impressionTrackers[c]=d;e.log_impression_duration&&b("ViewableImpressionDurationLogger").logFromViewableImpressionTracker(d);this.doHeatmapLogging&&b("ViewableImpressionHeatmapLogger").logFromViewableImpressionTracker(d,this.heatmapLoggingDurationMS);e.should_log_full_views&&b("FullViewLogger").logFromViewableImpressionTracker(d);e.should_log_viewability_duration&&b("ViewabilityDurationSegmentLogger").logFromViewableImpressionTracker(d)}return d};d.handleEvent=function(a,c){var d=this.getImpressionTracking(a);if(!d||b("IFrameTestingMode").IsDarktestPage)return;if(c.name==="visible")d.onVisible(c),this.visibleElementInfo[d.getID()]||(this.visibleElementInfo[d.getID()]={elem:a});else if(c.name==="hidden"){a=d.getConfig();c.cause==="default"||a.log_visibility_hidden_when_browser_inactive&&c.cause==="browser"?(d.onHidden(),delete this.visibleElementInfo[d.getID()]):c.cause==="removed"&&(d.onRemoved(),delete this.visibleElementInfo[d.getID()],delete this.impressionTrackers[d.getID()])}};d.isInstreamAdStoryElement=function(a){a=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);return!!a.is_instream_story};d.getConfigFromElement=function(a){return JSON.parse(b("DataAttributeUtils").getDataAttribute(a,"data-xt-vimp"))};d.getElementID=function(a){a.getAttribute("id")||a.setAttribute("id","xt_uniq_"+g++);return a.getAttribute("id")};return c}(b("VisibilityTracking"));e.exports=a}),null);
__d("ViewableImpressionTracking",["Arbiter","DesktopHscrollUnitEventConstants","ErrorUtils","IFrameTestingMode","LitestandMessages","Run","ViewableImpressionConfig","ViewableImpressionEventHandler"],(function(a,b,c,d,e,f){a={init:function(){if(b("IFrameTestingMode").IsDarktestPage)return;b("ViewableImpressionEventHandler").instance===void 0&&(b("ViewableImpressionEventHandler").instance=new(b("ViewableImpressionEventHandler"))(b("ViewableImpressionConfig")),b("ViewableImpressionEventHandler").instance.listeners.addSubscriptions(b("Arbiter").subscribe([b("LitestandMessages").STORIES_INSERTED,"AdsRefreshHandler/AdsLoaded","MPPInsights/ChartView","PhotoSnowliftAds/displayUnits","WebMessengerAdsControl/adjustAds",b("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_INSERTED_EVENT,"WebVideoChannelAds/AdsLoaded","Stories/cardChanged"],b("ErrorUtils").guard(function(a){b("ViewableImpressionEventHandler").instance.refreshAndFireEvent(a)},"ViewableImpressionTracking"))));b("Run").onLoad(function(){b("ViewableImpressionEventHandler").instance.refreshAndFireEvent()})}};e.exports=a}),null);
__d("CurationCaretNux",["csx","cx","Arbiter","AsyncRequest","CSS","DataStore","DOM","Event","NavigationMessage","Parent","Rect","ge","tidyEvent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="div._1zpr",j="div._6ks",k="._3x-2 img.img",l="span.text_exposed_link",m="_5jmm",n="CurationCaretNux_instance",o="CurationCaretNux_caretMenuLoaded",p=100,q="LINK_WELCOME",r="VIDEO_WELCOME",s="POST_SAVE_WELCOME",t="PHOTO_WELCOME",u="caret_nux",v="save_option_nux",w="seen",x="dismissed",y="focus",z="click",A="scroll",B=!1,C=null,D=null;a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();e=b("ge")(e);if(e){this.container=e;this.caret=d;this.caretNux=a.instance;this.caretNuxData=a;this.saveOptionNux=c.instance;this.saveOptionNuxData=c;this.allowAutoplayNux=g;this.popoverTriggered=!1;d=b("Parent").byClass(e,m);b("DataStore").set(d,n,this);switch(f){case q:this.$1();break;case r:this.$1();this.$2();this.$3();break;case s:this.$4();break;case t:this.$5();break}b("Arbiter").subscribeOnce(b("NavigationMessage").NAVIGATION_BEGIN,function(){this.caretNux&&this.caretNux.hide(),this.saveOptionNux&&this.saveOptionNux.hide()}.bind(this))}}var c=a.prototype;c.$1=function(){__p&&__p();var a=b("DOM").scry(this.container,i);a.length>0&&b("tidyEvent")([b("Event").listen(a[0],"click",function(){__p&&__p();if(B||this.videoPlaying)return;this.caretNux.subscribe("show",function(){this.$6()}.bind(this));this.caretNux.subscribe("hide",function(){this.$7(),B&&(this.$8(u,w),this.$8(u,x))}.bind(this));this.$9();this.interactionTime=0;window.setTimeout(function(){this.$10()||(B=!0,this.caretNux.show())}.bind(this),this.caretNuxData.min_consume_duration);window.setTimeout(function(){this.$10()||(B=!1,this.caretNux.hide())}.bind(this),this.caretNuxData.max_consume_duration);var a=Date.now();window.setTimeout(function(){this.$11(function(){this.interactionTime||(this.interactionTime=Date.now()-a)}.bind(this))}.bind(this),0)}.bind(this))])};c.$2=function(){var a=b("DOM").scry(this.container,j);a.length>0&&b("tidyEvent")([b("Event").listen(a[0],"click",function(){this.videoPlaying=!0}.bind(this))])};c.$3=function(){if(!this.allowAutoplayNux)return;D===null&&(D=this.caretNuxData.min_consume_duration);C===null&&!B&&(C=b("Arbiter").subscribe("flash/updateStatus",function(a,c){if(!B&&D!==null&&c.position*1e3>D){a=b("Parent").byClass(b("ge")(c.divID),m);c=b("DataStore").get(a,n);c&&(B=!0,c.caretNux.show(),c.$6(),b("Arbiter").unsubscribe(C))}}))};c.$4=function(){var a=b("DOM").scry(this.container,l);a.length>0&&b("tidyEvent")([b("Event").listen(a[0],"click",function(){if(B)return;B=!0;this.caretNux.show();this.$6()}.bind(this))])};c.$5=function(){__p&&__p();var a=b("DOM").scry(this.container,k);a.forEach(function(a){__p&&__p();a=b("Parent").byTag(a,"a");if(!a)return;b("Event").listen(a,"click",function(){if(B)return;var a=b("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){var c=Date.now(),d=b("Arbiter").subscribe("PhotoSnowlift.CLOSE",function(){var a=Date.now()-c;a>this.caretNuxData.min_consume_duration&&a<this.caretNuxData.max_consume_duration&&(B=!0,this.caretNux.show(),this.$6());b("Arbiter").unsubscribe(d)}.bind(this));b("Arbiter").unsubscribe(a)}.bind(this))}.bind(this))},this)};c.$10=function(){return this.interactionTime&&this.interactionTime>0};c.$6=function(){__p&&__p();this.caretClickListener=b("Event").listen(this.caret,"click",function(){this.caretNux.hide(),this.saveOptionNux&&(this.popoverTriggered=!0,this.$12())}.bind(this));var a=!1,c=function(c){if(a||c===z||!this.caretNux.isShown())return;c=b("Rect").getViewportWithoutScrollbarsBounds();var d=b("Rect").getElementBounds(this.caretNux.getContentRoot());d=d.sub(0,p);c.contains(d)&&(this.$8(u,w),a=!0)}.bind(this);c();this.$9();this.$11(c)};c.$7=function(){this.caretClickListener.remove(),this.$13()};c.$12=function(){__p&&__p();this.$14()&&this.popoverTriggered&&window.setTimeout(function(){__p&&__p();var a=b("DOM").scry(document,"li.save_caret_menu_item");for(var c=0;c<a.length;c++){var d=a[c],e=b("Parent").byClass(d,"uiLayer");if(e&&b("CSS").shown(e)){this.saveOptionNux.setContext(d);break}}this.saveOptionNux.show();this.$8(v,w);e=b("DataStore").get(this.caret,"Popover");e&&e.subscribeOnce("hide",function(){this.saveOptionNux.hide()}.bind(this))}.bind(this),0)};c.$8=function(a,c){__p&&__p();var d;if(a===u)d=this.caretNuxData;else if(a===v)d=this.saveOptionNuxData;else throw new Error("Invalid nux type");var e;if(c===w)e=d.seen_uri,d.seen_uri=null;else if(c===x)e=d.dismiss_uri,d.dismiss_uri=null;else throw new Error("Invalid impression type");if(e){c=new(b("AsyncRequest"))(e);this.interactionTime&&a===u&&c.setData({interaction_time:this.interactionTime});c.send()}};c.$11=function(a){this.$15.push(a)};c.$16=function(a){this.$15.forEach(function(b){b.call(this,a)},this)};c.$9=function(){this.$17||(this.$15=[],this.$17=[b("Event").listen(window,"click",this.$16.bind(this,z)),b("Event").listen(window,"focus",this.$16.bind(this,y)),b("Event").listen(window,"scroll",this.$16.bind(this,A))])};c.$13=function(a){if(this.$17){while(this.$17.length)this.$17.pop().remove();this.$17=null;this.$15=null}};c.$14=function(){var a=b("Parent").byClass(this.container,m);return b("DataStore").get(a,o)===!0};a.saveOptionLoaded=function(a){a=b("ge")(a);if(a){a=b("Parent").byClass(a,m);if(a){b("DataStore").set(a,o,!0);a=b("DataStore").get(a,n);a&&a.$12()}}};return a}();e.exports=a}),null);
__d("FbFeedAccessible",["csx","fbt","invariant","Arbiter","ARIA","CSS","DataAttributeUtils","DOMQuery","LitestandMessages","SubscriptionsHandler","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j="Accessibility/StoriesRequested",k="Accessibility/StoriesLoaded",l="Accessibility/StoryContentInserted",m="Accessibility/SubstreamInserted",n,o,p=!1;a={init:function(a){n=a,p||this._initSubscriptions(),this._enumerateStories()},_initSubscriptions:function(){p=!0;var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Arbiter").subscribe(b("LitestandMessages").STORIES_REQUESTED,this._onStoriesRequested.bind(this)),b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,this._onInsertedSubstream.bind(this)),b("Arbiter").subscribe(b("LitestandMessages").NEWER_STORIES_INSERTED,this._onInsertedSubstream.bind(this)),b("Arbiter").subscribe(k,this._processStoriesLoaded.bind(this)),b("Arbiter").subscribe(j,this._processStoriesRequested.bind(this)),b("Arbiter").subscribe(l,this._processStoryContentInserted.bind(this)),b("Arbiter").subscribe(m,this._processInsertedSubstream.bind(this)))},informStoryContentInserted:function(a){b("Arbiter").inform(l,a);a=b("ge")(a);a&&this._addAriaMarkup(a)},setARIARole:function(a){a.setAttribute("role","article")},setAriaLabelledBy:function(a){if(a.getAttribute("aria-labelledby"))return;var c=this._filterForElement(a,["._5pbw"]);c.length>0&&a.setAttribute("aria-labelledby",c.map(function(a){return b("getOrCreateDOMID")(a)}).join(" "))},setAriaDescribedBy:function(a){if(a.getAttribute("aria-describedby"))return;var c=this._filterForElement(a,[".timestampContent","._5pbx"]);c.length>0&&a.setAttribute("aria-describedby",c.map(function(a){return b("getOrCreateDOMID")(a)}).join(" "))},_getStories:function(a){return b("DOMQuery").scry(a||n,"._5jmm")},_onInsertedSubstream:function(a,c){c&&c.substream_id&&b("Arbiter").inform(m,c.substream_id)},_onStoriesRequested:function(){b("Arbiter").inform(j)},_enumerateStories:function(){var a=this,b=this._getStories(n);o=b.length;b.forEach(function(b,c){a._enumerateStory(b,c+=1)})},_enumerateSubstream:function(a){var c=this._getStories();o=c.length;c=this._getStories(b("ge")(a));a=c.length||0;for(var d=0;d<a;d++)this._registerStoryEnumerationPosition(c[d],o-a+(d+1),d+1)},_enumerateStory:function(a,b){this._isStory(a)||i(0,4854),b>0&&(a.setAttribute("aria-posinset",""+b),a.setAttribute("aria-setsize",o))},_processStoriesLoaded:function(){b("ARIA").notify(h._("Plus d\u2019actualit\u00e9s charg\u00e9es."))},_processStoriesRequested:function(){b("ARIA").notify(h._("Plus d\u2019actualit\u00e9s demand\u00e9es."))},_processInsertedSubstream:function(a,b){this._enumerateSubstream(b),this._enumerateStories()},_processStoryContentInserted:function(a,c){__p&&__p();var d;a=b("ge")(c);a&&(d=JSON.parse(b("DataAttributeUtils").getDataFt(a)),this._addAriaMarkup(a));if(d&&d.ordinal_position){c=d.ordinal_position.split(":");var e=c[0];c=c[1];e=parseInt(e,10);c=parseInt(c,10);this._enumerateStory(a,e);c===1&&b("Arbiter").inform(k)}},_addAriaMarkup:function(a){if(!this._isStory(a))return;this.setARIARole(a);this.setAriaLabelledBy(a);this.setAriaDescribedBy(a)},_registerStoryEnumerationPosition:function(a,c,d){var e=JSON.parse(b("DataAttributeUtils").getDataFt(a));e&&(e.ordinal_position=c+":"+d,b("DataAttributeUtils").setDataFt(a,JSON.stringify(e)))},_isStory:function(a){return b("CSS").matchesSelector(a,"._5jmm")},_filterForElement:function(a,c){return c.map(function(c){return b("DOMQuery").scry(a||document,c)[0]}).filter(function(a){return!!a})}};e.exports=a}),null);
__d("GHLDebug",["distinctArray","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[],h=new Set(),i=function(){return g};a=function(a,b,c,d,e){__p&&__p();g.push([a.toString(),b,c,d,e.toString(),j(document.getElementById(d))]);for(var a=h,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}d=e;d(i())}};var j=function(a){if(a==null)return null;var c=(a.innerText||"").trim().replace(/\n\r?\s*/g,"\n");a=Array.from(a.querySelectorAll("img")).map(function(a){return a instanceof HTMLImageElement?a:null}).filter(Boolean).sort(function(a,b){return b.width*b.height-a.width*a.height}).map(function(a){return a.src});return{text:c,images:b("distinctArray")(a)}};c=function(a){h.add(a);a(i());return function(){h["delete"](a)}};e.exports=b("gkx")("676902")?{hoot:a,murmur:i,elect:c}:{hoot:b("emptyFunction"),murmur:b("emptyFunction"),elect:b("emptyFunction")}}),null);
__d("GHLOrganicTracker",["BanzaiODS","Random","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map(),h=0,i=0,j=b("Random").random().toString(36).substring(2);a=function(a){if(g.has(a)){b("BanzaiODS").bumpEntityKey("feed_ads","GHLOrganicTracker.error_duplicate_elementID");return}h+=1;g.set(a,h)};c=function(){i+=1,i>h&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLOrganicTracker.discrepancy."+h+"."+i)};d=function(a){return b("nullthrows")(g.get(a))};f=function(){return i};var k=function(){return j};e.exports={markL:a,markH:c,getL:d,getT:f,getSessionID:k}}),null);
__d("ghlBlip",["BanzaiODS","gkx","once","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("once")(function(){__p&&__p();if(!b("gkx")("837142"))return;b("BanzaiODS").bumpEntityKey("feed_ads","ghlBlip.run");var a=160,c=5e3,d=atob("b3V0ZXJXaWR0aA=="),e=atob("aW5uZXJXaWR0aA=="),f=atob("b3V0ZXJIZWlnaHQ="),g=atob("aW5uZXJIZWlnaHQ="),h=b("throttle")(function(){return requestIdleCallback(i)},c),i=function(){var c=Number(window[d]-window[e]>a)^Number(window[f]-window[g]>a);if(!c){h();return}b("BanzaiODS").bumpEntityKey("feed_ads","ghlBlip.done")};h()});e.exports=a}),null);
__d("ghlScan",["BanzaiODS","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=0,h=1;a=2;var i=3,j=4,k=5,l=6,m=/^[a-z0-9]{7}$/;c=function(c){__p&&__p();try{if(!b("gkx")("829486"))return new Set([g]);var d=new Set();String(c.getAttribute("style")).includes(atob("YWRndWFyZDI="))&&d.add(i);c.getAttributeNames!=null&&c.getAttributeNames().find(function(a){return m.test(a)&&c.getAttribute(a)===""})&&d.add(k);document.getElementById(atob("c2Z4X2JhZGdl"))&&d.add(j);document.getElementById(atob("ZmJwdXJpdHlpbmZvd3JhcHBlcg=="))&&d.add(l);return d.size>0?d:new Set([h])}catch(c){b("BanzaiODS").bumpEntityKey("feed_ads","_ghlScan."+c);return new Set([a])}};e.exports=c}),null);
__d("GHLSurvey",["Banzai","BanzaiODS","DataAttributeUtils","DateTime","ErrorUtils","FBLogger","GHLConfig","GHLDebug","GHLDelay","GHLOrganicTracker","GHLTestElement","GHLTracker","Run","ghlBlip","ghlScan","ghlTestUBT","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="swank",h="7.",i=0,j=4,k=6,l=8,m=9,n=10,o=3;a={survey:function(){return b("ghlTestUBT")(function(a){var c;return b("Banzai").post("search_check",(c={},c[o]=a,c))})},check:function(a,c,d){b("gkx")("837142")&&b("ghlBlip")();v("check.function_call");var e=function(){d?(v("check.function_call_a"),b("GHLTracker").track(a.id)):(v("check.function_call_o"),b("GHLOrganicTracker").markL(a.id)),r(a,c,d,0)};b("Run").onAfterLoad(q(e,"initial"))},checkF:function(a,c,d){b("gkx")("837142")&&b("ghlBlip")(),p(a,c,d)}};var p=function(a,c,d){__p&&__p();v("checkF.function_call");var e=document.getElementById(a);if(e==null){v("checkF.no_element");return}var f=b("DataAttributeUtils").getDataAttribute(e,"data-xt");if(!f){v("checkF.token-"+String(f)+".id-"+d);return}d=Array.from(e.querySelectorAll("img"));if(d.length===0){v("checkF.not_loaded");return}c?(v("checkF.function_call_a"),b("GHLTracker").track(a)):(v("checkF.function_call_o"),b("GHLOrganicTracker").markL(a));s(e,f,c,0)},q=function(a,c){return function(){b("ErrorUtils").applyWithGuard(a,null,null,null,"GHL:guard:"+c)}},r=function a(c,d,e,f){__p&&__p();var i=Array.from(c.querySelectorAll("img"));if(i.length===0&&d.startsWith(h)){var j=f+1;if(j<5){var k=function(){a(c,d,e,j)};setTimeout(q(k,"pagelet-check"),2500)}else e?v("GHLSurvey.feed_ad_pagelet_timeout"):v("GHLSurvey.feed_ad_pagelet_timeout_o"),b("Banzai").post("xtrackable:"+g,{token:d,event_code:e?m:n});return}if(i.length===0){k=d.startsWith("2.");k||b("FBLogger")("GHL").warn("Expected to find images. (Token: %s)",d);return}if(e&&d.startsWith(h)){i=b("GHLTracker").getState(c.id);(i==null?void 0:i.isDelayImpLogged)===!0&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.element_delay_logged_imp_when_pagelet_loading");b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.feed_ad_ready_after_pagelet_retry_count."+f)}s(c,d,e,0)},s=function(a,c,d,e){__p&&__p();var f="other";c.startsWith(h)&&(f="16");d||(f="organic");f=b("GHLTestElement").testElementI(a,".ghls."+f);if(!f){t(a,c,d,e);return}d&&y();f=b("ghlScan")(a);if(e>0){var g=d?j:l;u(g,c,a.id,e*x(d),f);return}g=d?i:k;u(g,c,a.id,0,f)},t=function(a,b,c,d){var e=d+1;if(e>=w(c))return;d=function(){s(a,b,c,e)};var f=x(c);setTimeout(q(d,"hidden-check"),f)},u=function(a,c,d,e,f){__p&&__p();var h=a===l||a===k,m=h?b("GHLOrganicTracker").getL(d):null,n=h?b("GHLOrganicTracker").getT()+1:null;b("Banzai").post("xtrackable:"+g,{token:c,event_code:a,hidden_delay:e,sources:A(f),load:m,total:n,session_id:b("GHLOrganicTracker").getSessionID()});b("GHLDebug").hoot(a,b("DateTime").localNow(),c,d,e);if(a===j||a===i){f=b("GHLTracker").getState(d);(f==null?void 0:f.isDelayImpLogged)===!0&&b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.element_marked_hidden_already_delay_logged_imp");b("GHLTracker").markH(d)}h&&b("GHLOrganicTracker").markH();z(a)},v=function(a){return b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey."+a)},w=function(a){return a?b("GHLConfig").arc:b("GHLConfig").orc},x=function(a){return a?b("GHLConfig").ari:b("GHLConfig").ori},y=function(){return b("GHLDelay").setEnabled(!0)},z=function(a){if(!b("gkx")("822363"))return;b("ghlTestUBT")(function(c){b("BanzaiODS").bumpEntityKey("feed_ads","GHLSurvey.ghlTestUBT_match."+a+"."+c.toString())})},A=function(a){return!b("gkx")("829486")||typeof Array.from!=="function"?[]:Array.from(a)};e.exports=a}),null);
__d("OWLBehavior",["Event","gkx","goURI","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={attach:function(a,c,d){if(b("gkx")("847879")){var e=function(){a!=null&&d.setAttribute("href",a),c!=null&&d.setAttribute("title",c)},f=function(){a!=null&&d.removeAttribute("href"),c!=null&&d.removeAttribute("title")};b("Event").listen(d,{blur:f,focus:e,mouseenter:e,mouseleave:f})}else a!=null&&d.addEventListener("click",function(c){return g(c,b("nullthrows")(a))}),c!=null&&d.addEventListener("mouseenter",function(){d.setAttribute("title",b("nullthrows")(c))})},attachOnlyOnFocus:function(a,c){b("Event").listen(a,{blur:e,focus:d,mouseenter:d,mouseleave:e});function d(){c.forEach(function(b,c){return a.setAttribute(c,b.toString())})}function e(){c.forEach(function(b,c){return a.removeAttribute(c)})}}};var g=function(a,c){a.metaKey||a.ctrlKey?window.open(c,"_blank"):b("goURI")(c)};e.exports=a}),null);