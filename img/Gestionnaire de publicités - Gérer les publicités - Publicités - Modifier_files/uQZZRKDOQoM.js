if (self.CavalryLogger) { CavalryLogger.start_js(["ne1IV"]); }

__d("CustomConversionTrackingUtils",["AdsBulkValueUtils","AdsConversionActionTypes","ads-lib-actionSpecUtils","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Set,h={getCustomConversionTrackingSpecFromBulkSpec:function(a){return a!=null?a.filter(Boolean).map(function(a){a=Object.values(a);return h.mergeTrackingSpec(b("ads-lib-actionSpecUtils").filterByConstraint(a,{"action.type":b("AdsConversionActionTypes").OFFSITE_CONVERSION}))}):null},mergeTrackingSpec:function(a){return g().withMutations(function(b){a.forEach(function(a){a.custom_conversion&&b.union(a.custom_conversion)})}).toArray()},getCustomConversionTrackingSpecData:function(a){return b("AdsBulkValueUtils").aggregate(a||[])}};e.exports=h}),null);
__d("CustomConversionRowConfig",["AdsMixedValue","AdsUniformValue","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record;var g=b("immutable").List;c={accountID:null,businessID:null,isLoading:!1,isMixedValue:!1,isMixedWithOthers:!1,selectedSources:g(),sources:g()};d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){c===void 0&&(c=null);return a.call(this,{accountID:b,businessID:c})||this}var d=c.prototype;d.updateSources=function(a){return this.set("sources",g([a]))};d.updateSelectedSourcesFromTrackingSpecsValue=function(a){if(a instanceof b("AdsMixedValue")){var c=a.getValues();return this.set("isMixedValue",!0).set("selectedSources",g()).set("isMixedWithOthers",c.some(function(a){return a.length===0}))}else return this.set("isMixedValue",!1).set("isMixedWithOthers",!1).set("selectedSources",a instanceof b("AdsUniformValue")?g(a.getValue()):g())};d.updateIsLoading=function(a){return this.set("isLoading",a)};return c}(a(c));e.exports=d}),null);
__d("OfflineCatalogSalesTrackingRowConfig",["AdsEmptyValue","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").List;c=b("immutable").Record({selectedSources:b("AdsEmptyValue").instance(),sources:a()});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c);e.exports=d}),null);
__d("AdsUEditorOfflineCatalogSalesTrackingRowSelectors",["AdAccountDpaEligibleProductCatalogListStore","AdsConversionActionTypes","AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsProductSetListStore","AdsUEditorAdgroupSelectors","AdsUEditorSelectorUtils","CatalogSegmentUtils","LoadObject","OfflineCatalogSalesTrackingRowConfig","SignalsStatusEnum","adsCreateSelector","adsCreateStoreThunkSelector","adsUEditorAccountIDSelector","filterNulls","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=b("immutable").Map;a=b("gkx")("864077");c=b("adsCreateStoreThunkSelector")(b("AdsProductSetListStore"),function(a){return b("AdsProductSetListStore").getFor(a)});d=b("adsCreateSelector")([b("AdsUEditorAdgroupSelectors").adgroups.map(function(a){return a.tracking_specs})],b("AdsUEditorSelectorUtils").memoizeBulkAggregation(function(a){a=b("filterNulls")(a).map(function(a){return a.reduce(function(a,c){c=c.toJS();var d=c["action.type"];c=c.product_set;d=Array.isArray(d)?d.includes(b("AdsConversionActionTypes").OFFSITE_CONVERSION):d===b("AdsConversionActionTypes").OFFSITE_CONVERSION;return d&&c!=null?g(Array.isArray(c)?c:[c]):a},g())});return b("filterNulls")(a)}),{name:e.id+".bulkProductSetTrackingSpecSelector"});f=b("adsCreateSelector")([b("adsUEditorAccountIDSelector"),b("AdAccountDpaEligibleProductCatalogListStore").getSelector],function(a,c){return c(a).map(function(a){return b("CatalogSegmentUtils").filterCatalogSegmentWithOfflineCapabilityForAccount(a.toArray())})},{name:e.id+".catalogSegmentWithOfflineCapabilitySelector"});a=a?b("adsCreateSelector")([f,d,c],function(a,c,d){__p&&__p();a=a.map(function(a){var c=h(a.map(function(a){a=a.id;return[a,b("AdsLoadStateUtils_LEGACY").toLoadObject(d(a))]}));return b("AdsLoadObjectUtils").allByKey(c).map(function(c){return c.map(function(c,d){c=c.list;return{id:c[0],name:((c=a.find(function(a){return a.id===d}))==null?void 0:c.name)||d,status:b("SignalsStatusEnum").ACTIVE}}).toList()})});return a.map(function(a){return new(b("OfflineCatalogSalesTrackingRowConfig"))({selectedSources:c,sources:a})})},{name:e.id}):b("adsCreateSelector")([],function(){return b("LoadObject").withValue(new(b("OfflineCatalogSalesTrackingRowConfig"))())},{name:e.id});e.exports={bulkProductSetTrackingSpecSelector:d,catalogSegmentWithOfflineCapabilitySelector:f,adsUEditorOfflineCatalogSalesTrackingRowSelector:a}}),null);
__d("adsUEditorAdgroupCustomConversionTrackingConfigSelector",["AdsAccountStore","AdsAPICampaignPaths","AdsAPIOptimizationGoals","AdsBulkValueUtils","AdsPixelStatus","AdsPixelStatusUtils","AdsStoreUtils","AdsUniformValue","CustomConversionRowConfig","CustomConversionTrackingUtils","LoadObject","SignalsCustomConversionStore","adsCreateSelector","adsCreateStoreSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorSelectedAdgroupsSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPixelStatusUtils").convertToSignalsStatus,h=b("LoadObject").empty(),i=b("CustomConversionTrackingUtils").getCustomConversionTrackingSpecFromBulkSpec,j=b("CustomConversionTrackingUtils").getCustomConversionTrackingSpecData;a=b("adsCreateStoreSelector")([b("AdsAccountStore")],function(){return b("AdsAccountStore").getSelectedAccountIDX()},e.id+".adAccountIDSelector");c=b("adsCreateStoreSelector")([b("AdsAccountStore")],function(){return b("AdsAccountStore").getSelectedBusinessID()},e.id+".businessIDSelector");d=b("adsCreateSelector")([b("adsUEditorSelectedAdgroupsSelector")],function(a){return a.map(function(a){a=a.tracking_specs&&a.tracking_specs.toJS();return a})},{name:e.id+".trackingSpecSelector"});f=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.some(function(a){a=a.campaign;a=a.optimization_goal;return a===b("AdsAPIOptimizationGoals").OFFSITE_CONVERSIONS})},{name:e.id+".hasOCPMCampaignSelector"});var k=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return b("AdsBulkValueUtils").aggregate(a.map(function(a){a=a.campaign;a=a.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.CUSTOM_CONVERSION_ID);return a}))},{name:e.id+".bulkCustomConversionInPromotedObjectSelector"});k=b("adsCreateSelector")([k],function(a){var c=null;a instanceof b("AdsUniformValue")&&(c=a.getValue());return{selectedCustomConversionID:c}},{name:e.id+".selectorIds"});var l=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(b("SignalsCustomConversionStore")),k],function(a,c){a=c.selectedCustomConversionID;return a==null?h:b("SignalsCustomConversionStore").get(""+a).map(function(a){return{id:a.id,name:a.name,status:g(new(b("AdsPixelStatus"))(a.last_fired_time).getStatus())}})},{name:e.id+".customConversionDetailSeletor"});a=b("adsCreateSelector")([a,c,f,d,l,k],function(a,c,d,e,f,g){d=g.selectedCustomConversionID;g=d!=null&&(f.isLoading()||!f.hasValue());d=j(i(e));e=f.getValue();f=new(b("CustomConversionRowConfig"))(a,c);e!=null&&(f=f.updateSources(e));return f.updateSelectedSourcesFromTrackingSpecsValue(d).updateIsLoading(g)},{name:e.id});e.exports=a}),null);
__d("adsUEditorAdgroupSignalsTrackingPanelSelector",["AdsAPICampaignGroupRecordUtils","AdsAPICampaignRecordUtils","AdsAppUtils","AdsUEditorAdgroupCPASSelectors","AdsUEditorOfflineCatalogSalesTrackingRowSelectors","adsCreateSelector","adsCreateStructuredSelector","adsUEditorAdgroupCustomConversionTrackingConfigSelector","adsUEditorAdgroupOfflineTrackingConfigSelector","adsUEditorAdgroupPixelTrackingConfigSelector","adsUEditorAdgroupTrackingSpecsSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAppTrackingRowSelector","adsUEditorSelectedAdgroupIDsSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsUEditorAdgroupCPASSelectors").includesCatalogSegmentSelector;c=b("AdsUEditorOfflineCatalogSalesTrackingRowSelectors").adsUEditorOfflineCatalogSalesTrackingRowSelector;d=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return!a.every(function(a){var c=a.campaign;a=a.campaignGroup;a=b("AdsAPICampaignGroupRecordUtils").getObjective(a);c=b("AdsAPICampaignRecordUtils").getPromotedObjectType(a,c);return b("AdsAppUtils").isAppObjective(a,c)})},{name:e.id+".supportsMobileAppTrackingSelector"});f=b("adsCreateStructuredSelector")({adgroupIDs:b("adsUEditorSelectedAdgroupIDsSelector"),appTrackingRowConfig:b("adsUEditorAppTrackingRowSelector"),offlineCatalogSalesTrackingRowConfig:c,currTrackingSpecsMap:b("adsUEditorAdgroupTrackingSpecsSelector"),customConversionRowConfig:b("adsUEditorAdgroupCustomConversionTrackingConfigSelector"),includesCatalogSegment:a,offlineTrackingRowConfig:b("adsUEditorAdgroupOfflineTrackingConfigSelector"),pixelTrackingRowConfig:b("adsUEditorAdgroupPixelTrackingConfigSelector"),supportsMobileAppTracking:d},e.id+".selector");e.exports=f}),null);